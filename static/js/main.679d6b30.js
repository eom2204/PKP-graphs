/*! For license information please see main.679d6b30.js.LICENSE.txt */
(()=>{var e={141:e=>{e.exports=function(e){return void 0===e}},296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(2694),o=n(62161),i=n(44845);t.skipLast=function(e){return e<=0?r.identity:o.operate(function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,function(t){var i=o++;if(i<e)r[i]=t;else{var a=i%e,u=r[a];r[a]=t,n.next(u)}})),function(){r=null}})}},506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(9620),o=n(62161),i=n(44845),a=n(2694);t.tap=function(e,t,n){var u=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return u?o.operate(function(e,t){var n;null===(n=u.subscribe)||void 0===n||n.call(u);var r=!0;e.subscribe(i.createOperatorSubscriber(t,function(e){var n;null===(n=u.next)||void 0===n||n.call(u,e),t.next(e)},function(){var e;r=!1,null===(e=u.complete)||void 0===e||e.call(u),t.complete()},function(e){var n;r=!1,null===(n=u.error)||void 0===n||n.call(u,e),t.error(e)},function(){var e,t;r&&(null===(e=u.unsubscribe)||void 0===e||e.call(u)),null===(t=u.finalize)||void 0===t||t.call(u)}))}):a.identity}},516:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rule=void 0;var i=n(18641),a=n(99211),u=n(85687),s=n(39381),l=o(n(87528));function c(e,t){if(null!=t){if(!0===t.stringify)return e.toString();if(!0===t.toStandardDate)return e.toStandardDate()}return e}t.rule=Object.freeze({asBoolean:function(e){return r({validate:function(e,t){if("boolean"!==typeof e)throw new TypeError("".concat(t," should be a boolean but received ").concat(typeof e))}},e)},asString:function(e){return r({validate:function(e,t){if("string"!==typeof e)throw new TypeError("".concat(t," should be a string but received ").concat(typeof e))}},e)},asNumber:function(e){return r({validate:function(t,n){if("object"===typeof t&&void 0!==t.low&&void 0!==t.high&&2===Object.keys(t).length)throw new TypeError("Number returned as Object. To use asNumber mapping, set disableLosslessIntegers or useBigInt in driver config object");if("number"!==typeof t&&(!0!==(null===e||void 0===e?void 0:e.acceptBigInt)||"bigint"!==typeof t))throw new TypeError("".concat(n," should be a number but received ").concat(typeof t))},convert:function(e){return"bigint"===typeof e?Number(e):e}},e)},asBigInt:function(e){return r({validate:function(t,n){if("bigint"!==typeof t&&(!0!==(null===e||void 0===e?void 0:e.acceptNumber)||"number"!==typeof t))throw new TypeError("".concat(n," should be a bigint but received ").concat(typeof t))},convert:function(e){return"number"===typeof e?BigInt(e):e}},e)},asNode:function(e){return r({validate:function(e,t){if(!(0,a.isNode)(e))throw new TypeError("".concat(t," should be a Node but received ").concat(typeof e))}},e)},asRelationship:function(e){return r({validate:function(e,t){if(!(0,a.isRelationship)(e))throw new TypeError("".concat(t," should be a Relationship but received ").concat(typeof e))}},e)},asUnboundRelationship:function(e){return r({validate:function(e,t){if(!(0,a.isUnboundRelationship)(e))throw new TypeError("".concat(t," should be a UnboundRelationship but received ").concat(typeof e))}},e)},asPath:function(e){return r({validate:function(e,t){if(!(0,a.isPath)(e))throw new TypeError("".concat(t," should be a Path but received ").concat(typeof e))}},e)},asPoint:function(e){return r({validate:function(e,t){if(!(0,u.isPoint)(e))throw new TypeError("".concat(t," should be a Point but received ").concat(typeof e))}},e)},asDuration:function(e){return r({validate:function(e,t){if(!(0,s.isDuration)(e))throw new TypeError("".concat(t," should be a Duration but received ").concat(typeof e))},convert:function(t){return!0===(null===e||void 0===e?void 0:e.stringify)?t.toString():t}},e)},asLocalTime:function(e){return r({validate:function(e,t){if(!(0,s.isLocalTime)(e))throw new TypeError("".concat(t," should be a LocalTime but received ").concat(typeof e))},convert:function(t){return!0===(null===e||void 0===e?void 0:e.stringify)?t.toString():t}},e)},asTime:function(e){return r({validate:function(e,t){if(!(0,s.isTime)(e))throw new TypeError("".concat(t," should be a Time but received ").concat(typeof e))},convert:function(t){return!0===(null===e||void 0===e?void 0:e.stringify)?t.toString():t}},e)},asDate:function(e){return r({validate:function(e,t){if(!(0,s.isDate)(e))throw new TypeError("".concat(t," should be a Date but received ").concat(typeof e))},convert:function(t){return c(t,e)}},e)},asLocalDateTime:function(e){return r({validate:function(e,t){if(!(0,s.isLocalDateTime)(e))throw new TypeError("".concat(t," should be a LocalDateTime but received ").concat(typeof e))},convert:function(t){return c(t,e)}},e)},asDateTime:function(e){return r({validate:function(e,t){if(!(0,s.isDateTime)(e))throw new TypeError("".concat(t," should be a DateTime but received ").concat(typeof e))},convert:function(t){return c(t,e)}},e)},asList:function(e){return r({validate:function(e,t){if(!Array.isArray(e))throw new TypeError("".concat(t," should be a list but received ").concat(typeof e))},convert:function(t,n){return null!=(null===e||void 0===e?void 0:e.apply)?t.map(function(t,r){return(0,i.valueAs)(t,"".concat(n,"[").concat(r,"]"),e.apply)}):t}},e)},asVector:function(e){return r({validate:function(e,t){if(!(e instanceof l.default))throw new TypeError("".concat(t," should be a vector but received ").concat(typeof e))},convert:function(t){return!0===(null===e||void 0===e?void 0:e.asTypedList)?t._typedArray:t}},e)}})},1014:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var u=(r-n)/2,s=0,l=u-1;s<u;l=s++){var c=t[n+2*s+0],f=t[n+2*s+1],d=t[n+2*l+0],h=t[n+2*l+1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},1023:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(64666),a=n(15359),u=o(n(35488)),s=n(78159),l=n(16946),c=a.internal.temporalUtil.localDateTimeToEpochSecond;var f=new Map;function d(e,t,n){var r=function(e){if(!f.has(e)){var t=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(e,t)}return f.get(e)}(e),o=(0,a.int)(t).multiply(1e3).add((0,a.int)(n).div(1e6)).toNumber(),i=r.formatToParts(o).reduce(function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:l.identity:"hour"===t.type?e.hour=(0,a.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,a.int)(t.value)),e},{});i.year=i.adjustEra(i.year);var u=c(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond);return i.timeZoneOffsetSeconds=u.subtract(t),i.hour=i.hour.modulo(24),i}function h(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?r(u):u}return Object.freeze(o),o}t.default={createDateTimeWithZoneIdTransformer:function(e,t){var n=e.disableLosslessIntegers,o=e.useBigInt;return u.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var t=r(e.fields,3),u=t[0],s=t[1],l=t[2],c=d(l,u,s);return h(new a.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,(0,a.int)(s),c.timeZoneOffsetSeconds,l),n,o)},toStructure:function(e){var n=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:function(e,t,n){var r=d(e,t,n),o=c(r.year,r.month,r.day,r.hour,r.minute,r.second,n).subtract(t),i=t.subtract(o),a=d(e,i,n),u=c(a.year,a.month,a.day,a.hour,a.minute,a.second,n).subtract(i);return u}(e.timeZoneId,n,e.nanosecond);null==e.timeZoneOffsetSeconds&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var o=n.subtract(r),u=(0,a.int)(e.nanosecond),s=e.timeZoneId;return new i.structure.Structure(105,[o,u,s])}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return u.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds),o=t.subtract(r);return new i.structure.Structure(73,[o,n,r])},fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var o=r(e.fields,3),u=o[0],l=o[1],c=o[2],f=(0,a.int)(u).add(c),d=(0,s.epochSecondAndNanoToLocalDateTime)(f,l);return h(new a.DateTime(d.year,d.month,d.day,d.hour,d.minute,d.second,d.nanosecond,c,null),t,n)}})}}},1036:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var s=i(n(36021)),l=function(){function e(e){this._values=function(e){if(null==e||""===e)return[];if(s.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,n=f(e),r=0;r<n.length;r++){var o=n[r];if(void 0!==o&&null!==o){if(!s.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return u([],a(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return 0===this._values.length},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},e}();t.Bookmarks=l;var c=new l(null);function f(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(f(t)):e.concat(t)},[])}},1268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(9620);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},1332:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var o=n(6689),i=n(72162),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return r(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),u=0,s=1;s<r.length&&r[s]<=a;s+=2)u=s;u&&r.splice(0,u+1)}},t}(o.Subject);t.ReplaySubject=a},1406:(e,t,n)=>{var r=n(53536);e.exports=function(e,t,n){var o,i={};r.forEach(n,function(n){for(var r,a,u=e.parent(n);u;){if((r=e.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void t.setEdge(a,u);u=r}})}},1417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Salesforce:!0};t.default=function(e){return!n[e]}},1666:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.packstream=t.channel=t.buf=t.bolt=t.loadBalancing=void 0,t.loadBalancing=i(n(24577)),t.bolt=i(n(46860)),t.buf=i(n(13540)),t.channel=i(n(52366)),t.packstream=i(n(64666)),a(n(48723),t)},1914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(81038);t.UnsubscriptionError=r.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},2125:(e,t,n)=>{var r=n(95750);function o(e,t,n,i,a,u){r.has(i,t)||(i[t]=!0,n||u.push(t),r.each(a(t),function(t){o(e,t,n,i,a,u)}),n&&u.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],u={};return r.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,u,i,a)}),a}},2189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(24296),o=n(84347),i=n(6689),a=n(62161),u=n(44845);t.groupBy=function(e,t,n,s){return a.operate(function(a,l){var c;t&&"function"!==typeof t?(n=t.duration,c=t.element,s=t.connector):c=t;var f=new Map,d=function(e){f.forEach(e),e(l)},h=function(e){return d(function(t){return t.error(e)})},p=0,v=!1,y=new u.OperatorSubscriber(l,function(t){try{var a=e(t),d=f.get(a);if(!d){f.set(a,d=s?s():new i.Subject);var g=function(e,t){var n=new r.Observable(function(e){p++;var n=t.subscribe(e);return function(){n.unsubscribe(),0===--p&&v&&y.unsubscribe()}});return n.key=e,n}(a,d);if(l.next(g),n){var m=u.createOperatorSubscriber(d,function(){d.complete(),null===m||void 0===m||m.unsubscribe()},void 0,void 0,function(){return f.delete(a)});y.add(o.innerFrom(n(g)).subscribe(m))}}d.next(c?c(t):t)}catch(b){h(b)}},function(){return d(function(e){return e.complete()})},h,function(){return f.clear()},function(){return v=!0,0===p});a.subscribe(y)})}},2451:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(13540),i=n(80193),a=function(e){function t(t){for(var n=this,r=0,o=0;o<t.length;o++)r+=t[o].length;return(n=e.call(this,r)||this)._buffers=t,n}return r(t,e),t.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getUInt8(e);e-=n.length}},t.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getInt8(e);e-=n.length}},t.prototype.getFloat64=function(e){for(var t=(0,i.alloc)(8),n=0;n<8;n++)t.putUInt8(n,this.getUInt8(e+n));return t.getFloat64(0)},t}(o.BaseBuffer);t.default=a},2694:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},2752:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(30819),i=r(n(56503)),a=(r(n(15359)),function(){function e(e){this._txc=e}return e.prototype.run=function(e,t){var n=this;return new i.default(new o.Observable(function(r){try{r.next(n._txc.run(e,t)),r.complete()}catch(o){r.error(o)}return function(){}}))},e.prototype.commit=function(){var e=this;return new o.Observable(function(t){e._txc.commit().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.rollback=function(){var e=this;return new o.Observable(function(t){e._txc.rollback().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._txc.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e}());t.default=a},3004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(93323),o=n(39440),i=n(62161),a=n(84347),u=n(81038),s=n(44845),l=n(60944);function c(e){throw new t.TimeoutError(e)}t.TimeoutError=u.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"===typeof e?{each:e}:e,u=n.first,f=n.each,d=n.with,h=void 0===d?c:d,p=n.scheduler,v=void 0===p?null!==t&&void 0!==t?t:r.asyncScheduler:p,y=n.meta,g=void 0===y?null:y;if(null==u&&null==f)throw new TypeError("No timeout provided.");return i.operate(function(e,t){var n,r,o=null,i=0,c=function(e){r=l.executeSchedule(t,v,function(){try{n.unsubscribe(),a.innerFrom(h({meta:g,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe(s.createOperatorSubscriber(t,function(e){null===r||void 0===r||r.unsubscribe(),i++,t.next(o=e),f>0&&c(f)},void 0,void 0,function(){(null===r||void 0===r?void 0:r.closed)||null===r||void 0===r||r.unsubscribe(),o=null})),!i&&c(null!=u?"number"===typeof u?u:+u-v.now():f)})}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(5141),o=n(84347),i=n(62161),a=n(44845);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e(function(e,i){return o.innerFrom(t(e,i)).pipe(r.map(function(t,r){return n(e,t,i,r)}))}))}:i.operate(function(e,n){var r=0,i=null,u=!1;e.subscribe(a.createOperatorSubscriber(n,function(e){i||(i=a.createOperatorSubscriber(n,void 0,function(){i=null,u&&n.complete()}),o.innerFrom(t(e,r++)).subscribe(i))},function(){u=!0,!i&&n.complete()}))})}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3994:function(e,t){"use strict";var n,r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.nameConventions=t.StandardCase=void 0,function(e){e.SnakeCase="snake_case",e.KebabCase="kebab-case",e.ScreamingSnakeCase="SCREAMING_SNAKE_CASE",e.PascalCase="PascalCase",e.CamelCase="camelCase"}(n||(t.StandardCase=n={})),t.nameConventions={snake_case:{tokenize:function(e){return e.split("_")},encode:function(e){return e.join("_")}},"kebab-case":{tokenize:function(e){return e.split("-")},encode:function(e){return e.join("-")}},PascalCase:{tokenize:function(e){return e.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()})},encode:function(e){var t,n,o="";try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var u=a.value;o+=u=u.charAt(0).toUpperCase()+u.slice(1)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}},camelCase:{tokenize:function(e){return e.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()})},encode:function(e){var t,n,i="";try{for(var a=r(e.entries()),u=a.next();!u.done;u=a.next()){var s=o(u.value,2),l=s[0],c=s[1];0!==l&&(c=c.charAt(0).toUpperCase()+c.slice(1)),i+=c}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}},SCREAMING_SNAKE_CASE:{tokenize:function(e){return e.split("_").map(function(e){return e.toLowerCase()})},encode:function(e){return e.join("_").toUpperCase()}}}},4149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41421),o=n(90961),i={basic:function(e,t,n){return null!=n?{scheme:"basic",principal:e,credentials:t,realm:n}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,n,i,u){var s={scheme:i,principal:e};if(a(t)&&(s.credentials=t),a(n)&&(s.realm=n),a(u)){try{(0,o.stringify)(u)}catch(l){throw(0,r.newError)("Circular references in custom auth token parameters",void 0,l)}s.parameters=u}return s}};function a(e){return!(null===e||void 0===e||""===e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.keys(e).length)}t.default=i},4241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var r=n(24296),o=n(9620),i=n(30509);t.fromEventPattern=function e(t,n,a){return a?e(t,n).pipe(i.mapOneOrManyArgs(a)):new r.Observable(function(e){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)},i=t(r);return o.isFunction(n)?function(){return n(r,i)}:void 0})}},4262:(e,t,n)=>{var r=n(48895),o=n(54052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(36499),o=n(26252),i=n(16004),a=n(9444),u=n(18137),s=n(84347);t.delayWhen=function e(t,n){return n?function(a){return r.concat(n.pipe(o.take(1),i.ignoreElements()),a.pipe(e(t)))}:u.mergeMap(function(e,n){return s.innerFrom(t(e,n)).pipe(o.take(1),a.mapTo(e))})}},4937:(e,t,n)=>{"use strict";n.d(t,{v4:()=>a});for(var r,o=256,i=[];o--;)i[o]=(o+256).toString(16).substring(1);function a(){var e,t=0,n="";if(!r||o+16>256){for(r=Array(t=256);t--;)r[t]=256*Math.random()|0;t=o=0}for(;t<16;t++)e=r[o+t],n+=6==t?i[15&e|64]:8==t?i[63&e|128]:i[e],1&t&&t>1&&t<11&&(n+="-");return o++,n}},4999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var r=n(24296),o=n(84347),i=n(56294);t.using=function(e,t){return new r.Observable(function(n){var r=e(),a=t(r);return(a?o.innerFrom(a):i.EMPTY).subscribe(n),function(){r&&r.unsubscribe()}})}},5141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(62161),o=n(44845);t.map=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){r.next(e.call(t,n,i++))}))})}},5242:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r="1.81.1"},5538:(e,t,n)=>{var r=n(97160),o=n(84545),i=n(10793),a=n(27760),u=n(3892),s=n(76788);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=u,l.prototype.set=s,e.exports=l},5654:(e,t,n)=>{var r=n(87937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5791:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r="npm";function o(){return r}},5812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(6689),o=n(54429),i=n(62101);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>i(s,n))l<o&&0>i(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<o&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,y=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function O(e){if(y=!1,w(e),!v)if(null!==r(l))v=!0,x||(x=!0,E());else{var t=r(c);null!==t&&R(O,t.startTime-e)}}var E,x=!1,S=-1,P=5,T=-1;function C(){return!!g||!(t.unstable_now()-T<P)}function k(){if(g=!1,x){var e=t.unstable_now();T=e;var n=!0;try{e:{v=!1,y&&(y=!1,b(S),S=-1),p=!0;var i=h;try{t:{for(w(e),d=r(l);null!==d&&!(d.expirationTime>e&&C());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var u=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof u){d.callback=u,w(e),n=!0;break t}d===r(l)&&o(l),w(e)}else o(l);d=r(l)}if(null!==d)n=!0;else{var s=r(c);null!==s&&R(O,s.startTime-e),n=!1}}break e}finally{d=null,h=i,p=!1}n=void 0}}finally{n?E():x=!1}}}if("function"===typeof _)E=function(){_(k)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,j=A.port2;A.port1.onmessage=k,E=function(){j.postMessage(null)}}else E=function(){m(k,0)};function R(e,n){S=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(y?(b(S),S=-1):y=!0,R(O,i-a))):(e.sortIndex=u,n(l,e),v||p||(v=!0,x||(x=!0,E()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(36499),o=n(47737),i=n(62161);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate(function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)})}},6055:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(74073)),a=function(e){function t(t){var n=e.call(this)||this;return n._readersIndex=new i.default,n._writersIndex=new i.default,n._connectionPool=t,n}return r(t,e),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,t){var n=e.length;if(0===n)return null;var r=t.next(n),o=r,i=null,a=Number.MAX_SAFE_INTEGER;do{var u=e[o],s=this._connectionPool.activeResourceCount(u);s<a&&(i=u,a=s),o===n-1?o=0:o++}while(o!==r);return i},t}(o(n(22577)).default);t.default=a},6230:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(37061));t.default=r({},i.default)},6322:(e,t,n)=>{var r=n(53536),o=n(70954),i=n(72293),a=n(65983);e.exports=function e(t,n,u,s){var l=t.children(n),c=t.node(n),f=c?c.borderLeft:void 0,d=c?c.borderRight:void 0,h={};f&&(l=r.filter(l,function(e){return e!==f&&e!==d}));var p=o(t,l);r.forEach(p,function(n){if(t.children(n.v).length){var o=e(t,n.v,u,s);h[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a});var v=i(p,u);!function(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(v,h);var y=a(v,s);if(f&&(y.vs=r.flatten([f,y.vs,d],!0),t.predecessors(f).length)){var g=t.node(t.predecessors(f)[0]),m=t.node(t.predecessors(d)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+g.order+m.order)/(y.weight+2),y.weight+=2}return y}},6326:(e,t,n)=>{"use strict";n.d(t,{C6:()=>o,Cl:()=>i,Tt:()=>a,YH:()=>s,fX:()=>l,sH:()=>u});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function u(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},6571:(e,t,n)=>{var r=n(11629),o=n(56173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6655:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,M:()=>a});var r=n(6326),o=n(16336);var i="onRemoveFromFuture",a=function(e){function t(t,n,r){var o=e.call(this)||this;return o.future=[],o.maxAttempts=t,o.queue=n,o.seen=null!==r&&void 0!==r?r:{},o}return(0,r.C6)(t,e),t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map(function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t))&&(e.queue.push(t),!0)});return this.queue=this.queue.sort(function(t,n){return e.getAttempts(t)-e.getAttempts(n)}),r},t.prototype.pushWithBackoff=function(e,t){var n=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var r=this.updateAttempts(e);if(r>this.maxAttempts||this.includes(e))return!1;var o=function(e){var t=Math.random()+1,n=e.minTimeout,r=void 0===n?500:n,o=e.factor,i=void 0===o?2:o,a=e.attempt,u=e.maxTimeout,s=void 0===u?1/0:u;return Math.min(t*r*Math.pow(i,a),s)}({attempt:r-1});return t>0&&o<t&&(o=t),setTimeout(function(){n.queue.push(e),n.future=n.future.filter(function(t){return t.id!==e.id}),n.emit(i)},o),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find(function(t){return t.id===e.id}))||Boolean(this.future.find(function(t){return t.id===e.id}))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(o.v)},6689:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var i=n(24296),a=n(12836),u=n(30024),s=n(61689),l=n(17469),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=o(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;l.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;l.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new a.Subscription(function(){t.currentObservers=null,s.arrRemove(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=c;var f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.EMPTY_SUBSCRIPTION},t}(c);t.AnonymousSubject=f},6806:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6900:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,l=s>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=u;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,u,s,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=c?(u=0,a=c):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&u,h+=p,u/=256,o-=8);for(a=a<<o|u,l+=o;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*v}},6948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var r=n(36950),o=n(96227);t.queueScheduler=new o.QueueScheduler(r.QueueAction),t.queue=t.queueScheduler},6998:(e,t,n)=>{"use strict";var r=n(53536),o=n(68027),i=n(21007).slack,a=n(21007).longestPath,u=n(79207).alg.preorder,s=n(79207).alg.postorder,l=n(67606).simplify;function c(e){e=l(e),a(e);var t,n=o(e);for(h(n),f(n,e);t=v(n);)g(n,e,t,y(n,e,t))}function f(e,t){var n=s(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=d(e,t,n)}(e,t,n)})}function d(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),u=0;return a||(i=!1,a=t.edge(o,n)),u=a.weight,r.forEach(t.nodeEdges(n),function(r){var a,s,l=r.v===n,c=l?r.w:r.v;if(c!==o){var f=l===i,d=t.edge(r).weight;if(u+=f?d:-d,a=n,s=c,e.hasEdge(a,s)){var h=e.edge(n,c).cutvalue;u+=f?-h:h}}}),u}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,o,i){var a=n,u=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),function(i){r.has(t,i)||(n=p(e,t,n,i,o))}),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function y(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var u=e.node(o),s=e.node(a),l=u,c=!1;u.lim>s.lim&&(l=s,c=!0);var f=r.filter(t.edges(),function(t){return c===m(e,e.node(t.v),l)&&c!==m(e,e.node(t.w),l)});return r.minBy(f,function(e){return i(t,e)})}function g(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),h(e),f(e,t),function(e,t){var n=r.find(e.nodes(),function(e){return!t.node(e).parent}),o=u(e,n);o=o.slice(1),r.forEach(o,function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)})}(e,t)}function m(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=h,c.initCutValues=f,c.calcCutValue=d,c.leaveEdge=v,c.enterEdge=y,c.exchangeEdges=g},7054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(62161),o=n(44845),i=n(84347),a=n(66564);t.skipUntil=function(e){return r.operate(function(t,n){var r=!1,u=o.createOperatorSubscriber(n,function(){null===u||void 0===u||u.unsubscribe(),r=!0},a.noop);i.innerFrom(e).subscribe(u),t.subscribe(o.createOperatorSubscriber(n,function(e){return r&&n.next(e)}))})}},7071:(e,t,n)=>{var r=n(53536),o=n(67606);function i(e,t,n,a,u,s,l){var c=e.children(l);if(c.length){var f=o.addBorderNode(e,"_bt"),d=o.addBorderNode(e,"_bb"),h=e.node(l);e.setParent(f,l),h.borderTop=f,e.setParent(d,l),h.borderBottom=d,r.forEach(c,function(r){i(e,t,n,a,u,s,r);var o=e.node(r),c=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,v=c!==h?1:u-s[l]+1;e.setEdge(f,c,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(h,d,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,f,{weight:0,minlen:u+s[l]})}else l!==t&&e.setEdge(t,l,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,function(e){n(e,i+1)}),t[o]=i}return r.forEach(e.children(),function(e){n(e,1)}),t}(e),a=r.max(r.values(n))-1,u=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),function(t){e.edge(t).minlen*=u});var s=function(e){return r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.forEach(e.children(),function(r){i(e,t,u,s,a,n,r)}),e.graph().nodeRankFactor=u},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},7562:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=void 0;var o=r(n(56329)),i=n(76711);function a(e,t){i.Facade.call(this,e,t)}t.Delete=a,o.default(a,i.Facade),a.prototype.type=function(){return"delete"}},7875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(86953),o=n(84905),i=n(72732),a=n(76679),u=n(14892),s=n(2694);t.last=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):s.identity,i.takeLast(1),n?u.defaultIfEmpty(t):a.throwIfEmpty(function(){return new r.EmptyError}))}}},8379:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE=t.READ=t.Driver=void 0;var i=n(15359),a=o(n(83384)),u=i.internal.constants.FETCH_ALL,s=i.driver.READ,l=i.driver.WRITE;t.READ=s,t.WRITE=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.rxSession=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?l:n,o=t.bookmarks,i=t.database,u=void 0===i?"":i,s=t.fetchSize,c=t.impersonatedUser,d=t.bookmarkManager,h=t.notificationFilter,p=t.auth;return new a.default({session:this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:u,impersonatedUser:c,auth:p,reactive:!1,fetchSize:f(s,this._config.fetchSize),bookmarkManager:d,notificationFilter:h,log:this._log}),config:this._config,log:this._log})},t}(i.Driver);function f(e,t){var n=parseInt(e,10);if(n>0||n===u)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(n));return t}t.Driver=c,t.default=c},8421:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Url=void 0,t.parseDatabaseUrl=function(e){var t;(0,i.assertString)(e,"URL");var n=function(e){if(e=e.trim(),!e.includes("://"))return{schemeMissing:!0,url:"none://".concat(e)};return{schemeMissing:!1,url:e}}(e),a=function(e){function t(e,t){var n=e.indexOf(t);return n>=0?[e.substring(0,n),e[n],e.substring(n+1)]:[e,"",""]}function n(e,t){var n=e.lastIndexOf(t);return n>=0?[e.substring(0,n),e[n],e.substring(n+1)]:["","",e]}function i(e,n,r){var o=t(e,n),i=t(o[2],r);return[i[0],i[2]]}function a(e){var r,a={};"@"===(r=n(e,"@"))[1]&&(a.userInfo=decodeURIComponent(r[0]),e=r[2]);var u=o(i(e,"[","]"),2),s=u[0],l=u[1];return""!==s?(a.host=s,r=t(l,":")):(r=t(e,":"),a.host=r[0]),":"===r[1]&&(a.port=r[2]),a}var u,s={};":"===(u=t(e,":"))[1]&&(s.scheme=decodeURIComponent(u[0]),e=u[2]);"#"===(u=t(e,"#"))[1]&&(s.fragment=decodeURIComponent(u[2]),e=u[0]);"?"===(u=t(e,"?"))[1]&&(s.query=u[2],e=u[0]);e.startsWith("//")?(u=t(e.substr(2),"/"),(s=r(r({},s),a(u[0]))).path=u[1]+u[2]):s.path=e;return s}(n.url),u=n.schemeMissing?null:function(e){if(null!=e)return":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e;return null}(a.scheme),s=function(e){if(null==e)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}(a.host),h=function(e){if(""===e||null==e)throw new Error("Illegal host ".concat(e));var t=e.includes(":");return t?f(e):e}(s),p=function(e,t){var n="string"===typeof e?parseInt(e,10):e;return null==n||isNaN(n)?d(t):n}(a.port,u),v="".concat(h,":").concat(p),y=function(e,t){var n=null!=e?function(e){e=(null!==e&&void 0!==e?e:"").trim(),"?"===(null===e||void 0===e?void 0:e.charAt(0))&&(e=e.substring(1,e.length));return e}(e):null,r={};null!=n&&n.split("&").forEach(function(e){var n=e.split("=");if(2!==n.length)throw new Error("Invalid parameters: '".concat(n.toString(),"' in URL '").concat(t,"'."));var o=c(n[0],"key",t),i=c(n[1],"value",t);if(void 0!==r[o])throw new Error("Duplicated query parameters with key '".concat(o,"' in URL '").concat(t,"'"));r[o]=i});return r}(null!==(t=a.query)&&void 0!==t?t:function(e){if("string"!==typeof e)return null;var t=o(e.split("?"),2),n=t[1];return n}(a.resourceName),e);return new l(u,s,p,v,y)},t.defaultPortForScheme=d,t.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},t.formatIPv6Address=function(e,t){var n=f(e);return"".concat(n,":").concat(t)};var i=n(36021),a=7687,u=7474,s=7473,l=function(e,t,n,r,o){this.scheme=e,this.host=t,this.port=n,this.hostAndPort=r,this.query=o};function c(e,t,n){if(""===(e=(null!==e&&void 0!==e?e:"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(n,"'"));return e}function f(e){var t="["===e.charAt(0),n="]"===e.charAt(e.length-1);if(t||n){if(t&&n)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function d(e){return"http"===e?u:"https"===e?s:a}t.Url=l},8439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(86953),o=n(13467),i=n(29825),a=n(62161),u=n(44845);t.single=function(e){return a.operate(function(t,n){var a,s=!1,l=!1,c=0;t.subscribe(u.createOperatorSubscriber(n,function(r){l=!0,e&&!e(r,c++,t)||(s&&n.error(new o.SequenceError("Too many matching values")),s=!0,a=r)},function(){s?(n.next(a),n.complete()):n.error(l?new i.NotFoundError("No matching values"):new r.EmptyError)}))})}},8607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES=void 0;var r=n(15359),o=r.internal.constants,i=o.ACCESS_MODE_READ,a=o.FETCH_ALL,u=r.internal.util.assertString,s=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});t.SIGNATURES=s;var l=function(){function e(e,t,n){this.signature=e,this.fields=t,this.toString=n}return e.init=function(t,n){return new e(1,[t,n],function(){return"INIT ".concat(t," {...}")})},e.run=function(t,n){return new e(16,[t,n],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n))})},e.pullAll=function(){return p},e.reset=function(){return v},e.hello=function(t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=Object.assign({user_agent:t},n);return r&&(i.routing=r),o&&(i.patch_bolt=o),new e(1,[i],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x1=function(t,n){void 0===n&&(n=null);var r={user_agent:t};return n&&(r.routing=n),new e(1,[r],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x2=function(t,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i={user_agent:t};return d(i,n),o&&(i.routing=o),new e(1,[i],function(){return"HELLO ".concat(r.json.stringify(i))})},e.hello5x3=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),d(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.hello5x5=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),h(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.logon=function(t){return new e(106,[t],function(){return"LOGON { ... }"})},e.logoff=function(){return new e(107,[],function(){return"LOGOFF"})},e.begin=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter);return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.begin5x5=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter,{appendNotificationFilter:h});return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.commit=function(){return y},e.rollback=function(){return g},e.runWithMetadata=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter);return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.runWithMetadata5x5=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter,{appendNotificationFilter:h});return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.goodbye=function(){return m},e.pull=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,u=n.n,s=f(null===i||void 0===i?-1:i,(void 0===u?a:u)||a);return new e(63,[s],function(){return"PULL ".concat(r.json.stringify(s))})},e.discard=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,u=n.n,s=f(null===i||void 0===i?-1:i,(void 0===u?a:u)||a);return new e(47,[s],function(){return"DISCARD ".concat(r.json.stringify(s))})},e.telemetry=function(t){var n=t.api,o=(0,r.int)(n);return new e(84,[o],function(){return"TELEMETRY ".concat(o.toString())})},e.route=function(t,n,o){return void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o=null),new e(102,[t,n,o],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(o)})},e.routeV4x4=function(t,n,o){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o={});var i={};return o.databaseName&&(i.db=o.databaseName),o.impersonatedUser&&(i.imp_user=o.impersonatedUser),new e(102,[t,n,i],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(i))})},e}();function c(e,t,n,r,o,a,s){var l;void 0===s&&(s={});var c={};return e.isEmpty()||(c.bookmarks=e.values()),null!==t.timeout&&(c.tx_timeout=t.timeout),t.metadata&&(c.tx_metadata=t.metadata),n&&(c.db=u(n,"database")),o&&(c.imp_user=u(o,"impersonatedUser")),r===i&&(c.mode="r"),(null!==(l=s.appendNotificationFilter)&&void 0!==l?l:d)(c,a),c}function f(e,t){var n={n:(0,r.int)(t)};return-1!==e&&(n.qid=(0,r.int)(e)),n}function d(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function h(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}t.default=l;var p=new l(63,[],function(){return"PULL_ALL"}),v=new l(15,[],function(){return"RESET"}),y=new l(18,[],function(){return"COMMIT"}),g=new l(19,[],function(){return"ROLLBACK"}),m=new l(2,[],function(){return"GOODBYE"})},8677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=void 0;var n=function(){function e(){}return e.prototype.release=function(){throw new Error("Not implemented")},e}();t.Releasable=n;var r=function(){function e(){}return e.prototype.acquireConnection=function(e){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},e.prototype.SSREnabled=function(){return!1},e.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},e.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();t.default=r},8700:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(61099));t.default=r({},i.default)},8789:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},8814:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(99335)),a=o(n(18163)),u=o(n(19155)),s=o(n(8607)),l=n(64260),c=n(15359).internal.constants,f=c.BOLT_PROTOCOL_V5_8,d=c.FETCH_ALL,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(a.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,c=r.impersonatedUser,f=r.notificationFilter,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?d:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=r.onDb,A=new l.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata,onDb:k}),j=O;return this.write(s.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:c,notificationFilter:f}),A,j&&_),O||this.write(s.default.pull({n:x}),A,_),A},t}(i.default);t.default=h},9096:(e,t,n)=>{var r=n(39256),o=n(15029),i=n(33279),a=n(54052),u=n(63932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):u(e)}},9268:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(84347),a=n(6689),u=n(40203),s=n(62161);function l(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(!0!==t){if(!1!==t){var s=new u.SafeSubscriber({next:function(){s.unsubscribe(),e()}});return i.innerFrom(t.apply(void 0,o([],r(n)))).subscribe(s)}}else e()}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.Subject}:t,r=e.resetOnError,o=void 0===r||r,c=e.resetOnComplete,f=void 0===c||c,d=e.resetOnRefCountZero,h=void 0===d||d;return function(e){var t,r,a,c=0,d=!1,p=!1,v=function(){null===r||void 0===r||r.unsubscribe(),r=void 0},y=function(){v(),t=a=void 0,d=p=!1},g=function(){var e=t;y(),null===e||void 0===e||e.unsubscribe()};return s.operate(function(e,s){c++,p||d||v();var m=a=null!==a&&void 0!==a?a:n();s.add(function(){0!==--c||p||d||(r=l(g,h))}),m.subscribe(s),!t&&c>0&&(t=new u.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){p=!0,v(),r=l(y,o,e),m.error(e)},complete:function(){d=!0,v(),r=l(y,f),m.complete()}}),i.innerFrom(e).subscribe(t))})(e)}}},9417:(e,t,n)=>{var r=n(46686);e.exports=function(e){return e===e&&!r(e)}},9444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(5141);t.mapTo=function(e){return r.map(function(){return e})}},9519:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(68890),l=n(36021),c=n(79708),f=n(41421),d=u(n(18958)),h=n(36052),p=n(27371),v=n(1036),y=n(26980),g=u(n(19919)),m=u(n(75039)),b=n(16228),_=function(){function e(e){var t,n=e.mode,r=e.connectionProvider,o=e.bookmarks,i=e.database,a=e.config,u=e.reactive,s=e.fetchSize,l=e.impersonatedUser,f=e.bookmarkManager,d=e.notificationFilter,y=e.auth,g=e.log,m=e.homeDatabaseCallback;this._mode=n,this._database=i,this._reactive=u,this._fetchSize=s,this._homeDatabaseCallback=m,this._auth=y,this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:y,database:i,bookmarks:o,connectionProvider:r,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._writeConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:y,database:i,bookmarks:o,connectionProvider:r,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._open=!0,this._hasTx=!1,this._impersonatedUser=l,this._lastBookmarks=null!==o&&void 0!==o?o:v.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.maxTransactionRetryTime)&&void 0!==t?t:null;return new p.TransactionExecutor(n)}(a),this._databaseNameResolved=""!==this._database;var b=this._calculateWatermaks();this._lowRecordWatermark=b.low,this._highRecordWatermark=b.high,this._results=[],this._bookmarkManager=f,this._notificationFilter=d,this._log=g,this._databaseGuess=null===a||void 0===a?void 0:a.cachedHomeDatabase,this._isRoutingSession=null!==(t=null===a||void 0===a?void 0:a.routingDriver)&&void 0!==t&&t}return e.prototype.run=function(e,t,n){var i=this,a=(0,l.validateQueryAndParameters)(e,t),u=a.validatedQuery,s=a.params,f=null!=n?new y.TxConfig(n,this._log):y.TxConfig.empty(),d=this._run(u,s,function(e){return r(i,void 0,void 0,function(){var t,n=this;return o(this,function(r){switch(r.label){case 0:return[4,this._bookmarks()];case 1:return t=r.sent(),this._assertSessionIsOpen(),[2,e.run(u,s,{bookmarks:t,txConfig:f,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return n._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,onDb:this._onDatabaseNameResolved.bind(this)})]}})})});return this._results.push(d),d},e.prototype._run=function(e,t,n){var r=this._acquireAndConsumeConnection(n),o=r.connectionHolder,i=r.resultPromise.catch(function(e){return Promise.resolve(new s.FailedObserver({error:e}))}),a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new d.default(i,e,t,o,a)},e.prototype._acquireConnection=function(e){var t=this,n=this._acquireAndConsumeConnection(e),i=n.connectionHolder;return n.resultPromise.then(function(e){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i.releaseConnection()];case 1:return t.sent(),[2,e]}})})})},e.prototype._acquireAndConsumeConnection=function(e){var t,n=this._connectionHolderWithMode(this._mode);return t=this._open?!this._hasTx&&n.initializeConnection(this._databaseGuess)?n.getConnection().then(function(t){return e(t)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:n,resultPromise:t}},e.prototype.beginTransaction=function(e){var t=e,n=y.TxConfig.empty();return null!=t&&(n=new y.TxConfig(t,this._log)),this._beginTransaction(this._mode,n,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},e.prototype._beginTransaction=function(t,n,r){var o=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var i=e._validateSessionMode(t),a=this._connectionHolderWithMode(i);a.initializeConnection(this._databaseGuess),this._hasTx=!0;var u=new g.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,n){return o._updateBookmarks(e,t,n)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:r,onDbCallback:this._onDatabaseNameResolved.bind(this)});return u._begin(function(){return o._bookmarks()},n),u},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){return r(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,null===(t=this._bookmarkManager)||void 0===t?void 0:t.getBookmarks()];case 1:return void 0===(e=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(e),!1),i(this._configuredBookmarks),!1))]}})})},e.prototype.executeRead=function(e,t){var n=new y.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,n,e)},e.prototype.executeWrite=function(e,t){var n=new y.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,n,e)},e.prototype._executeInTransaction=function(e,t,n){var r=this;return this._transactionExecutor.execute(function(n){return r._beginTransaction(e,t,n)},n,m.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(e){if(this._isRoutingSession&&(this._databaseGuess=e,!this._databaseNameResolved)){var t=null!==e&&void 0!==e?e:"";this._database=t,this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0,null!=this._homeDatabaseCallback&&this._homeDatabaseCallback((0,b.cacheKey)(this._auth,this._impersonatedUser),e)}},e.prototype._getConnectionAcquistionBookmarks=function(){return r(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,null===(t=this._bookmarkManager)||void 0===t?void 0:t.getBookmarks()];case 1:return void 0===(e=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(this._configuredBookmarks),!1),i(e),!1))]}})})},e.prototype._updateBookmarks=function(e,t,n){var r,o,i;null==e||e.isEmpty()||(null===(r=this._bookmarkManager)||void 0===r||r.updateBookmarks(null!==(o=null===t||void 0===t?void 0:t.values())&&void 0!==o?o:[],null!==(i=null===e||void 0===e?void 0:e.values())&&void 0!==i?i:[]).catch(function(){}),this._lastBookmarks=e,this._configuredBookmarks=v.Bookmarks.empty())},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._connectionHolderWithMode=function(e){if(e===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+e)},e.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new v.Bookmarks(e.bookmark),t,e.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},e._validateSessionMode=function(e){var t=null!==e&&void 0!==e?e:c.ACCESS_MODE_WRITE;if(t!==c.ACCESS_MODE_READ&&t!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+t);return t},e}();t.default=_},9557:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var o=r(n(56329)),i=n(25678),a=n(10742);function u(e,t){i.Page.call(this,e,t)}t.Screen=u,o.default(u,i.Page),u.prototype.action=function(){return"screen"},u.prototype.type=u.prototype.action,u.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},u.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},9559:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(32298)),a=o(n(64666)),u=n(15359),s=o(n(87398)),l=o(n(19155)),c=u.internal.constants.BOLT_PROTOCOL_V2,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._createPacker=function(e){return new a.default.Packer(e)},t.prototype._createUnpacker=function(e,t){return new a.default.Unpacker(e,t)},Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),t}(i.default);t.default=f},9620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"===typeof e}},9812:(e,t,n)=>{var r=n(56552).Symbol;e.exports=r},10396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},10442:(e,t,n)=>{"use strict";var r=n(53536),o=n(67606),i=n(78335).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,function(t){var o=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=i+o/2}),i+=o+n})})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),function(t,n){e.node(n).x=t})}},10742:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var o=r(n(56329)),i=n(76711),a=n(19165),u=r(n(17636)),s=r(n(88804));function l(e,t){i.Facade.call(this,e,t)}t.Track=l,o.default(l,i.Facade);var c=l.prototype;c.action=function(){return"track"},c.type=c.action,c.event=i.Facade.field("event"),c.value=i.Facade.proxy("properties.value"),c.category=i.Facade.proxy("properties.category"),c.id=i.Facade.proxy("properties.id"),c.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},c.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},c.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},c.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},c.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},c.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},c.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},c.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},c.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},c.sku=i.Facade.proxy("properties.sku"),c.tax=i.Facade.proxy("properties.tax"),c.name=i.Facade.proxy("properties.name"),c.price=i.Facade.proxy("properties.price"),c.total=i.Facade.proxy("properties.total"),c.repeat=i.Facade.proxy("properties.repeat"),c.coupon=i.Facade.proxy("properties.coupon"),c.shipping=i.Facade.proxy("properties.shipping"),c.discount=i.Facade.proxy("properties.discount"),c.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},c.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},c.description=i.Facade.proxy("properties.description"),c.plan=i.Facade.proxy("properties.plan"),c.subtotal=function(){var e=s.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),(n=this.shipping())&&(t-=n),(n=this.discount())&&(t+=n)}return t},c.products=function(){var e=this.properties(),t=s.default(e,"products");return Array.isArray(t)?t.filter(function(e){return null!==e}):[]},c.quantity=function(){return(this.obj.properties||{}).quantity||1},c.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},c.query=i.Facade.proxy("options.query"),c.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{})if(Object.prototype.hasOwnProperty.call(e,n)){var r=null==this[n]?this.proxy("properties."+n):this[n]();if(null==r)continue;t[e[n]]=r,delete t[n]}return t},c.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();return u.default(t)?t:void 0},c.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(e=this.proxy("properties.total")),function(e){if(!e)return;if("number"===typeof e)return e;if("string"!==typeof e)return;if(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e))return e}(e)},c.cents=function(){var e=this.revenue();return"number"!==typeof e?this.value()||0:100*e},c.identify=function(){var e=this.json();return e.traits=this.traits(),new a.Identify(e,this.opts)}},10793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},11295:(e,t,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},11481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(62161),o=n(44845),i=n(2694),a=n(81414),u=n(84347);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"===typeof e?e:{count:e}).count,s=void 0===n?1/0:n,l=t.delay,c=t.resetOnSuccess,f=void 0!==c&&c;return s<=0?i.identity:r.operate(function(e,t){var n,r=0,i=function(){var c=!1;n=e.subscribe(o.createOperatorSubscriber(t,function(e){f&&(r=0),t.next(e)},void 0,function(e){if(r++<s){var f=function(){n?(n.unsubscribe(),n=null,i()):c=!0};if(null!=l){var d="number"===typeof l?a.timer(l):u.innerFrom(l(e,r)),h=o.createOperatorSubscriber(t,function(){h.unsubscribe(),f()},function(){t.complete()});d.subscribe(h)}else f()}else t.error(e)})),c&&(n.unsubscribe(),n=null,i())};i()})}},11629:(e,t,n)=>{var r=n(16913),o=n(46686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},12320:(e,t,n)=>{"use strict";var r=n(53536),o=n(73688),i=n(86903),a=n(15407),u=n(67606).normalizeRanks,s=n(63150),l=n(67606).removeEmptyRanks,c=n(7071),f=n(71429),d=n(38500),h=n(56575),p=n(10442),v=n(67606),y=n(79207).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?v.time:v.notime,T=n("layout",function(){return T=n("  buildLayoutGraph",function(){return function(e){var t=new y({multigraph:!0,compound:!0}),n=P(e.graph());return t.setGraph(r.merge({},m,S(n,g),r.pick(n,b))),r.forEach(e.nodes(),function(n){var o=P(e.node(n));t.setNode(n,r.defaults(S(o,_),w)),t.setParent(n,e.parent(n))}),r.forEach(e.edges(),function(n){var o=P(e.edge(n));t.setEdge(n,r.merge({},E,S(o,O),r.pick(o,x)))}),t}(e)}),n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){o.run(e)}),t("    nestingGraph.run",function(){c.run(e)}),t("    rank",function(){a(v.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};v.addDummyNode(e,"edge-proxy",o,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){l(e)}),t("    nestingGraph.cleanup",function(){c.cleanup(e)}),t("    normalizeRanks",function(){u(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;r.forEach(e.nodes(),function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){i.run(e)}),t("    parentDummyChains",function(){s(e)}),t("    addBorderSegments",function(){f(e)}),t("    order",function(){h(e)}),t("    insertSelfEdges",function(){!function(e){var t=v.buildLayerMatrix(e);r.forEach(t,function(t){var n=0;r.forEach(t,function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,function(t){v.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){d.adjust(e)}),t("    position",function(){p(e)}),t("    positionSelfEdges",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),u=e.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){i.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){d.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),u=a.marginx||0,s=a.marginy||0;function l(e){var r=e.x,a=e.y,u=e.width,s=e.height;t=Math.min(t,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}r.forEach(e.nodes(),function(t){l(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&l(n)}),t-=u,o-=s,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=o}),r.forEach(e.edges(),function(n){var i=e.edge(n);r.forEach(i.points,function(e){e.x-=t,e.y-=o}),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)}),a.width=n-t+u,a.height=i-o+s}(e)}),t("    assignNodeIntersects",function(){!function(e){r.forEach(e.edges(),function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){o.undo(e)})}(T,n)}),n("  updateInputGraph",function(){!function(e,t){r.forEach(e.nodes(),function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),r.forEach(e.edges(),function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,T)}),T});return T};var g=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],w={width:0,height:0},O=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},x=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function P(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},12467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(72162),o=n(5141);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map(function(t){return{value:t,timestamp:e.now()}})}},12622:(e,t,n)=>{var r=n(70705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},12759:(e,t,n)=>{var r=n(99421),o=n(45652),i=n(9096),a=n(66487),u=n(54052);e.exports=function(e,t,n){var s=u(e)?r:a,l=arguments.length<3;return s(e,i(t,4),n,l,o)}},12836:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=n(9620),u=n(1914),s=n(61689),l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,s,l;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=r(f),h=d.next();!h.done;h=d.next()){h.value.remove(this)}}catch(b){e={error:b}}finally{try{h&&!h.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var p=this.initialTeardown;if(a.isFunction(p))try{p()}catch(_){l=_ instanceof u.UnsubscriptionError?_.errors:[_]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=r(v),g=y.next();!g.done;g=y.next()){var m=g.value;try{c(m)}catch(w){l=null!==l&&void 0!==l?l:[],w instanceof u.UnsubscriptionError?l=i(i([],o(l)),o(w.errors)):l.push(w)}}}catch(O){n={error:O}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(n)throw n.error}}}if(l)throw new u.UnsubscriptionError(l)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&s.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function c(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=l,t.EMPTY_SUBSCRIPTION=l.EMPTY,t.isSubscription=function(e){return e instanceof l||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},12959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(1332),o=n(9268);t.shareReplay=function(e,t,n){var i,a,u,s,l=!1;return e&&"object"===typeof e?(i=e.bufferSize,s=void 0===i?1/0:i,a=e.windowTime,t=void 0===a?1/0:a,l=void 0!==(u=e.refCount)&&u,n=e.scheduler):s=null!==e&&void 0!==e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},13028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},13199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(62161),o=n(44845);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()}))})}},13440:(e,t,n)=>{var r=n(56552)["__core-js_shared__"];e.exports=r},13467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(81038);t.SequenceError=r.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})},13540:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBuffer=void 0;var o=r(n(78979));t.BaseBuffer=o.default,t.default=o.default},13552:(e,t)=>{"use strict";var n=/\d{10}/;t.is=function(e){return n.test(e)},t.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},13776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},13816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(18137),o=n(9620);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap(function(){return e},t,n):("number"===typeof t&&(n=t),r.mergeMap(function(){return e},n))}},14079:(e,t,n)=>{var r=n(88259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},14123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var r=n(69583);t.iif=function(e,t,n){return r.defer(function(){return e()?t:n})}},14295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(33837),o=n(9620);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},14657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},14704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){if("object"!==typeof t)return t;if("[object Object]"===Object.prototype.toString.call(t)){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]));return n}return Array.isArray(t)?t.map(e):t}},14870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(62161),o=n(44845);t.isEmpty=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}},14892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(62161),o=n(44845);t.defaultIfEmpty=function(e){return r.operate(function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}},15029:(e,t,n)=>{var r=n(26989),o=n(33097),i=n(53366),a=n(62597),u=n(9417),s=n(91310),l=n(70914);e.exports=function(e,t){return a(e)&&u(t)?s(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},15159:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,D:()=>a});var r=n(6326),o=n(55591);function i(e,t){e.log("debug","plugin",{plugin:t.name});var n=(new Date).getTime(),i=t[e.event.type];return void 0===i?Promise.resolve(e):function(e){return(0,r.sH)(this,void 0,void 0,function(){var t;return(0,r.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}(function(){return i.apply(t,[e])}).then(function(e){var r=(new Date).getTime()-n;return e.stats.gauge("plugin_time",r,["plugin:".concat(t.name)]),e}).catch(function(n){if(n instanceof o.d&&"middleware_cancellation"===n.type)throw n;return n instanceof o.d?(e.log("warn",n.type,{plugin:t.name,error:n}),n):(e.log("error","plugin Error",{plugin:t.name,error:n}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),n)})}function a(e,t){return i(e,t).then(function(t){if(t instanceof o.j)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)})}},15193:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},15321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(84347),o=n(62161),i=n(66564),a=n(44845);t.sample=function(e){return o.operate(function(t,n){var o=!1,u=null;t.subscribe(a.createOperatorSubscriber(n,function(e){o=!0,u=e})),r.innerFrom(e).subscribe(a.createOperatorSubscriber(n,function(){if(o){o=!1;var e=u;u=null,n.next(e)}},i.noop))})}},15359:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.GqlStatusObject=t.Notification=t.ServerInfo=t.queryType=t.ResultSummary=t.Record=t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=t.Time=t.LocalTime=t.LocalDateTime=t.isTime=t.isLocalTime=t.isLocalDateTime=t.isDuration=t.isDateTime=t.isDate=t.Duration=t.DateTime=t.Date=t.Point=t.isPoint=t.internal=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=t.Integer=t.error=t.isRetriableError=t.isRetryableError=t.GQLError=t.newGQLError=t.Neo4jError=t.newError=t.authTokenManagers=void 0,t.isUnsupportedType=t.UnsupportedType=t.StandardCase=t.RecordObjectMapping=t.mappingDecorators=t.rule=t.ProtocolVersion=t.vector=t.Vector=t.isVector=t.resolveCertificateProvider=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.routing=t.staticAuthTokenManager=t.bookmarkManager=t.auth=t.json=t.driver=t.types=t.Driver=t.Session=t.TransactionPromise=t.ManagedTransaction=t.Transaction=t.Connection=t.Releasable=t.ConnectionProvider=t.EagerResult=void 0;var u=n(41421);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(t,"newGQLError",{enumerable:!0,get:function(){return u.newGQLError}}),Object.defineProperty(t,"GQLError",{enumerable:!0,get:function(){return u.GQLError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return u.isRetriableError}});var s=i(n(70905));t.Integer=s.default,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"inSafeRange",{enumerable:!0,get:function(){return s.inSafeRange}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return s.toNumber}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return s.toString}});var l=n(39381);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return l.Time}});var c=n(99211);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=a(n(67586));t.Record=f.default;var d=n(85687);Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return d.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d.Point}});var h=i(n(40167));t.ResultSummary=h.default,Object.defineProperty(t,"queryType",{enumerable:!0,get:function(){return h.queryType}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return h.ServerInfo}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return h.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return h.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return h.QueryStatistics}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return h.Stats}});var p=i(n(26200));t.GqlStatusObject=p.default,Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return p.Notification}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return p.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return p.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return p.notificationSeverityLevel}});var v=n(99579);Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return v.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return v.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return v.notificationFilterMinimumSeverityLevel}});var y=a(n(18958));t.Result=y.default;var g=a(n(22387));t.EagerResult=g.default;var m=i(n(8677));t.ConnectionProvider=m.default,Object.defineProperty(t,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var b=a(n(52259));t.Connection=b.default;var _=a(n(62019));t.Transaction=_.default;var w=a(n(75039));t.ManagedTransaction=w.default;var O=a(n(19919));t.TransactionPromise=O.default;var E=a(n(9519));t.Session=E.default;var x=i(n(80709)),S=x;t.Driver=x.default,t.driver=S;var P=a(n(4149));t.auth=P.default;var T=n(85445);Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return T.bookmarkManager}});var C=n(32035);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return C.authTokenManagers}}),Object.defineProperty(t,"staticAuthTokenManager",{enumerable:!0,get:function(){return C.staticAuthTokenManager}});var k=n(80709);Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return k.routing}});var A=i(n(34774));t.types=A;var j=i(n(90961));t.json=j;var R=a(n(24807));t.resultTransformers=R.default;var I=n(55430);Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return I.clientCertificateProviders}}),Object.defineProperty(t,"resolveCertificateProvider",{enumerable:!0,get:function(){return I.resolveCertificateProvider}});var N=i(n(91397));t.internal=N;var M=n(49840);Object.defineProperty(t,"ProtocolVersion",{enumerable:!0,get:function(){return M.ProtocolVersion}});var D=i(n(87528));t.Vector=D.default,Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return D.vector}}),Object.defineProperty(t,"isVector",{enumerable:!0,get:function(){return D.isVector}});var L=n(3994);Object.defineProperty(t,"StandardCase",{enumerable:!0,get:function(){return L.StandardCase}});var F=n(18641);Object.defineProperty(t,"RecordObjectMapping",{enumerable:!0,get:function(){return F.RecordObjectMapping}});var U=n(516);Object.defineProperty(t,"rule",{enumerable:!0,get:function(){return U.rule}});var B=a(n(93649));t.mappingDecorators=B.default;var z=i(n(93549));t.UnsupportedType=z.default,Object.defineProperty(t,"isUnsupportedType",{enumerable:!0,get:function(){return z.isUnsupportedType}});var V={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};t.error=V;var W={authTokenManagers:C.authTokenManagers,newError:u.newError,Neo4jError:u.Neo4jError,newGQLError:u.newGQLError,GQLError:u.GQLError,isRetryableError:u.isRetryableError,isRetriableError:u.isRetriableError,error:V,Integer:s.default,int:s.int,isInt:s.isInt,inSafeRange:s.inSafeRange,toNumber:s.toNumber,toString:s.toString,internal:N,isPoint:d.isPoint,Point:d.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:h.default,queryType:h.queryType,ServerInfo:h.ServerInfo,Notification:p.Notification,GqlStatusObject:p.default,Plan:h.Plan,ProfiledPlan:h.ProfiledPlan,QueryStatistics:h.QueryStatistics,Stats:h.Stats,Result:y.default,EagerResult:g.default,Transaction:_.default,ManagedTransaction:w.default,TransactionPromise:O.default,Session:E.default,Driver:x.default,Connection:b.default,Releasable:m.Releasable,types:A,driver:S,json:j,auth:P.default,bookmarkManager:T.bookmarkManager,routing:k.routing,resultTransformers:R.default,notificationCategory:p.notificationCategory,notificationClassification:p.notificationClassification,notificationSeverityLevel:p.notificationSeverityLevel,notificationFilterDisabledCategory:v.notificationFilterDisabledCategory,notificationFilterDisabledClassification:v.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:v.notificationFilterMinimumSeverityLevel,clientCertificateProviders:I.clientCertificateProviders,resolveCertificateProvider:I.resolveCertificateProvider,ProtocolVersion:M.ProtocolVersion,rule:U.rule,mappingDecorators:B.default,RecordObjectMapping:F.RecordObjectMapping,StandardCase:L.StandardCase,UnsupportedType:z.default,isUnsupportedType:z.isUnsupportedType,isVector:D.isVector,vector:D.vector};t.default=W},15407:(e,t,n)=>{"use strict";var r=n(21007).longestPath,o=n(68027),i=n(6998);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:u(e);break;case"tight-tree":!function(e){r(e),o(e)}(e);break;case"longest-path":a(e)}};var a=r;function u(e){i(e)}},15797:(e,t,n)=>{var r=n(64816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},15812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(95400);t.concatAll=function(){return r.mergeAll(1)}},16004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(62161),o=n(44845),i=n(66564);t.ignoreElements=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))})}},16095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},16118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(47737),o=n(99963);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},16228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cacheKey=function(e,t){var n;if(null!=t)return"basic:"+t;if(void 0===e)return"DEFAULT";if("basic"===e.scheme)return"basic:"+(null!==(n=e.principal)&&void 0!==n?n:"");if("kerberos"===e.scheme)return"kerberos:"+e.credentials;if("bearer"===e.scheme)return"bearer:"+e.credentials;if("none"===e.scheme)return"none";return(0,r.stringify)(e,{sortedElements:!0})};var r=n(90961)},16336:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null===e||void 0===e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var n=this,r=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.off(e,r),t.apply(n,o)};return this.on(e,r),this},e.prototype.off=function(e,t){var n,r=(null!==(n=this.callbacks[e])&&void 0!==n?n:[]).filter(function(e){return e!==t});return this.callbacks[e]=r,this},e.prototype.emit=function(e){for(var t,n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return(null!==(t=this.callbacks[e])&&void 0!==t?t:[]).forEach(function(e){e.apply(n,r)}),this},e}()},16399:(e,t,n)=>{var r=n(5538),o=n(43668),i=n(69987),a=n(45752),u=n(26924),s=n(54052),l=n(44543),c=n(51268),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,g){var m=s(e),b=s(t),_=m?d:u(e),w=b?d:u(t),O=(_=_==f?h:_)==h,E=(w=w==f?h:w)==h,x=_==w;if(x&&l(e)){if(!l(t))return!1;m=!0,O=!1}if(x&&!O)return g||(g=new r),m||c(e)?o(e,t,n,v,y,g):i(e,t,_,n,v,y,g);if(!(1&n)){var S=O&&p.call(e,"__wrapped__"),P=E&&p.call(t,"__wrapped__");if(S||P){var T=S?e.value():e,C=P?t.value():t;return g||(g=new r),y(T,C,n,v,g)}}return!!x&&(g||(g=new r),a(e,t,n,v,y,g))}},16474:function(e,t){!function(e){"use strict";const t=134217729,n=33306690738754706e-32;function r(e,t,n,r,o){let i,a,u,s,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(i=l,l=t[++f]):(i=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>l==c>-l?(u=i-((a=l+i)-l),l=t[++f]):(u=i-((a=c+i)-c),c=r[++d]),i=a,0!==u&&(o[h++]=u);f<e&&d<n;)c>l==c>-l?(u=i-((a=i+l)-(s=a-i))+(l-s),l=t[++f]):(u=i-((a=i+c)-(s=a-i))+(c-s),c=r[++d]),i=a,0!==u&&(o[h++]=u);for(;f<e;)u=i-((a=i+l)-(s=a-i))+(l-s),l=t[++f],i=a,0!==u&&(o[h++]=u);for(;d<n;)u=i-((a=i+c)-(s=a-i))+(c-s),c=r[++d],i=a,0!==u&&(o[h++]=u);return 0===i&&0!==h||(o[h++]=i),h}function o(e){return new Float64Array(e)}const i=33306690738754716e-32,a=22204460492503146e-32,u=11093356479670487e-47,s=o(4),l=o(8),c=o(12),f=o(16),d=o(4);e.orient2d=function(e,o,h,p,v,y){const g=(o-y)*(h-v),m=(e-v)*(p-y),b=g-m;if(0===g||0===m||g>0!=m>0)return b;const _=Math.abs(g+m);return Math.abs(b)>=i*_?b:-function(e,o,i,h,p,v,y){let g,m,b,_,w,O,E,x,S,P,T,C,k,A,j,R,I,N;const M=e-p,D=i-p,L=o-v,F=h-v;w=(j=(x=M-(E=(O=t*M)-(O-M)))*(P=F-(S=(O=t*F)-(O-F)))-((A=M*F)-E*S-x*S-E*P))-(T=j-(I=(x=L-(E=(O=t*L)-(O-L)))*(P=D-(S=(O=t*D)-(O-D)))-((R=L*D)-E*S-x*S-E*P))),s[0]=j-(T+w)+(w-I),w=(k=A-((C=A+T)-(w=C-A))+(T-w))-(T=k-R),s[1]=k-(T+w)+(w-R),w=(N=C+T)-C,s[2]=C-(N-w)+(T-w),s[3]=N;let U=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,s),B=a*y;if(U>=B||-U>=B)return U;if(g=e-(M+(w=e-M))+(w-p),b=i-(D+(w=i-D))+(w-p),m=o-(L+(w=o-L))+(w-v),_=h-(F+(w=h-F))+(w-v),0===g&&0===m&&0===b&&0===_)return U;if(B=u*y+n*Math.abs(U),(U+=M*_+F*g-(L*b+D*m))>=B||-U>=B)return U;w=(j=(x=g-(E=(O=t*g)-(O-g)))*(P=F-(S=(O=t*F)-(O-F)))-((A=g*F)-E*S-x*S-E*P))-(T=j-(I=(x=m-(E=(O=t*m)-(O-m)))*(P=D-(S=(O=t*D)-(O-D)))-((R=m*D)-E*S-x*S-E*P))),d[0]=j-(T+w)+(w-I),w=(k=A-((C=A+T)-(w=C-A))+(T-w))-(T=k-R),d[1]=k-(T+w)+(w-R),w=(N=C+T)-C,d[2]=C-(N-w)+(T-w),d[3]=N;const z=r(4,s,4,d,l);w=(j=(x=M-(E=(O=t*M)-(O-M)))*(P=_-(S=(O=t*_)-(O-_)))-((A=M*_)-E*S-x*S-E*P))-(T=j-(I=(x=L-(E=(O=t*L)-(O-L)))*(P=b-(S=(O=t*b)-(O-b)))-((R=L*b)-E*S-x*S-E*P))),d[0]=j-(T+w)+(w-I),w=(k=A-((C=A+T)-(w=C-A))+(T-w))-(T=k-R),d[1]=k-(T+w)+(w-R),w=(N=C+T)-C,d[2]=C-(N-w)+(T-w),d[3]=N;const V=r(z,l,4,d,c);w=(j=(x=g-(E=(O=t*g)-(O-g)))*(P=_-(S=(O=t*_)-(O-_)))-((A=g*_)-E*S-x*S-E*P))-(T=j-(I=(x=m-(E=(O=t*m)-(O-m)))*(P=b-(S=(O=t*b)-(O-b)))-((R=m*b)-E*S-x*S-E*P))),d[0]=j-(T+w)+(w-I),w=(k=A-((C=A+T)-(w=C-A))+(T-w))-(T=k-R),d[1]=k-(T+w)+(w-R),w=(N=C+T)-C,d[2]=C-(N-w)+(T-w),d[3]=N;const W=r(V,c,4,d,f);return f[W-1]}(e,o,h,p,v,y,_)},e.orient2dfast=function(e,t,n,r,o,i){return(t-i)*(n-o)-(e-o)*(r-i)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},16504:(e,t,n)=>{e.exports={graphlib:n(79207),layout:n(12320),debug:n(53163),util:{time:n(67606).time,notime:n(67606).notime},version:n(22632)}},16664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15359);function o(){}function i(e){return e}var a={onNext:o,onCompleted:o,onError:o},u=function(){function e(e){var t=void 0===e?{}:e,n=t.transformMetadata,r=t.enrichErrorMetadata,a=t.log,u=t.observer;this._pendingObservers=[],this._log=a,this._transformMetadata=n||i,this._enrichErrorMetadata=r||i,this._observer=Object.assign({onObserversCountChange:o,onError:o,onFailure:o,onErrorApplyTransformation:i},u)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(r.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(r.json.stringify(e)));try{var n=this._transformMetadata(t);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(r.json.stringify(e)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(t)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(r.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,r.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,r.newError)("Unknown Bolt protocol message: "+e))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(e.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),e.prototype._queueObserver=function(e){return(e=e||a).onCompleted=e.onCompleted||o,e.onError=e.onError||o,e.onNext=e.onNext||o,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},e.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},e.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e.prototype._handleErrorPayload=function(e){var t=function(e){if("Neo.TransientError.Transaction.Terminated"===e)return"Neo.ClientError.Transaction.Terminated";if("Neo.TransientError.Transaction.LockClientStopped"===e)return"Neo.ClientError.Transaction.LockClientStopped";return e}(e.code),n=null!=e.cause?this._handleErrorCause(e.cause):void 0,o=(0,r.newError)(e.message,t,n,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(o)},e.prototype._handleErrorCause=function(e){var t=null!=e.cause?this._handleErrorCause(e.cause):void 0,n=(0,r.newGQLError)(e.message,t,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(n)},e}();t.default=u},16913:(e,t,n)=>{var r=n(9812),o=n(34552),i=n(16095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},16946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(e){return e},t.reuseOngoingRequest=function(e,t){void 0===t&&(t=null);var n=new Map;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r.json.stringify(o);if(n.has(a))return n.get(a);var u=e.apply(t,o);return n.set(a,u),u.finally(function(){n.delete(a)})}};var r=n(15359)},17448:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var o=n(94937),i=n(39819),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=i.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var a=t.actions;null!=n&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==n&&(i.immediateProvider.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(o.AsyncAction);t.AsapAction=a},17469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(29491),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,a=n.error;if(o=null,i)throw a}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},17529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},17547:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){var t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(44682).AsyncScheduler);t.AnimationFrameScheduler=o},17636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/.+\@.+\..+/;t.default=function(e){return n.test(e)}},18088:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var i=n(48397),a=n(20344);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,o([e],r(n)))}}t.onErrorResumeNextWith=u,t.onErrorResumeNext=u},18105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(62161),o=n(66564),i=n(44845),a=n(84347);t.bufferWhen=function(e){return r.operate(function(t,n){var r=null,u=null,s=function(){null===u||void 0===u||u.unsubscribe();var t=r;r=[],t&&n.next(t),a.innerFrom(e()).subscribe(u=i.createOperatorSubscriber(n,s,o.noop))};s(),t.subscribe(i.createOperatorSubscriber(n,function(e){return null===r||void 0===r?void 0:r.push(e)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=u=null}))})}},18137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(5141),o=n(84347),i=n(62161),a=n(88457),u=n(9620);t.mergeMap=function e(t,n,s){return void 0===s&&(s=1/0),u.isFunction(n)?e(function(e,i){return r.map(function(t,r){return n(e,t,i,r)})(o.innerFrom(t(e,i)))},s):("number"===typeof n&&(s=n),i.operate(function(e,n){return a.mergeInternals(e,n,t,s)}))}},18150:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&o(n,t,r[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var u=a(n(89379)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t}(u.Packer);t.Packer=s;var l=function(e){function t(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),e.call(this,t,n)||this}return r(t,e),t}(u.Unpacker);t.Unpacker=l},18163:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(6230));t.default=r({},i.default)},18630:(e,t,n)=>{var r=n(61516),o=n(6806),i=n(18962),a=n(11295),u=n(38710);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},18641:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.RecordObjectMapping=t.rulesRegistry=void 0,t.as=function(e,n,i){var a,u,l,c,f="function"===typeof n?n:Object,d=function(e,n){var r="object"===typeof e?e:n;if(null!=r)return r;return"object"!==typeof e?t.rulesRegistry[e.name]:void 0}(n,i),h=[],p=new f;try{for(var v=r(Object.entries(null!==d&&void 0!==d?d:{})),y=v.next();!y.done;y=v.next()){var g=o(y.value,2),m=g[0],b=g[1];h.push(m),s(e,p,m,b)}}catch(O){a={error:O}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}try{for(var _=r(Object.getOwnPropertyNames(p)),w=_.next();!w.done;w=_.next()){m=w.value;h.includes(m)||s(e,p,m,null===d||void 0===d?void 0:d[m])}}catch(E){l={error:E}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}return p},t.valueAs=l;var i=n(41421),a=n(3994);t.rulesRegistry={};var u=function(e){return e};function s(e,t,n,r){var o,i=u(n),a=l(e.get(null!==(o=null===r||void 0===r?void 0:r.from)&&void 0!==o?o:i),"".concat(t.constructor.name,"#").concat(n),r);t[n]=null!==a&&void 0!==a?a:t[n]}function l(e,t,n){return!0===(null===n||void 0===n?void 0:n.optional)&&null==e?e:("function"===typeof(null===n||void 0===n?void 0:n.validate)&&n.validate(e,t),null!=(null===n||void 0===n?void 0:n.convert)?n.convert(e,t):e)}t.RecordObjectMapping=Object.freeze({clearMappingRegistry:function(){t.rulesRegistry={}},getCaseTranslator:function(e,t){var n=Object.keys(a.nameConventions);if(!n.includes(e))throw(0,i.newError)("Naming convention ".concat(e," is not recognized, \n      please provide a recognized name convention or manually provide a translation function."));if(!n.includes(t))throw(0,i.newError)("Naming convention ".concat(t," is not recognized, \n      please provide a recognized name convention or manually provide a translation function."));return function(n){return a.nameConventions[e].encode(a.nameConventions[t].tokenize(n))}},register:function(e,n){t.rulesRegistry[e.name]=n},translateIdentifiers:function(e){u=e}})},18808:(e,t,n)=>{var r=n(95750);e.exports=function(e){var t=0,n=[],o={},i=[];function a(u){var s=o[u]={onStack:!0,lowlink:t,index:t++};if(n.push(u),e.successors(u).forEach(function(e){r.has(o,e)?o[e].onStack&&(s.lowlink=Math.min(s.lowlink,o[e].index)):(a(e),s.lowlink=Math.min(s.lowlink,o[e].lowlink))}),s.lowlink===s.index){var l,c=[];do{l=n.pop(),o[l].onStack=!1,c.push(l)}while(u!==l);i.push(c)}}return e.nodes().forEach(function(e){r.has(o,e)||a(e)}),i}},18902:(e,t,n)=>{var r=n(64816),o=n(86179),i=n(46704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},18931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(9620);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},18958:function(e,t,n){"use strict";var r,o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(40167)),l=n(91397),c=n(41421),f=l.connectionHolder.EMPTY_CONNECTION_HOLDER,d=function(e){console.log("Uncaught error when processing result: "+e)},h=function(e){},p=function(e){};var v=function(){function e(e,t,n,o,i){void 0===i&&(i={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[r]="Result",this._stack=function(){var e=new Error("");return null!=e.stack?e.stack.replace(/^Error(\n\r)*/,""):null}(),this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!==n&&void 0!==n?n:{},this._connectionHolder=null!==o&&void 0!==o?o:f,this._keys=null,this._summary=null,this._error=null,this._mapper=null,this._watermarks=i}return e.prototype.as=function(e,t){if(null!=this._p)throw(0,c.newError)("Cannot call .as() on a Result that is being consumed");return this._mapper=function(n){return n.as(e,t)},this},e.prototype.keys=function(){var e=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){return r.subscribe(e._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype.summary=function(){var e=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){r.cancel(),r.subscribe(e._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise(function(t,n){var r=[],o={onNext:function(t){null!=e._mapper?r.push(e._mapper(t)):r.push(t)},onCompleted:function(e){t({records:r,summary:e})},onError:function(e){n(e)}};e.subscribe(o)})),this._p},e.prototype[Symbol.asyncIterator]=function(){var e=this;if(!this.isOpen()){var t=(0,c.newError)("Result is already consumed");return{next:function(){return Promise.reject(t)},peek:function(){return Promise.reject(t)}}}var n={paused:!0,firstRun:!0,finished:!1},r=function(){var t,r;if(null!=n.streaming){var o=null!==(r=null===(t=n.queuedObserver)||void 0===t?void 0:t.size)&&void 0!==r?r:0,i=o>=e._watermarks.high,a=o<=e._watermarks.low;i&&!n.paused?(n.paused=!0,n.streaming.pause()):(a&&n.paused||n.firstRun&&!i)&&(n.firstRun=!1,n.paused=!1,n.streaming.resume())}},o=function(){return i(e,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return void 0!==n.queuedObserver?[3,2]:(n.queuedObserver=this._createQueuedResultObserver(r),e=n,[4,this._subscribe(n.queuedObserver,!0).catch(function(){})]);case 1:e.streaming=t.sent(),r(),t.label=2;case 2:return[2,n.queuedObserver]}})})},u=function(e){if(void 0===e)throw(0,c.newError)("InvalidState: Result stream finished without Summary",c.PROTOCOL_ERROR);return!0};return{next:function(){return i(e,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,o()];case 1:return[4,t.sent().dequeue()];case 2:return!0===(e=t.sent()).done&&(n.finished=e.done,n.summary=e.value),[2,e]}})})},return:function(t){return i(e,void 0,void 0,function(){var e,r;return a(this,function(i){switch(i.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:null!==t&&void 0!==t?t:n.summary}]:(null===(r=n.streaming)||void 0===r||r.cancel(),[4,o()]);case 1:return[4,i.sent().dequeueUntilDone()];case 2:return e=i.sent(),n.finished=!0,e.value=null!==t&&void 0!==t?t:e.value,n.summary=e.value,[2,e]}})})},peek:function(){return i(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,o()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}})})}}},e.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},e.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},e.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},e.prototype.subscribe=function(e){this._subscribe(e).catch(function(){})},e.prototype.isOpen=function(){return null===this._summary&&null===this._error},e.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var n=this._decorateObserver(e);return this._streamObserverPromise.then(function(e){return t&&e.pause(),e.subscribe(n),e}).catch(function(e){return null!=n.onError&&n.onError(e),Promise.reject(e)})},e.prototype._decorateObserver=function(e){var t,n,r,o=this,i=null!==(t=e.onCompleted)&&void 0!==t?t:h,a=null!==(n=e.onError)&&void 0!==n?n:d,u=null!==(r=e.onKeys)&&void 0!==r?r:p;return{onNext:null!=e.onNext?e.onNext.bind(e):void 0,onKeys:function(t){return o._keys=t,u.call(e,t)},onCompleted:function(t){o._releaseConnectionAndGetSummary(t).then(function(t){return null!==o._summary?i.call(e,o._summary):(o._summary=t,i.call(e,t))}).catch(a)},onError:function(t){o._connectionHolder.releaseConnection().then(function(){!function(e,t){null!=t&&(e.stack=e.toString()+"\n"+t)}(t,o._stack),o._error=t,a.call(e,t)}).catch(a)}}},e.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then(function(e){return e.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(e){var t=l.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=t.validatedQuery,r=t.params,o=this._connectionHolder;return o.getConnection().then(function(e){return o.releaseConnection().then(function(){return null===e||void 0===e?void 0:e.getProtocolVersion()})},function(e){}).then(function(t){return new s.default(n,r,e,t)})},e.prototype._createQueuedResultObserver=function(e){var t=this;function n(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function r(e){return e instanceof Error}function o(){return i(this,void 0,void 0,function(){var t,o;return a(this,function(i){switch(i.label){case 0:if(u.length>0){if(t=null!==(o=u.shift())&&void 0!==o?o:(0,c.newError)("Unexpected empty buffer",c.PROTOCOL_ERROR),e(),r(t))throw t;return[2,t]}return s.resolvable=n(),[4,s.resolvable.promise];case 1:return[2,i.sent()]}})})}var u=[],s={resolvable:null},l={onNext:function(e){null!=t._mapper?l._push({done:!1,value:t._mapper(e)}):l._push({done:!1,value:e})},onCompleted:function(e){l._push({done:!0,value:e})},onError:function(e){l._push(e)},_push:function(t){if(null!==s.resolvable){var n=s.resolvable;s.resolvable=null,r(t)?n.reject(t):n.resolve(t)}else u.push(t),e()},dequeue:o,dequeueUntilDone:function(){return i(t,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,o()];case 1:return!0===(e=t.sent()).done?[2,e]:[3,0];case 2:return[2]}})})},head:function(){return i(t,void 0,void 0,function(){var t,o;return a(this,function(i){switch(i.label){case 0:if(u.length>0){if(r(t=u[0]))throw t;return[2,t]}s.resolvable=n(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return t=i.sent(),u.unshift(t),[2,t];case 3:throw o=i.sent(),u.unshift(o),o;case 4:return e(),[7];case 5:return[2]}})})},get size(){return u.length}};return l},e}();r=Symbol.toStringTag;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(v);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o(t,e)}(v);t.default=y},18962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},19155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeTransformer=void 0;var r=n(64666),o=n(15359).internal.objectUtil,i=function(){function e(e){this._transformers=e,this._transformersPerSignature=new Map(e.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(e){try{return e instanceof r.structure.Structure&&this._transformersPerSignature.has(e.signature)?(0,this._transformersPerSignature.get(e.signature).fromStructure)(e):e}catch(t){return o.createBrokenObject(t)}},e.prototype.toStructure=function(e){var t=this._transformers.find(function(t){return(0,t.isTypeInstance)(e)});return void 0!==t?t.toStructure(e):e},e}();t.default=i;var a=function(){function e(e){var t=e.signature,n=e.fromStructure,r=e.toStructure,o=e.isTypeInstance;this.signature=t,this.isTypeInstance=o,this.fromStructure=n,this.toStructure=r,Object.freeze(this)}return e.prototype.extendsWith=function(t){var n=t.signature,r=t.fromStructure,o=t.toStructure,i=t.isTypeInstance;return new e({signature:n||this.signature,fromStructure:r||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:i||this.isTypeInstance})},e}();t.TypeTransformer=a},19165:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var o=n(76711),i=r(n(88804)),a=r(n(56329)),u=r(n(17636)),s=r(n(75629)),l=function(e){return e.trim()};function c(e,t){o.Facade.call(this,e,t)}t.Identify=c,a.default(c,o.Facade);var f=c.prototype;f.action=function(){return"identify"},f.type=f.action,f.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e){var o=null==this[r]?this.proxy("traits."+r):this[r]();null!=o&&(t[e[r]]=o,r!==e[r]&&delete t[r])}return t},f.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return u.default(t)?t:void 0},f.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return s.default(e)},f.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return s.default(e)},f.companyName=function(){return this.proxy("traits.company.name")},f.name=function(){var e=this.proxy("traits.name");if("string"===typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},f.firstName=function(){var e=this.proxy("traits.firstName");if("string"===typeof e)return l(e);var t=this.proxy("traits.name");return"string"===typeof t?l(t).split(" ")[0]:void 0},f.lastName=function(){var e=this.proxy("traits.lastName");if("string"===typeof e)return l(e);var t=this.proxy("traits.name");if("string"===typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},f.uid=function(){return this.userId()||this.username()||this.email()},f.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},f.age=function(){var e=this.birthday(),t=i.default(this.traits(),"age");return null!=t?t:e instanceof Date?(new Date).getFullYear()-e.getFullYear():void 0},f.avatar=function(){var e=this.traits();return i.default(e,"avatar")||i.default(e,"photoUrl")||i.default(e,"avatarUrl")},f.position=function(){var e=this.traits();return i.default(e,"position")||i.default(e,"jobTitle")},f.username=o.Facade.proxy("traits.username"),f.website=o.Facade.one("traits.website"),f.websites=o.Facade.multi("traits.website"),f.phone=o.Facade.one("traits.phone"),f.phones=o.Facade.multi("traits.phone"),f.address=o.Facade.proxy("traits.address"),f.gender=o.Facade.proxy("traits.gender"),f.birthday=o.Facade.proxy("traits.birthday")},19304:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(24296),a=n(84347),u=n(48397),s=n(56294),l=n(44845),c=n(47737);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e),f=u.argsOrArgArray(e);return f.length?new i.Observable(function(e){var t=f.map(function(){return[]}),i=f.map(function(){return!1});e.add(function(){t=i=null});for(var u=function(u){a.innerFrom(f[u]).subscribe(l.createOperatorSubscriber(e,function(a){if(t[u].push(a),t.every(function(e){return e.length})){var s=t.map(function(e){return e.shift()});e.next(n?n.apply(void 0,o([],r(s))):s),t.some(function(e,t){return!e.length&&i[t]})&&e.complete()}},function(){i[u]=!0,!t[u].length&&e.complete()}))},s=0;!e.closed&&s<f.length;s++)u(s);return function(){t=i=null}}):s.EMPTY}},19324:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window}function o(){return!r()}n.d(t,{B:()=>r,S:()=>o})},19841:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},19919:function(e,t,n){"use strict";var r,o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var n=t.connectionHolder,o=t.onClose,i=t.onBookmarks,a=t.onConnection,u=t.reactive,s=t.fetchSize,l=t.impersonatedUser,c=t.highRecordWatermark,f=t.lowRecordWatermark,d=t.notificationFilter,h=t.apiTelemetryConfig,p=t.onDbCallback,v=e.call(this,{connectionHolder:n,onClose:o,onBookmarks:i,onConnection:a,reactive:u,fetchSize:s,impersonatedUser:l,highRecordWatermark:c,lowRecordWatermark:f,notificationFilter:d,apiTelemetryConfig:h})||this;return v[r]="TransactionPromise",v._onDbCallback=p,v}return o(t,e),t.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},t.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},t.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},t.prototype._getOrCreateBeginPromise=function(){var e=this;return null==this._beginPromise&&(this._beginPromise=new Promise(function(t,n){e._resolve=t,e._reject=n,null!=e._beginError&&n(e._beginError),null!=e._beginMetadata&&t(e._toTransaction())})),this._beginPromise},t.prototype._toTransaction=function(){return i(i({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(t,n){return e.prototype._begin.call(this,t,n,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this),onDB:this._onDbCallback})},t.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},t.prototype._onBeginMetadata=function(e){this._beginMetadata=null!==e&&void 0!==e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},t}(a(n(62019)).default);r=Symbol.toStringTag,t.default=u},20191:(e,t,n)=>{"use strict";var r=n(95750);e.exports=i;var o="\0";function i(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function u(e,t){--e[t]||delete e[t]}function s(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var u=i;i=a,a=u}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function l(e,t){return s(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},i.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},i.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,function(e){n.length>1?o.setNode(e,t):o.setNode(e)}),this},i.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return r.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},i.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,i(e))}),t},i.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},i.prototype.setEdge=function(){var e,t,n,o,i=!1,u=arguments[0];"object"===typeof u&&null!==u&&"v"in u?(e=u.v,t=u.w,n=u.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=u,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=s(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return i&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=i?o:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};r&&(u.name=r);return u}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[l]=c,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][l]=c,this._out[e][l]=c,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],u(this._preds[t],e),u(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.v===t}):o}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.w===t}):o}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},20310:(e,t,n)=>{var r=n(21817),o=n(85990),i=n(36140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},20344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var r=n(24296),o=n(48397),i=n(44845),a=n(66564),u=n(84347);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.argsOrArgArray(e);return new r.Observable(function(e){var t=0,r=function(){if(t<n.length){var o=void 0;try{o=u.innerFrom(n[t++])}catch(l){return void r()}var s=new i.OperatorSubscriber(e,void 0,a.noop,a.noop);o.subscribe(s),s.add(r)}else e.complete()};r()})}},20363:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,n)||this;return n&&(r._originalErrorHandler=t._errorHandler,t._errorHandler=r._errorHandler),r._delegate=t,r}return r(t,e),t.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._delegate.run(e,t,n)},t.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,t,n,r){return this._delegate.connect(e,t,n,r)},t.prototype.write=function(e,t,n){return this._delegate.write(e,t,n)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},t}(o(n(91051)).default);t.default=i},20379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertDatabaseIsEmpty=function(e,t,n){void 0===t&&(t=function(){});if(e){var o=(0,r.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertTxConfigIsEmpty=function(e,t,n){void 0===t&&(t=function(){});if(e&&!e.isEmpty()){var o=(0,r.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertImpersonatedUserIsEmpty=function(e,t,n){void 0===t&&(t=function(){});if(e){var o=(0,r.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(o.message),n.onError(o),o}},t.assertNotificationFilterIsEmpty=function(e,t,n){void 0===t&&(t=function(){});if(void 0!==e){var o=(0,r.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(r.json.stringify(e),"."));throw t(o.message),n.onError(o),o}};var r=n(15359);n(64260)},20449:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},20922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(26309),o=n(9620);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},21007:(e,t,n)=>{"use strict";var r=n(53536);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),function(t){return n(t.w)-e.edge(t).minlen}));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},21737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(84347),o=n(62161),i=n(44845);t.switchMap=function(e,t){return o.operate(function(n,o){var a=null,u=0,s=!1,l=function(){return s&&!a&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,function(n){null===a||void 0===a||a.unsubscribe();var s=0,c=u++;r.innerFrom(e(n,c)).subscribe(a=i.createOperatorSubscriber(o,function(e){return o.next(t?t(n,e,c,s++):e)},function(){a=null,l()}))},function(){s=!0,l()}))})}},21817:(e,t,n)=>{var r=n(46686),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},22182:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(36737)),a=n(20379),u=o(n(61099)),s=o(n(19155)),l=o(n(8607)),c=n(64260),f=n(15359).internal.constants.BOLT_PROTOCOL_V5_0,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,u=n.onError,s=n.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return t._onLoginCompleted(e,o,s)}});return(0,a.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(l.default.hello(r,o,this._serversideRouting),f,!0),f},t}(i.default);t.default=d},22387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.keys=e,this.records=t,this.summary=n};t.default=n},22541:e=>{e.exports=function(e){return function(){return e}}},22577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.selectReader=function(e){throw new Error("Abstract function")},e.prototype.selectWriter=function(e){throw new Error("Abstract function")},e}();t.default=n},22632:e=>{e.exports="0.8.14"},22662:(e,t,n)=>{var r=n(95575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},22717:(e,t,n)=>{var r=n(80726),o=n(21817),i=n(94664),a=n(9096),u=n(85990),s=n(54052),l=n(44543),c=n(11629),f=n(46686),d=n(51268);e.exports=function(e,t,n){var h=s(e),p=h||l(e)||d(e);if(t=a(t,4),null==n){var v=e&&e.constructor;n=p?h?new v:[]:f(e)&&c(v)?o(u(e)):{}}return(p?r:i)(e,function(e,r,o){return t(n,e,r,o)}),n}},22761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},22777:(e,t,n)=>{var r=n(15193),o=n(22761),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},22799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},22929:(e,t,n)=>{var r=n(56552).Uint8Array;e.exports=r},22930:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(66211));t.default=r({},i.default)},23122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var r=n(99963);t.pairs=function(e,t){return r.from(Object.entries(e),t)}},23333:(e,t,n)=>{"use strict";function r(e,t,n){t.split&&(t=t.split("."));for(var r,o,i=0,a=t.length,u=e;i<a&&"__proto__"!==(o=""+t[i++])&&"constructor"!==o&&"prototype"!==o;)u=u[o]=i===a?n:typeof(r=u[o])===typeof t?r:0*t[i]!==0||~(""+t[i]).indexOf(".")?{}:[]}n.d(t,{J:()=>r})},23781:(e,t,n)=>{var r=n(9417),o=n(28673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},23941:(e,t,n)=>{"use strict";var r=n(28460);e.exports=function(e,t){t=t||{};var n=new r,o=t.inPlace||!1,i=e.map(function(e){return o?e:{width:e.width,height:e.height,item:e}});i=i.sort(function(e,t){return t.width*t.height-e.width*e.height}),n.fit(i);var a={width:i.reduce(function(e,t){return Math.max(e,t.x+t.width)},0),height:i.reduce(function(e,t){return Math.max(e,t.y+t.height)},0)};return o||(a.items=i),a}},24101:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(22182)),u=n(20379),s=i(n(8700)),l=i(n(19155)),c=i(n(8607)),f=n(64260),d=n(15359).internal.constants.BOLT_PROTOCOL_V5_1,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=(n.boltAgent,n.authToken),a=n.notificationFilter,s=n.onError,l=n.onComplete,d={},h=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return(0,u.assertNotificationFilterIsEmpty)(a,this._onProtocolError,h),this.write(c.default.hello5x1(r,this._serversideRouting),h,!1),this.logon({authToken:i,onComplete:function(e){return l(o(o({},e),d.metadata))},onError:s,flush:!0})},t.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=n.flush,u=new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,r,o)},onError:function(e){return t._onLoginError(e,i)}});return this.write(c.default.logon(r),u,a),u},t.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=t.flush,i=new f.LogoffObserver({onCompleted:n,onError:r});return this.write(c.default.logoff(),i,o),i},t}(a.default);t.default=h},24145:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>a,kJ:()=>o,rY:()=>i});var r="analytics";function o(){return window[r]}function i(e){r=e}function a(e){window[r]=e}},24190:(e,t,n)=>{var r=n(61340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},24296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(40203),o=n(12836),i=n(26309),a=n(88324),u=n(29491),s=n(9620),l=n(17469),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,a=this,u=(i=e)&&i instanceof r.Subscriber||function(e){return e&&s.isFunction(e.next)&&s.isFunction(e.error)&&s.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return l.errorContext(function(){var e=a,t=e.operator,n=e.source;u.add(t?t.call(u,n):n?a._subscribe(u):a._trySubscribe(u))}),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(n){o(n),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!==e&&void 0!==e?e:u.config.Promise)&&void 0!==t?t:Promise}t.Observable=c},24456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(62161),o=n(44845),i=n(84347);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate(function(n,r){var a={buffer:[],complete:!1},u={buffer:[],complete:!1},s=function(e){r.next(e),r.complete()},l=function(e,n){var i=o.createOperatorSubscriber(r,function(r){var o=n.buffer,i=n.complete;0===o.length?i?s(!1):e.buffer.push(r):!t(r,o.shift())&&s(!1)},function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&s(0===r.length),null===i||void 0===i||i.unsubscribe()});return i};n.subscribe(l(a,u)),i.innerFrom(e).subscribe(l(u,a))})}},24507:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAddress=void 0;var a=n(36021),u=i(n(8421)),s=function(){function e(e,t,n,r){this._host=(0,a.assertString)(e,"host"),this._resolved=null!=t?(0,a.assertString)(t,"resolved"):null,this._port=(0,a.assertNumber)(n,"port"),this._hostPort=r,this._stringValue=null!=t?"".concat(r,"(").concat(t,")"):"".concat(r)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var n=u.parseDatabaseUrl(t);return new e(n.host,null,n.port,n.hostAndPort)},e}();t.ServerAddress=s},24577:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeastConnectedLoadBalancingStrategy=t.LoadBalancingStrategy=void 0;var o=r(n(22577));t.LoadBalancingStrategy=o.default;var i=r(n(6055));t.LeastConnectedLoadBalancingStrategy=i.default,t.default=i.default},24595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBrokenObject=function(e,t){void 0===t&&(t={});var o=function(){throw e};return new Proxy(t,{get:function(t,i){return i===n||(i===r?e:void("toJSON"!==i&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},t.isBrokenObject=function(e){return null!==e&&"object"===typeof e&&!0===e[n]},t.getBrokenObjectReason=function(e){return e[r]};var n="__isBrokenObject__",r="__reason__"},24643:function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(l,c):f(a[0][2],n)}catch(r){f(a[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=n(9620);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,function(){var t,n,i;return r(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t.isReadableStreamLike=function(e){return a.isFunction(null===e||void 0===e?void 0:e.getReader)}},24807:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(22387)),u=n(41421),s=new(function(){function e(){}return e.prototype.eagerResultTransformer=function(){return l},e.prototype.eager=function(){return l},e.prototype.mappedResultTransformer=function(e){return c(e)},e.prototype.mapped=function(e){return c(e)},e.prototype.first=function(){return f},e.prototype.summary=function(){return d},e.prototype.hydrated=function(e,t){var n=this;return function(i){return r(n,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,i.as(e,t).then()];case 1:return[2,n.sent()]}})})}},e}());function l(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,e];case 1:return t=o.sent(),n=t.summary,r=t.records,[4,e.keys()];case 2:return i=o.sent(),[2,new a.default(i,r,n)]}})})}function c(e){var t=this;if(null==e||null==e.collect&&null==e.map)throw(0,u.newError)("Requires a map or/and a collect functions.");return function(n){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){var o={records:[],keys:[]};n.subscribe({onKeys:function(e){o.keys=e},onNext:function(t){if(null!=e.map){var n=e.map(t);void 0!==n&&o.records.push(n)}else o.records.push(t)},onCompleted:function(n){if(null!=e.collect)t(e.collect(o.records,n,o.keys));else{var r={records:o.records,summary:n,keys:o.keys};t(r)}},onError:function(e){r(e)}})})];case 1:return[2,t.sent()]}})})}}function f(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,(t=e[Symbol.asyncIterator]()).next()];case 1:n=o.sent(),r=n.value,i=n.done,o.label=2;case 2:return o.trys.push([2,,3,6]),!0===i?[2,void 0]:[2,r];case 3:return null==t.return?[3,5]:[4,t.return()];case 4:o.sent(),o.label=5;case 5:return[7];case 6:return[2]}})})}function d(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e.summary()];case 1:return[2,t.sent()]}})})}Object.freeze(s),t.default=s},25051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},25111:(e,t,n)=>{var r=n(33279);e.exports=function(e){return"function"==typeof e?e:r}},25151:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(80193)),i=n(15359),a=r(n(26382)),u=new(n(78694).StringDecoder)("utf8");t.default={encode:function(e){return new o.default(function(e){return"function"===typeof a.default.Buffer.from?a.default.Buffer.from(e,"utf8"):new a.default.Buffer(e,"utf8")}(e))},decode:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return function(e,t){var n=e.position,r=n+t;return e.position=Math.min(r,e.length),e._buffer.toString("utf8",n,r)}(e,t);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return function(e,t){return function(e,t,n,r){var o=t,i=e.position;return e._updatePos(Math.min(t,e.length-i)),e._buffers.reduce(function(e,t){if(o<=0)return e;if(i>=t.length)return i-=t.length,"";t._updatePos(i-t.position);var r=Math.min(t.length-i,o),a=t.readSlice(r);return t._updatePos(r),o=Math.max(o-a.length,0),i=0,e+n(a)},"")+r()}(e,t,function(e){return u.write(e._buffer)},function(){return u.end()})}(e,t);throw(0,i.newError)("Don't know how to decode strings from '".concat(e,"'"))}}},25262:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).layoutBase.LayoutConstants,o=n(0).layoutBase.FDLayoutConstants,i=n(0).CoSEConstants,a=n(0).CoSELayout,u=n(0).CoSENode,s=n(0).layoutBase.PointD,l=n(0).layoutBase.DimensionD,c={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function f(e){this.options=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}(c,e),d(this.options)}var d=function(e){null!=e.nodeRepulsion&&(i.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(i.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(i.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(i.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(i.MAX_ITERATIONS=o.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(i.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(i.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"draft"==e.quality?r.QUALITY=0:"proof"==e.quality?r.QUALITY=2:r.QUALITY=1,i.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,i.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=!e.randomize,i.ANIMATE=o.ANIMATE=r.ANIMATE=e.animate,i.TILE=e.tile,i.TILING_PADDING_VERTICAL="function"===typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,i.TILING_PADDING_HORIZONTAL="function"===typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};f.prototype.run=function(){var e,t,n=this.options,r=(this.idToLNode={},this.layout=new a),o=this;o.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var i=r.newGraphManager();this.gm=i;var u=this.options.eles.nodes(),s=this.options.eles.edges();this.root=i.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(u),r);for(var l=0;l<s.length;l++){var c=s[l],f=this.idToLNode[c.data("source")],d=this.idToLNode[c.data("target")];f!==d&&0==f.getEdgesBetween(d).length&&(i.add(r.newEdge(),f,d).id=c.id())}var h=function(e,t){"number"===typeof e&&(e=t);var n=e.data("id"),r=o.idToLNode[n];return{x:r.getRect().getCenterX(),y:r.getRect().getCenterY()}},p=function i(){for(var a,u=function(){n.fit&&n.cy.fit(n.eles,n.padding),e||(e=!0,o.cy.one("layoutready",n.ready),o.cy.trigger({type:"layoutready",layout:o}))},s=o.options.refresh,l=0;l<s&&!a;l++)a=o.stopped||o.layout.tick();if(a)return r.checkLayoutSuccess()&&!r.isSubLayout&&r.doPostLayout(),r.tilingPostLayout&&r.tilingPostLayout(),r.isLayoutFinished=!0,o.options.eles.nodes().positions(h),u(),o.cy.one("layoutstop",o.options.stop),o.cy.trigger({type:"layoutstop",layout:o}),t&&cancelAnimationFrame(t),void(e=!1);var c=o.layout.getPositionsData();n.eles.nodes().positions(function(e,t){if("number"===typeof e&&(e=t),!e.isParent()){for(var n=e.id(),r=c[n],o=e;null==r&&(r=c[o.data("parent")]||c["DummyCompound_"+o.data("parent")],c[n]=r,void 0!=(o=o.parent()[0])););return null!=r?{x:r.x,y:r.y}:{x:e.position("x"),y:e.position("y")}}}),u(),t=requestAnimationFrame(i)};return r.addListener("layoutstarted",function(){"during"===o.options.animate&&(t=requestAnimationFrame(p))}),r.runLayout(),"during"!==this.options.animate&&(o.options.eles.nodes().not(":parent").layoutPositions(o,o.options,h),e=!1),this},f.prototype.getTopMostNodes=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter(function(e,n){"number"===typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0});return r},f.prototype.processChildrenList=function(e,t,n){for(var r=t.length,o=0;o<r;o++){var i,a,c=t[o],f=c.children(),d=c.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((i=null!=c.outerWidth()&&null!=c.outerHeight()?e.add(new u(n.graphManager,new s(c.position("x")-d.w/2,c.position("y")-d.h/2),new l(parseFloat(d.w),parseFloat(d.h)))):e.add(new u(this.graphManager))).id=c.data("id"),i.paddingLeft=parseInt(c.css("padding")),i.paddingTop=parseInt(c.css("padding")),i.paddingRight=parseInt(c.css("padding")),i.paddingBottom=parseInt(c.css("padding")),this.options.nodeDimensionsIncludeLabels&&c.isParent()){var h=c.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=c.boundingBox({includeLabels:!0,includeNodes:!1}).h,v=c.css("text-halign");i.labelWidth=h,i.labelHeight=p,i.labelPos=v}this.idToLNode[c.data("id")]=i,isNaN(i.rect.x)&&(i.rect.x=0),isNaN(i.rect.y)&&(i.rect.y=0),null!=f&&f.length>0&&(a=n.getGraphManager().add(n.newGraph(),i),this.processChildrenList(a,f,n))}},f.prototype.stop=function(){return this.stopped=!0,this};var h=function(e){e("layout","cose-bilkent",f)};"undefined"!==typeof cytoscape&&h(cytoscape),e.exports=h}])},e.exports=r(n(60620))},25266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var r=n(24296),o=n(56294);t.range=function(e,t,n){if(null==t&&(t=e,e=0),t<=0)return o.EMPTY;var i=t+e;return new r.Observable(n?function(t){var r=e;return n.schedule(function(){r<i?(t.next(r++),this.schedule()):t.complete()})}:function(t){for(var n=e;n<i&&!t.closed;)t.next(n++);t.complete()})}},25678:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var o=r(n(56329)),i=n(76711),a=n(10742),u=r(n(17636));function s(e,t){i.Facade.call(this,e,t)}t.Page=s,o.default(s,i.Facade);var l=s.prototype;l.action=function(){return"page"},l.type=l.action,l.category=i.Facade.field("category"),l.name=i.Facade.field("name"),l.title=i.Facade.proxy("properties.title"),l.path=i.Facade.proxy("properties.path"),l.url=i.Facade.proxy("properties.url"),l.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},l.properties=function(e){var t=this.field("properties")||{},n=this.category(),r=this.name();for(var o in e=e||{},n&&(t.category=n),r&&(t.name=r),e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=null==this[o]?this.proxy("properties."+o):this[o]();if(null==i)continue;t[e[o]]=i,o!==e[o]&&delete t[o]}return t},l.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();return u.default(t)?t:void 0},l.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},l.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},l.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new a.Track(t,this.opts)}},25814:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(6326),o=n(55591),i=n(64387),a=function(e){function t(t,n){return e.call(this,t,n,new i.U)||this}return(0,r.C6)(t,e),t.system=function(){return new this({type:"track",event:"system"})},t}(o.j)},26169:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8700));t.default=r({},i.default)},26200:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&o(n,t,r[a]);return i(n,t),n}}(),u=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.GqlStatusObject=t.Notification=t.notificationClassification=t.notificationCategory=t.notificationSeverityLevel=void 0,t.polyfillGqlStatusObject=w,t.polyfillNotification=_,t.buildGqlStatusObjectFromMetadata=function(e){var t,n;if(null!=e.statuses)return e.statuses.map(function(e){return new b(e)});var r=(o=e.stream_summary,!0===(null===o||void 0===o?void 0:o.have_records_streamed)?O.SUCCESS:!1===(null===o||void 0===o?void 0:o.has_keys)?O.OMITTED_RESULT:!0===(null===o||void 0===o?void 0:o.pulled)?O.NO_DATA:O.NO_DATA_UNKNOWN_SUBCONDITION);var o;return s([r],u(null!==(n=null===(t=e.notifications)||void 0===t?void 0:t.map(w))&&void 0!==n?n:[]),!1).sort(function(e,t){return x(e)-x(t)})},t.buildNotificationsFromMetadata=function(e){if(null!=e.notifications)return e.notifications.map(function(e){return new m(e)});if(null!=e.statuses)return e.statuses.map(_).filter(function(e){return null!=e});return[]};var l=a(n(90961)),c=n(91397),f=n(84187),d={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},h={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};t.notificationSeverityLevel=h,Object.freeze(h);var p=Object.values(h),v={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};t.notificationCategory=v,Object.freeze(v);var y=Object.values(v),g=v;t.notificationClassification=g;var m=function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.position=S(e.position),this.severityLevel=P(e.severity),this.rawSeverityLevel=e.severity,this.category=T(e.category),this.rawCategory=e.category};t.Notification=m;var b=function(){function e(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!==(t=e.diagnostic_record)&&void 0!==t?t:{},this.position=null!=this.diagnosticRecord._position?S(this.diagnosticRecord._position):void 0,this.severity=P(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=T(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}return Object.defineProperty(e.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),e}();function _(e){var t,n,r;if(null!=e.neo4j_code)return new m({code:e.neo4j_code,title:e.title,description:e.description,severity:null===(t=e.diagnostic_record)||void 0===t?void 0:t._severity,category:null===(n=e.diagnostic_record)||void 0===n?void 0:n._classification,position:null===(r=e.diagnostic_record)||void 0===r?void 0:r._position})}function w(e){var t,n=e.severity===h.WARNING?d.WARNING:d.INFORMATION,o={gql_status:n.gql_status,status_description:null!==(t=e.description)&&void 0!==t?t:n.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:r({},f.rawPolyfilledDiagnosticRecord)};return null!=e.severity&&(o.diagnostic_record._severity=e.severity),null!=e.category&&(o.diagnostic_record._classification=e.category),null!=e.position&&(o.diagnostic_record._position=e.position),new b(o)}t.GqlStatusObject=b;var O={SUCCESS:new b({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new b({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new b(r(r({},d.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new b({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(O);var E=Object.freeze({"02":0,"01":1,"00":2});function x(e){var t,n,r=null===(t=e.gqlStatus)||void 0===t?void 0:t.slice(0,2);return null!==(n=E[r])&&void 0!==n?n:9999}function S(e){return null==e?{}:{offset:c.util.toNumber(e.offset),line:c.util.toNumber(e.line),column:c.util.toNumber(e.column)}}function P(e){return p.includes(e)?e:h.UNKNOWN}function T(e){return y.includes(e)?e:g.UNKNOWN}t.default=b},26252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(56294),o=n(62161),i=n(44845);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate(function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},26309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"===typeof Symbol&&Symbol.observable||"@@observable"},26382:(e,t,n)=>{"use strict";const r=n(34445),o=n(6900),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=u(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);const o=function(e){if(s.isBuffer(e)){const t=0|p(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Z(e.length)?u(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),u(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=u(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<u;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===s)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){let n=!0;for(let r=0;r<s;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function _(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function O(e,t,n,r){return X(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return X(Y(t),e,n,r)}function x(e,t,n,r){return X(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,u,s;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(s=(31&t)<<6|63&n,s>127&&(i=s));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(s=(15&t)<<12|(63&n)<<6|63&r,s>2047&&(s<55296||s>57343)&&(i=s));break;case 4:n=e[o+1],r=e[o+2],u=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&u)&&(s=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&u,s>65535&&s<1114112&&(i=s))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?u(e):void 0!==t?"string"===typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}(e,t,n)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=s.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))o+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,o){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const u=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n);for(let s=0;s<u;++s)if(l[s]!==c[s]){i=l[s],a=c[s];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return O(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=$[e[i]];return o}function j(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),s.prototype.readBigUInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),s.prototype.readBigInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Q(function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Q(function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=s.isBuffer(e)?e:s.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const U={};function B(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(i+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(i+1)-1).concat(r,") and < 2 ** ")+"".concat(8*(i+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=z(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),r+=" It must be ".concat(t,". Received ").concat(o),r},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function X(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}const $=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"===typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},26600:(e,t,n)=>{var r=n(87937)(n(56552),"WeakMap");e.exports=r},26727:(e,t,n)=>{var r=n(86983),o=n(28673);e.exports=function(e){return null==e?[]:r(e,o(e))}},26746:(e,t,n)=>{var r=n(53536),o=n(79207).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(o){var u=e.node(o),s=e.parent(o);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),r.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+u})}),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),a}},26924:(e,t,n)=>{var r=n(97685),o=n(85204),i=n(65387),a=n(72070),u=n(26600),s=n(16913),l=n(96996),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),y=l(o),g=l(i),m=l(a),b=l(u),_=s;(r&&_(new r(new ArrayBuffer(1)))!=p||o&&_(new o)!=c||i&&_(i.resolve())!=f||a&&_(new a)!=d||u&&_(new u)!=h)&&(_=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case y:return c;case g:return f;case m:return d;case b:return h}return t}),e.exports=_},26933:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(52366),a=function(){function e(e){var t=e.clientCertificateProvider,n=e.loader;this._clientCertificateProvider=t,this._loader=n||i.ClientCertificatesLoader,this._clientCertificate=null}return e.prototype.getClientCertificate=function(){return r(this,void 0,void 0,function(){var e,t,n=this;return o(this,function(r){switch(r.label){case 0:return(e=null!=this._clientCertificateProvider)?(t=null==this._clientCertificate)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:t=r.sent(),r.label=2;case 2:e=t,r.label=3;case 3:return e&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(e){return n._clientCertificate=e,n._clientCertificate}).catch(function(e){throw n._clientCertificate=null,e})),[2,this._clientCertificate]}})})},e}();t.default=a},26945:(e,t,n)=>{var r=n(95750);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach(function(e){r[e]={},r[e][e]={distance:0},o.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}})}),o.forEach(function(e){var t=r[e];o.forEach(function(n){var i=r[n];o.forEach(function(n){var r=i[e],o=t[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)})})}),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},26980:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TxConfig=void 0;var a=i(n(36021)),u=n(41421),s=n(70905),l=function(){function e(e,t){!function(e){null!=e&&a.assertObject(e,"Transaction config")}(e),this.timeout=function(e,t){if(a.isObject(e)&&null!=e.timeout){a.assertNumberOrInteger(e.timeout,"Transaction timeout"),function(e){return"number"===typeof e.timeout&&!Number.isInteger(e.timeout)}(e)&&!0===(null===t||void 0===t?void 0:t.isInfoEnabled())&&(null===t||void 0===t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up.")));var n=(0,s.int)(e.timeout,{ceilFloat:!0});if(n.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return n}return null}(e,t),this.metadata=function(e){if(a.isObject(e)&&null!=e.metadata){var t=e.metadata;if(a.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return Object.values(this).every(function(e){return null==e})},e}();t.TxConfig=l;var c=new l({})},26989:(e,t,n)=>{var r=n(16399),o=n(22761);e.exports=function e(t,n,i,a,u){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,u))}},27371:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionExecutor=void 0;var s=n(41421),l=n(79708);function c(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,u([e,t],a(n),!1))}function f(e){return clearTimeout(e)}var d=function(){function e(e,t,n,r,o){void 0===o&&(o={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=h(e,3e4),this._initialRetryDelayMs=h(t,1e3),this._multiplier=h(n,2),this._jitterFactor=h(r,.2),this._setTimeout=o.setTimeout,this._clearTimeout=o.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return e.prototype.execute=function(e,t,n){var r=this,o={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){o.apiTransactionConfig=void 0}}};return new Promise(function(i,a){r._executeTransactionInsidePromise(e,t,i,a,n,o).catch(a)}).catch(function(i){var a=Date.now(),u=r._initialRetryDelayMs;return r._retryTransactionPromise(e,t,i,a,u,n,o)})},e.prototype.close=function(){var e=this;this._inFlightTimeoutIds.forEach(function(t){return e._clearTimeout(t)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(e,t,n,r,o,i,a){var u=this;return Date.now()-r>this._maxRetryTimeMs||!(0,s.isRetryableError)(n)?Promise.reject(n):new Promise(function(n,r){var s=u._computeDelayWithJitter(o),l=u._setTimeout(function(){u._inFlightTimeoutIds=u._inFlightTimeoutIds.filter(function(e){return e!==l}),u._executeTransactionInsidePromise(e,t,n,r,i,a).catch(r)},s);u._inFlightTimeoutIds.push(l)}).catch(function(n){var s=o*u._multiplier;return u._retryTransactionPromise(e,t,n,r,s,i,a)})},e.prototype._executeTransactionInsidePromise=function(e,t,n,a,u,s){return o(this,void 0,void 0,function(){var o,l,c,f,d,h,p=this;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),l=e(null!=(null===s||void 0===s?void 0:s.apiTransactionConfig)?r({},null===s||void 0===s?void 0:s.apiTransactionConfig):void 0),this.pipelineBegin?(c=l,[3,3]):[3,1];case 1:return[4,l];case 2:c=i.sent(),i.label=3;case 3:return o=c,[3,5];case 4:return f=i.sent(),a(f),[2];case 5:return d=null!==u&&void 0!==u?u:function(e){return e},h=d(o),this._safeExecuteTransactionWork(h,t).then(function(e){return p._handleTransactionWorkSuccess(e,o,n,a)}).catch(function(e){return p._handleTransactionWorkFailure(e,o,a)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(e,t){try{var n=t(e);return Promise.resolve(n)}catch(r){return Promise.reject(r)}},e.prototype._handleTransactionWorkSuccess=function(e,t,n,r){t.isOpen()?t.commit().then(function(){n(e)}).catch(function(e){r(e)}):n(e)},e.prototype._handleTransactionWorkFailure=function(e,t,n){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return n(e)}).catch(n):n(e)},e.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,n=e-t,r=e+t;return Math.random()*(r-n)+n},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,s.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,s.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,s.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,s.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();function h(e,t){return null!=e?e:t}t.TransactionExecutor=d},27422:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(37341)),a=o(n(8607)),u=n(64260),s=n(15359),l=n(20379),c=o(n(66211)),f=o(n(19155)),d=s.internal.constants.BOLT_PROTOCOL_V4_1,h=function(e){function t(t,n,r,o,i,a,u){void 0===o&&(o=function(){return null});var s=e.call(this,t,n,r,o,i,a)||this;return s._serversideRouting=u,s}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,s=n.onError,c=n.onComplete,f=new u.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return t._onLoginCompleted(e,o,c)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(a.default.hello(r,o,this._serversideRouting),f,!0),f},t}(i.default);t.default=h},27583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(62161),o=n(44845);t.pairwise=function(){return r.operate(function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,function(e){var o=n;n=e,r&&t.next([o,e]),r=!0}))})}},27615:(e,t,n)=>{var r=n(95575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},27691:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(79708),a=function(){function e(e){this._createSession=e}return e.prototype.execute=function(e,t,n){return r(this,void 0,void 0,function(){var a,u,s=this;return o(this,function(l){switch(l.label){case 0:a=this._createSession({database:e.database,bookmarkManager:e.bookmarkManager,impersonatedUser:e.impersonatedUser,auth:e.auth}),u=function(e,t,n){"function"===typeof(null===e||void 0===e?void 0:e.addEventListener)&&e.addEventListener(t,n);return{uninstall:function(){"function"===typeof(null===e||void 0===e?void 0:e.removeEventListener)&&e.removeEventListener(t,n)}}}(e.signal,"abort",function(){return r(s,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,a.close()];case 1:return[2,e.sent()]}})})}),a._configureTransactionExecutor(!0,i.TELEMETRY_APIS.EXECUTE_QUERY),l.label=1;case 1:return l.trys.push([1,,3,5]),[4,("READ"===e.routing?a.executeRead.bind(a):a.executeWrite.bind(a))(function(i){return r(s,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=i.run(t,n),[4,e.resultTransformer(r)];case 1:return[2,o.sent()]}})})},e.transactionConfig)];case 2:return[2,l.sent()];case 3:return u.uninstall(),[4,a.close()];case 4:return l.sent(),[7];case 5:return[2]}})})},e}();t.default=a},27760:e=>{e.exports=function(e){return this.__data__.get(e)}},27801:(e,t,n)=>{"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}n.d(t,{p:()=>r})},27833:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var i=n(12836);t.animationFrameProvider={schedule:function(e){var n=requestAnimationFrame,r=cancelAnimationFrame,o=t.animationFrameProvider.delegate;o&&(n=o.requestAnimationFrame,r=o.cancelAnimationFrame);var a=n(function(t){r=void 0,e(t)});return new i.Subscription(function(){return null===r||void 0===r?void 0:r(a)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null===i||void 0===i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],r(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null===i||void 0===i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],r(e)))},delegate:void 0}},27842:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var o=r(n(56329)),i=r(n(17636)),a=r(n(75629)),u=n(76711);function s(e,t){u.Facade.call(this,e,t)}t.Group=s,o.default(s,u.Facade);var l=s.prototype;l.action=function(){return"group"},l.type=l.action,l.groupId=u.Facade.field("groupId"),l.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a.default(e)},l.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return i.default(t)?t:void 0},l.traits=function(e){var t=this.properties(),n=this.groupId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=null==this[r]?this.proxy("traits."+r):this[r]();if(null==o)continue;t[e[r]]=o,delete t[r]}return t},l.name=u.Facade.proxy("traits.name"),l.industry=u.Facade.proxy("traits.industry"),l.employees=u.Facade.proxy("traits.employees"),l.properties=function(){return this.field("traits")||this.field("properties")||{}}},27894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},28033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(84347),o=n(6689),i=n(62161),a=n(44845);t.retryWhen=function(e){return i.operate(function(t,n){var i,u,s=!1,l=function(){i=t.subscribe(a.createOperatorSubscriber(n,void 0,void 0,function(t){u||(u=new o.Subject,r.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(n,function(){return i?l():s=!0}))),u&&u.next(t)})),s&&(i.unsubscribe(),i=null,s=!1,l())};l()})}},28149:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(87398));t.default=r({},i.default)},28230:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),o=0;o<r.length;o++)"default"!==r[o]&&i(n,t,r[o]);return a(n,t),n}}(),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},c=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(15359),p=u(n(47940)),v=n(52366),y=d(n(55350)),g=d(n(59929)),m=n(24577),b=n(75943),_=n(66831),w=h.error.SERVICE_UNAVAILABLE,O=h.error.SESSION_EXPIRED,E=h.internal.bookmarks.Bookmarks,x=h.internal.constants,S=x.ACCESS_MODE_READ,P=x.ACCESS_MODE_WRITE,T=x.BOLT_PROTOCOL_V3,C=x.BOLT_PROTOCOL_V4_0,k=x.BOLT_PROTOCOL_V4_4,A=x.BOLT_PROTOCOL_V5_1,j="Neo.ClientError.Database.DatabaseNotFound",R="Neo.ClientError.Transaction.InvalidBookmark",I="Neo.ClientError.Transaction.InvalidBookmarkMixture",N="Neo.ClientError.Security.AuthorizationExpired",M="Neo.ClientError.Statement.ArgumentError",D="Neo.ClientError.Request.Invalid",L="Neo.ClientError.Statement.TypeError",F="N/A",U=null,B=(0,h.int)(3e4),z=function(e){function t(t){var n=t.id,r=t.address,i=t.routingContext,a=t.hostNameResolver,u=t.config,c=t.log,f=t.userAgent,d=t.boltAgent,y=t.authTokenManager,g=t.routingTablePurgeDelay,w=t.newPool,O=e.call(this,{id:n,config:u,log:c,userAgent:f,boltAgent:d,authTokenManager:y,newPool:w},function(e){return s(O,void 0,void 0,function(){var t,n;return l(this,function(r){switch(r.label){case 0:return t=b.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent(),this._routingContext,this._channelSsrCallback.bind(this)]))]}})})})||this;return O._routingContext=o(o({},i),{address:r.toString()}),O._seedRouter=r,O._rediscovery=new p.default(O._routingContext),O._loadBalancingStrategy=new m.LeastConnectedLoadBalancingStrategy(O._connectionPool),O._startTime=0,O._hostNameResolver=a,O._dnsResolver=new v.HostNameResolver,O._log=c,O._useSeedRouter=!0,O._routingTableRegistry=new V(g?(0,h.int)(g):B),O._refreshRoutingTable=_.functional.reuseOngoingRequest(O._refreshRoutingTable,O),O._withSSR=0,O._withoutSSR=0,O}return r(t,e),t.prototype._createConnectionErrorHandler=function(){return new b.ConnectionErrorHandler(O)},t.prototype._handleUnavailability=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,n||U),e},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r,o)},t.prototype._handleWriteFailure=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,n||U),(0,h.newError)("No longer possible to write to server at "+t,O,e)},t.prototype.acquireConnection=function(){return s(this,arguments,void 0,function(e){var t,n,r,o,i,a=this,u=void 0===e?{}:e,s=u.accessMode,c=u.database,f=u.bookmarks,d=u.impersonatedUser,h=u.onDatabaseNameResolved,v=u.auth,y=u.homeDb;return l(this,function(e){switch(e.label){case 0:return t={database:c||U},n=new b.ConnectionErrorHandler(O,function(e,n){return a._handleUnavailability(e,n,t.database)},function(e,n){return a._handleWriteFailure(e,n,null!==y&&void 0!==y?y:t.database)},function(e,n,r){return a._handleSecurityError(e,n,r,t.database)}),this._startTime=(new Date).getTime(),this.SSREnabled()&&void 0!==y&&""===c?!(o=this._routingTableRegistry.get(y,function(){return new p.RoutingTable({database:y})}))||o.isStaleFor(s)?[3,2]:[4,this._getConnectionFromRoutingTable(o,v,s,n)]:[3,2];case 1:if(r=e.sent(),this.SSREnabled())return[2,r];r.release(),e.label=2;case 2:return[4,this._freshRoutingTable({accessMode:s,database:t.database,bookmarks:f,impersonatedUser:d,auth:v,onDatabaseNameResolved:function(e){t.database=t.database||e,h&&h(e)}})];case 3:return i=e.sent(),[2,this._getConnectionFromRoutingTable(i,v,s,n)]}})})},t.prototype._getConnectionFromRoutingTable=function(e,t,n,r){return s(this,void 0,void 0,function(){var o,i,a,u;return l(this,function(s){switch(s.label){case 0:if(n===S)i=this._loadBalancingStrategy.selectReader(e.readers),o="read";else{if(n!==P)throw(0,h.newError)("Illegal mode "+n);i=this._loadBalancingStrategy.selectWriter(e.writers),o="write"}if(!i)throw(0,h.newError)("Failed to obtain connection towards ".concat(o," server. Known routing table is: ").concat(e),O);s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this._connectionPool.acquire({auth:t,startTime:this._startTime},i)];case 2:return a=s.sent(),t?[4,this._verifyStickyConnection({auth:t,connection:a,address:i})]:[3,4];case 3:return s.sent(),[2,a];case 4:return[2,new b.DelegateConnection(a,r)];case 5:throw u=s.sent(),r.handleAndTransformError(u,i);case 6:return[2]}})})},t.prototype._hasProtocolVersion=function(e){return s(this,void 0,void 0,function(){var t,n,r,o,i,a;return l(this,function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=u.sent(),r=0,u.label=2;case 2:if(!(r<t.length))return[3,8];u.label=3;case 3:return u.trys.push([3,6,,7]),[4,this._createChannelConnection(t[r])];case 4:return o=u.sent(),i=o.protocol()?o.protocol().version:null,[4,o.close()];case 5:return u.sent(),i?[2,e(i)]:[2,!1];case 6:return a=u.sent(),n=a,[3,7];case 7:return r++,[3,2];case 8:if(n)throw n;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(C)})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(T)})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(k)})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(A)})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.verifyAuthentication=function(e){return s(this,arguments,void 0,function(e){var t=this,n=e.database,r=e.accessMode,o=e.auth;return l(this,function(e){return this._startTime=(new Date).getTime(),[2,this._verifyAuthentication({auth:o,getAddress:function(){return s(t,void 0,void 0,function(){var e,t,i;return l(this,function(a){switch(a.label){case 0:return e={database:n||U},[4,this._freshRoutingTable({accessMode:r,database:e.database,auth:o,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:if(t=a.sent(),0===(i=r===P?t.writers:t.readers).length)throw(0,h.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(r,"'"),w);return[2,i[0]]}})})}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(e){return s(this,arguments,void 0,function(e){var t,n,r,o,i,a,u,s,f,d,p,v=e.database,y=e.accessMode;return l(this,function(e){switch(e.label){case 0:return t={database:v||U},this._startTime=(new Date).getTime(),[4,this._freshRoutingTable({accessMode:y,database:t.database,onDatabaseNameResolved:function(e){t.database=t.database||e}})];case 1:n=e.sent(),r=y===P?n.writers:n.readers,o=(0,h.newError)("No servers available for database '".concat(t.database,"' with access mode '").concat(y,"'"),w),e.label=2;case 2:e.trys.push([2,9,10,11]),i=c(r),a=i.next(),e.label=3;case 3:if(a.done)return[3,8];u=a.value,e.label=4;case 4:return e.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:u})];case 5:return[2,e.sent()];case 6:return s=e.sent(),o=s,[3,7];case 7:return a=i.next(),[3,3];case 8:return[3,11];case 9:return f=e.sent(),d={error:f},[3,11];case 10:try{a&&!a.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 11:throw o}})})},t.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},t.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},t.prototype._freshRoutingTable=function(e){var t=void 0===e?{}:e,n=t.accessMode,r=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,u=t.auth,s=this._routingTableRegistry.get(r,function(){return new p.RoutingTable({database:r})});return s.isStaleFor(n)?(this._log.info('Routing table is stale for database: "'.concat(r,'" and access mode: "').concat(n,'": ').concat(s)),this._refreshRoutingTable(s,o,i,u).then(function(e){return a(e.database),e})):s},t.prototype._refreshRoutingTable=function(e,t,n,r){var o=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,e,t,n,r):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,e,t,n,r)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,t,n,r,o){return s(this,void 0,void 0,function(){var i,a,u,s,c,d,h;return l(this,function(l){switch(l.label){case 0:return i=[],[4,this._fetchRoutingTableUsingSeedRouter(i,this._seedRouter,t,n,r,o)];case 1:return a=f.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 3:c=f.apply(void 0,[l.sent(),2]),d=c[0],h=c[1],u=d,s=h||s,l.label=4;case 4:return[4,this._applyRoutingTableIfPossible(t,u,s)];case 5:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,t,n,r,o){return s(this,void 0,void 0,function(){var i,a,u,s;return l(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 1:return i=f.apply(void 0,[l.sent(),2]),a=i[0],u=i[1],a?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,t,n,r,o)];case 2:s=f.apply(void 0,[l.sent(),2]),a=s[0],u=s[1],l.label=3;case 3:return[4,this._applyRoutingTableIfPossible(t,a,u)];case 4:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,n,r,o,i){return s(this,void 0,void 0,function(){var a,u,s,c;return l(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTable(e,n,r,o,i)];case 1:return a=f.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?[2,[u,null]]:(c=e.length-1,t._forgetRouter(n,e,c),[2,[null,s]])}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,t,n,r,o,i){return s(this,void 0,void 0,function(){var a,u;return l(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(t)];case 1:return a=s.sent(),u=a.filter(function(t){return e.indexOf(t)<0}),[4,this._fetchRoutingTable(u,n,r,o,i)];case 2:return[2,s.sent()]}})})},t.prototype._resolveSeedRouter=function(e){return s(this,void 0,void 0,function(){var t,n,r=this;return l(this,function(o){switch(o.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return t=o.sent(),[4,Promise.all(t.map(function(e){return r._dnsResolver.resolve(e)}))];case 2:return n=o.sent(),[2,[].concat.apply([],n)]}})})},t.prototype._fetchRoutingTable=function(e,n,r,o,i){return s(this,void 0,void 0,function(){var a=this;return l(this,function(u){return[2,e.reduce(function(u,c,d){return s(a,void 0,void 0,function(){var a,s,h,p,v,y,g;return l(this,function(l){switch(l.label){case 0:return[4,u];case 1:return a=f.apply(void 0,[l.sent(),1]),(s=a[0])?[2,[s,null]]:(h=d-1,t._forgetRouter(n,e,h),[4,this._createSessionForRediscovery(c,r,o,i)]);case 2:if(p=f.apply(void 0,[l.sent(),2]),v=p[0],y=p[1],!v)return[3,8];l.label=3;case 3:return l.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(v,n.database,c,o)];case 4:return[2,[l.sent(),null]];case 5:return g=l.sent(),[2,this._handleRediscoveryError(g,c)];case 6:return v.close(),[7];case 7:return[3,9];case 8:return[2,[null,y]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},t.prototype._createSessionForRediscovery=function(e,t,n,r){return s(this,void 0,void 0,function(){var o,i,a,u,s,c=this;return l(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:r,startTime:this._startTime},e)];case 1:return o=l.sent(),r?[4,this._verifyStickyConnection({auth:r,connection:o,address:e})]:[3,3];case 2:l.sent(),l.label=3;case 3:return i=b.ConnectionErrorHandler.create({errorCode:O,handleSecurityError:function(e,t,n){return c._handleSecurityError(e,t,n)}}),a=o._sticky?new b.DelegateConnection(o):new b.DelegateConnection(o,i),u=new y.default(a),o.protocol().version.isLessThan({major:4,minor:0})?[2,[new h.Session({mode:P,bookmarks:E.empty(),connectionProvider:u}),null]]:[2,[new h.Session({mode:S,database:"system",bookmarks:t,connectionProvider:u,impersonatedUser:n}),null]];case 4:return s=l.sent(),[2,this._handleRediscoveryError(s,e)];case 5:return[2]}})})},t.prototype._handleRediscoveryError=function(e,t){if(function(e){return[j,R,I,M,D,L,F].includes(e.code)}(e)||function(e){var t;return(null===(t=e.code)||void 0===t?void 0:t.startsWith("Neo.ClientError.Security."))&&![N].includes(e.code)}(e))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,h.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),w,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},t.prototype._applyRoutingTableIfPossible=function(e,t,n){return s(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:if(!t)throw(0,h.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),w,n);return 0===t.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(t)];case 1:return r.sent(),[2,t]}})})},t.prototype._updateRoutingTable=function(e){return s(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),this._log.info("Updated routing table ".concat(e)),[2]}})})},t._forgetRouter=function(e,t,n){var r=t[n];e&&r&&e.forgetRouter(r)},t.prototype._channelSsrCallback=function(e,t){if("OPEN"===t)!0===e?this._withSSR=this._withSSR+1:this._withoutSSR=this._withoutSSR+1;else{if("CLOSE"!==t)throw(0,h.newError)("Channel SSR Callback invoked with action other than 'OPEN' or 'CLOSE'");!0===e?this._withSSR=this._withSSR-1:this._withoutSSR=this._withoutSSR-1}},t.prototype.SSREnabled=function(){return this._withSSR>0&&0===this._withoutSSR},t}(g.default);t.default=z;var V=function(){function e(e){this._tables=new Map,this._routingTablePurgeDelay=e}return e.prototype.register=function(e){return this._tables.set(e.database,e),this},e.prototype.apply=function(e,t){var n=void 0===t?{}:t,r=n.applyWhenExists,o=n.applyWhenDontExists,i=void 0===o?function(){}:o;return this._tables.has(e)?r(this._tables.get(e)):"string"===typeof e||null===e?i():this._forEach(r),this},e.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"===typeof t?t():t},e.prototype.removeExpired=function(){var e=this;return this._removeIf(function(t){return t.isExpiredFor(e._routingTablePurgeDelay)})},e.prototype._forEach=function(e){var t,n;try{for(var r=c(this._tables),o=r.next();!o.done;o=r.next()){e(f(o.value,2)[1])}}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype._remove=function(e){return this._tables.delete(e),this},e.prototype._removeIf=function(e){var t,n;try{for(var r=c(this._tables),o=r.next();!o.done;o=r.next()){var i=f(o.value,2),a=i[0];e(i[1])&&this._remove(a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e}()},28325:(e,t,n)=>{var r=n(22541),o=n(5654),i=n(33279),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},28460:e=>{var t=function(){};t.prototype={fit:function(e){var t,n,r,o,i=e.length,a=i>0?e[0].width:0,u=i>0?e[0].height:0;for(this.root={x:0,y:0,width:a,height:u},t=0;t<i;t++)r=e[t],(n=this.findNode(this.root,r.width,r.height))?(o=this.splitNode(n,r.width,r.height),r.x=o.x,r.y=o.y):(o=this.growNode(r.width,r.height),r.x=o.x,r.y=o.y)},findNode:function(e,t,n){return e.used?this.findNode(e.right,t,n)||this.findNode(e.down,t,n):t<=e.width&&n<=e.height?e:null},splitNode:function(e,t,n){return e.used=!0,e.down={x:e.x,y:e.y+n,width:e.width,height:e.height-n},e.right={x:e.x+t,y:e.y,width:e.width-t,height:n},e},growNode:function(e,t){var n=e<=this.root.width,r=t<=this.root.height,o=r&&this.root.height>=this.root.width+e,i=n&&this.root.width>=this.root.height+t;return o?this.growRight(e,t):i?this.growDown(e,t):r?this.growRight(e,t):n?this.growDown(e,t):null},growRight:function(e,t){var n;return this.root={used:!0,x:0,y:0,width:this.root.width+e,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:e,height:this.root.height}},(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null},growDown:function(e,t){var n;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+t,down:{x:0,y:this.root.height,width:this.root.width,height:t},right:this.root},(n=this.findNode(this.root,e,t))?this.splitNode(n,e,t):null}},e.exports=t},28582:(e,t,n)=>{e.exports={components:n(35992),dijkstra:n(75822),dijkstraAll:n(78976),findCycles:n(30247),floydWarshall:n(26945),isAcyclic:n(49825),postorder:n(51896),preorder:n(30127),prim:n(86368),tarjan:n(18808),topsort:n(38353)}},28673:(e,t,n)=>{var r=n(73204),o=n(83713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},28904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(21737),o=n(9620);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap(function(){return e},t):r.switchMap(function(){return e})}},28944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},28956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(95389),o=n(9620);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap(function(){return e},t):r.concatMap(function(){return e})}},29075:(e,t,n)=>{var r=n(96614),o=n(56326);e.exports=function(e,t){return r(e,o(e),t)}},29155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(32308),o=n(24643);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},29491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},29718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(3399),o=n(2694);t.exhaustAll=function(){return r.exhaustMap(o.identity)}},29799:(e,t,n)=>{"use strict";function r(e,t){return new Promise(function(n,r){var o=setTimeout(function(){r(Error("Promise timed out"))},t);e.then(function(e){return clearTimeout(o),n(e)}).catch(r)})}function o(e,t,n){var o;return(o=n,new Promise(function(e){return setTimeout(e,o)})).then(function(){return r(function(){try{return Promise.resolve(t(e))}catch(n){return Promise.reject(n)}}(),1e3)}).catch(function(t){null===e||void 0===e||e.log("warn","Callback Error",{error:t}),null===e||void 0===e||e.stats.increment("callback_error")}).then(function(){return e})}n.d(t,{s2:()=>r,w_:()=>o})},29825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(81038);t.NotFoundError=r.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})},29915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24507);function o(e){return Promise.resolve([e])}var i=function(){function e(e){this._resolverFunction=null!==e&&void 0!==e?e:o}return e.prototype.resolve=function(e){var t=this;return new Promise(function(n){return n(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return r.ServerAddress.fromUrl(e)})})},e}();t.default=i},29935:(e,t,n)=>{var r=n(61340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},30024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(81038);t.ObjectUnsubscribedError=r.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},30127:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"pre")}},30247:(e,t,n)=>{var r=n(95750),o=n(18808);e.exports=function(e){return r.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},30417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(62161),o=n(66564),i=n(44845),a=n(84347);t.buffer=function(e){return r.operate(function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,function(e){return r.push(e)},function(){n.next(r),n.complete()})),a.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){var e=r;r=[],n.next(e)},o.noop)),function(){r=null}})}},30433:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},30447:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest,i=[],a=[],u={},s=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:s,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var l in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),u[t]=u[t]?u[t]+","+n:n}),n(s())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(l,t.headers[l]);o.send(t.body||null)})}n.d(t,{h:()=>i});var o=n(95198),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.m)();return(n&&n.fetch||r).apply(void 0,e)}},30450:(e,t,n)=>{var r=n(80755),o=n(55647),i=n(64416),a=n(76272),u=o(function(e){return i(r(e,1,a,!0))});e.exports=u},30474:(e,t,n)=>{var r=n(73204),o=n(58122),i=n(6571);e.exports=function(e){return i(e)?r(e,!0):o(e)}},30509:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(5141),a=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map(function(t){return function(e,t){return a(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)})}},30642:function(e){e.exports=function(){"use strict";function e(e,r,o,i,a){!function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var u=i-o+1,s=r-o+1,l=Math.log(u),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(u-c)/u)*(s-u/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-s*c/u+f)),Math.min(i,Math.floor(r+(u-s)*c/u+f)),a)}var d=n[r],h=o,p=i;for(t(n,o,r),a(n[i],d)>0&&t(n,o,i);h<p;){for(t(n,h,p),h++,p--;a(n[h],d)<0;)h++;for(;a(n[p],d)>0;)p--}0===a(n[o],d)?t(n,o,p):t(n,++p,i),p<=r&&(o=p+1),r<=p&&(i=p-1)}}(e,r,o||0,i||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,o){o||(o=p(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];u(o,e.leaf?r(a):a)}return o}function u(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function s(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var u=n+Math.ceil((r-n)/o/2)*o;e(t,u,n,r,i),a.push(n,u,u,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!h(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],u=t.leaf?r(a):a;h(e,u)&&(t.leaf?n.push(a):d(e,u)?this._all(a,n):o.push(a))}t=o.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(h(e,i)){if(t.leaf||d(e,i))return!0;n.push(o)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,u=this.toBBox(e),s=[],l=[];a||s.length;){if(a||(a=s.pop(),r=s[s.length-1],n=l.pop(),i=!0),a.leaf){var c=o(e,a.children,t);if(-1!==c)return a.children.splice(c,1),s.push(a),this._condense(s),this}i||a.leaf||!d(a,u)?r?(n++,a=r.children[n],i=!1):a=null:(s.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var o,a=n-t+1,u=this._maxEntries;if(a<=u)return i(o=p(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(u)),u=Math.ceil(a/Math.pow(u,r-1))),(o=p([])).leaf=!1,o.height=r;var s=Math.ceil(a/u),l=s*Math.ceil(Math.sqrt(u));v(e,t,n,l,this.compareMinX);for(var c=t;c<=n;c+=l){var f=Math.min(c+l-1,n);v(e,c,f,s,this.compareMinY);for(var d=c;d<=f;d+=s){var h=Math.min(d+s-1,f);o.children.push(this._build(e,d,h,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,u=0;u<t.children.length;u++){var s=t.children[u],l=c(s),f=(d=e,h=s,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l);f<i?(i=f,o=l<o?l:o,a=s):f===i&&l<o&&(o=l,a=s)}t=a||t.children[0]}var d,h;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),u(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),u=p(n.children.splice(a,n.children.length-a));u.height=n.height,u.leaf=n.leaf,i(n,this.toBBox),i(u,this.toBBox),t?e[t-1].children.push(u):this._splitRoot(n,u)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,o,i,u,s,l,f,d=1/0,h=1/0,p=t;p<=n-t;p++){var v=a(e,0,p,this.toBBox),y=a(e,p,n,this.toBBox),g=(o=v,i=y,u=void 0,s=void 0,l=void 0,f=void 0,u=Math.max(o.minX,i.minX),s=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,l-u)*Math.max(0,f-s)),m=c(v)+c(y);g<d?(d=g,r=p,h=m<h?m:h):g===d&&m<h&&(h=m,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:s,o=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=a(e,0,t,o),s=a(e,n-t,n,o),l=f(i)+f(s),c=t;c<n-t;c++){var d=e.children[c];u(i,e.leaf?o(d):d),l+=f(i)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];u(s,e.leaf?o(p):p),l+=f(s)}return l},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)u(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()},30819:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var i=n(24296);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return i.Observable}});var a=n(73508);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var u=n(26309);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return u.observable}});var s=n(72548);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var l=n(6689);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=n(45723);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=n(1332);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=n(92829);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var h=n(97778);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var p=n(93323);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var v=n(6948);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var y=n(38844);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return y.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return y.animationFrameScheduler}});var g=n(55468);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return g.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return g.VirtualAction}});var m=n(81964);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var b=n(12836);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return b.Subscription}});var _=n(40203);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=n(98994);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var O=n(88324);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return O.pipe}});var E=n(66564);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return E.noop}});var x=n(2694);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return x.identity}});var S=n(93677);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var P=n(65136);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var T=n(44898);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return T.firstValueFrom}});var C=n(59619);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return C.ArgumentOutOfRangeError}});var k=n(86953);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var A=n(29825);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var j=n(30024);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return j.ObjectUnsubscribedError}});var R=n(13467);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var I=n(3004);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return I.TimeoutError}});var N=n(1914);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return N.UnsubscriptionError}});var M=n(77659);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return M.bindCallback}});var D=n(41339);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return D.bindNodeCallback}});var L=n(61705);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var F=n(36499);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return F.concat}});var U=n(53049);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return U.connectable}});var B=n(69583);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return B.defer}});var z=n(56294);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return z.empty}});var V=n(31695);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var W=n(99963);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var H=n(54051);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return H.fromEvent}});var q=n(4241);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return q.fromEventPattern}});var G=n(53240);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return G.generate}});var Y=n(14123);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return Y.iif}});var X=n(43182);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return X.interval}});var K=n(92031);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return K.merge}});var Z=n(84086);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return Z.never}});var $=n(16118);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return $.of}});var Q=n(20344);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return Q.onErrorResumeNext}});var J=n(23122);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return J.pairs}});var ee=n(72909);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var te=n(61954);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return te.race}});var ne=n(25266);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return ne.range}});var re=n(80869);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return re.throwError}});var oe=n(81414);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=n(4999);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ie.using}});var ae=n(19304);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ae.zip}});var ue=n(76354);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return ue.scheduled}});var se=n(56294);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return se.EMPTY}});var le=n(84086);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return le.NEVER}}),o(n(13776),t);var ce=n(29491);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ce.config}});var fe=n(87824);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return fe.audit}});var de=n(86669);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return de.auditTime}});var he=n(30417);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return he.buffer}});var pe=n(73742);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return pe.bufferCount}});var ve=n(47076);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var ye=n(83369);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return ye.bufferToggle}});var ge=n(18105);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return ge.bufferWhen}});var me=n(71400);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return me.catchError}});var be=n(33795);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return be.combineAll}});var _e=n(74958);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return _e.combineLatestAll}});var we=n(92309);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return we.combineLatestWith}});var Oe=n(15812);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return Oe.concatAll}});var Ee=n(95389);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Ee.concatMap}});var xe=n(28956);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return xe.concatMapTo}});var Se=n(47203);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Se.concatWith}});var Pe=n(62101);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return Pe.connect}});var Te=n(32272);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Te.count}});var Ce=n(49148);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Ce.debounce}});var ke=n(61473);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return ke.debounceTime}});var Ae=n(14892);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Ae.defaultIfEmpty}});var je=n(49136);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return je.delay}});var Re=n(4540);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return Re.delayWhen}});var Ie=n(42119);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Ie.dematerialize}});var Ne=n(45987);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Ne.distinct}});var Me=n(59847);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Me.distinctUntilChanged}});var De=n(38586);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return De.distinctUntilKeyChanged}});var Le=n(49794);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Fe=n(50582);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Fe.endWith}});var Ue=n(47436);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Ue.every}});var Be=n(76921);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Be.exhaust}});var ze=n(29718);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return ze.exhaustAll}});var Ve=n(3399);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ve.exhaustMap}});var We=n(95899);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return We.expand}});var He=n(84905);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return He.filter}});var qe=n(55089);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return qe.finalize}});var Ge=n(64164);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return Ge.find}});var Ye=n(74238);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Ye.findIndex}});var Xe=n(70829);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Xe.first}});var Ke=n(2189);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Ke.groupBy}});var Ze=n(16004);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return Ze.ignoreElements}});var $e=n(14870);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return $e.isEmpty}});var Qe=n(7875);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Qe.last}});var Je=n(5141);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Je.map}});var et=n(9444);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return et.mapTo}});var tt=n(56686);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return tt.materialize}});var nt=n(64541);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return nt.max}});var rt=n(95400);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return rt.mergeAll}});var ot=n(95408);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return ot.flatMap}});var it=n(18137);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return it.mergeMap}});var at=n(13816);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return at.mergeMapTo}});var ut=n(47330);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ut.mergeScan}});var st=n(50703);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return st.mergeWith}});var lt=n(14295);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return lt.min}});var ct=n(54429);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ct.multicast}});var ft=n(76522);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ft.observeOn}});var dt=n(18088);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return dt.onErrorResumeNextWith}});var ht=n(27583);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ht.pairwise}});var pt=n(99294);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return pt.pluck}});var vt=n(5812);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return vt.publish}});var yt=n(31170);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return yt.publishBehavior}});var gt=n(67956);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return gt.publishLast}});var mt=n(49023);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return mt.publishReplay}});var bt=n(59606);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return bt.raceWith}});var _t=n(33837);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return _t.reduce}});var wt=n(87968);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return wt.repeat}});var Ot=n(34924);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return Ot.repeatWhen}});var Et=n(11481);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return Et.retry}});var xt=n(28033);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return xt.retryWhen}});var St=n(59543);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return St.refCount}});var Pt=n(15321);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Pt.sample}});var Tt=n(55244);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Tt.sampleTime}});var Ct=n(57206);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ct.scan}});var kt=n(24456);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return kt.sequenceEqual}});var At=n(9268);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return At.share}});var jt=n(12959);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return jt.shareReplay}});var Rt=n(8439);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return Rt.single}});var It=n(62856);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return It.skip}});var Nt=n(296);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Nt.skipLast}});var Mt=n(7054);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Mt.skipUntil}});var Dt=n(61003);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Dt.skipWhile}});var Lt=n(5951);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Lt.startWith}});var Ft=n(95518);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ft.subscribeOn}});var Ut=n(44984);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Ut.switchAll}});var Bt=n(21737);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Bt.switchMap}});var zt=n(28904);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return zt.switchMapTo}});var Vt=n(49586);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Vt.switchScan}});var Wt=n(26252);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Wt.take}});var Ht=n(72732);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return Ht.takeLast}});var qt=n(45770);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return qt.takeUntil}});var Gt=n(13199);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return Gt.takeWhile}});var Yt=n(506);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Yt.tap}});var Xt=n(63311);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return Xt.throttle}});var Kt=n(60906);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Kt.throttleTime}});var Zt=n(76679);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Zt.throwIfEmpty}});var $t=n(79743);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return $t.timeInterval}});var Qt=n(3004);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Qt.timeout}});var Jt=n(49220);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Jt.timeoutWith}});var en=n(12467);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return en.timestamp}});var tn=n(95449);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tn.toArray}});var nn=n(81831);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return nn.window}});var rn=n(97164);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return rn.windowCount}});var on=n(80098);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return on.windowTime}});var an=n(70427);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return an.windowToggle}});var un=n(38087);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return un.windowWhen}});var sn=n(32784);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return sn.withLatestFrom}});var ln=n(54193);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return ln.zipAll}});var cn=n(41912);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return cn.zipWith}})},31170:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(45723),o=n(73508);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,function(){return n})}}},31571:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(80193)),i=n(15359),a=i.internal.util,u=a.ENCRYPTION_OFF,s=a.ENCRYPTION_ON,l=function(){function e(e,t,n){void 0===t&&(t=c),void 0===n&&(n=function(e){return new WebSocket(e)});var r=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var a=function(e,t){var n=function(e){return!0===e.encrypted||e.encrypted===s}(e),r=function(e){return!1===e.encrypted||e.encrypted===u}(e),o=e.trust,a=function(e){var t="function"===typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);if(function(e,t,n){null===n||(e&&!n?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&n&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(n,r,a),r)return{scheme:"ws",error:null};if(a)return{scheme:"wss",error:null};if(n){return o&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==o?{scheme:null,error:(0,i.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null}}return{scheme:"ws",error:null}}(e,t),l=a.scheme,f=a.error;if(f)this._error=f;else{this._ws=function(e,t,n){var r=e+"://"+t.asHostPort();try{return n(r)}catch(f){if(function(e,t){return"SyntaxError"===e.name&&(n=t.asHostPort(),"["===n.charAt(0)&&-1!==n.indexOf("]"));var n}(f,t)){var o=function(e,t){var n=t.host().replace(/:/g,"-"),r=n.replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(r,":").concat(t.port())}(e,t);return n(o)}throw f}}(l,e.address,n),this._ws.binaryType="arraybuffer";var d=this;this._ws.onclose=function(e){e&&!e.wasClean&&d._handleConnectionError(),d._open=!1},this._ws.onopen=function(){d._clearConnectionTimeout();var e=d._pending;d._pending=null;for(var t=0;t<e.length;t++)d.write(e[t])},this._ws.onmessage=function(e){if(r._resetTimeout(),d.onmessage){var t=new o.default(e.data);d.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,i.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,i.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof o.default))throw(0,i.newError)("Don't know how to send buffer: "+e);try{this._ws.send(e._buffer)}catch(t){if(1===this._ws.readyState)throw(0,i.newError)("unexpected failure to write.",void 0,t);this._handleConnectionError()}}},e.prototype.close=function(){var e=this;return null===this._closingPromise&&(this._closingPromise=new Promise(function(t,n){e._clearConnectionTimeout(),e._ws&&3!==e._ws.readyState?(e._open=!1,e.stopReceiveTimeout(),e._ws.onclose=function(){t()},e._ws.close()):t()})),this._closingPromise},e.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},e.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,i.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var e=this,t=this._config.connectionTimeout;if(t){var n=this._ws;return setTimeout(function(){1!==n.readyState&&(e._connectionTimeoutFired=!0,n.close())},t)}return null},e.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},e}();function c(){return"undefined"!==typeof window&&window.location?window.location.protocol:null}t.default=l},31695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var r=n(24296),o=n(45926),i=n(84347),a=n(47737),u=n(44845),s=n(30509),l=n(63079);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popResultSelector(e),c=o.argsArgArrayOrObject(e),f=c.args,d=c.keys,h=new r.Observable(function(e){var t=f.length;if(t)for(var n=new Array(t),r=t,o=t,a=function(t){var a=!1;i.innerFrom(f[t]).subscribe(u.createOperatorSubscriber(e,function(e){a||(a=!0,o--),n[t]=e},function(){return r--},void 0,function(){r&&a||(o||e.next(d?l.createObject(d,n):n),e.complete())}))},s=0;s<t;s++)a(s);else e.complete()});return n?h.pipe(s.mapOneOrManyArgs(n)):h}},32035:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.authTokenManagers=t.AuthTokenAndExpiration=void 0,t.staticAuthTokenManager=function(e){var t=e.authToken;return new h(t)};var a=i(n(4149)),u=n(91397),s=function(){function e(){}return e.prototype.getToken=function(){throw new Error("Not Implemented")},e.prototype.handleSecurityException=function(e,t){throw new Error("Not implemented")},e}();t.default=s;var l=function(){this.token=a.default.none(),this.expiration=void 0};t.AuthTokenAndExpiration=l;var c=new(function(){function e(){}return e.prototype.bearer=function(e){var t=e.tokenProvider;if("function"!==typeof t)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof t));return new d(t,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},e.prototype.basic=function(e){var t=this,n=e.tokenProvider;if("function"!==typeof n)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof n));return new d(function(){return r(t,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e={},[4,n()];case 1:return[2,(e.token=t.sent(),e)]}})})},["Neo.ClientError.Security.Unauthorized"])},e}());t.authTokenManagers=c,Object.freeze(c);var f=function(){function e(e){void 0===e&&(e=[]),this._subscribers=e}return e.prototype.subscribe=function(e){this._subscribers.push(e)},e.prototype.onCompleted=function(e){this._subscribers.forEach(function(t){return t.onCompleted(e)})},e.prototype.onError=function(e){this._subscribers.forEach(function(t){return t.onError(e)})},e}(),d=function(){function e(e,t,n,r){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=n,this._refreshObservable=r}return e.prototype.getToken=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,null===(e=this._currentAuthData)||void 0===e?void 0:e.token]}})})},e.prototype.handleSecurityException=function(e,t){var n;return!!this._handledSecurityCodes.includes(t)&&(u.util.equals(e,null===(n=this._currentAuthData)||void 0===n?void 0:n.token)&&this._scheduleRefreshAuthToken(),!0)},e.prototype._scheduleRefreshAuthToken=function(e){var t=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new f,Promise.resolve(this._tokenProvider()).then(function(e){var n;t._currentAuthData=e,null===(n=t._refreshObservable)||void 0===n||n.onCompleted(e)}).catch(function(e){var n;null===(n=t._refreshObservable)||void 0===n||n.onError(e)}).finally(function(){t._refreshObservable=void 0})),void 0!==e&&this._refreshObservable.subscribe(e)},e.prototype._refreshAuthToken=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){e._scheduleRefreshAuthToken({onCompleted:t,onError:n})})];case 1:return[2,t.sent()]}})})},e}(),h=function(){function e(e){this._authToken=e}return e.prototype.getToken=function(){return this._authToken},e.prototype.handleSecurityException=function(e,t){return!1},e}()},32272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(33837);t.count=function(e){return r.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}},32298:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&o(n,t,r[a]);return i(n,t),n}}(),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(20379),l=(n(52366),n(64666)),c=a(n(8607)),f=n(64260),d=n(15359),h=u(n(38871)),p=u(n(19155)),v=d.internal.bookmarks.Bookmarks,y=d.internal.constants,g=y.ACCESS_MODE_WRITE,m=y.BOLT_PROTOCOL_V1,b=(d.internal.logger.Logger,d.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(){function e(e,t,n,r,o,i){var a=void 0===n?{}:n,u=a.disableLosslessIntegers,s=a.useBigInt;void 0===r&&(r=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(u,s),this._responseHandler=r(this),this._log=o,this._onProtocolError=i,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:u,useBigInt:s}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(h.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},e.prototype.transformMetadata=function(e){return e},e.prototype.enrichErrorMetadata=function(e){return r(r({},e),{diagnostic_record:null!==e.diagnostic_record?r(r({},_),e.diagnostic_record):null})},e.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,u=n.onComplete,l=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,u)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,l),this.write(c.default.init(r,o),l,!0),l},e.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=(t.flush,new f.LogoffObserver({onCompleted:n,onError:r})),i=(0,d.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(i.message),o.onError(i),i},e.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=(n.flush,new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},r,o)},onError:function(e){return t._onLoginError(e,i)}})),u=(0,d.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(u.message),a.onError(u),u},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,l=t.afterError,c=t.beforeComplete,f=t.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u,beforeError:s,afterError:l,beforeComplete:c,afterComplete:f,flush:!1})},e.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("COMMIT",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:g,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("ROLLBACK",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:g,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=(r.bookmarks,r.txConfig),i=r.database,a=(r.mode,r.impersonatedUser),u=r.notificationFilter,l=r.beforeKeys,d=r.afterKeys,h=r.beforeError,p=r.afterError,v=r.beforeComplete,y=r.afterComplete,g=r.flush,m=void 0===g||g,b=r.highRecordWatermark,_=void 0===b?Number.MAX_VALUE:b,w=r.lowRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=new f.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:d,beforeError:h,afterError:p,beforeComplete:v,afterComplete:y,highRecordWatermark:_,lowRecordWatermark:O});return(0,s.assertTxConfigIsEmpty)(o,this._onProtocolError,E),(0,s.assertDatabaseIsEmpty)(i,this._onProtocolError,E),(0,s.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,E),(0,s.assertNotificationFilterIsEmpty)(u,this._onProtocolError,E),this.write(c.default.run(e,t),E,!1),this.write(c.default.pullAll(),E,m),E},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){var t=void 0===e?{}:e,n=t.onError,r=t.onComplete,o=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:r});return this.write(c.default.reset(),o,!0),o},e.prototype.telemetry=function(e,t){e.api;var n=void 0===t?{}:t,r=(n.onError,n.onCompleted),o=new f.CompletedObserver;return r&&r(),o},e.prototype._createPacker=function(e){return new l.v1.Packer(e)},e.prototype._createUnpacker=function(e,t){return new l.v1.Unpacker(e,t)},e.prototype.write=function(e,t,n){this._lastMessageSignature=e.signature;var r=new l.structure.Structure(e.signature,e.fields);this.packable(r)(),this.queueObserverIfProtocolIsNotBroken(t)&&(this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._chunker.messageBoundary(),n&&this._chunker.flush())},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},e.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(e,t,n){if(this._initialized=!0,this._authToken=t,e){var r=e.server;this._server.version||(this._server.version=r)}n&&n(e)},e.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},e}();t.default=w},32308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(24296),o=n(60944);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable(function(n){o.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}},32784:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(62161),a=n(44845),u=n(84347),s=n(2694),l=n(66564),c=n(47737);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e);return i.operate(function(t,i){for(var c=e.length,f=new Array(c),d=e.map(function(){return!1}),h=!1,p=function(t){u.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(i,function(e){f[t]=e,h||d[t]||(d[t]=!0,(h=d.every(s.identity))&&(d=null))},l.noop))},v=0;v<c;v++)p(v);t.subscribe(a.createOperatorSubscriber(i,function(e){if(h){var t=o([e],r(f));i.next(n?n.apply(void 0,o([],r(t))):t)}}))})}},33097:(e,t,n)=>{var r=n(52969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},33115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(9620);t.isPromise=function(e){return r.isFunction(null===e||void 0===e?void 0:e.then)}},33279:e=>{e.exports=function(e){return e}},33411:(e,t,n)=>{var r=n(50149),o=n(9096),i=n(38883),a=n(54052);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},33568:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.equals=function(e,t){var r,o;if(e===t)return!0;if(null===e||null===t)return!1;if("object"===typeof e&&"object"===typeof t){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;try{for(var u=n(i),s=u.next();!s.done;s=u.next()){var l=s.value;if(e[l]!==t[l])return!1}}catch(c){r={error:c}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return!0}return!1}},33795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(74958);t.combineAll=r.combineLatestAll},33837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(91218),o=n(62161);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},33863:(e,t,n)=>{"use strict";var r=n(30642),o=n(44993),i=n(64185),a=n(16474).orient2d;function u(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;var o=function(e){for(var t=e[0],n=e[0],r=e[0],o=e[0],a=0;a<e.length;a++){var u=e[a];u[0]<t[0]&&(t=u),u[0]>r[0]&&(r=u),u[1]<n[1]&&(n=u),u[1]>o[1]&&(o=u)}var s=[t,n,r,o],l=s.slice();for(a=0;a<e.length;a++)i(e[a],s)||l.push(e[a]);return function(e){e.sort(_);for(var t=[],n=0;n<e.length;n++){for(;t.length>=2&&h(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}for(var r=[],o=e.length-1;o>=0;o--){for(;r.length>=2&&h(r[r.length-2],r[r.length-1],e[o])<=0;)r.pop();r.push(e[o])}return r.pop(),t.pop(),t.concat(r)}(l)}(e),a=new r(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var u,l=[],c=0;c<o.length;c++){var f=o[c];a.remove(f),u=y(f,u),l.push(u)}var d=new r(16);for(c=0;c<l.length;c++)d.insert(v(l[c]));for(var p=t*t,m=n*n;l.length;){var b=l.shift(),w=b.p,O=b.next.p,E=g(w,O);if(!(E<m)){var x=E/p;(f=s(a,b.prev.p,w,O,b.next.next.p,x,d))&&Math.min(g(f,w),g(f,O))<=x&&(l.push(b),l.push(y(f,b)),a.remove(f),d.remove(b),d.insert(v(b)),d.insert(v(b.next)))}}b=u;var S=[];do{S.push(b.p),b=b.next}while(b!==u);return S.push(b.p),S}function s(e,t,n,r,i,a,u){for(var s=new o([],l),f=e.data;f;){for(var h=0;h<f.children.length;h++){var p=f.children[h],v=f.leaf?m(p,n,r):c(n,r,p);v>a||s.push({node:p,dist:v})}for(;s.length&&!s.peek().node.children;){var y=s.pop(),g=y.node,b=m(g,t,n),_=m(g,r,i);if(y.dist<b&&y.dist<_&&d(n,g,u)&&d(r,g,u))return g}(f=s.pop())&&(f=f.node)}return null}function l(e,t){return e.dist-t.dist}function c(e,t,n){if(f(e,n)||f(t,n))return 0;var r=b(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=b(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=b(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var a=b(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,o,i,a)}function f(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function d(e,t,n){for(var r=Math.min(e[0],t[0]),o=Math.min(e[1],t[1]),i=Math.max(e[0],t[0]),a=Math.max(e[1],t[1]),u=n.search({minX:r,minY:o,maxX:i,maxY:a}),s=0;s<u.length;s++)if(p(u[s].p,u[s].next.p,e,t))return!1;return!0}function h(e,t,n){return a(e[0],e[1],t[0],t[1],n[0],n[1])}function p(e,t,n,r){return e!==r&&t!==n&&h(e,t,n)>0!==h(e,t,r)>0&&h(n,r,e)>0!==h(n,r,t)>0}function v(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function y(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function g(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function m(e,t,n){var r=t[0],o=t[1],i=n[0]-r,a=n[1]-o;if(0!==i||0!==a){var u=((e[0]-r)*i+(e[1]-o)*a)/(i*i+a*a);u>1?(r=n[0],o=n[1]):u>0&&(r+=i*u,o+=a*u)}return(i=e[0]-r)*i+(a=e[1]-o)*a}function b(e,t,n,r,o,i,a,u){var s,l,c,f,d=n-e,h=r-t,p=a-o,v=u-i,y=e-o,g=t-i,m=d*d+h*h,b=d*p+h*v,_=p*p+v*v,w=d*y+h*g,O=p*y+v*g,E=m*_-b*b,x=E,S=E;0===E?(l=0,x=1,f=O,S=_):(f=m*O-b*w,(l=b*O-_*w)<0?(l=0,f=O,S=_):l>x&&(l=x,f=O+b,S=_)),f<0?(f=0,-w<0?l=0:-w>m?l=x:(l=-w,x=m)):f>S&&(f=S,-w+b<0?l=0:-w+b>m?l=x:(l=-w+b,x=m));var P=(1-(c=0===f?0:f/S))*o+c*a-((1-(s=0===l?0:l/x))*e+s*n),T=(1-c)*i+c*u-((1-s)*t+s*r);return P*P+T*T}function _(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}o.default&&(o=o.default),e.exports=u,e.exports.default=u},34029:(e,t,n)=>{"use strict";n.d(t,{I2:()=>u,YM:()=>s,qQ:()=>a});var r,o=n(24145),i=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,a=function(e){var t=(0,o.kJ)();t&&(t._cdn=e),r=e},u=function(){var e=function(){var e;return null!==r&&void 0!==r?r:null===(e=(0,o.kJ)())||void 0===e?void 0:e._cdn}();if(e)return e;var t=function(){var e;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(t){var n,r=null!==(n=t.getAttribute("src"))&&void 0!==n?n:"",o=i.exec(r);o&&o[1]&&(e=o[1])}),e}();return t||"https://cdn.segment.com"},s=function(){var e=u();return"".concat(e,"/next-integrations")}},34228:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=function(){var e,t,n=!1,r=new Promise(function(r,o){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,r.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,o.apply(void 0,e)}});return{resolve:e,reject:t,promise:r,isSettled:function(){return n}}}},34313:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(95610)),u=i(n(42856)),s=i(n(19155)),l=i(n(8607)),c=n(64260),f=n(15359).internal.constants,d=f.BOLT_PROTOCOL_V5_5,h=f.FETCH_ALL,p=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=n.boltAgent,a=n.authToken,u=n.notificationFilter,s=n.onError,f=n.onComplete,d={},h=new c.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x5(r,i,u,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return f(o(o({},e),d.metadata))},onError:s,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,f=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new c.ResultStreamObserver({server:this._server,beforeError:s,afterError:f,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(l.default.begin5x5({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,f=r.notificationFilter,d=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?h:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=new c.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata}),A=O;return this.write(l.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:f}),k,A&&_),O||this.write(l.default.pull({n:x}),k,_),k},t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?o(o({},p),e.diagnostic_record):null})})),e},t}(a.default);t.default=v},34428:(e,t,n)=>{var r=n(95750);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(e){return e.key})},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},34445:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,u=0,s=r-o;u<s;u+=a)i.push(l(e,u,u+a>s?s:u+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s(r));return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},34453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(54715),o=n(84905);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},34552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}},34724:(e,t,n)=>{var r=n(10396)("length");e.exports=r},34774:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfig=t.Config=void 0;var r=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};t.Config=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r);t.InternalConfig=o},34924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(84347),o=n(6689),i=n(62161),a=n(44845);t.repeatWhen=function(e){return i.operate(function(t,n){var i,u,s=!1,l=!1,c=!1,f=function(){return c&&l&&(n.complete(),!0)},d=function(){c=!1,i=t.subscribe(a.createOperatorSubscriber(n,void 0,function(){c=!0,!f()&&(u||(u=new o.Subject,r.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(n,function(){i?d():s=!0},function(){l=!0,f()}))),u).next()})),s&&(i.unsubscribe(),i=null,s=!1,d())};d()})}},35069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(e,t){var n=this;return new Promise(function(a,u){var l=function(e){u(e)};e.onerror=l.bind(n),e._error&&l(e._error),e.onmessage=function(e){try{var n=function(e,t){var n=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(72===n[0]&&84===n[1]&&84===n[2]&&80===n[3])throw t.error("Handshake failed since server responded with HTTP."),(0,o.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return new o.ProtocolVersion(n[3],n[2])}(e,t);a({protocolVersion:n,capabilites:0,buffer:e,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(r){u(r)}},e.write(function(e){if(e.length>4)throw(0,o.newError)("It should not have more than 4 versions of the protocol");var t=(0,r.alloc)(20);return t.writeInt32(i),e.forEach(function(e){if(e instanceof Array){var n=e[0],r=n.major,o=(i=n.minor)-e[1].minor;t.writeInt32(o<<16|i<<8|r)}else{r=e.major;var i=e.minor;t.writeInt32(i<<8|r)}}),t.reset(),t}([s(255,1),[s(5,8),s(5,0)],[s(4,4),s(4,2)],s(3,0)]))})}(e,t).then(function(t){return t.protocolVersion.isEqualTo(new o.ProtocolVersion(255,1))?function(e,t){for(var n=t.readVarInt(),i=[],s=0;s<n;s++){var c=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()];i=i.concat(l(c))}var f=(t.readVarInt(),u),d=0,h=0;i.sort(function(e,t){return Number(e.major)!==Number(t.major)?Number(t.major)-Number(e.major):Number(t.minor)-Number(e.minor)});for(s=0;s<i.length;s++){var p=i[s];if(a.includes(p.major+"."+p.minor)){d=p.major,h=p.minor;break}}return new Promise(function(n,i){try{var a=(0,r.alloc)(5);a.writeInt32(h<<8|d),a.writeVarInt(f),e.write(a),n({protocolVersion:new o.ProtocolVersion(d,h),capabilites:f,consumeRemainingBuffer:function(e){t.hasRemaining()&&e(t.readSlice(t.remaining()))}})}catch(u){i(u)}})}(e,t.buffer):t})};var r=n(52366),o=n(15359),i=1616949271,a=["6.0","5.8","5.7","5.6","5.4","5.3","5.2","5.1","5.0","4.4","4.3","4.2","3.0"],u=0;function s(e,t){return{major:e,minor:t}}function l(e){for(var t=[],n=e[3],r=e[2],o=0;o<=e[1];o++)t.push({major:n,minor:r-o});return t}},35324:(e,t,n)=>{var r=n(54052),o=n(62597),i=n(14079),a=n(41069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},35428:(e,t,n)=>{var r=n(16913),o=n(56173),i=n(22761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},35488:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(70833));t.default=r({},i.default)},35640:(e,t,n)=>{var r=n(83713),o=n(26924),i=n(6571),a=n(90620),u=n(91632);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?u(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},35992:(e,t,n)=>{var r=n(95750);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),function(e){t=[],i(e),t.length&&o.push(t)}),o}},36021:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ENCRYPTION_OFF=t.ENCRYPTION_ON=void 0,t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!l(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},t.isObject=l,t.isString=f,t.assertObject=function(e,t){if(!l(e))throw new TypeError(t+" expected to be an object but was: "+(0,s.stringify)(e));return e},t.assertString=c,t.assertNumber=function(e,t){if("number"!==typeof e)throw new TypeError(t+" expected to be a number but was: "+(0,s.stringify)(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!==typeof e&&"bigint"!==typeof e&&!(0,u.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,s.stringify)(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,s.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,s.stringify)(e));return e},t.toNumber=function(e){return e instanceof u.default?e.toNumber():"bigint"===typeof e?(0,u.int)(e).toNumber():e},t.validateQueryAndParameters=function(e,t,n){var r,o,i="",a=null!==t&&void 0!==t?t:{},u=null!==(r=null===n||void 0===n?void 0:n.skipAsserts)&&void 0!==r&&r;"string"===typeof e?i=e:e instanceof String?i=e.toString():"object"===typeof e&&null!=e.text&&(i=e.text,a=null!==(o=e.parameters)&&void 0!==o?o:{});u||(function(e){if(c(e,"Cypher query"),0===e.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(i),function(e){if(!l(e)){var t=null!=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}(a));return{validatedQuery:i,params:a}},t.equals=function e(t,n){var r,o;if(t===n)return!0;if(null===t||null===n)return!1;if("object"===typeof t&&"object"===typeof n){var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;try{for(var s=a(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(!e(t[c],n[c]))return!1}}catch(f){r={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!0}return!1};var u=i(n(70905)),s=n(90961);t.ENCRYPTION_ON="ENCRYPTION_ON";function l(e){return"object"===typeof e&&!Array.isArray(e)&&null!==e}function c(e,t){if(!f(e))throw new TypeError((0,s.stringify)(t)+" expected to be string but was: "+(0,s.stringify)(e));return e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_OFF="ENCRYPTION_OFF"},36052:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.ReadOnlyConnectionHolder=t.ConnectionHolder=void 0;var a=n(41421),u=n(36021),s=n(79708),l=n(1036),c=n(55549),f=function(){function e(e){var t=e.mode,n=e.database,r=void 0===n?"":n,o=e.bookmarks,i=e.connectionProvider,a=e.impersonatedUser,c=e.onDatabaseNameResolved,f=e.getConnectionAcquistionBookmarks,d=e.auth,h=e.log;this._mode=null!==t&&void 0!==t?t:s.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=r?(0,u.assertString)(r,"database"):"",this._bookmarks=null!==o&&void 0!==o?o:l.Bookmarks.empty(),this._connectionProvider=i,this._impersonatedUser=a,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=c,this._auth=d,this._log=h,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!==f&&void 0!==f?f:function(){return Promise.resolve(l.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(e){this._database=e},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(e){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider,e),this._referenceCount++,!0)},e.prototype._createConnectionPromise=function(e,t){return o(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:return r=(n=e).acquireConnection,o={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,r.apply(n,[(o.bookmarks=i.sent(),o.impersonatedUser=this._impersonatedUser,o.onDatabaseNameResolved=this._onDatabaseNameResolved,o.auth=this._auth,o.homeDb=t,o)])];case 2:return[2,i.sent()]}})})},e.prototype._getBookmarks=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(e){return this._closed=!0,0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},e.prototype.log=function(){return this._log},e.prototype._releaseConnection=function(e){return this._connectionPromise=this._connectionPromise.then(function(t){return null!=t?t.isOpen()&&(t.hasOngoingObservableRequests()||!0===e)?t.resetAndFlush().catch(p).then(function(){return t.release().then(function(){return null})}):t.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},e.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},e}();t.ConnectionHolder=f;var d=function(e){function t(t){var n=e.call(this,{mode:t.mode(),database:t.database(),bookmarks:t.bookmarks(),getConnectionAcquistionBookmarks:t._getConnectionAcquistionBookmarks,connectionProvider:t.connectionProvider(),log:t.log()})||this;return n._connectionHolder=t,n}return r(t,e),t.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t}(f);t.ReadOnlyConnectionHolder=d,t.default=d;var h=new(function(e){function t(){return e.call(this,{log:c.Logger.create({})})||this}return r(t,e),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,a.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},t.prototype.releaseConnection=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t}(f));function p(e){return null}t.EMPTY_CONNECTION_HOLDER=h},36140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},36311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},36499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(15812),o=n(47737),i=n(99963);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},36501:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var o=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(12836).Subscription);t.Action=o},36737:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(39220)),u=n(15359),s=i(n(8607)),l=n(64260),c=n(20379),f=i(n(35488)),d=i(n(1023)),h=i(n(19155)),p=u.internal.constants,v=p.BOLT_PROTOCOL_V4_4,y=p.FETCH_ALL,g=u.internal.bookmarks.Bookmarks,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.impersonatedUser,a=void 0===i?null:i,u=e.sessionContext,c=void 0===u?{}:u,f=e.onError,d=e.onCompleted,h=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:f,onCompleted:d}),p=c.bookmarks||g.empty();return this.write(s.default.routeV4x4(n,p.values(),{databaseName:o,impersonatedUser:a}),h,!0),h},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,f=r.impersonatedUser,d=r.notificationFilter,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,g=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,O=r.reactive,E=void 0!==O&&O,x=r.fetchSize,S=void 0===x?y:x,P=r.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:g,beforeComplete:m,afterComplete:b,highRecordWatermark:T,lowRecordWatermark:k});(0,c.assertNotificationFilterIsEmpty)(d,this._onProtocolError,A);var j=E;return this.write(s.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:f}),A,j&&w),E||this.write(s.default.pull({n:S}),A,w),A},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,c.assertNotificationFilterIsEmpty)(u,this._onProtocolError,v),this.write(s.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a}),v,!0),v},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new h.default(Object.values(o(o({},f.default),d.default)).map(function(t){return t(e._config,e._log)}))},t}(a.default);t.default=m},36741:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},36950:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(n(94937).AsyncAction);t.QueueAction=o},36954:(e,t,n)=>{var r=n(11629),o=n(37857),i=n(46686),a=n(96996),u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:u).test(a(e))}},37061:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(42856));t.default=r({},i.default)},37105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},37159:(e,t,n)=>{var r=n(12622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},37341:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(68256)),u=i(n(8607)),s=n(20379),l=n(64260),c=i(n(52628)),f=i(n(19155)),d=n(15359),h=(d.internal.bookmarks.Bookmarks,d.internal.constants),p=h.BOLT_PROTOCOL_V4_0,v=h.FETCH_ALL,y=d.internal.txConfig.TxConfig,g="context",m="database",b="CALL dbms.routing.getRoutingTable($".concat(g,", $").concat(m,")"),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,c=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,s.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,s.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,database:o,mode:c}),v,!0),v},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,c=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,y=r.beforeError,g=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,O=r.reactive,E=void 0!==O&&O,x=r.fetchSize,S=void 0===x?v:x,P=r.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:y,afterError:g,beforeComplete:m,afterComplete:b,highRecordWatermark:T,lowRecordWatermark:k});(0,s.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,A),(0,s.assertNotificationFilterIsEmpty)(f,this._onProtocolError,A);var j=E;return this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:d}),A,j&&w),E||this.write(u.default.pull({n:S}),A,w),A},t.prototype._requestMore=function(e,t,n){this.write(u.default.pull({stmtId:e,n:t}),n,!0)},t.prototype._requestDiscard=function(e,t){this.write(u.default.discard({stmtId:e}),t,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,i=e.databaseName,a=void 0===i?null:i,u=e.sessionContext,s=void 0===u?{}:u,c=e.onError,f=e.onCompleted,d=this.run(b,((t={})[g]=r,t[m]=a,t),o(o({},s),{txConfig:y.empty()}));return new l.ProcedureRouteObserver({resultObserver:d,onProtocolError:this._onProtocolError,onError:c,onCompleted:f})},t}(a.default);t.default=_},37857:(e,t,n)=>{var r=n(13440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},37929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var r=n(87824);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return r.audit}});var o=n(86669);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return o.auditTime}});var i=n(30417);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return i.buffer}});var a=n(73742);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var u=n(47076);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return u.bufferTime}});var s=n(83369);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return s.bufferToggle}});var l=n(18105);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=n(71400);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=n(33795);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var d=n(74958);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return d.combineLatestAll}});var h=n(72801);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return h.combineLatest}});var p=n(92309);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var v=n(80171);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return v.concat}});var y=n(15812);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return y.concatAll}});var g=n(95389);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return g.concatMap}});var m=n(28956);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var b=n(47203);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return b.concatWith}});var _=n(62101);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var w=n(32272);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return w.count}});var O=n(49148);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return O.debounce}});var E=n(61473);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return E.debounceTime}});var x=n(14892);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return x.defaultIfEmpty}});var S=n(49136);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return S.delay}});var P=n(4540);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return P.delayWhen}});var T=n(42119);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return T.dematerialize}});var C=n(45987);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return C.distinct}});var k=n(59847);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return k.distinctUntilChanged}});var A=n(38586);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return A.distinctUntilKeyChanged}});var j=n(49794);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return j.elementAt}});var R=n(50582);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return R.endWith}});var I=n(47436);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return I.every}});var N=n(76921);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return N.exhaust}});var M=n(29718);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return M.exhaustAll}});var D=n(3399);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return D.exhaustMap}});var L=n(95899);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return L.expand}});var F=n(84905);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return F.filter}});var U=n(55089);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return U.finalize}});var B=n(64164);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return B.find}});var z=n(74238);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return z.findIndex}});var V=n(70829);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return V.first}});var W=n(2189);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return W.groupBy}});var H=n(16004);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return H.ignoreElements}});var q=n(14870);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return q.isEmpty}});var G=n(7875);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return G.last}});var Y=n(5141);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Y.map}});var X=n(9444);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return X.mapTo}});var K=n(56686);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return K.materialize}});var Z=n(64541);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return Z.max}});var $=n(46615);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return $.merge}});var Q=n(95400);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Q.mergeAll}});var J=n(95408);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return J.flatMap}});var ee=n(18137);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var te=n(13816);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return te.mergeMapTo}});var ne=n(47330);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ne.mergeScan}});var re=n(50703);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return re.mergeWith}});var oe=n(14295);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return oe.min}});var ie=n(54429);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ie.multicast}});var ae=n(76522);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ae.observeOn}});var ue=n(18088);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return ue.onErrorResumeNext}});var se=n(27583);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return se.pairwise}});var le=n(34453);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return le.partition}});var ce=n(99294);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ce.pluck}});var fe=n(5812);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return fe.publish}});var de=n(31170);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return de.publishBehavior}});var he=n(67956);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return he.publishLast}});var pe=n(49023);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return pe.publishReplay}});var ve=n(91450);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ve.race}});var ye=n(59606);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return ye.raceWith}});var ge=n(33837);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return ge.reduce}});var me=n(87968);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return me.repeat}});var be=n(34924);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return be.repeatWhen}});var _e=n(11481);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return _e.retry}});var we=n(28033);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return we.retryWhen}});var Oe=n(59543);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Oe.refCount}});var Ee=n(15321);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Ee.sample}});var xe=n(55244);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return xe.sampleTime}});var Se=n(57206);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Se.scan}});var Pe=n(24456);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Pe.sequenceEqual}});var Te=n(9268);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return Te.share}});var Ce=n(12959);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Ce.shareReplay}});var ke=n(8439);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ke.single}});var Ae=n(62856);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Ae.skip}});var je=n(296);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return je.skipLast}});var Re=n(7054);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Re.skipUntil}});var Ie=n(61003);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Ie.skipWhile}});var Ne=n(5951);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ne.startWith}});var Me=n(95518);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Me.subscribeOn}});var De=n(44984);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return De.switchAll}});var Le=n(21737);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Le.switchMap}});var Fe=n(28904);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Fe.switchMapTo}});var Ue=n(49586);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Ue.switchScan}});var Be=n(26252);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Be.take}});var ze=n(72732);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return ze.takeLast}});var Ve=n(45770);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ve.takeUntil}});var We=n(13199);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return We.takeWhile}});var He=n(506);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return He.tap}});var qe=n(63311);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return qe.throttle}});var Ge=n(60906);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Ge.throttleTime}});var Ye=n(76679);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Ye.throwIfEmpty}});var Xe=n(79743);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Xe.timeInterval}});var Ke=n(3004);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Ke.timeout}});var Ze=n(49220);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Ze.timeoutWith}});var $e=n(12467);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return $e.timestamp}});var Qe=n(95449);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Qe.toArray}});var Je=n(81831);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return Je.window}});var et=n(97164);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return et.windowCount}});var tt=n(80098);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tt.windowTime}});var nt=n(70427);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return nt.windowToggle}});var rt=n(38087);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return rt.windowWhen}});var ot=n(32784);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return ot.withLatestFrom}});var it=n(55824);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return it.zip}});var at=n(54193);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return at.zipAll}});var ut=n(41912);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return ut.zipWith}})},38087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(6689),o=n(62161),i=n(44845),a=n(84347);t.windowWhen=function(e){return o.operate(function(t,n){var o,u,s=function(e){o.error(e),n.error(e)},l=function(){var t;null===u||void 0===u||u.unsubscribe(),null===o||void 0===o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=a.innerFrom(e())}catch(c){return void s(c)}t.subscribe(u=i.createOperatorSubscriber(n,l,l,s))};l(),t.subscribe(i.createOperatorSubscriber(n,function(e){return o.next(e)},function(){o.complete(),n.complete()},s,function(){null===u||void 0===u||u.unsubscribe(),o=null}))})}},38187:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8814)),a=o(n(88258)),u=o(n(19155)),s=n(15359).internal.constants.BOLT_PROTOCOL_V6_0,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(a.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(i.default);t.default=l},38268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},38353:(e,t,n)=>{var r=n(95750);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),function a(u){if(r.has(n,u))throw new i;r.has(t,u)||(n[u]=!0,t[u]=!0,r.each(e.predecessors(u),a),delete n[u],o.push(u))}),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},38500:(e,t,n)=>{"use strict";var r=n(53536);function o(e){r.forEach(e.nodes(),function(t){i(e.node(t))}),r.forEach(e.edges(),function(t){i(e.edge(t))})}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function u(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),function(t){a(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),function(t){u(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,u),r.has(n,"x")&&u(n)})}(e),o(e))}}},38541:(e,t,n)=>{var r=n(9812),o=n(50149),i=n(54052),a=n(19841),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},38586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(59847);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}},38599:(e,t)=>{"use strict";var n=/\d{13}/;t.is=function(e){return n.test(e)},t.parse=function(e){return e=parseInt(e,10),new Date(e)}},38637:(e,t,n)=>{"use strict";var r=n(53536);function o(e,t,n){for(var o=r.zipObject(n,r.map(n,function(e,t){return t})),i=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:o[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var s=r.map(new Array(u),function(){return 0}),l=0;return r.forEach(i.forEach(function(e){var t=e.pos+a;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=o(e,t[r-1],t[r]);return n}},38710:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},38747:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(27422)),a=n(15359),u=o(n(22930)),s=o(n(19155)),l=a.internal.constants.BOLT_PROTOCOL_V4_2,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(i.default);t.default=c},38844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var r=n(60286),o=n(17547);t.animationFrameScheduler=new o.AnimationFrameScheduler(r.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},38871:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(15359),i=n(64666),a=n(19155),u=o.error.PROTOCOL_ERROR;t.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof o.Node},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Node",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],u=t[2];return new o.Node(n,a,u)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof o.Relationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Relationship",5,e.size);var t=r(e.fields,5),n=t[0],a=t[1],u=t[2],s=t[3],l=t[4];return new o.Relationship(n,a,u,s,l)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof o.UnboundRelationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("UnboundRelationship",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],u=t[2];return new o.UnboundRelationship(n,a,u)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof o.Path},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Path",3,e.size);for(var t=r(e.fields,3),n=t[0],a=t[1],u=t[2],s=[],l=n[0],c=0;c<u.length;c+=2){var f=n[u[c+1]],d=(0,o.toNumber)(u[c]),h=void 0;d>0?(h=a[d-1])instanceof o.UnboundRelationship&&(a[d-1]=h=h.bindTo(l,f)):(h=a[-d-1])instanceof o.UnboundRelationship&&(a[-d-1]=h=h.bindTo(f,l)),s.push(new o.PathSegment(l,h,f)),l=f}return new o.Path(n[0],n[n.length-1],s)}})},createVectorTransformer:function(){return new a.TypeTransformer({signature:86,isTypeInstance:function(e){return e instanceof o.Vector},toStructure:function(e){throw(0,o.newError)("Sending vector types require server and driver to be communicating with Bolt protocol 6.0 or later. Please update your database version.")},fromStructure:function(e){throw(0,o.newError)("Server tried to send Vector object, but server and driver are communicating on a version of the Bolt protocol that does not support vectors.")}})}}},38883:(e,t,n)=>{var r=n(45652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},39220:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(38747)),u=i(n(8607)),s=n(64260),l=n(20379),c=i(n(70833)),f=i(n(1023)),d=i(n(19155)),h=n(15359),p=h.internal.bookmarks.Bookmarks,v=h.internal.constants.BOLT_PROTOCOL_V4_3,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.sessionContext,a=void 0===i?{}:i,l=e.onError,c=e.onCompleted,f=new s.RouteObserver({onProtocolError:this._onProtocolError,onError:l,onCompleted:c}),d=a.bookmarks||p.empty();return this.write(u.default.route(n,d.values(),o),f,!0),f},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,c=n.onComplete,f=new s.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,o,c)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o,this._serversideRouting,["utc"]),f,!0),f},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new d.default(Object.values(o(o({},c.default),f.default)).map(function(t){return t(e._config,e._log)}))},t}(a.default);t.default=y},39256:(e,t,n)=>{var r=n(86532),o=n(23781),i=n(91310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},39381:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=void 0,t.isDuration=function(e){return x(e,d)},t.isLocalTime=function(e){return x(e,h)},t.isTime=function(e){return x(e,p)},t.isDate=function(e){return x(e,v)},t.isLocalDateTime=function(e){return x(e,y)},t.isDateTime=function(e){return x(e,g)};var u=i(n(58620)),s=n(36021),l=n(41421),c=i(n(70905)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},d="__isDuration__",h="__isLocalTime__",p="__isTime__",v="__isDate__",y="__isLocalDateTime__",g="__isDateTime__",m=function(){function e(e,t,n,r){this.months=(0,s.assertNumberOrInteger)(e,"Months"),this.days=(0,s.assertNumberOrInteger)(t,"Days"),(0,s.assertNumberOrInteger)(n,"Seconds"),(0,s.assertNumberOrInteger)(r,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(n,r),"number"===typeof n&&(0,c.isInt)(this.seconds)&&(this.seconds=this.seconds.toNumber()),"bigint"===typeof n&&(0,c.isInt)(this.seconds)&&(this.seconds=this.seconds.toBigInt()),this.nanoseconds=u.normalizeNanosecondsForDuration(r),"number"===typeof r&&(0,c.isInt)(this.nanoseconds)&&(this.nanoseconds=this.nanoseconds.toNumber()),"bigint"===typeof r&&(0,c.isInt)(this.nanoseconds)&&(this.nanoseconds=this.nanoseconds.toBigInt()),Object.freeze(this)}return e.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();t.Duration=m,Object.defineProperty(m.prototype,d,f);var b=function(){function e(e,t,n,r){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),Object.freeze(this)}return e.fromStandardDate=function(t,n){P(t,n);var r=u.totalNanoseconds(t,n);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),r instanceof c.default?r.toInt():"bigint"===typeof r?(0,c.int)(r).toInt():r)},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalTime=b,Object.defineProperty(b.prototype,h,f);var _=function(){function e(e,t,n,r,o){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),this.timeZoneOffsetSeconds=(0,s.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)),u.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();t.Time=_,Object.defineProperty(_.prototype,p,f);var w=function(){function e(e,t,n){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),Object.freeze(this)}return e.fromStandardDate=function(e){return this.fromStandardDateLocal(e)},e.fromStandardDateLocal=function(t){return P(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.fromStandardDateUTC=function(t){return P(t),new e(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate())},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},e}();t.Date=w,Object.defineProperty(w.prototype,v,f);var O=function(){function e(e,t,n,r,o,i,a){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(a),Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)))},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalDateTime=O,Object.defineProperty(O.prototype,y,f);var E=function(){function e(e,t,n,r,o,i,c,f,d){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(c);var h=a(function(e,t){var n=null!==e&&void 0!==e,r=null!==t&&void 0!==t&&""!==t;if(!n&&!r)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];n&&((0,s.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e);r&&((0,s.assertString)(t,"Time zone ID"),u.assertValidZoneId("Time zone ID",t),o[1]=t);return o}(f,d),2),p=h[0],v=h[1];this.timeZoneOffsetSeconds=p,this.timeZoneId=null!==v&&void 0!==v?v:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)),u.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return u.toStandardDate(this._toUTC())},e.prototype.toString=function(){var e;return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?u.timeZoneOffsetToIsoString(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},e.prototype._toUTC=function(){var e;if(void 0===this.timeZoneOffsetSeconds)throw new Error("Requires DateTime created with time zone offset");var t=u.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0);return(0,c.int)(t).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},e}();function x(e,t){return null!=e&&!0===e[t]}function S(e,t,n,r,o,i,a){return u.dateToIsoString(e,t,n)+"T"+u.timeToIsoString(r,o,i,a)}function P(e,t){(0,s.assertValidDate)(e,"Standard date"),null!==t&&void 0!==t&&(0,s.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=E,Object.defineProperty(E.prototype,g,f)},39440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},39819:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var i=n(87139),a=i.Immediate.setImmediate,u=i.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.immediateProvider.delegate;return((null===i||void 0===i?void 0:i.setImmediate)||a).apply(void 0,o([],r(e)))},clearImmediate:function(e){var n=t.immediateProvider.delegate;return((null===n||void 0===n?void 0:n.clearImmediate)||u)(e)},delegate:void 0}},39921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="6.0.0"},40167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ServerInfo=t.queryType=void 0;var r=n(91397),o=n(26200),i=function(){function e(e,t,n,r){var i,s,f;this.query={text:e,parameters:t},this.queryType=n.type,this.counters=new l(null!==(i=n.stats)&&void 0!==i?i:{}),this.plan=(null!=n.plan||null!=n.profile)&&new a(null!==(s=n.plan)&&void 0!==s?s:n.profile),this.profile=null!=n.profile&&new u(n.profile),this.notifications=(0,o.buildNotificationsFromMetadata)(n),this.gqlStatusObjects=(0,o.buildGqlStatusObjectFromMetadata)(n),this.server=new c(n.server,r),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:null!==(f=n.db)&&void 0!==f?f:null}}return e.prototype.hasPlan=function(){return this.plan instanceof a},e.prototype.hasProfile=function(){return this.profile instanceof u},e}(),a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]};t.Plan=a;var u=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=f("dbHits",t),this.rows=f("rows",t),this.pageCacheMisses=f("pageCacheMisses",t),this.pageCacheHits=f("pageCacheHits",t),this.pageCacheHitRatio=f("pageCacheHitRatio",t),this.time=f("time",t),this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();t.ProfiledPlan=u;var s=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};t.Stats=s;var l=function(){function e(e){var t=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach(function(n){var o=n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()});o in t._stats?t._stats[o]=r.util.toNumber(e[n]):"systemUpdates"===o?t._systemUpdates=r.util.toNumber(e[n]):"containsSystemUpdates"===o?t._containsSystemUpdates=e[n]:"containsUpdates"===o&&(t._containsUpdates=e[n])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var e=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce(function(t,n){return t+e._stats[n]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();t.QueryStatistics=l;var c=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function f(e,t,n){if(void 0===n&&(n=0),!1!==t&&e in t){var o=t[e];return r.util.toNumber(o)}return n}t.ServerInfo=c;t.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},t.default=i},40203:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var o=n(9620),i=n(12836),a=n(29491),u=n(79593),s=n(66564),l=n(95014),c=n(45549),f=n(17469),d=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,i.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return r(n,e),n.create=function(e,t,n){return new y(e,t,n)},n.prototype.next=function(e){this.isStopped?m(l.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?m(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(i.Subscription);t.Subscriber=d;var h=Function.prototype.bind;function p(e,t){return h.call(e,t)}var v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){g(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){g(n)}else g(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){g(t)}},e}(),y=function(e){function t(t,n,r){var i,u,s=e.call(this)||this;o.isFunction(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&a.config.useDeprecatedNextContext?((u=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&p(t.next,u),error:t.error&&p(t.error,u),complete:t.complete&&p(t.complete,u)}):i=t;return s.destination=new v(i),s}return r(t,e),t}(d);function g(e){a.config.useDeprecatedSynchronousErrorHandling?f.captureError(e):u.reportUnhandledError(e)}function m(e,t){var n=a.config.onStoppedNotification;n&&c.timeoutProvider.setTimeout(function(){return n(e,t)})}t.SafeSubscriber=y,t.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(e){throw e},complete:s.noop}},40644:e=>{e.exports=function(e){return e!==e}},41069:(e,t,n)=>{var r=n(38541);e.exports=function(e){return null==e?"":r(e)}},41339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var r=n(65709);t.bindNodeCallback=function(e,t,n){return r.bindCallbackInternals(!0,e,t,n)}},41421:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&o(n,t,r[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.GQLError=t.Neo4jError=t.isRetryableError=t.isRetriableError=void 0,t.newError=function(e,t,n,r,o,i){return new v(e,null!==t&&void 0!==t?t:h,null!==r&&void 0!==r?r:"50N42",null!==o&&void 0!==o?o:"error: general processing exception - unexpected error. "+e,null!==i&&void 0!==i?i:s.rawPolyfilledDiagnosticRecord,n)},t.newGQLError=function(e,t,n,r,o){return new p(e,null!==n&&void 0!==n?n:"50N42",null!==r&&void 0!==r?r:"error: general processing exception - unexpected error. "+e,null!==o&&void 0!==o?o:s.rawPolyfilledDiagnosticRecord,t)};var u=a(n(90961)),s=n(84187),l={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(l);var c=Object.values(l),f="ServiceUnavailable";t.SERVICE_UNAVAILABLE=f;var d="SessionExpired";t.SESSION_EXPIRED=d;t.PROTOCOL_ERROR="ProtocolError";var h="N/A",p=function(e){function t(n,r,o,i,a){var u,s=e.call(this,n,null!=a?{cause:a}:void 0)||this;return s.constructor=t,s.__proto__=t.prototype,s.cause=null!=a?a:void 0,s.gqlStatus=r,s.gqlStatusDescription=o,s.diagnosticRecord=i,s.classification=function(e){if(void 0===e||void 0===e._classification)return"UNKNOWN";return c.includes(e._classification)?null===e||void 0===e?void 0:e._classification:"UNKNOWN"}(s.diagnosticRecord),s.rawClassification=null!==(u=null===i||void 0===i?void 0:i._classification)&&void 0!==u?u:void 0,s.name="GQLError",s}return r(t,e),t.prototype.containsGqlCause=function(e){return void 0!==this.findByGqlStatus(e)},t.prototype.findByGqlStatus=function(e){return this.gqlStatus===e?this:void 0!==this.cause&&(this.cause instanceof t||this.cause instanceof v)?this.cause.findByGqlStatus(e):void 0},Object.defineProperty(t.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),t}(Error);t.GQLError=p;var v=function(e){function t(n,r,o,i,a,u){var s=e.call(this,n,o,i,a,u)||this;s.constructor=t,s.__proto__=t.prototype,s.code=r,s.name="Neo4jError";var l=function(e){return e===f||e===d||function(e){return"Neo.ClientError.Security.AuthorizationExpired"===e}(e)||function(e){return!0===(null===e||void 0===e?void 0:e.includes("TransientError"))}(e)}(r);return s.retriable=l,s.retryable=l,s}return r(t,e),t.isRetriable=function(e){return this.isRetryable(e)},t.isRetryable=function(e){return null!==e&&void 0!==e&&e instanceof t&&e.retryable},t}(p);t.Neo4jError=v;var y=v.isRetriable;t.isRetriableError=y;var g=v.isRetryable;t.isRetryableError=g},41482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0===e?{}:e,n=t.version,r=t.chunker,x=t.dechunker,S=t.channel,P=t.disableLosslessIntegers,T=t.useBigInt,C=t.serversideRouting,k=t.server,A=t.log,j=t.observer;return function(e,t,n,r,E,x,S,P){if(!(e instanceof o.ProtocolVersion)||void 0===e||null===e)throw(0,o.newError)("Unknown Bolt protocol version: "+e);switch(!0){case e.isEqualTo({major:1,minor:0}):return new i.default(t,n,r,x,P,S);case e.isEqualTo({major:2,minor:0}):return new a.default(t,n,r,x,P,S);case e.isEqualTo({major:3,minor:0}):return new u.default(t,n,r,x,P,S);case e.isEqualTo({major:4,minor:0}):return new s.default(t,n,r,x,P,S);case e.isEqualTo({major:4,minor:1}):return new l.default(t,n,r,x,P,S,E);case e.isEqualTo({major:4,minor:2}):return new c.default(t,n,r,x,P,S,E);case e.isEqualTo({major:4,minor:3}):return new f.default(t,n,r,x,P,S,E);case e.isEqualTo({major:4,minor:4}):return new d.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:0}):return new h.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:1}):return new p.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:2}):return new v.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:3}):return new y.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:4}):return new g.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:5}):return new m.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:6}):return new b.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:7}):return new _.default(t,n,r,x,P,S,E);case e.isEqualTo({major:5,minor:8}):return new w.default(t,n,r,x,P,S,E);case e.isEqualTo({major:6,minor:0}):return new O.default(t,n,r,x,P,S,E);default:throw(0,o.newError)("Unknown Bolt protocol version: "+e)}}(n,k,r,{disableLosslessIntegers:P,useBigInt:T},C,function(e){var t=new E.default({transformMetadata:e.transformMetadata.bind(e),enrichErrorMetadata:e.enrichErrorMetadata.bind(e),log:A,observer:j});return S.onerror=j.onError.bind(j),S.onmessage=function(e){return x.write(e)},x.onmessage=function(n){try{t.handleResponse(e.unpack(n))}catch(r){return j.onError(r)}},t},j.onProtocolError.bind(j),A)};var o=n(15359),i=r(n(32298)),a=r(n(9559)),u=r(n(68256)),s=r(n(37341)),l=r(n(27422)),c=r(n(38747)),f=r(n(39220)),d=r(n(36737)),h=r(n(22182)),p=r(n(24101)),v=r(n(94364)),y=r(n(76003)),g=r(n(95610)),m=r(n(34313)),b=r(n(58832)),_=r(n(99335)),w=r(n(8814)),O=r(n(38187)),E=(n(52366),r(n(16664)))},41558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},41740:(e,t,n)=>{var r=n(97132);e.exports=function(e){return r(e,4)}},41912:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(55824);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},42119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(98994),o=n(62161),i=n(44845);t.dematerialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){return r.observeNotification(e,t)}))})}},42856:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(72263));t.default=r({},i.default)},42868:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(44679)),u=n(41421),s=n(55549),l=function(){function e(e){var t=e.create,n=void 0===t?function(e,t,n){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,e.sent()]}})})}:t,i=e.destroy,u=void 0===i?function(e){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}})})}:i,l=e.validateOnAcquire,c=void 0===l?function(e,t){return!0}:l,f=e.validateOnRelease,d=void 0===f?function(e){return!0}:f,h=e.installIdleObserver,p=void 0===h?function(e,t){}:h,v=e.removeIdleObserver,y=void 0===v?function(e){}:v,g=e.config,m=void 0===g?a.default.defaultConfig():g,b=e.log,_=void 0===b?s.Logger.noOp():b,w=this;this._create=n,this._destroy=u,this._validateOnAcquire=c,this._validateOnRelease=d,this._installIdleObserver=p,this._removeIdleObserver=y,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=_,this._closed=!1}return e.prototype.acquire=function(e,t,n){return r(this,void 0,void 0,function(){var r,i,a,u,s=this;return o(this,function(o){switch(o.label){case 0:if(r=t.asKey(),i=this._acquireRequests,a=i[r],(u=null!=e.startTime&&0!==e.startTime?(new Date).getTime()-e.startTime:0)>=this._acquisitionTimeout)throw this.getAcquisitionTimeoutError(t);return null==a&&(i[r]=[]),[4,new Promise(function(o,a){var l=setTimeout(function(){var e=i[r];null!=e&&(i[r]=e.filter(function(e){return e!==c})),c.isCompleted()||c.reject(s.getAcquisitionTimeoutError(t))},s._acquisitionTimeout-u);"object"===typeof l&&l.unref();var c=new d(r,e,n,o,a,l,s._log);i[r].push(c),s._processPendingAcquireRequests(t)})];case 1:return[2,o.sent()]}})})},e.prototype.getAcquisitionTimeoutError=function(e){var t=e.asKey(),n=this.activeResourceCount(e),r=this.has(e)?this._pools[t].length:0;return(0,u.newError)("Connection acquisition timed out in ".concat(this._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(n,", Idle conn count = ").concat(r,"."))},e.prototype.purge=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e.asKey())];case 1:return[2,t.sent()]}})})},e.prototype.apply=function(e,t){var n=e.asKey();n in this._pools&&this._pools[n].apply(t)},e.prototype.close=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,t.sent()]}})})},e.prototype.keepAll=function(e){return r(this,void 0,void 0,function(){var t,n,i,a=this;return o(this,function(u){switch(u.label){case 0:return t=e.map(function(e){return e.asKey()}),n=Object.keys(this._pools),i=n.filter(function(e){return!t.includes(e)}),[4,Promise.all(i.map(function(e){return r(a,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e)];case 1:return[2,t.sent()]}})})})).then()];case 1:return[2,u.sent()]}})})},e.prototype.has=function(e){return e.asKey()in this._pools},e.prototype.activeResourceCount=function(e){var t;return null!==(t=this._activeResourceCounts[e.asKey()])&&void 0!==t?t:0},e.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new h,this._pools[e]=t,this._pendingCreates[e]=0),t},e.prototype._acquire=function(e,t,n){return r(this,void 0,void 0,function(){var i,a,s,l,d,h,p,v=this;return o(this,function(y){switch(y.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");if(i=t.asKey(),a=this._getOrInitializePoolFor(i),n)return[3,10];y.label=1;case 1:if(!(a.length>0))return[3,10];if(null==(s=a.pop()))return[3,1];c(i,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(s),l=!1,y.label=2;case 2:return y.trys.push([2,4,,6]),[4,this._validateOnAcquire(e,s)];case 3:return l=y.sent(),[3,6];case 4:return d=y.sent(),f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 5:throw y.sent(),d;case 6:return l?(this._log.isDebugEnabled()&&this._log.debug("".concat(s," acquired from the pool ").concat(i)),[2,{resource:s,pool:a}]):[3,7];case 7:return f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 8:y.sent(),y.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[i]>=this._maxSize)return[2,{resource:null,pool:a}];this._pendingCreates[i]=this._pendingCreates[i]+1,y.label=11;case 11:return y.trys.push([11,,15,16]),this.activeResourceCount(t)+a.length>=this._maxSize&&n?null==(p=a.pop())?[3,13]:(null!=this._removeIdleObserver&&this._removeIdleObserver(p),a.removeInUse(p),[4,this._destroy(p)]):[3,13];case 12:y.sent(),y.label=13;case 13:return[4,this._create(e,t,function(e,t){return r(v,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this._release(e,t,a)];case 1:return[2,n.sent()]}})})})];case 14:return h=y.sent(),a.pushInUse(h),c(i,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(h," created for the pool ").concat(i)),[3,16];case 15:return this._pendingCreates[i]=this._pendingCreates[i]-1,[7];case 16:return[2,{resource:h,pool:a}]}})})},e.prototype._release=function(e,t,n){return r(this,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:r=e.asKey(),o.label=1;case 1:return o.trys.push([1,,9,10]),n.isActive()?[4,this._validateOnRelease(t)]:[3,6];case 2:return o.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because it is not functional")),n.removeInUse(t),[4,this._destroy(t)]);case 3:return o.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(t,{onError:function(e){i._log.debug("Idle connection ".concat(t," destroyed because of error: ").concat(e));var n=i._pools[r];null!=n&&(i._pools[r]=n.filter(function(e){return e!==t}),n.removeInUse(t)),i._destroy(t).catch(function(){})}}),n.push(t),this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(r)),o.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because pool has been purged")),n.removeInUse(t),[4,this._destroy(t)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:return f(r,this._activeResourceCounts),this._processPendingAcquireRequests(e),[7];case 10:return[2]}})})},e.prototype._purgeKey=function(e){return r(this,void 0,void 0,function(){var t,n,r;return o(this,function(o){switch(o.label){case 0:if(t=this._pools[e],n=[],null==t)return[3,2];for(;t.length>0;)null!=(r=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(r),n.push(this._destroy(r)));return t.close(),delete this._pools[e],[4,Promise.all(n)];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(e){var t=this,n=e.asKey(),r=this._acquireRequests[n];if(null!=r){var o=r.shift();null!=o?this._acquire(o.context,e,o.requireNew).catch(function(e){return o.reject(e),{resource:null,pool:null}}).then(function(r){var i=r.resource,a=r.pool;null!=i&&null!=a?o.isCompleted()?t._release(e,i,a).catch(function(e){t._log.isDebugEnabled()&&t._log.debug("".concat(i," could not be release back to the pool. Cause: ").concat(e))}):o.resolve(i):o.isCompleted()||(null==t._acquireRequests[n]&&(t._acquireRequests[n]=[]),t._acquireRequests[n].unshift(o))}).catch(function(e){return o.reject(e)}):delete this._acquireRequests[n]}},e}();function c(e,t){var n,r=null!==(n=t[e])&&void 0!==n?n:0;t[e]=r+1}function f(e,t){var n,r=(null!==(n=t[e])&&void 0!==n?n:0)-1;r>0?t[e]=r:delete t[e]}var d=function(){function e(e,t,n,r,o,i,a){this._key=e,this._context=t,this._resolve=r,this._reject=o,this._timeoutId=i,this._log=a,this._completed=!1,this._config=null!==n&&void 0!==n?n:{}}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireNew",{get:function(){var e;return null!==(e=this._config.requireNew)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},e.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))},e}(),h=function(){function e(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},e.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},e.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},e.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},e.prototype.pushInUse=function(e){this._elementsInUse.add(e)},e.prototype.removeInUse=function(e){this._elementsInUse.delete(e)},e}();t.default=l},43182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(93323),o=n(81414);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},43470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(77574),o=n(9620);t.isIterable=function(e){return o.isFunction(null===e||void 0===e?void 0:e[r.iterator])}},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},43668:(e,t,n)=>{var r=n(18902),o=n(52587),i=n(58114);e.exports=function(e,t,n,a,u,s){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,y=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var g=e[p],m=t[p];if(a)var b=l?a(m,g,p,t,e,s):a(g,m,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!o(t,function(e,t){if(!i(y,t)&&(g===e||u(g,e,n,a,s)))return y.push(t)})){v=!1;break}}else if(g!==m&&!u(g,m,n,a,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},44117:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.resolve=function(e){return this._resolveToItself(e)},t}(n(15359).internal.resolver.BaseHostNameResolver);t.default=o},44288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var w=_.prototype=new b;w.constructor=_,y(w,m.prototype),w.isPureReactComponent=!0;var O=Array.isArray;function E(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function P(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,o,i,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s,l,c=!1;if(null===e)c=!0;else switch(u){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return A((c=e._init)(e._payload),t,o,i,a)}}if(c)return a=a(e),c=""===i?"."+k(e,0):i,O(a)?(o="",null!=c&&(o=c.replace(C,"$&/")+"/"),A(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(s=a,l=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+c,a=P(s.type,l,s.props)),t.push(a)),1;c=0;var f,h=""===i?".":i+":";if(O(e))for(var v=0;v<e.length;v++)c+=A(i=e[v],t,o,u=h+k(i,v),a);else if("function"===typeof(v=null===(f=e)||"object"!==typeof f?null:"function"===typeof(f=p&&f[p]||f["@@iterator"])?f:null))for(e=v.call(e),v=0;!(i=e.next()).done;)c+=A(i=i.value,t,o,u=h+k(i,v++),a);else if("object"===u){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function j(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},N={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=N,t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=_,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=y({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];r.children=a}return P(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:u,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var u=Array(a),s=0;s<a;s++)u[s]=arguments[s+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return P(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),o=x.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(E,I)}catch(i){I(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return x.H.useEffect(e,t)},t.useEffectEvent=function(e){return x.H.useEffectEvent(e)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.2.0"},44353:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}},44543:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=n(60014),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;e.exports=s},44679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=void 0;var n=100;t.DEFAULT_MAX_SIZE=n;var r=6e4;t.DEFAULT_ACQUISITION_TIMEOUT=r;var o=function(){function e(e,t){this.maxSize=i(e,n),this.acquisitionTimeout=i(t,r)}return e.defaultConfig=function(){return new e(n,r)},e.fromDriverConfig=function(t){return new e(a(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:n,a(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:r)},e}();function i(e,t){return a(e)?e:t}function a(e){return 0===e||null!=e}t.default=o},44682:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var o=n(81964),i=function(e){function t(t,n){void 0===n&&(n=o.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler);t.AsyncScheduler=i},44845:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var o=n(40203);t.createOperatorSubscriber=function(e,t,n,r,o){return new i(e,t,n,r,o)};var i=function(e){function t(t,n,r,o,i,a){var u=e.call(this,t)||this;return u.onFinalize=i,u.shouldUnsubscribe=a,u._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return r(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(o.Subscriber);t.OperatorSubscriber=i},44898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var r=n(86953),o=n(40203);t.firstValueFrom=function(e,t){var n="object"===typeof t;return new Promise(function(i,a){var u=new o.SafeSubscriber({next:function(e){i(e),u.unsubscribe()},error:a,complete:function(){n?i(t.defaultValue):a(new r.EmptyError)}});e.subscribe(u)})}},44984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(21737),o=n(2694);t.switchAll=function(){return r.switchMap(o.identity)}},44993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(n(r,i)>=0)break;t[e]=i,e=o}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,o=t[e];for(;e<r;){let r=1+(e<<1),i=t[r];const a=r+1;if(a<this.length&&n(t[a],i)<0&&(r=a,i=t[a]),n(i,o)>=0)break;t[e]=i,e=r}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},45549:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.timeoutProvider.delegate;return(null===u||void 0===u?void 0:u.setTimeout)?u.setTimeout.apply(u,r([e,o],n(i))):setTimeout.apply(void 0,r([e,o],n(i)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null===n||void 0===n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},45652:(e,t,n)=>{var r=n(94664),o=n(76516)(r);e.exports=o},45723:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var o=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(6689).Subject);t.BehaviorSubject=o},45752:(e,t,n)=>{var r=n(59395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,u){var s=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!s)return!1;for(var f=c;f--;){var d=l[f];if(!(s?d in t:o.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var y=s;++f<c;){var g=e[d=l[f]],m=t[d];if(i)var b=s?i(m,g,d,t,e,u):i(g,m,d,e,t,u);if(!(void 0===b?g===m||a(g,m,n,i,u):b)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},45770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(62161),o=n(44845),i=n(84347),a=n(66564);t.takeUntil=function(e){return r.operate(function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,function(){return n.complete()},a.noop)),!n.closed&&t.subscribe(n)})}},45921:(e,t,n)=>{var r=n(20449),o=n(47574),i=n(56832),a=i&&i.isSet,u=a?o(a):r;e.exports=u},45926:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((u=t)&&"object"===typeof u&&r(u)===o){var a=i(t);return{args:a.map(function(e){return t[e]}),keys:a}}}var u;return{args:e,keys:null}}},45987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(62161),o=n(44845),i=n(66564),a=n(84347);t.distinct=function(e,t){return r.operate(function(n,r){var u=new Set;n.subscribe(o.createOperatorSubscriber(r,function(t){var n=e?e(t):t;u.has(n)||(u.add(n),r.next(t))})),t&&a.innerFrom(t).subscribe(o.createOperatorSubscriber(r,function(){return u.clear()},i.noop))})}},46105:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(88804));function i(e,t){return function(){var n=this.traits(),r=this.properties?this.properties():{};return o.default(n,"address."+e)||o.default(n,e)||(t?o.default(n,"address."+t):null)||(t?o.default(n,t):null)||o.default(r,"address."+e)||o.default(r,e)||(t?o.default(r,"address."+t):null)||(t?o.default(r,t):null)}}t.default=function(e){e.zip=i("postalCode","zip"),e.country=i("country"),e.street=i("street"),e.state=i("state"),e.city=i("city"),e.region=i("region")}},46350:(e,t,n)=>{var r=n(28325),o=n(86578)(r);e.exports=o},46615:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(62161),a=n(95400),u=n(47737),s=n(99963);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popNumber(e,1/0);return i.operate(function(t,i){a.mergeAll(l)(s.from(o([t],r(e)),n)).subscribe(i)})}},46672:(e,t,n)=>{"use strict";var r=n(65043);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=a.p;try{if(s.T=null,a.p=2,e)return e()}finally{s.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.0"},46686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},46704:e=>{e.exports=function(e){return this.__data__.has(e)}},46860:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawRoutingTable=t.BoltProtocol=void 0;var a=i(n(35069)),u=i(n(41482)),s=i(n(39220)),l=i(n(47840));o(n(64260),t),t.BoltProtocol=s.default,t.RawRoutingTable=l.default,t.default={handshake:a.default,create:u.default}},47076:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(12836),i=n(62161),a=n(44845),u=n(61689),s=n(93323),l=n(47737),c=n(60944);t.bufferTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:s.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return i.operate(function(t,n){var i=[],s=!1,l=function(e){var t=e.buffer;e.subs.unsubscribe(),u.arrRemove(i,e),n.next(t),s&&f()},f=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),c.executeSchedule(t,h,function(){return l(r)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):s=!0,f();var d=a.createOperatorSubscriber(n,function(e){var t,n,o=i.slice();try{for(var a=r(o),u=a.next();!u.done;u=a.next()){var s=u.value,c=s.buffer;c.push(e),v<=c.length&&l(s)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},function(){for(;null===i||void 0===i?void 0:i.length;)n.next(i.shift().buffer);null===d||void 0===d||d.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return i=null});t.subscribe(d)})}},47203:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(80171);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},47251:(e,t,n)=>{var r=n(98724),o=n(97160),i=n(85204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},47330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(62161),o=n(88457);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate(function(r,i){var a=t;return o.mergeInternals(r,i,function(t,n){return e(a,t,n)},n,function(e){a=e},!1,void 0,function(){return a=null})})}},47436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(62161),o=n(44845);t.every=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}},47574:e=>{e.exports=function(e){return function(t){return e(t)}}},47737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(9620),o=n(18931);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"===typeof i(e)?e.pop():t}},47790:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(86483),t)},47840:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});o(n(15359));var i=function(){function e(){}return e.ofRecord=function(t){return null===t?e.ofNull():new s(t)},e.ofMessageResponse=function(t){return null===t?e.ofNull():new a(t)},e.ofNull=function(){return new u},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();t.default=i;var a=function(e){function t(t){var n=e.call(this)||this;return n._response=t,n}return r(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),t}(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(i),s=function(e){function t(t){var n=e.call(this)||this;return n._record=t,n}return r(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),t}(i)},47940:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingTable=t.Rediscovery=void 0;var o=r(n(98969));t.Rediscovery=o.default;var i=r(n(83123));t.RoutingTable=i.default,t.default=o.default},48108:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredCustomResolver=t.BaseHostNameResolver=void 0;var o=r(n(82247));t.BaseHostNameResolver=o.default;var i=r(n(29915));t.ConfiguredCustomResolver=i.default},48397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},48664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},48723:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingConnectionProvider=t.DirectConnectionProvider=t.PooledConnectionProvider=t.SingleConnectionProvider=void 0;var o=n(55350);Object.defineProperty(t,"SingleConnectionProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(59929);Object.defineProperty(t,"PooledConnectionProvider",{enumerable:!0,get:function(){return r(i).default}});var a=n(91575);Object.defineProperty(t,"DirectConnectionProvider",{enumerable:!0,get:function(){return r(a).default}});var u=n(28230);Object.defineProperty(t,"RoutingConnectionProvider",{enumerable:!0,get:function(){return r(u).default}})},48734:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},48895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},49023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(1332),o=n(54429),i=n(9620);t.publishReplay=function(e,t,n,a){n&&!i.isFunction(n)&&(a=n);var u=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,a),u)(n)}}},49061:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var o=r(n(56329)),i=n(76711);function a(e,t){i.Facade.call(this,e,t)}t.Alias=a,o.default(a,i.Facade),a.prototype.action=function(){return"alias"},a.prototype.type=a.prototype.action,a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.from=a.prototype.previousId,a.prototype.userId=function(){return this.field("userId")||this.field("to")},a.prototype.to=a.prototype.userId},49136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(93323),o=n(4540),i=n(81414);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen(function(){return n})}},49148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(62161),o=n(66564),i=n(44845),a=n(84347);t.debounce=function(e){return r.operate(function(t,n){var r=!1,u=null,s=null,l=function(){if(null===s||void 0===s||s.unsubscribe(),s=null,r){r=!1;var e=u;u=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,function(t){null===s||void 0===s||s.unsubscribe(),r=!0,u=t,s=i.createOperatorSubscriber(n,l,o.noop),a.innerFrom(e(t)).subscribe(s)},function(){l(),n.complete()},void 0,function(){u=s=null}))})}},49220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(93323),o=n(39440),i=n(3004);t.timeoutWith=function(e,t,n){var a,u,s;if(n=null!==n&&void 0!==n?n:r.async,o.isValidDate(e)?a=e:"number"===typeof e&&(u=e),!t)throw new TypeError("No observable provided to switch to");if(s=function(){return t},null==a&&null==u)throw new TypeError("No timeout provided.");return i.timeout({first:a,each:u,scheduler:n,with:s})}},49586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(21737),o=n(62161);t.switchScan=function(e,t){return o.operate(function(n,o){var i=t;return r.switchMap(function(t,n){return e(i,t,n)},function(e,t){return i=t,t})(n).subscribe(o),function(){i=null}})}},49741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(84347),o=n(76522),i=n(95518);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},49794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(59619),o=n(84905),i=n(76679),a=n(14892),u=n(26252);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(s){return s.pipe(o.filter(function(t,n){return n===e}),u.take(1),n?a.defaultIfEmpty(t):i.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}},49825:(e,t,n)=>{var r=n(38353);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},49827:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var i=o(n(78979)),a=n(80193),u=o(n(2451)),s=function(e){function t(t,n){var r=e.call(this,0)||this;return r._bufferSize=n||1400,r._ch=t,r._buffer=(0,a.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}return r(t,e),t.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},t.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},t.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},t.prototype.putBytes=function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,a.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},t.prototype._ensure=function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(i.default);t.Chunker=s;var l=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))},e.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(e){},e.prototype._onHeader=function(e){if(0===e){var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK}return this._chunkSize=e,this.IN_CHUNK},e.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},e}();t.Dechunker=l},49840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolVersion=void 0;var n=function(){function e(e,t){this.major=e,this.minor=t}return e.prototype.getMajor=function(){return this.major},e.prototype.getMinor=function(){return this.major},e.prototype.isLessThan=function(e){return this.major<e.major||this.major===e.major&&this.minor<e.minor},e.prototype.isGreaterThan=function(e){return this.major>e.major||this.major===e.major&&this.minor>e.minor},e.prototype.isGreaterOrEqualTo=function(e){return!this.isLessThan(e)},e.prototype.isLessOrEqualTo=function(e){return!this.isGreaterThan(e)},e.prototype.isEqualTo=function(e){return this.major===e.major&&this.minor===e.minor},e.prototype.toString=function(){return this.major.toString()+"."+this.minor.toString()},e}();t.ProtocolVersion=n},50149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},50336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15359),o=r.internal.util,i=o.ENCRYPTION_OFF,a=o.ENCRYPTION_ON,u=r.error.SERVICE_UNAVAILABLE,s=[null,void 0,!0,!1,a,i],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],c=function(e,t,n,o){this.address=e,this.encrypted=function(e){var t=e.encrypted;if(-1===s.indexOf(t))throw(0,r.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(s));return t}(t),this.trust=function(e){var t=e.trust;if(-1===l.indexOf(t))throw(0,r.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(l));return t}(t),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(t),this.connectionErrorCode=n||u,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=o};t.default=c},50582:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(36499),a=n(16118);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,a.of.apply(void 0,o([],r(e))))}}},50703:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(46615);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},50723:(e,t,n)=>{var r=n(17529),o=n(87171),i=n(9096),a=n(54052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},50856:(e,t,n)=>{"use strict";var r=n(75544);function o(e,t){return void 0===t&&(t=!0),e&&"object"===typeof e?function(e,t){return Object.keys(e).forEach(function(n){e[n]=o(e[n],t)}),e}(e,t):Array.isArray(e)?function(e,t){return e.forEach(function(n,r){e[r]=o(n,t)}),e}(e,t):r.is(e,t)?r.parse(e):e}e.exports=o},51097:(e,t,n)=>{var r=n(95750),o=n(20191);function i(e){return r.map(e.nodes(),function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i})}function a(e){return r.map(e.edges(),function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o})}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},51104:(e,t,n)=>{var r=n(96614),o=n(28673);e.exports=function(e,t){return e&&r(t,o(t),e)}},51268:(e,t,n)=>{var r=n(35428),o=n(47574),i=n(56832),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},51896:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"post")}},51946:(e,t,n)=>{var r=n(61340);e.exports=function(e){return r(this.__data__,e)>-1}},52074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},52145:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(6326);function o(e,t){var n,o=Object.entries(null!==(n=t.integrations)&&void 0!==n?n:{}).reduce(function(e,t){var n,o,i=t[0],a=t[1];return"object"===typeof a?(0,r.Cl)((0,r.Cl)({},e),((n={})[i]=a,n)):(0,r.Cl)((0,r.Cl)({},e),((o={})[i]={},o))},{});return Object.entries(e.integrations).reduce(function(e,t){var n,i=t[0],a=t[1];return(0,r.Cl)((0,r.Cl)({},e),((n={})[i]=(0,r.Cl)((0,r.Cl)({},a),o[i]),n))},{})}},52259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.beginTransaction=function(e){throw new Error("Not implemented")},e.prototype.run=function(e,t,n){throw new Error("Not implemented")},e.prototype.commitTransaction=function(e){throw new Error("Not implemented")},e.prototype.rollbackTransaction=function(e){throw new Error("Not implemented")},e.prototype.resetAndFlush=function(){throw new Error("Not implemented")},e.prototype.isOpen=function(){throw new Error("Not implemented")},e.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},e}();t.default=n},52366:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.alloc=t.ChannelConfig=void 0,o(n(88845),t),o(n(49827),t);var a=n(50336);Object.defineProperty(t,"ChannelConfig",{enumerable:!0,get:function(){return i(a).default}});var u=n(80193);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return u.alloc}});var s=n(25151);Object.defineProperty(t,"utf8",{enumerable:!0,get:function(){return i(s).default}})},52515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(24296);t.scheduleArray=function(e,t){return new r.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}},52580:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});r(n(56503)),r(n(2752));var o=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=o},52587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},52628:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(28149));t.default=r({},i.default)},52866:(e,t,n)=>{var r=n(52969);e.exports=function(e){return function(t){return r(t,e)}}},52969:(e,t,n)=>{var r=n(35324),o=n(70914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},53049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var r=n(6689),o=n(24296),i=n(69583),a={connector:function(){return new r.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var n=null,r=t.connector,u=t.resetOnDisconnect,s=void 0===u||u,l=r(),c=new o.Observable(function(e){return l.subscribe(e)});return c.connect=function(){return n&&!n.closed||(n=i.defer(function(){return e}).subscribe(l),s&&n.add(function(){return l=r()})),n},c}},53163:(e,t,n)=>{var r=n(53536),o=n(67606),i=n(79207).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},53240:function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var o=n(2694),i=n(18931),a=n(69583),u=n(78766);t.generate=function(e,t,n,s,l){var c,f,d,h;function p(){var e;return r(this,function(r){switch(r.label){case 0:e=h,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,d(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}})}return 1===arguments.length?(h=(c=e).initialState,t=c.condition,n=c.iterate,f=c.resultSelector,d=void 0===f?o.identity:f,l=c.scheduler):(h=e,!s||i.isScheduler(s)?(d=o.identity,l=s):d=s),a.defer(l?function(){return u.scheduleIterable(p(),l)}:p)}},53366:(e,t,n)=>{var r=n(27894),o=n(99057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},53536:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,y=4294967295,g=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",c],["rearg",d]],m="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",O="[object Error]",E="[object Function]",x="[object GeneratorFunction]",S="[object Map]",P="[object Number]",T="[object Object]",C="[object Promise]",k="[object RegExp]",A="[object Set]",j="[object String]",R="[object Symbol]",I="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",D="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",B="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Z=RegExp(X.source),$=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Pe="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="['\u2019]",Re="["+xe+"]",Ie="["+Ae+"]",Ne="["+Se+"]",Me="\\d+",De="["+Pe+"]",Le="["+Te+"]",Fe="[^"+xe+Ae+Me+Pe+Te+Ce+"]",Ue="\\ud83c[\\udffb-\\udfff]",Be="[^"+xe+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ce+"]",He="\\u200d",qe="(?:"+Le+"|"+Fe+")",Ge="(?:"+We+"|"+Fe+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ne+"|"+Ue+")"+"?",Ze="["+ke+"]?",$e=Ze+Ke+("(?:"+He+"(?:"+[Be,ze,Ve].join("|")+")"+Ze+Ke+")*"),Qe="(?:"+[De,ze,Ve].join("|")+")"+$e,Je="(?:"+[Be+Ne+"?",Ne,ze,Ve,Re].join("|")+")",et=RegExp(je,"g"),tt=RegExp(Ne,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+Je+$e,"g"),rt=RegExp([We+"?"+Le+"+"+Ye+"(?="+[Ie,We,"$"].join("|")+")",Ge+"+"+Xe+"(?="+[Ie,We+qe,"$"].join("|")+")",We+"?"+qe+"+"+Ye,We+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Qe].join("|"),"g"),ot=RegExp("["+He+xe+Se+ke+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[D]=st[L]=st[F]=st[U]=st[B]=st[z]=st[V]=st[W]=st[H]=!0,st[m]=st[b]=st[N]=st[_]=st[M]=st[w]=st[O]=st[E]=st[S]=st[P]=st[T]=st[k]=st[A]=st[j]=st[I]=!1;var lt={};lt[m]=lt[b]=lt[N]=lt[M]=lt[_]=lt[w]=lt[D]=lt[L]=lt[F]=lt[U]=lt[B]=lt[S]=lt[P]=lt[T]=lt[k]=lt[A]=lt[j]=lt[R]=lt[z]=lt[V]=lt[W]=lt[H]=!0,lt[O]=lt[E]=lt[I]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||pt||Function("return this")(),yt=t&&!t.nodeType&&t,gt=yt&&e&&!e.nodeType&&e,mt=gt&&gt.exports===yt,bt=mt&&ht.process,_t=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=_t&&_t.isArrayBuffer,Ot=_t&&_t.isDate,Et=_t&&_t.isMap,xt=_t&&_t.isRegExp,St=_t&&_t.isSet,Pt=_t&&_t.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function It(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Lt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Yt("length");function zt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Vt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,qt,n)}function Ht(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function qt(e){return e!==e}function Gt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:v}function Yt(e){return function(t){return null==t?o:t[e]}}function Xt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,yn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,function(t){return e[t]})}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var on=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+ct[e]}function sn(e){return ot.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function cn(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function pn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function vn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function yn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var gn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?vt:mn.defaults(vt.Object(),t,mn.pick(vt,at))).Array,r=t.Date,ue=t.Error,xe=t.Function,Se=t.Math,Pe=t.Object,Te=t.RegExp,Ce=t.String,ke=t.TypeError,Ae=n.prototype,je=xe.prototype,Re=Pe.prototype,Ie=t["__core-js_shared__"],Ne=je.toString,Me=Re.hasOwnProperty,De=0,Le=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Re.toString,Ue=Ne.call(Pe),Be=vt._,ze=Te("^"+Ne.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=mt?t.Buffer:o,We=t.Symbol,He=t.Uint8Array,qe=Ve?Ve.allocUnsafe:o,Ge=cn(Pe.getPrototypeOf,Pe),Ye=Pe.create,Xe=Re.propertyIsEnumerable,Ke=Ae.splice,Ze=We?We.isConcatSpreadable:o,$e=We?We.iterator:o,Qe=We?We.toStringTag:o,Je=function(){try{var e=di(Pe,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ot=r&&r.now!==vt.Date.now&&r.now,ct=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=Se.ceil,pt=Se.floor,yt=Pe.getOwnPropertySymbols,gt=Ve?Ve.isBuffer:o,bt=t.isFinite,_t=Ae.join,Bt=cn(Pe.keys,Pe),Xt=Se.max,bn=Se.min,_n=r.now,wn=t.parseInt,On=Se.random,En=Ae.reverse,xn=di(t,"DataView"),Sn=di(t,"Map"),Pn=di(t,"Promise"),Tn=di(t,"Set"),Cn=di(t,"WeakMap"),kn=di(Pe,"create"),An=Cn&&new Cn,jn={},Rn=Fi(xn),In=Fi(Sn),Nn=Fi(Pn),Mn=Fi(Tn),Dn=Fi(Cn),Ln=We?We.prototype:o,Fn=Ln?Ln.valueOf:o,Un=Ln?Ln.toString:o;function Bn(e){if(tu(e)&&!Ha(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Ui(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!eu(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Zn(e,t){var n=Ha(e),r=!n&&Wa(e),o=!n&&!r&&Xa(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,u=a?$t(e.length,Ce):[],s=u.length;for(var l in e)!t&&!Me.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bi(l,s))||u.push(l);return u}function $n(e){var t=e.length;return t?e[Xr(0,t-1)]:o}function Qn(e,t){return Mi(Ao(e),ur(t,0,e.length))}function Jn(e){return Mi(Ao(e))}function er(e,t,n){(n!==o&&!Ba(e[t],n)||n===o&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Me.call(e,t)&&Ba(r,n)&&(n!==o||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,function(e,o,i){t(r,e,n(e),i)}),r}function or(e,t){return e&&jo(t,ju(t),e)}function ir(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,a=n(i),u=null==e;++r<i;)a[r]=u?o:Pu(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function sr(e,t,n,r,i,a){var u,s=1&t,l=2&t,c=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!eu(e))return e;var f=Ha(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ao(e,u)}else{var d=vi(e),h=d==E||d==x;if(Xa(e))return xo(e,s);if(d==T||d==m||h&&!i){if(u=l||h?{}:gi(e),!s)return l?function(e,t){return jo(e,pi(e),t)}(e,function(e,t){return e&&jo(t,Ru(t),e)}(u,e)):function(e,t){return jo(e,hi(e),t)}(e,or(u,e))}else{if(!lt[d])return i?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case N:return So(e);case _:case w:return new r(+e);case M:return function(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case L:case F:case U:case B:case z:case V:case W:case H:return Po(e,n);case S:return new r;case P:case j:return new r(e);case k:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case R:return o=e,Fn?Pe(Fn.call(o)):{}}var o}(e,d,s)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,u),au(e)?e.forEach(function(r){u.add(sr(r,t,n,r,e,a))}):nu(e)&&e.forEach(function(r,o){u.set(o,sr(r,t,n,o,e,a))});var v=f?o:(c?l?ii:oi:l?Ru:ju)(e);return kt(v||e,function(r,o){v&&(r=e[o=r]),tr(u,o,sr(r,t,n,o,e,a))}),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new ke(i);return ji(function(){e.apply(o,n)},t)}function fr(e,t,n,r){var o=-1,i=It,a=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=Mt(t,Jt(n))),r?(i=Nt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Xn(t));e:for(;++o<u;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;s.push(c)}else i(t,f,r)||s.push(c)}return s}Bn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Vn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=zn(Vn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,qn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},qn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==o:Me.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return nr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Sn||Gn),string:new qn}},Yn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ci(this,e).get(e)},Yn.prototype.has=function(e){return ci(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=No(_r),hr=No(wr,!0);function pr(e,t){var n=!0;return dr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u===u&&!su(u):n(u,s)))var s=u,l=a}return l}function yr(e,t){var n=[];return dr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function gr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=mi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?gr(u,t-1,n,r,o):Dt(o,u):r||(o[o.length]=u)}return o}var mr=Mo(),br=Mo(!0);function _r(e,t){return e&&mr(e,t,ju)}function wr(e,t){return e&&br(e,t,ju)}function Or(e,t){return Rt(t,function(t){return $a(e[t])})}function Er(e,t){for(var n=0,r=(t=_o(t,e)).length;null!=e&&n<r;)e=e[Li(t[n++])];return n&&n==r?e:o}function xr(e,t,n){var r=t(e);return Ha(e)?r:Dt(r,n(e))}function Sr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Pe(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(a){}var i=Fe.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return Fe.call(e)}(e)}function Pr(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Pe(e)}function kr(e,t,r){for(var i=r?Nt:It,a=e[0].length,u=e.length,s=u,l=n(u),c=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Mt(d,Jt(t))),c=bn(d.length,c),l[s]=!r&&(t||a>=120&&d.length>=120)?new Xn(s&&d):o}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var v=d[h],y=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,y):i(f,y,r))){for(s=u;--s;){var g=l[s];if(!(g?tn(g,y):i(e[s],y,r)))continue e}p&&p.push(y),f.push(v)}}return f}function Ar(e,t,n){var r=null==(e=Ci(e,t=_o(t,e)))?e:e[Li(Zi(t))];return null==r?o:Tt(r,e,n)}function jr(e){return tu(e)&&Sr(e)==m}function Rr(e,t,n,r,i){return e===t||(null==e||null==t||!tu(e)&&!tu(t)?e!==e&&t!==t:function(e,t,n,r,i,a){var u=Ha(e),s=Ha(t),l=u?b:vi(e),c=s?b:vi(t),f=(l=l==m?T:l)==T,d=(c=c==m?T:c)==T,h=l==c;if(h&&Xa(e)){if(!Xa(t))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Kn),u||lu(e)?ni(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case _:case w:case P:return Ba(+e,+t);case O:return e.name==t.name&&e.message==t.message;case k:case j:return e==t+"";case S:var u=ln;case A:var s=1&r;if(u||(u=dn),e.size!=t.size&&!s)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=ni(u(e),u(t),r,o,i,a);return a.delete(e),c;case R:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=d&&Me.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,g=v?t.value():t;return a||(a=new Kn),i(y,g,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,r,i,a){var u=1&n,s=oi(e),l=s.length,c=oi(t),f=c.length;if(l!=f&&!u)return!1;var d=l;for(;d--;){var h=s[d];if(!(u?h in t:Me.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var y=!0;a.set(e,t),a.set(t,e);var g=u;for(;++d<l;){var m=e[h=s[d]],b=t[h];if(r)var _=u?r(b,m,h,t,e,a):r(m,b,h,e,t,a);if(!(_===o?m===b||i(m,b,n,r,a):_)){y=!1;break}g||(g="constructor"==h)}if(y&&!g){var w=e.constructor,O=t.constructor;w==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O||(y=!1)}return a.delete(e),a.delete(t),y}(e,t,n,r,i,a)}(e,t,n,r,Rr,i))}function Ir(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=Pe(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],c=e[l],f=s[1];if(u&&s[2]){if(c===o&&!(l in e))return!1}else{var d=new Kn;if(r)var h=r(c,f,l,e,t,d);if(!(h===o?Rr(f,c,3,r,d):h))return!1}}return!0}function Nr(e){return!(!eu(e)||(t=e,Le&&Le in t))&&($a(e)?ze:me).test(Fi(e));var t}function Mr(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?Ha(e)?zr(e[0],e[1]):Br(e):ds(e)}function Dr(e){if(!xi(e))return Bt(e);var t=[];for(var n in Pe(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!eu(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=xi(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Ur(e,t){var r=-1,o=Ga(e)?n(e.length):[];return dr(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function Br(e){var t=fi(e);return 1==t.length&&t[0][2]?Pi(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function zr(e,t){return wi(e)&&Si(t)?Pi(Li(e),t):function(n){var r=Pu(n,e);return r===o&&r===t?Tu(n,e):Rr(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&mr(t,function(a,u){if(i||(i=new Kn),eu(a))!function(e,t,n,r,i,a,u){var s=ki(e,n),l=ki(t,n),c=u.get(l);if(c)return void er(e,n,c);var f=a?a(s,l,n+"",e,t,u):o,d=f===o;if(d){var h=Ha(l),p=!h&&Xa(l),v=!h&&!p&&lu(l);f=l,h||p||v?Ha(s)?f=s:Ya(s)?f=Ao(s):p?(d=!1,f=xo(l,!0)):v?(d=!1,f=Po(l,!0)):f=[]:ou(l)||Wa(l)?(f=s,Wa(s)?f=gu(s):eu(s)&&!$a(s)||(f=gi(l))):d=!1}d&&(u.set(l,f),i(f,l,r,a,u),u.delete(l));er(e,n,f)}(e,t,u,n,Vr,r,i);else{var s=r?r(ki(e,u),a,u+"",e,t,i):o;s===o&&(s=a),er(e,u,s)}},Ru)}function Wr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Hr(e,t,n){t=t.length?Mt(t,function(e){return Ha(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e}):[rs];var r=-1;t=Mt(t,Jt(li()));var o=Ur(e,function(e,n,o){var i=Mt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;for(;++r<a;){var s=To(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function qr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=Er(e,a);n(u,a)&&Jr(i,_o(a,e),u)}return i}function Gr(e,t,n,r){var o=r?Ht:Wt,i=-1,a=t.length,u=e;for(e===t&&(t=Ao(t)),n&&(u=Mt(e,Jt(n)));++i<a;)for(var s=0,l=t[i],c=n?n(l):l;(s=o(u,c,s,r))>-1;)u!==e&&Ke.call(u,s,1),Ke.call(e,s,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Ke.call(e,o,1):fo(e,o)}}return e}function Xr(e,t){return e+pt(On()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Ri(Ti(e,t,rs),e+"")}function $r(e){return $n(Bu(e))}function Qr(e,t){var n=Bu(e);return Mi(n,ur(t,0,n.length))}function Jr(e,t,n,r){if(!eu(e))return e;for(var i=-1,a=(t=_o(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var l=Li(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=u){var f=s[l];(c=r?r(f,l,s):o)===o&&(c=eu(f)?f:bi(t[i+1])?[]:{})}tr(s,l,c),s=s[l]}return e}var eo=An?function(e,t){return An.set(e,t),e}:rs,to=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:es(t),writable:!0})}:rs;function no(e){return Mi(Bu(e))}function ro(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function oo(e,t){var n;return dr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!su(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ao(e,t,rs,n)}function ao(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!==t,s=null===t,l=su(t),c=t===o;i<a;){var f=pt((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,v=d===d,y=su(d);if(u)var g=r||v;else g=c?v&&(r||h):s?v&&h&&(r||!p):l?v&&h&&!p&&(r||!y):!p&&!y&&(r?d<=t:d<t);g?i=f+1:a=f}return bn(a,4294967294)}function uo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ba(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function so(e){return"number"==typeof e?e:su(e)?v:+e}function lo(e){if("string"==typeof e)return e;if(Ha(e))return Mt(e,lo)+"";if(su(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function co(e,t,n){var r=-1,o=It,i=e.length,a=!0,u=[],s=u;if(n)a=!1,o=Nt;else if(i>=200){var l=t?null:Zo(e);if(l)return dn(l);a=!1,o=tn,s=new Xn}else s=t?[]:u;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(c)}else o(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function fo(e,t){return null==(e=Ci(e,t=_o(t,e)))||delete e[Li(Zi(t))]}function ho(e,t,n,r){return Jr(e,t,n(Er(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Lt(t,function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))},n)}function yo(e,t,r){var o=e.length;if(o<2)return o?co(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=fr(a[i]||u,e[s],t,r));return co(gr(a,1),t,r)}function go(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function mo(e){return Ya(e)?e:[]}function bo(e){return"function"==typeof e?e:rs}function _o(e,t){return Ha(e)?e:wi(e,t)?[e]:Di(mu(e))}var wo=Zr;function Oo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ro(e,t,n)}var Eo=nt||function(e){return vt.clearTimeout(e)};function xo(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function So(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Po(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=su(e),u=t!==o,s=null===t,l=t===t,c=su(t);if(!s&&!c&&!a&&e>t||a&&u&&l&&!s&&!c||r&&u&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!l)return-1}return 0}function Co(e,t,r,o){for(var i=-1,a=e.length,u=r.length,s=-1,l=t.length,c=Xt(a-u,0),f=n(l+c),d=!o;++s<l;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[r[i]]=e[i]);for(;c--;)f[s++]=e[i++];return f}function ko(e,t,r,o){for(var i=-1,a=e.length,u=-1,s=r.length,l=-1,c=t.length,f=Xt(a-s,0),d=n(f+c),h=!o;++i<f;)d[i]=e[i];for(var p=i;++l<c;)d[p+l]=t[l];for(;++u<s;)(h||i<a)&&(d[p+r[u]]=e[i++]);return d}function Ao(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function jo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],l=r?r(n[s],e[s],s,n,e):o;l===o&&(l=e[s]),i?ir(n,s,l):tr(n,s,l)}return n}function Ro(e,t){return function(n,r){var o=Ha(n)?Ct:rr,i=t?t():{};return o(n,e,li(r,2),i)}}function Io(e){return Zr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&_i(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=Pe(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function No(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Pe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Pe(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function Do(e){return function(t){var n=sn(t=mu(t))?vn(t):o,r=n?n[0]:t.charAt(0),i=n?Oo(n,1).join(""):t.slice(1);return r[e]()+i}}function Lo(e){return function(t){return Lt($u(Wu(t).replace(et,"")),e,"")}}function Fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return eu(r)?r:n}}function Uo(e){return function(t,n,r){var i=Pe(t);if(!Ga(t)){var a=li(n,3);t=ju(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function Bo(e){return ri(function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new ke(i);if(a&&!s&&"wrapper"==ui(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var l=ui(u=t[r]),c="wrapper"==l?ai(u):o;s=c&&Oi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[ui(c[0])].apply(s,c[3]):1==u.length&&Oi(u)?s[l]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ha(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function zo(e,t,r,i,a,u,s,l,c,d){var h=t&f,p=1&t,v=2&t,y=24&t,g=512&t,m=v?o:Fo(e);return function f(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(y)var O=si(f),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,O);if(i&&(_=Co(_,i,a,y)),u&&(_=ko(_,u,s,y)),b-=E,y&&b<d){var x=fn(_,O);return Xo(e,t,zo,f.placeholder,r,_,x,l,c,d-b)}var S=p?r:this,P=v?S[e]:e;return b=_.length,l?_=function(e,t){var n=e.length,r=bn(t.length,n),i=Ao(e);for(;r--;){var a=t[r];e[r]=bi(a,n)?i[a]:o}return e}(_,l):g&&b>1&&_.reverse(),h&&c<b&&(_.length=c),this&&this!==vt&&this instanceof f&&(P=m||Fo(P)),P.apply(S,_)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=so(n),r=so(r)),i=e(n,r)}return i}}function Ho(e){return ri(function(t){return t=Mt(t,Jt(li())),Zr(function(n){var r=this;return e(t,function(e){return Tt(e,r,n)})})})}function qo(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ht(e/pn(t)));return sn(t)?Oo(vn(r),0,e).join(""):r.slice(0,e)}function Go(e){return function(t,r,i){return i&&"number"!=typeof i&&_i(t,r,i)&&(r=i=o),t=hu(t),r===o?(r=t,t=0):r=hu(r),function(e,t,r,o){for(var i=-1,a=Xt(ht((t-e)/(r||1)),0),u=n(a);a--;)u[o?a:++i]=e,e+=r;return u}(t,r,i=i===o?t<r?1:-1:hu(i),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=yu(t),n=yu(n)),e(t,n)}}function Xo(e,t,n,r,i,a,u,s,f,d){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,i,h?a:o,h?u:o,h?o:a,h?o:u,s,f,d],v=n.apply(o,p);return Oi(e)&&Ai(v,p),v.placeholder=r,Ii(v,e,t)}function Ko(e){var t=Se[e];return function(e,n){if(e=yu(e),(n=null==n?0:bn(pu(n),292))&&bt(e)){var r=(mu(e)+"e").split("e");return+((r=(mu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zo=Tn&&1/dn(new Tn([,-0]))[1]==h?function(e){return new Tn(e)}:ss;function $o(e){return function(t){var n=vi(t);return n==S?ln(t):n==A?hn(t):function(e,t){return Mt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Qo(e,t,r,a,h,p,v,y){var g=2&t;if(!g&&"function"!=typeof e)throw new ke(i);var m=a?a.length:0;if(m||(t&=-97,a=h=o),v=v===o?v:Xt(pu(v),0),y=y===o?y:pu(y),m-=h?h.length:0,t&c){var b=a,_=h;a=h=o}var w=g?o:ai(e),O=[e,t,r,a,h,b,_,p,v,y];if(w&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Co(l,s,t[4]):s,e[4]=l?fn(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?ko(l,s,t[6]):s,e[6]=l?fn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(O,w),e=O[0],t=O[1],r=O[2],a=O[3],h=O[4],!(y=O[9]=O[9]===o?g?0:e.length:Xt(O[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==s?function(e,t,r){var i=Fo(e);return function a(){for(var u=arguments.length,s=n(u),l=u,c=si(a);l--;)s[l]=arguments[l];var f=u<3&&s[0]!==c&&s[u-1]!==c?[]:fn(s,c);return(u-=f.length)<r?Xo(e,t,zo,a.placeholder,o,s,f,o,o,r-u):Tt(this&&this!==vt&&this instanceof a?i:e,this,s)}}(e,t,y):t!=l&&33!=t||h.length?zo.apply(o,O):function(e,t,r,o){var i=1&t,a=Fo(e);return function t(){for(var u=-1,s=arguments.length,l=-1,c=o.length,f=n(c+s),d=this&&this!==vt&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;s--;)f[l++]=arguments[++u];return Tt(d,i?r:this,f)}}(e,t,r,a);else var E=function(e,t,n){var r=1&t,o=Fo(e);return function t(){return(this&&this!==vt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Ii((w?eo:Ai)(E,O),e,t)}function Jo(e,t,n,r){return e===o||Ba(e,Re[n])&&!Me.call(r,n)?t:e}function ei(e,t,n,r,i,a){return eu(e)&&eu(t)&&(a.set(t,e),Vr(e,t,o,ei,a),a.delete(t)),e}function ti(e){return ou(e)?o:e}function ni(e,t,n,r,i,a){var u=1&n,s=e.length,l=t.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new Xn:o;for(a.set(e,t),a.set(t,e);++d<s;){var v=e[d],y=t[d];if(r)var g=u?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(g!==o){if(g)continue;h=!1;break}if(p){if(!Ut(t,function(e,t){if(!tn(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(v!==y&&!i(v,y,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ri(e){return Ri(Ti(e,o,qi),e+"")}function oi(e){return xr(e,ju,hi)}function ii(e){return xr(e,Ru,pi)}var ai=An?function(e){return An.get(e)}:ss;function ui(e){for(var t=e.name+"",n=jn[t],r=Me.call(jn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function si(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function li(){var e=Bn.iteratee||os;return e=e===os?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=ju(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Si(o)]}return t}function di(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var hi=yt?function(e){return null==e?[]:(e=Pe(e),Rt(yt(e),function(t){return Xe.call(e,t)}))}:vs,pi=yt?function(e){for(var t=[];e;)Dt(t,hi(e)),e=Ge(e);return t}:vs,vi=Sr;function yi(e,t,n){for(var r=-1,o=(t=_o(t,e)).length,i=!1;++r<o;){var a=Li(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ja(o)&&bi(a,o)&&(Ha(e)||Wa(e))}function gi(e){return"function"!=typeof e.constructor||xi(e)?{}:zn(Ge(e))}function mi(e){return Ha(e)||Wa(e)||!!(Ze&&e&&e[Ze])}function bi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!eu(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&bi(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function wi(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!su(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Pe(t))}function Oi(e){var t=ui(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=ai(n);return!!r&&e===r[0]}(xn&&vi(new xn(new ArrayBuffer(1)))!=M||Sn&&vi(new Sn)!=S||Pn&&vi(Pn.resolve())!=C||Tn&&vi(new Tn)!=A||Cn&&vi(new Cn)!=I)&&(vi=function(e){var t=Sr(e),n=t==T?e.constructor:o,r=n?Fi(n):"";if(r)switch(r){case Rn:return M;case In:return S;case Nn:return C;case Mn:return A;case Dn:return I}return t});var Ei=Ie?$a:ys;function xi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Si(e){return e===e&&!eu(e)}function Pi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Pe(n)))}}function Ti(e,t,r){return t=Xt(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=Xt(o.length-t,0),u=n(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=n(t+1);++i<t;)s[i]=o[i];return s[t]=r(u),Tt(e,this,s)}}function Ci(e,t){return t.length<2?e:Er(e,ro(t,0,-1))}function ki(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ai=Ni(eo),ji=ct||function(e,t){return vt.setTimeout(e,t)},Ri=Ni(to);function Ii(e,t,n){var r=t+"";return Ri(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(g,function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ni(e){var t=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Xr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Di=function(e){var t=Na(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)}),t});function Li(e){if("string"==typeof e||su(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fi(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ui(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ao(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Zr(function(e,t){return Ya(e)?fr(e,gr(t,1,Ya,!0)):[]}),zi=Zr(function(e,t){var n=Zi(t);return Ya(n)&&(n=o),Ya(e)?fr(e,gr(t,1,Ya,!0),li(n,2)):[]}),Vi=Zr(function(e,t){var n=Zi(t);return Ya(n)&&(n=o),Ya(e)?fr(e,gr(t,1,Ya,!0),o,n):[]});function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:pu(n);return o<0&&(o=Xt(r+o,0)),Vt(e,li(t,3),o)}function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=pu(n),i=n<0?Xt(r+i,0):bn(i,r-1)),Vt(e,li(t,3),i,!0)}function qi(e){return(null==e?0:e.length)?gr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Yi=Zr(function(e){var t=Mt(e,mo);return t.length&&t[0]===e[0]?kr(t):[]}),Xi=Zr(function(e){var t=Zi(e),n=Mt(e,mo);return t===Zi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?kr(n,li(t,2)):[]}),Ki=Zr(function(e){var t=Zi(e),n=Mt(e,mo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?kr(n,o,t):[]});function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var $i=Zr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var Ji=ri(function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,Mt(t,function(e){return bi(e,n)?+e:e}).sort(To)),r});function ea(e){return null==e?e:En.call(e)}var ta=Zr(function(e){return co(gr(e,1,Ya,!0))}),na=Zr(function(e){var t=Zi(e);return Ya(t)&&(t=o),co(gr(e,1,Ya,!0),li(t,2))}),ra=Zr(function(e){var t=Zi(e);return t="function"==typeof t?t:o,co(gr(e,1,Ya,!0),o,t)});function oa(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,function(e){if(Ya(e))return t=Xt(e.length,t),!0}),$t(t,function(t){return Mt(e,Yt(t))})}function ia(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Mt(n,function(e){return Tt(t,o,e)})}var aa=Zr(function(e,t){return Ya(e)?fr(e,t):[]}),ua=Zr(function(e){return yo(Rt(e,Ya))}),sa=Zr(function(e){var t=Zi(e);return Ya(t)&&(t=o),yo(Rt(e,Ya),li(t,2))}),la=Zr(function(e){var t=Zi(e);return t="function"==typeof t?t:o,yo(Rt(e,Ya),o,t)}),ca=Zr(oa);var fa=Zr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ia(e,n)});function da(e){var t=Bn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ri(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var va=Ro(function(e,t,n){Me.call(e,n)?++e[n]:ir(e,n,1)});var ya=Uo(Wi),ga=Uo(Hi);function ma(e,t){return(Ha(e)?kt:dr)(e,li(t,3))}function ba(e,t){return(Ha(e)?At:hr)(e,li(t,3))}var _a=Ro(function(e,t,n){Me.call(e,n)?e[n].push(t):ir(e,n,[t])});var wa=Zr(function(e,t,r){var o=-1,i="function"==typeof t,a=Ga(e)?n(e.length):[];return dr(e,function(e){a[++o]=i?Tt(t,e,r):Ar(e,t,r)}),a}),Oa=Ro(function(e,t,n){ir(e,n,t)});function Ea(e,t){return(Ha(e)?Mt:Ur)(e,li(t,3))}var xa=Ro(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Sa=Zr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,gr(t,1),[])}),Pa=ot||function(){return vt.Date.now()};function Ta(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,f,o,o,o,o,t)}function Ca(e,t){var n;if("function"!=typeof t)throw new ke(i);return e=pu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ka=Zr(function(e,t,n){var r=1;if(n.length){var o=fn(n,si(ka));r|=l}return Qo(e,r,t,n,o)}),Aa=Zr(function(e,t,n){var r=3;if(n.length){var o=fn(n,si(Aa));r|=l}return Qo(t,r,e,n,o)});function ja(e,t,n){var r,a,u,s,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new ke(i);function v(t){var n=r,i=a;return r=a=o,f=t,s=e.apply(i,n)}function y(e){var n=e-c;return c===o||n>=t||n<0||h&&e-f>=u}function g(){var e=Pa();if(y(e))return m(e);l=ji(g,function(e){var n=t-(e-c);return h?bn(n,u-(e-f)):n}(e))}function m(e){return l=o,p&&r?v(e):(r=a=o,s)}function b(){var e=Pa(),n=y(e);if(r=arguments,a=this,c=e,n){if(l===o)return function(e){return f=e,l=ji(g,t),d?v(e):s}(c);if(h)return Eo(l),l=ji(g,t),v(c)}return l===o&&(l=ji(g,t)),s}return t=yu(t)||0,eu(n)&&(d=!!n.leading,u=(h="maxWait"in n)?Xt(yu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Eo(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?s:m(Pa())},b}var Ra=Zr(function(e,t){return cr(e,1,t)}),Ia=Zr(function(e,t,n){return cr(e,yu(t)||0,n)});function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Na.Cache||Yn),n}function Ma(e){if("function"!=typeof e)throw new ke(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=Yn;var Da=wo(function(e,t){var n=(t=1==t.length&&Ha(t[0])?Mt(t[0],Jt(li())):Mt(gr(t,1),Jt(li()))).length;return Zr(function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)})}),La=Zr(function(e,t){var n=fn(t,si(La));return Qo(e,l,o,t,n)}),Fa=Zr(function(e,t){var n=fn(t,si(Fa));return Qo(e,c,o,t,n)}),Ua=ri(function(e,t){return Qo(e,d,o,o,o,t)});function Ba(e,t){return e===t||e!==e&&t!==t}var za=Yo(Pr),Va=Yo(function(e,t){return e>=t}),Wa=jr(function(){return arguments}())?jr:function(e){return tu(e)&&Me.call(e,"callee")&&!Xe.call(e,"callee")},Ha=n.isArray,qa=wt?Jt(wt):function(e){return tu(e)&&Sr(e)==N};function Ga(e){return null!=e&&Ja(e.length)&&!$a(e)}function Ya(e){return tu(e)&&Ga(e)}var Xa=gt||ys,Ka=Ot?Jt(Ot):function(e){return tu(e)&&Sr(e)==w};function Za(e){if(!tu(e))return!1;var t=Sr(e);return t==O||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function $a(e){if(!eu(e))return!1;var t=Sr(e);return t==E||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==pu(e)}function Ja(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function eu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tu(e){return null!=e&&"object"==typeof e}var nu=Et?Jt(Et):function(e){return tu(e)&&vi(e)==S};function ru(e){return"number"==typeof e||tu(e)&&Sr(e)==P}function ou(e){if(!tu(e)||Sr(e)!=T)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ue}var iu=xt?Jt(xt):function(e){return tu(e)&&Sr(e)==k};var au=St?Jt(St):function(e){return tu(e)&&vi(e)==A};function uu(e){return"string"==typeof e||!Ha(e)&&tu(e)&&Sr(e)==j}function su(e){return"symbol"==typeof e||tu(e)&&Sr(e)==R}var lu=Pt?Jt(Pt):function(e){return tu(e)&&Ja(e.length)&&!!st[Sr(e)]};var cu=Yo(Fr),fu=Yo(function(e,t){return e<=t});function du(e){if(!e)return[];if(Ga(e))return uu(e)?vn(e):Ao(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=vi(e);return(t==S?ln:t==A?dn:Bu)(e)}function hu(e){return e?(e=yu(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pu(e){var t=hu(e),n=t%1;return t===t?n?t-n:t:0}function vu(e){return e?ur(pu(e),0,y):0}function yu(e){if("number"==typeof e)return e;if(su(e))return v;if(eu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ge.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ye.test(e)?v:+e}function gu(e){return jo(e,Ru(e))}function mu(e){return null==e?"":lo(e)}var bu=Io(function(e,t){if(xi(t)||Ga(t))jo(t,ju(t),e);else for(var n in t)Me.call(t,n)&&tr(e,n,t[n])}),_u=Io(function(e,t){jo(t,Ru(t),e)}),wu=Io(function(e,t,n,r){jo(t,Ru(t),e,r)}),Ou=Io(function(e,t,n,r){jo(t,ju(t),e,r)}),Eu=ri(ar);var xu=Zr(function(e,t){e=Pe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&_i(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Ru(a),s=-1,l=u.length;++s<l;){var c=u[s],f=e[c];(f===o||Ba(f,Re[c])&&!Me.call(e,c))&&(e[c]=a[c])}return e}),Su=Zr(function(e){return e.push(o,ei),Tt(Nu,o,e)});function Pu(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Tu(e,t){return null!=e&&yi(e,t,Cr)}var Cu=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n},es(rs)),ku=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]},li),Au=Zr(Ar);function ju(e){return Ga(e)?Zn(e):Dr(e)}function Ru(e){return Ga(e)?Zn(e,!0):Lr(e)}var Iu=Io(function(e,t,n){Vr(e,t,n)}),Nu=Io(function(e,t,n,r){Vr(e,t,n,r)}),Mu=ri(function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,function(t){return t=_o(t,e),r||(r=t.length>1),t}),jo(e,ii(e),n),r&&(n=sr(n,7,ti));for(var o=t.length;o--;)fo(n,t[o]);return n});var Du=ri(function(e,t){return null==e?{}:function(e,t){return qr(e,t,function(t,n){return Tu(e,n)})}(e,t)});function Lu(e,t){if(null==e)return{};var n=Mt(ii(e),function(e){return[e]});return t=li(t),qr(e,n,function(e,n){return t(e,n[0])})}var Fu=$o(ju),Uu=$o(Ru);function Bu(e){return null==e?[]:en(e,ju(e))}var zu=Lo(function(e,t,n){return t=t.toLowerCase(),e+(n?Vu(t):t)});function Vu(e){return Zu(mu(e).toLowerCase())}function Wu(e){return(e=mu(e))&&e.replace(we,on).replace(tt,"")}var Hu=Lo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qu=Lo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Gu=Do("toLowerCase");var Yu=Lo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Xu=Lo(function(e,t,n){return e+(n?" ":"")+Zu(t)});var Ku=Lo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zu=Do("toUpperCase");function $u(e,t,n){return e=mu(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Qu=Zr(function(e,t){try{return Tt(e,o,t)}catch(n){return Za(n)?n:new ue(n)}}),Ju=ri(function(e,t){return kt(t,function(t){t=Li(t),ir(e,t,ka(e[t],e))}),e});function es(e){return function(){return e}}var ts=Bo(),ns=Bo(!0);function rs(e){return e}function os(e){return Mr("function"==typeof e?e:sr(e,1))}var is=Zr(function(e,t){return function(n){return Ar(n,e,t)}}),as=Zr(function(e,t){return function(n){return Ar(e,n,t)}});function us(e,t,n){var r=ju(t),o=Or(t,r);null!=n||eu(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Or(t,ju(t)));var i=!(eu(n)&&"chain"in n)||!!n.chain,a=$a(e);return kt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ao(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})}),e}function ss(){}var ls=Ho(Mt),cs=Ho(jt),fs=Ho(Ut);function ds(e){return wi(e)?Yt(Li(e)):function(e){return function(t){return Er(t,e)}}(e)}var hs=Go(),ps=Go(!0);function vs(){return[]}function ys(){return!1}var gs=Wo(function(e,t){return e+t},0),ms=Ko("ceil"),bs=Wo(function(e,t){return e/t},1),_s=Ko("floor");var ws=Wo(function(e,t){return e*t},1),Os=Ko("round"),Es=Wo(function(e,t){return e-t},0);return Bn.after=function(e,t){if("function"!=typeof t)throw new ke(i);return e=pu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ta,Bn.assign=bu,Bn.assignIn=_u,Bn.assignInWith=wu,Bn.assignWith=Ou,Bn.at=Eu,Bn.before=Ca,Bn.bind=ka,Bn.bindAll=Ju,Bn.bindKey=Aa,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Bn.chain=da,Bn.chunk=function(e,t,r){t=(r?_i(e,t,r):t===o)?1:Xt(pu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=n(ht(i/t));a<i;)s[u++]=ro(e,a,a+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Dt(Ha(r)?Ao(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Mt(e,function(e){if("function"!=typeof e[1])throw new ke(i);return[n(e[0]),e[1]]}):[],Zr(function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}})},Bn.conforms=function(e){return function(e){var t=ju(e);return function(n){return lr(n,e,t)}}(sr(e,1))},Bn.constant=es,Bn.countBy=va,Bn.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Qo(t,s,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.debounce=ja,Bn.defaults=xu,Bn.defaultsDeep=Su,Bn.defer=Ra,Bn.delay=Ia,Bn.difference=Bi,Bn.differenceBy=zi,Bn.differenceWith=Vi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=n||t===o?1:pu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,0,(t=r-(t=n||t===o?1:pu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?po(e,li(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&_i(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=pu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:pu(r))<0&&(r+=i),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ha(e)?Rt:yr)(e,li(t,3))},Bn.flatMap=function(e,t){return gr(Ea(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Ea(e,t),h)},Bn.flatMapDepth=function(e,t,n){return n=n===o?1:pu(n),gr(Ea(e,t),n)},Bn.flatten=qi,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===o?1:pu(t)):[]},Bn.flip=function(e){return Qo(e,512)},Bn.flow=ts,Bn.flowRight=ns,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:Or(e,ju(e))},Bn.functionsIn=function(e){return null==e?[]:Or(e,Ru(e))},Bn.groupBy=_a,Bn.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},Bn.intersection=Yi,Bn.intersectionBy=Xi,Bn.intersectionWith=Ki,Bn.invert=Cu,Bn.invertBy=ku,Bn.invokeMap=wa,Bn.iteratee=os,Bn.keyBy=Oa,Bn.keys=ju,Bn.keysIn=Ru,Bn.map=Ea,Bn.mapKeys=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){ir(n,t(e,r,o),e)}),n},Bn.mapValues=function(e,t){var n={};return t=li(t,3),_r(e,function(e,r,o){ir(n,r,t(e,r,o))}),n},Bn.matches=function(e){return Br(sr(e,1))},Bn.matchesProperty=function(e,t){return zr(e,sr(t,1))},Bn.memoize=Na,Bn.merge=Iu,Bn.mergeWith=Nu,Bn.method=is,Bn.methodOf=as,Bn.mixin=us,Bn.negate=Ma,Bn.nthArg=function(e){return e=pu(e),Zr(function(t){return Wr(t,e)})},Bn.omit=Mu,Bn.omitBy=function(e,t){return Lu(e,Ma(li(t)))},Bn.once=function(e){return Ca(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?o:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Bn.over=ls,Bn.overArgs=Da,Bn.overEvery=cs,Bn.overSome=fs,Bn.partial=La,Bn.partialRight=Fa,Bn.partition=xa,Bn.pick=Du,Bn.pickBy=Lu,Bn.property=ds,Bn.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},Bn.pull=$i,Bn.pullAll=Qi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},Bn.pullAt=Ji,Bn.range=hs,Bn.rangeRight=ps,Bn.rearg=Ua,Bn.reject=function(e,t){return(Ha(e)?Rt:yr)(e,Ma(li(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Yr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new ke(i);return Zr(e,t=t===o?t:pu(t))},Bn.reverse=ea,Bn.sampleSize=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:pu(t),(Ha(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Jr(e,t,n,r)},Bn.shuffle=function(e){return(Ha(e)?Jn:no)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_i(e,t,n)?(t=0,n=r):(t=null==t?0:pu(t),n=n===o?r:pu(n)),ro(e,t,n)):[]},Bn.sortBy=Sa,Bn.sortedUniq=function(e){return e&&e.length?uo(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?uo(e,li(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&_i(e,t,n)&&(t=n=o),(n=n===o?y:n>>>0)?(e=mu(e))&&("string"==typeof t||null!=t&&!iu(t))&&!(t=lo(t))&&sn(e)?Oo(vn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new ke(i);return t=null==t?0:Xt(pu(t),0),Zr(function(n){var r=n[t],o=Oo(n,0,t);return r&&Dt(o,r),Tt(e,this,o)})},Bn.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ro(e,0,(t=n||t===o?1:pu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=r-(t=n||t===o?1:pu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?po(e,li(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?po(e,li(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ke(i);return eu(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ja(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=ha,Bn.toArray=du,Bn.toPairs=Fu,Bn.toPairsIn=Uu,Bn.toPath=function(e){return Ha(e)?Mt(e,Li):su(e)?[e]:Ao(Di(mu(e)))},Bn.toPlainObject=gu,Bn.transform=function(e,t,n){var r=Ha(e),o=r||Xa(e)||lu(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:eu(e)&&$a(i)?zn(Ge(e)):{}}return(o?kt:_r)(e,function(e,r,o){return t(n,e,r,o)}),n},Bn.unary=function(e){return Ta(e,1)},Bn.union=ta,Bn.unionBy=na,Bn.unionWith=ra,Bn.uniq=function(e){return e&&e.length?co(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?co(e,o,t):[]},Bn.unset=function(e,t){return null==e||fo(e,t)},Bn.unzip=oa,Bn.unzipWith=ia,Bn.update=function(e,t,n){return null==e?e:ho(e,t,bo(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,bo(n),r)},Bn.values=Bu,Bn.valuesIn=function(e){return null==e?[]:en(e,Ru(e))},Bn.without=aa,Bn.words=$u,Bn.wrap=function(e,t){return La(bo(t),e)},Bn.xor=ua,Bn.xorBy=sa,Bn.xorWith=la,Bn.zip=ca,Bn.zipObject=function(e,t){return go(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return go(e||[],t||[],Jr)},Bn.zipWith=fa,Bn.entries=Fu,Bn.entriesIn=Uu,Bn.extend=_u,Bn.extendWith=wu,us(Bn,Bn),Bn.add=gs,Bn.attempt=Qu,Bn.camelCase=zu,Bn.capitalize=Vu,Bn.ceil=ms,Bn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=yu(n))===n?n:0),t!==o&&(t=(t=yu(t))===t?t:0),ur(yu(e),t,n)},Bn.clone=function(e){return sr(e,4)},Bn.cloneDeep=function(e){return sr(e,5)},Bn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:o)},Bn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:o)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,ju(t))},Bn.deburr=Wu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bs,Bn.endsWith=function(e,t,n){e=mu(e),t=lo(t);var r=e.length,i=n=n===o?r:ur(pu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=Ba,Bn.escape=function(e){return(e=mu(e))&&$.test(e)?e.replace(K,an):e},Bn.escapeRegExp=function(e){return(e=mu(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Bn.every=function(e,t,n){var r=Ha(e)?jt:pr;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Bn.find=ya,Bn.findIndex=Wi,Bn.findKey=function(e,t){return zt(e,li(t,3),_r)},Bn.findLast=ga,Bn.findLastIndex=Hi,Bn.findLastKey=function(e,t){return zt(e,li(t,3),wr)},Bn.floor=_s,Bn.forEach=ma,Bn.forEachRight=ba,Bn.forIn=function(e,t){return null==e?e:mr(e,li(t,3),Ru)},Bn.forInRight=function(e,t){return null==e?e:br(e,li(t,3),Ru)},Bn.forOwn=function(e,t){return e&&_r(e,li(t,3))},Bn.forOwnRight=function(e,t){return e&&wr(e,li(t,3))},Bn.get=Pu,Bn.gt=za,Bn.gte=Va,Bn.has=function(e,t){return null!=e&&yi(e,t,Tr)},Bn.hasIn=Tu,Bn.head=Gi,Bn.identity=rs,Bn.includes=function(e,t,n,r){e=Ga(e)?e:Bu(e),n=n&&!r?pu(n):0;var o=e.length;return n<0&&(n=Xt(o+n,0)),uu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Wt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:pu(n);return o<0&&(o=Xt(r+o,0)),Wt(e,t,o)},Bn.inRange=function(e,t,n){return t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n){return e>=bn(t,n)&&e<Xt(t,n)}(e=yu(e),t,n)},Bn.invoke=Au,Bn.isArguments=Wa,Bn.isArray=Ha,Bn.isArrayBuffer=qa,Bn.isArrayLike=Ga,Bn.isArrayLikeObject=Ya,Bn.isBoolean=function(e){return!0===e||!1===e||tu(e)&&Sr(e)==_},Bn.isBuffer=Xa,Bn.isDate=Ka,Bn.isElement=function(e){return tu(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||lu(e)||Wa(e)))return!e.length;var t=vi(e);if(t==S||t==A)return!e.size;if(xi(e))return!Dr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Rr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Rr(e,t,o,n):!!r},Bn.isError=Za,Bn.isFinite=function(e){return"number"==typeof e&&bt(e)},Bn.isFunction=$a,Bn.isInteger=Qa,Bn.isLength=Ja,Bn.isMap=nu,Bn.isMatch=function(e,t){return e===t||Ir(e,t,fi(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Ir(e,t,fi(t),n)},Bn.isNaN=function(e){return ru(e)&&e!=+e},Bn.isNative=function(e){if(Ei(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ru,Bn.isObject=eu,Bn.isObjectLike=tu,Bn.isPlainObject=ou,Bn.isRegExp=iu,Bn.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=au,Bn.isString=uu,Bn.isSymbol=su,Bn.isTypedArray=lu,Bn.isUndefined=function(e){return e===o},Bn.isWeakMap=function(e){return tu(e)&&vi(e)==I},Bn.isWeakSet=function(e){return tu(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":_t.call(e,t)},Bn.kebabCase=Hu,Bn.last=Zi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=pu(n))<0?Xt(r+i,0):bn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Vt(e,qt,i,!0)},Bn.lowerCase=qu,Bn.lowerFirst=Gu,Bn.lt=cu,Bn.lte=fu,Bn.max=function(e){return e&&e.length?vr(e,rs,Pr):o},Bn.maxBy=function(e,t){return e&&e.length?vr(e,li(t,2),Pr):o},Bn.mean=function(e){return Gt(e,rs)},Bn.meanBy=function(e,t){return Gt(e,li(t,2))},Bn.min=function(e){return e&&e.length?vr(e,rs,Fr):o},Bn.minBy=function(e,t){return e&&e.length?vr(e,li(t,2),Fr):o},Bn.stubArray=vs,Bn.stubFalse=ys,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=ws,Bn.nth=function(e,t){return e&&e.length?Wr(e,pu(t)):o},Bn.noConflict=function(){return vt._===this&&(vt._=Be),this},Bn.noop=ss,Bn.now=Pa,Bn.pad=function(e,t,n){e=mu(e);var r=(t=pu(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return qo(pt(o),n)+e+qo(ht(o),n)},Bn.padEnd=function(e,t,n){e=mu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?e+qo(t-r,n):e},Bn.padStart=function(e,t,n){e=mu(e);var r=(t=pu(t))?pn(e):0;return t&&r<t?qo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(mu(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_i(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hu(e),t===o?(t=e,e=0):t=hu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=On();return bn(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return Xr(e,t)},Bn.reduce=function(e,t,n){var r=Ha(e)?Lt:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,dr)},Bn.reduceRight=function(e,t,n){var r=Ha(e)?Ft:Kt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Bn.repeat=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:pu(t),Kr(mu(e),t)},Bn.replace=function(){var e=arguments,t=mu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=_o(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Li(t[r])];a===o&&(r=i,a=n),e=$a(a)?a.call(e):a}return e},Bn.round=Os,Bn.runInContext=e,Bn.sample=function(e){return(Ha(e)?$n:$r)(e)},Bn.size=function(e){if(null==e)return 0;if(Ga(e))return uu(e)?pn(e):e.length;var t=vi(e);return t==S||t==A?e.size:Dr(e).length},Bn.snakeCase=Yu,Bn.some=function(e,t,n){var r=Ha(e)?Ut:oo;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Bn.sortedIndex=function(e,t){return io(e,t)},Bn.sortedIndexBy=function(e,t,n){return ao(e,t,li(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return io(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ao(e,t,li(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Bn.startCase=Xu,Bn.startsWith=function(e,t,n){return e=mu(e),n=null==n?0:ur(pu(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Bn.subtract=Es,Bn.sum=function(e){return e&&e.length?Zt(e,rs):0},Bn.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&_i(e,t,n)&&(t=o),e=mu(e),t=wu({},t,r,Jo);var i,a,u=wu({},t.imports,r.imports,Jo),s=ju(u),l=en(u,s),c=0,f=t.interpolate||Oe,d="__p += '",h=Te((t.escape||Oe).source+"|"+f.source+"|"+(f===ee?pe:Oe).source+"|"+(t.evaluate||Oe).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(h,function(t,n,r,o,u,s){return r||(r=o),d+=e.slice(c,s).replace(Ee,un),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),d+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(q,""):d).replace(G,"$1").replace(Y,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Qu(function(){return xe(s,p+"return "+d).apply(o,l)});if(y.source=d,Za(y))throw y;return y},Bn.times=function(e,t){if((e=pu(e))<1||e>p)return[];var n=y,r=bn(e,y);t=li(t),e-=y;for(var o=$t(r,t);++n<e;)t(n);return o},Bn.toFinite=hu,Bn.toInteger=pu,Bn.toLength=vu,Bn.toLower=function(e){return mu(e).toLowerCase()},Bn.toNumber=yu,Bn.toSafeInteger=function(e){return e?ur(pu(e),-9007199254740991,p):0===e?e:0},Bn.toString=mu,Bn.toUpper=function(e){return mu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=mu(e))&&(n||t===o))return Qt(e);if(!e||!(t=lo(t)))return e;var r=vn(e),i=vn(t);return Oo(r,nn(r,i),rn(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=mu(e))&&(n||t===o))return e.slice(0,yn(e)+1);if(!e||!(t=lo(t)))return e;var r=vn(e);return Oo(r,0,rn(r,vn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=mu(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=vn(e);return Oo(r,nn(r,vn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(eu(t)){var i="separator"in t?t.separator:i;n="length"in t?pu(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=mu(e)).length;if(sn(e)){var u=vn(e);a=u.length}if(n>=a)return e;var s=n-pn(r);if(s<1)return r;var l=u?Oo(u,0,s).join(""):e.slice(0,s);if(i===o)return l+r;if(u&&(s+=l.length-s),iu(i)){if(e.slice(s).search(i)){var c,f=l;for(i.global||(i=Te(i.source,mu(ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?s:d)}}else if(e.indexOf(lo(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Bn.unescape=function(e){return(e=mu(e))&&Z.test(e)?e.replace(X,gn):e},Bn.uniqueId=function(e){var t=++De;return mu(e)+t},Bn.upperCase=Ku,Bn.upperFirst=Zu,Bn.each=ma,Bn.eachRight=ba,Bn.first=Gi,us(Bn,function(){var e={};return _r(Bn,function(t,n){Me.call(Bn.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Bn.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bn[e].placeholder=Bn}),kt(["drop","take"],function(e,t){Hn.prototype[e]=function(n){n=n===o?1:Xt(pu(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}}),kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}}),Hn.prototype.compact=function(){return this.filter(rs)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Zr(function(e,t){return"function"==typeof e?new Hn(this):this.map(function(n){return Ar(n,e,t)})}),Hn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Hn.prototype.slice=function(e,t){e=pu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=pu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(y)},_r(Hn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Hn,l=u[0],c=s||Ha(t),f=function(e){var t=i.apply(Bn,Dt([e],u));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=s&&!h;if(!a&&c){t=v?t:new Hn(this);var y=e.apply(t,u);return y.__actions__.push({func:ha,args:[f],thisArg:o}),new Wn(y,d)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ha(o)?o:[],e)}return this[n](function(n){return t.apply(Ha(n)?n:[],e)})}}),_r(Hn.prototype,function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(jn,r)||(jn[r]=[]),jn[r].push({name:t,func:n})}}),jn[zo(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ao(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ao(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ao(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=Xt(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,d=0,h=bn(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return vo(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,y=e[l+=t];++v<f;){var g=c[v],m=g.iteratee,b=g.type,_=m(y);if(2==b)y=_;else if(!_){if(1==b)continue e;break e}}p[d++]=y}return p},Bn.prototype.at=pa,Bn.prototype.chain=function(){return da(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=du(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Ui(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ea)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,$e&&(Bn.prototype[$e]=function(){return this}),Bn}();vt._=mn,(r=function(){return mn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},54051:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var o=n(84347),i=n(24296),a=n(18137),u=n(81116),s=n(9620),l=n(30509),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function h(e,t){return function(n){return function(r){return e[n](t,r)}}}t.fromEvent=function e(t,n,p,v){if(s.isFunction(p)&&(v=p,p=void 0),v)return e(t,n,p).pipe(l.mapOneOrManyArgs(v));var y=r(function(e){return s.isFunction(e.addEventListener)&&s.isFunction(e.removeEventListener)}(t)?f.map(function(e){return function(r){return t[e](n,r,p)}}):function(e){return s.isFunction(e.addListener)&&s.isFunction(e.removeListener)}(t)?c.map(h(t,n)):function(e){return s.isFunction(e.on)&&s.isFunction(e.off)}(t)?d.map(h(t,n)):[],2),g=y[0],m=y[1];if(!g&&u.isArrayLike(t))return a.mergeMap(function(t){return e(t,n,p)})(o.innerFrom(t));if(!g)throw new TypeError("Invalid event target");return new i.Observable(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return g(t),function(){return m(t)}})}},54052:e=>{var t=Array.isArray;e.exports=t},54160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},54193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(19304),o=n(98684);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},54320:(e,t,n)=>{var r=n(83713),o=n(26924),i=n(22777),a=n(54052),u=n(6571),s=n(44543),l=n(36140),c=n(51268),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||c(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},54429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(73508),o=n(9620),i=n(62101);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},54715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},55089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(62161);t.finalize=function(e){return r.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}},55119:(e,t,n)=>{var r=n(96614),o=n(30474);e.exports=function(e,t){return e&&r(t,o(t),e)}},55244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(93323),o=n(15321),i=n(43182);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},55350:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._connection=t,n}return r(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=(t.accessMode,t.database,t.bookmarks,this._connection);return this._connection=null,Promise.resolve(n)},t}(n(15359).ConnectionProvider);t.default=o},55430:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),o=0;o<r.length;o++)"default"!==r[o]&&i(n,t,r[o]);return a(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.clientCertificateProviders=t.RotatingClientCertificateProvider=t.ClientCertificateProvider=void 0,t.resolveCertificateProvider=function(e){if(null==e)return;if("object"===typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"===typeof e.getClientCertificate&&"function"===typeof e.hasUpdate)return e;if(h(e)){var t=o({},e);return{getClientCertificate:function(){return t},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(s.stringify(e)))};var s=u(n(90961)),l=function(){this.certfile="",this.keyfile="",this.password=void 0};t.default=l;var c=function(){function e(){}return e.prototype.hasUpdate=function(){throw new Error("Not Implemented")},e.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},e}();t.ClientCertificateProvider=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.updateCertificate=function(e){throw new Error("Not implemented")},t}(c);t.RotatingClientCertificateProvider=f;var d=new(function(){function e(){}return e.prototype.rotating=function(e){var t=e.initialCertificate;if(null==t||!h(t))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(s.stringify(t)));var n=o({},t);return new g(n)},e}());function h(e){return null!=e&&"object"===typeof e&&"certfile"in e&&(p(t=e.certfile)||v(t,p))&&"keyfile"in e&&function(e){function t(e){return"string"===typeof e||null!=e&&"object"===typeof e&&"path"in e&&"string"===typeof e.path&&y("password",e)}return t(e)||v(e,t)}(e.keyfile)&&y("password",e);var t}function p(e){return"string"===typeof e}function v(e,t,n){return void 0===n&&(n=!1),Array.isArray(e)&&(n||e.length>0)&&e.filter(t).length===e.length}function y(e,t){return!(e in t)||null==t[e]||"string"===typeof t[e]}t.clientCertificateProviders=d,Object.freeze(d);var g=function(){function e(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}return e.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},e.prototype.getClientCertificate=function(){return this._certificate},e.prototype.updateCertificate=function(e){if(!h(e))throw new TypeError("certificate should be ClientCertificate, but got ".concat(s.stringify(e)));this._certificate=o({},e),this._updated=!0},e}()},55468:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var o=n(94937),i=n(12836),a=function(e){function t(t,n){void 0===t&&(t=u),void 0===n&&(n=1/0);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(44682).AsyncScheduler);t.VirtualTimeScheduler=a;var u=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return r(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return i.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);t.VirtualAction=u},55491:(e,t,n)=>{var r=n(80726),o=n(45652),i=n(25111),a=n(54052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},55549:function(e,t,n){"use strict";var r,o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var i=n(41421),a="error",u="warn",s="info",l="debug",c=s,f=((r={})[a]=0,r[u]=1,r[s]=2,r[l]=3,r),d=function(){function e(e,t){this._level=e,this._loggerFunction=t}return e.create=function(t){if(null!=(null===t||void 0===t?void 0:t.logging)){var n=t.logging,r=function(e){if(null!=(null===e||void 0===e?void 0:e.level)){var t=e.level,n=f[t];if(null==n&&0!==n)throw(0,i.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(f).toString()));return t}return c}(n),o=function(e){var t,n;if(null!=(null===e||void 0===e?void 0:e.logger)){var r=e.logger;if(null!=r&&"function"===typeof r)return r}throw(0,i.newError)("Illegal logger function: ".concat(null!==(n=null===(t=null===e||void 0===e?void 0:e.logger)||void 0===t?void 0:t.toString())&&void 0!==n?n:"undefined"))}(n);return new e(r,o)}return this.noOp()},e.noOp=function(){return h},e.prototype.isErrorEnabled=function(){return p(this._level,a)},e.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(a,e)},e.prototype.isWarnEnabled=function(){return p(this._level,u)},e.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(u,e)},e.prototype.isInfoEnabled=function(){return p(this._level,s)},e.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(s,e)},e.prototype.isDebugEnabled=function(){return p(this._level,l)},e.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(l,e)},e}();t.Logger=d;var h=new(function(e){function t(){return e.call(this,s,function(e,t){})||this}return o(t,e),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(d));function p(e,t){return f[e]>=f[t]}},55591:(e,t,n)=>{"use strict";n.d(t,{d:()=>s,j:()=>l});var r=n(4937),o=n(23333),i=n(6326),a=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,n){var r=new Date;this._logs.push({level:e,message:t,time:r,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(e,t){var n,r,o,a=(0,i.Cl)((0,i.Cl)({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete a.time;var u=null!==(o=null===(r=t.time)||void 0===r?void 0:r.toISOString())&&void 0!==o?o:"";return e[u]&&(u="".concat(u,"-").concat(Math.random())),(0,i.Cl)((0,i.Cl)({},e),((n={})[u]=a,n))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(e){var t=e.level,n=e.message,r=e.extras;"info"===t||"debug"===t?console.log(n,null!==r&&void 0!==r?r:""):console[t](n,null!==r&&void 0!==r?r:"")});this._logs=[]},e}(),u=n(74087),s=function(e){var t,n,r;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(n=e.type)&&void 0!==n?n:"plugin Error",this.reason=null!==(r=e.reason)&&void 0!==r?r:""},l=function(){function e(e,t,n,o){void 0===t&&(t=(0,r.v4)()),void 0===n&&(n=new u.r),void 0===o&&(o=new a),this.attempts=0,this.event=e,this._id=t,this.logger=o,this.stats=n}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new s({reason:"Context Cancel"})},e.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var n;if("integrations"===e.split(".")[0]){var r=e.split(".")[1];if(!1===(null===(n=this.event.integrations)||void 0===n?void 0:n[r]))return this.event}return(0,o.J)(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}()},55636:(e,t,n)=>{var r=n(8789),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,u=o(i.length-t,0),s=Array(u);++a<u;)s[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),r(e,this,l)}}},55647:(e,t,n)=>{var r=n(33279),o=n(55636),i=n(46350);e.exports=function(e,t){return i(o(e,t,r),e+"")}},55824:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(19304),a=n(62161);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate(function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)})}},55906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}},56173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(24296);t.EMPTY=new r.Observable(function(e){return e.complete()}),t.empty=function(e){return e?function(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):t.EMPTY}},56326:(e,t,n)=>{var r=n(48895),o=n(85990),i=n(69621),a=n(57828),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=u},56329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},56503:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15359),a=n(30819),u=n(37929),s=0,l=1,c=2,f=function(){function e(e,t){var n=e.pipe((0,u.publishReplay)(1),(0,u.refCount)());this._result=n,this._keys=n.pipe((0,u.mergeMap)(function(e){return(0,a.from)(e.keys())}),(0,u.publishReplay)(1),(0,u.refCount)()),this._records=void 0,this._controls=new d,this._summary=new a.ReplaySubject,this._state=t||s}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var e=this,t=this._result.pipe((0,u.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,recordsObserver:n})})}));return t.push=function(){return e._push()},t},e.prototype.consume=function(){var e=this;return this._result.pipe((0,u.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,summaryObserver:n})})}))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(e){var t=void 0===e?{}:e,n=t.result,r=t.recordsObserver,o=void 0===r?null:r,a=t.summaryObserver,u=void 0===a?null:a,s=[];return u&&s.push(this._summary.subscribe(u)),this._state<l?(this._state=l,this._setupRecordsStream(n),o?s.push(this._records.subscribe(o)):n._cancel(),s.push({unsubscribe:function(){n._cancel&&n._cancel()}})):o&&o.error((0,i.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){s.forEach(function(e){return e.unsubscribe()})}},e.prototype._toObservable=function(){var t=this;return new a.Observable(function(n){t._result.subscribe({complete:function(){return n.complete()},next:function(r){return n.next(new e(function(e){return new a.Observable(function(t){t.next(e),t.complete()})}(r)),t._state)},error:function(e){return n.error(e)}})})},e.prototype._setupRecordsStream=function(e){var t=this;return this._records||(this._records=function(e,t,n){var i=this;void 0===n&&(n=new d);var u=new a.Subject,s=function(a){return r(i,void 0,void 0,function(){var r,i,l,c;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),n.pushing=!0,[4,a];case 1:return r=o.sent(),i=r.done,l=r.value,i?(u.complete(),t.complete()):(u.next(l),n.paused||s(e.next()).catch(function(){})),[3,4];case 2:return c=o.sent(),u.error(c),t.error(c),[3,4];case 3:return n.pushing=!1,[7];case 4:return[2]}})})};function l(t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,s(e.next(t))];case 1:return n.sent(),[2]}})})}return n.pusher=l,l(),u}(e[Symbol.asyncIterator](),{complete:function(){return r(t,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return this._state=c,n=(t=this._summary).next,[4,e.summary()];case 1:return n.apply(t,[r.sent()]),this._summary.complete(),[2]}})})},error:function(e){t._state=c,t._summary.error(e)}},this._controls)),this._records},e}();t.default=f;var d=function(){function e(e){void 0===e&&(e=function(){return r(t,void 0,void 0,function(){return o(this,function(e){return[2]})})});var t=this;this._paused=!1,this._pushing=!1,this._push=e}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=this._paused,this._paused=!1,!e||this._pushing?[3,2]:[4,this._push()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.push=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0}),e}()},56552:(e,t,n)=>{var r=n(37105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},56575:(e,t,n)=>{"use strict";var r=n(53536),o=n(71720),i=n(38637),a=n(6322),u=n(26746),s=n(1406),l=n(79207).Graph,c=n(67606);function f(e,t,n){return r.map(t,function(t){return u(e,t,n)})}function d(e,t){var n=new l;r.forEach(e,function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,function(t,n){e.node(t).order=n}),s(e,n,i.vs)})}function h(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=c.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),u=o(e);h(e,u);for(var s,l=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){d(p%2?n:a,p%4>=2),u=c.buildLayerMatrix(e);var y=i(e,u);y<l&&(v=0,s=r.cloneDeep(u),l=y)}h(e,s)}},56686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(98994),o=n(62161),i=n(44845);t.materialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){t.next(r.Notification.createNext(e))},function(){t.next(r.Notification.createComplete()),t.complete()},function(e){t.next(r.Notification.createError(e)),t.complete()}))})}},56734:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var u=r-n,s=0,l=u-1;s<u;l=s++){var c=t[s+n][0],f=t[s+n][1],d=t[l+n][0],h=t[l+n][1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},56832:(e,t,n)=>{e=n.nmd(e);var r=n(37105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=u},56874:(e,t,n)=>{var r=n(12622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},57206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(62161),o=n(91218);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},57390:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(92173);function o(e,t){var n=new r.Facade(e,t);return"track"===e.type&&(n=new r.Track(e,t)),"identify"===e.type&&(n=new r.Identify(e,t)),"page"===e.type&&(n=new r.Page(e,t)),"alias"===e.type&&(n=new r.Alias(e,t)),"group"===e.type&&(n=new r.Group(e,t)),"screen"===e.type&&(n=new r.Screen(e,t)),Object.defineProperty(n,"obj",{value:e,writable:!0}),n}},57744:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={load:function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,e]})})}}},57828:e=>{e.exports=function(){return[]}},57887:(e,t,n)=>{var r=n(5791),o=n(47574),i=n(56832),a=i&&i.isMap,u=a?o(a):r;e.exports=u},57909:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=t}return e.prototype.check=function(e){return n(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(e)?[2,!0]:(t=Date.now()-e.idleTimestamp,0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout?[4,e.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,n.sent()];case 2:return[2,!0]}})})},Object.defineProperty(e.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),e.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},e}();t.default=o},58114:e=>{e.exports=function(e,t){return e.has(t)}},58122:(e,t,n)=>{var r=n(46686),o=n(36140),i=n(43516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&n.push(u);return n}},58620:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SECONDS_PER_DAY=t.DAYS_PER_400_YEAR_CYCLE=t.DAYS_0000_TO_1970=t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE=t.NANOS_PER_MILLISECOND=t.NANOS_PER_SECOND=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=t.MINUTES_PER_HOUR=t.NANOSECOND_OF_SECOND_RANGE=t.SECOND_OF_MINUTE_RANGE=t.MINUTE_OF_HOUR_RANGE=t.HOUR_OF_DAY_RANGE=t.DAY_OF_MONTH_RANGE=t.MONTH_OF_YEAR_RANGE=t.YEAR_RANGE=void 0,t.normalizeYearsForDuration=c,t.normalizeMonthsForDuration=f,t.normalizeHoursForDuration=d,t.normalizeMinutesForDuration=h,t.normalizeSecondsForDuration=function(e,n){return(0,a.int)(e).add(b(n,t.NANOS_PER_SECOND))},t.normalizeNanosecondsForDuration=function(e){return _(e,t.NANOS_PER_SECOND)},t.localTimeToNanoOfDay=function(e,n,r,o){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r),o=(0,a.int)(o);var i=e.multiply(t.NANOS_PER_HOUR);return(i=(i=i.add(n.multiply(t.NANOS_PER_MINUTE))).add(r.multiply(t.NANOS_PER_SECOND))).add(o)},t.localDateTimeToEpochSecond=function(e,n,r,o,i,u,s){var l=p(e,n,r),c=function(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(t.SECONDS_PER_HOUR);return o=o.add(n.multiply(t.SECONDS_PER_MINUTE)),o.add(r)}(o,i,u);return l.multiply(t.SECONDS_PER_DAY).add(c)},t.dateToEpochDay=p,t.durationToIsoString=function(e,n,r,o){if((0,a.int)(e).equals(0)&&(0,a.int)(n).equals(0)&&(0,a.int)(r).equals(0)&&(0,a.int)(o).equals(0))return"PT0S";var i=O(c(e)),u=O(f(e)),s=O(n),l=O(d(r,o)),p=O(h(r,o)),v=function(e,n){var r,o;e=(0,a.int)(e),n=(0,a.int)(n);var i=e.isNegative(),u=n.greaterThan(0);r=i&&u?(e=e.add(1).negate().modulo(60).negate()).equals(0)?"-0":e.toString():e.modulo(60).toString();u&&(o=w(i?n.negate().add(2*t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND):n.add(t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND)));return null!=o?r+o:r}(r,o);return"P".concat("0"!==i?i+"Y":"")+"".concat("0"!==u?u+"M":"")+"".concat("0"!==s?s+"D":"","T")+"".concat("0"!==l?l+"H":"")+"".concat("0"!==p?p+"M":"")+"".concat("0"!==v?v+"S":"")},t.timeToIsoString=function(e,t,n,r){var o=O(e,2),i=O(t,2),a=O(n,2),u=w(r);return"".concat(o,":").concat(i,":").concat(a).concat(u)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var n=e.isNegative();n&&(e=e.multiply(-1));var r=n?"-":"+",o=O(e.div(t.SECONDS_PER_HOUR),2),i=O(e.div(t.SECONDS_PER_MINUTE).modulo(t.MINUTES_PER_HOUR),2),u=e.modulo(t.SECONDS_PER_MINUTE),s=u.equals(0)?null:O(u,2);return null!=s?"".concat(r).concat(o,":").concat(i,":").concat(s):"".concat(r).concat(o,":").concat(i)},t.dateToIsoString=function(e,t,n){var r=function(e){var t=(0,a.int)(e);if(t.isNegative()||t.greaterThan(9999))return O(t,6,{usePositiveSign:!0});return O(t,4)}(e),o=O(t,2),i=O(n,2);return"".concat(r,"-").concat(o,"-").concat(i)},t.isoStringToStandardDate=function(e){return new Date(e)},t.toStandardDate=function(e){return new Date(e)},t.newDate=function(e){return new Date(e)},t.totalNanoseconds=function(e,n){n=null!==n&&void 0!==n?n:0;var r=e.getMilliseconds()*t.NANOS_PER_MILLISECOND;return function(e,t){if(e instanceof a.default)return e.add(t);if("bigint"===typeof e)return e+BigInt(t);return e+t}(n,r)},t.timeZoneOffsetInSeconds=function(e){var n=e.getSeconds()-e.getUTCSeconds(),r=e.getMinutes()-e.getUTCMinutes(),o=e.getHours()-e.getUTCHours(),i=function(e){return e.getMonth()===e.getUTCMonth()?e.getDate()-e.getUTCDate():e.getFullYear()>e.getUTCFullYear()||e.getMonth()>e.getUTCMonth()&&e.getFullYear()===e.getUTCFullYear()?e.getDate()+v(e.getUTCMonth(),e.getUTCFullYear())-e.getUTCDate():e.getDate()-(e.getUTCDate()+v(e.getMonth(),e.getFullYear()))}(e);return o*t.SECONDS_PER_HOUR+r*t.SECONDS_PER_MINUTE+n+i*t.SECONDS_PER_DAY},t.assertValidYear=function(e){return m(e,t.YEAR_RANGE,"Year")},t.assertValidMonth=function(e){return m(e,t.MONTH_OF_YEAR_RANGE,"Month")},t.assertValidDay=function(e){return m(e,t.DAY_OF_MONTH_RANGE,"Day")},t.assertValidHour=function(e){return m(e,t.HOUR_OF_DAY_RANGE,"Hour")},t.assertValidMinute=function(e){return m(e,t.MINUTE_OF_HOUR_RANGE,"Minute")},t.assertValidSecond=function(e){return m(e,t.SECOND_OF_MINUTE_RANGE,"Second")},t.assertValidNanosecond=function(e){return m(e,t.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")},t.assertValidZoneId=function(e,t){var n=y.get(t);if(!0===n)return;if(!1===n)throw g(t,e);try{Intl.DateTimeFormat(void 0,{timeZone:t}),y.set(t,!0)}catch(r){throw y.set(t,!1),g(t,e)}},t.floorDiv=b,t.floorMod=_;var a=i(n(70905)),u=n(41421),s=n(36021),l=function(){function e(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,a.int)(e),this._maxInteger=(0,a.int)(t)}return e.prototype.contains=function(e){if((0,a.isInt)(e)&&e instanceof a.default)return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger);if("bigint"===typeof e){var t=(0,a.int)(e);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)}return e>=this._minNumber&&e<=this._maxNumber},e.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},e}();function c(e){return(0,a.int)(e).div(12)}function f(e){return(0,a.int)(e).modulo(12)}function d(e,n){return(0,a.int)(n).greaterThan(0)&&(0,a.int)(e).lessThan(0)&&(e=(0,a.int)(e).add(1)),(0,a.int)(e).div(t.SECONDS_PER_HOUR)}function h(e,n){(0,a.int)(n).greaterThan(0)&&(0,a.int)(e).lessThan(0)&&(e=(0,a.int)(e).add(1));var r=(0,a.int)(e).div(t.SECONDS_PER_MINUTE),o=r.isNegative();return o&&(r=r.negate()),_(r,t.MINUTES_PER_HOUR).multiply(o?-1:1)}function p(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(365);return o=(o=(o=e.greaterThanOrEqual(0)?o.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):o.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(n.multiply(367).subtract(362).div(12))).add(r.subtract(1)),n.greaterThan(2)&&(o=o.subtract(1),function(e){return e=(0,a.int)(e),!!e.modulo(4).equals(0)&&(!e.modulo(100).equals(0)||!!e.modulo(400).equals(0))}(e)||(o=o.subtract(1))),o.subtract(t.DAYS_0000_TO_1970)}function v(e,t){return 1===e?t%400===0||t%4===0&&t%100!==0?29:28:[0,2,4,6,7,9,11].includes(e)?31:30}t.YEAR_RANGE=new l(-999999999,999999999),t.MONTH_OF_YEAR_RANGE=new l(1,12),t.DAY_OF_MONTH_RANGE=new l(1,31),t.HOUR_OF_DAY_RANGE=new l(0,23),t.MINUTE_OF_HOUR_RANGE=new l(0,59),t.SECOND_OF_MINUTE_RANGE=new l(0,59),t.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),t.MINUTES_PER_HOUR=60,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.NANOS_PER_SECOND=1e9,t.NANOS_PER_MILLISECOND=1e6,t.NANOS_PER_MINUTE=t.NANOS_PER_SECOND*t.SECONDS_PER_MINUTE,t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE*t.MINUTES_PER_HOUR,t.DAYS_0000_TO_1970=719528,t.DAYS_PER_400_YEAR_CYCLE=146097,t.SECONDS_PER_DAY=86400;var y=new Map,g=function(e,t){return(0,u.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))};function m(e,t,n){if((0,s.assertNumberOrInteger)(e,n),!t.contains(e))throw(0,u.newError)("".concat(n," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()));return e}function b(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var n=e.div(t);return e.isPositive()!==t.isPositive()&&n.multiply(t).notEquals(e)&&(n=n.subtract(1)),n}function _(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(b(e,t).multiply(t))}function w(e){return(e=(0,a.int)(e)).equals(0)?"":"."+O(e,9)}function O(e,t,n){var r=(e=(0,a.int)(e)).isNegative();r&&(e=e.negate());var o=e.toString();if(null!=t)for(;o.length<t;)o="0"+o;return r?"-"+o:!0===(null===n||void 0===n?void 0:n.usePositiveSign)?"+"+o:o}},58832:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(34313)),u=i(n(37061)),s=i(n(19155)),l=n(15359).internal.constants.BOLT_PROTOCOL_V5_6,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{diagnostic_record:null!==e.diagnostic_record?o(o({},c),e.diagnostic_record):null})})),e},t}(a.default);t.default=f},59175:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.intervalProvider.delegate;return(null===u||void 0===u?void 0:u.setInterval)?u.setInterval.apply(u,r([e,o],n(i))):setInterval.apply(void 0,r([e,o],n(i)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null===n||void 0===n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},59395:(e,t,n)=>{var r=n(4262),o=n(69621),i=n(28673);e.exports=function(e){return r(e,i,o)}},59543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(62161),o=n(44845);t.refCount=function(){return r.operate(function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}});e.subscribe(r),r.closed||(n=e.connect())})}},59606:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(61954),a=n(62161),u=n(2694);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate(function(t,n){i.raceInit(o([t],r(e)))(n)}):u.identity}},59619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(81038);t.ArgumentOutOfRangeError=r.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},59847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(2694),o=n(62161),i=n(44845);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!==e&&void 0!==e?e:a,o.operate(function(n,r){var o,a=!0;n.subscribe(i.createOperatorSubscriber(r,function(n){var i=t(n);!a&&e(o,i)||(a=!1,o=i,r.next(n))}))})}},59929:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(75943),c=n(15359),f=s(n(74749)),d=n(66831),h=s(n(57909)),p=s(n(26933)),v=c.error.SERVICE_UNAVAILABLE,y=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],g=c.internal.pool,m=g.Pool,b=g.PoolConfig,_=function(e){function t(n,r){var s=n.id,c=n.config,d=n.log,v=n.userAgent,y=n.boltAgent,g=n.authTokenManager,_=n.newPool,w=void 0===_?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(m.bind.apply(m,u([void 0],a(e),!1)))}:_;void 0===r&&(r=null);var O=e.call(this)||this;return O._id=s,O._config=c,O._log=d,O._clientCertificateHolder=new p.default({clientCertificateProvider:O._config.clientCertificate}),O._authenticationProvider=new f.default({authTokenManager:g,userAgent:v,boltAgent:y}),O._livenessCheckProvider=new h.default({connectionLivenessCheckTimeout:c.connectionLivenessCheckTimeout}),O._userAgent=v,O._boltAgent=y,O._createChannelConnection=r||function(e){return o(O,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=l.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent()]))]}})})},O._connectionPool=w({create:O._createConnection.bind(O),destroy:O._destroyConnection.bind(O),validateOnAcquire:O._validateConnectionOnAcquire.bind(O),validateOnRelease:O._validateConnectionOnRelease.bind(O),installIdleObserver:t._installIdleObserverOnConnection.bind(O),removeIdleObserver:t._removeIdleObserverOnConnection.bind(O),config:b.fromDriverConfig(c),log:O._log}),O._openConnections={},O}return r(t,e),t.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(v)},t.prototype._getClientCertificate=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,this._config.clientCertificate.getClientCertificate()]})})},t.prototype._createConnection=function(e,t,n){var r=this,o=e.auth;return this._createChannelConnection(t).then(function(e){return e.release=function(){return e.idleTimestamp=Date.now(),n(t,e)},r._openConnections[e.id]=e,r._authenticationProvider.authenticate({connection:e,auth:o}).catch(function(t){throw r._destroyConnection(e),t})})},t.prototype._validateConnectionOnAcquire=function(e,t){return o(this,arguments,void 0,function(e,t){var n,r,o=e.auth,a=e.skipReAuth;return i(this,function(e){switch(e.label){case 0:if(!this._validateConnection(t))return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(t)];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),this._log.debug("The connection ".concat(t.id," is not alive because of an error ").concat(n.code," '").concat(n.message,"'")),[2,!1];case 4:return e.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:t,auth:o,skipReAuth:a})];case 5:return e.sent(),[2,!0];case 6:return r=e.sent(),this._log.debug("The connection ".concat(t.id," is not valid because of an error ").concat(r.code," '").concat(r.message,"'")),[2,!1];case 7:return[2]}})})},t.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return!(Date.now()-e.creationTimestamp>t)},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(e){return o(this,arguments,void 0,function(e){var t,n,r=e.address;return i(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.acquire({},r)];case 1:t=e.sent(),n=new c.ServerInfo(t.server,t.protocol().version),e.label=2;case 2:return e.trys.push([2,,5,7]),t.protocol().isLastMessageLogon()?[3,4]:[4,t.resetAndFlush()];case 3:e.sent(),e.label=4;case 4:return[3,7];case 5:return[4,t.release()];case 6:return e.sent(),[7];case 7:return[2,n]}})})},t.prototype._verifyAuthentication=function(e){return o(this,arguments,void 0,function(e){var t,n,r,o,a,u,s=e.getAddress,l=e.auth;return i(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,8,9,11]),[4,s()];case 2:return n=e.sent(),[4,this._connectionPool.acquire({auth:l,skipReAuth:!0},n)];case 3:if(r=e.sent(),t.push(r),o=!r.protocol().isLastMessageLogon(),!r.supportsReAuth)throw(0,c.newError)("Driver is connected to a database that does not support user switch.");return o&&r.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:r,auth:l,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return e.sent(),[3,7];case 5:return!o||r.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:l},n,{requireNew:!0})];case 6:(a=e.sent())._sticky=!0,t.push(a),e.label=7;case 7:return[2,!0];case 8:if(u=e.sent(),y.includes(u.code))return[2,!1];throw u;case 9:return[4,Promise.all(t.map(function(e){return e.release()}))];case 10:return e.sent(),[7];case 11:return[2]}})})},t.prototype._verifyStickyConnection=function(e){return o(this,arguments,void 0,function(e){var t,n,r=e.auth,o=e.connection;e.address;return i(this,function(e){switch(e.label){case 0:return t=d.object.equals(r,o.authToken),n=!t,o._sticky=t&&!o.supportsReAuth,n||o._sticky?[4,o.release()]:[3,2];case 1:throw e.sent(),(0,c.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(e){return e.close()}))];case 2:return e.sent(),[2]}})})},t._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},t._removeIdleObserverOnConnection=function(e){e._unsetIdle()},t.prototype._handleSecurityError=function(e,t,n){return this._authenticationProvider.handleError({connection:n,code:e.code})&&(e.retriable=!0,e.retryable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,function(e){e.authToken=null}),n&&n.close().catch(function(){}),e},t}(c.ConnectionProvider);t.default=_},59966:(e,t,n)=>{var r=n(26382),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},60014:e=>{e.exports=function(){return!1}},60286:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var o=n(94937),i=n(27833),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=i.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var a=t.actions;null!=n&&n===t._scheduled&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==n&&(i.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},t}(o.AsyncAction);t.AnimationFrameAction=a},60620:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).FDLayoutConstants;function o(){}for(var i in r)o[i]=r[i];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=o},function(e,t,n){"use strict";var r=n(0).FDLayoutEdge;function o(e,t,n){r.call(this,e,t,n)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).LGraph;function o(e,t,n){r.call(this,e,t,n)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).LGraphManager;function o(e){r.call(this,e)}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];e.exports=o},function(e,t,n){"use strict";var r=n(0).FDLayoutNode,o=n(0).IMath;function i(e,t,n,o){r.call(this,e,t,n,o)}for(var a in i.prototype=Object.create(r.prototype),r)i[a]=r[a];i.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},i.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),o=0;o<r.length;o++)null==(n=r[o]).getChild()?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},i.prototype.setPred1=function(e){this.pred1=e},i.prototype.getPred1=function(){return pred1},i.prototype.getPred2=function(){return pred2},i.prototype.setNext=function(e){this.next=e},i.prototype.getNext=function(){return next},i.prototype.setProcessed=function(e){this.processed=e},i.prototype.isProcessed=function(){return processed},e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayout,o=n(4),i=n(3),a=n(5),u=n(2),s=n(1),l=n(0).FDLayoutConstants,c=n(0).LayoutConstants,f=n(0).Point,d=n(0).PointD,h=n(0).Layout,p=n(0).Integer,v=n(0).IGeometry,y=n(0).LGraph,g=n(0).Transform;function m(){r.call(this),this.toBeTiled={}}for(var b in m.prototype=Object.create(r.prototype),r)m[b]=r[b];m.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},m.prototype.newGraph=function(e){return new i(null,this.graphManager,e)},m.prototype.newNode=function(e){return new a(this.graphManager,e)},m.prototype.newEdge=function(e){return new u(null,null,e)},m.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(s.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/l.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=l.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},m.prototype.layout=function(){return c.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},m.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)s.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},m.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%l.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},m.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,o=e[n].id;t[o]={id:o,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},m.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===l.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},m.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),o=r.length;for(t=0;t<o;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},m.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var o=r.getSource(),i=r.getTarget();if(o==i)r.getBendpoints().push(new d),r.getBendpoints().push(new d),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=(a=a.concat(o.getEdgeListToNode(i))).concat(i.getEdgeListToNode(o)),!n.has(a[0])){var u;if(a.length>1)for(u=0;u<a.length;u++){var s=a[u];s.getBendpoints().push(new d),this.createDummyNodesForBendpoints(s)}a.forEach(function(e){n.add(e)})}}}if(n.size==e.length)break}},m.prototype.positionNodesRadially=function(e){for(var t=new f(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,o=0,i=0,a=new d(0,0),u=0;u<e.length;u++){u%n==0&&(i=0,o=r,0!=u&&(o+=s.DEFAULT_COMPONENT_SEPERATION),r=0);var l=e[u],p=h.findCenterOfTree(l);t.x=i,t.y=o,(a=m.radialLayout(l,p,t)).y>r&&(r=Math.floor(a.y)),i=Math.floor(a.x+s.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(c.WORLD_CENTER_X-a.x/2,c.WORLD_CENTER_Y-a.y/2))},m.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),s.DEFAULT_RADIAL_SEPARATION);m.branchRadialLayout(t,null,0,359,0,r);var o=y.calculateBounds(e),i=new g;i.setDeviceOrgX(o.getMinX()),i.setDeviceOrgY(o.getMinY()),i.setWorldOrgX(n.x),i.setWorldOrgY(n.y);for(var a=0;a<e.length;a++)e[a].transform(i);var u=new d(o.getMaxX(),o.getMaxY());return i.inverseTransformPoint(u)},m.branchRadialLayout=function(e,t,n,r,o,i){var a=(r-n+1)/2;a<0&&(a+=180);var u=(a+n)%360*v.TWO_PI/360,s=(Math.cos(u),o*Math.cos(u)),l=o*Math.sin(u);e.setCenter(s,l);var c=[],f=(c=c.concat(e.getEdges())).length;null!=t&&f--;for(var d,h=0,p=c.length,y=e.getEdgesBetween(t);y.length>1;){var g=y[0];y.splice(0,1);var b=c.indexOf(g);b>=0&&c.splice(b,1),p--,f--}d=null!=t?(c.indexOf(y[0])+1)%p:0;for(var _=Math.abs(r-n)/f,w=d;h!=f;w=++w%p){var O=c[w].getOtherEnd(e);if(O!=t){var E=(n+h*_)%360,x=(E+_)%360;m.branchRadialLayout(O,e,E,x,o+i,i),h++}}},m.maxDiagonalInTree=function(e){for(var t=p.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},m.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},m.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),o=0;o<r.length;o++){var i=(u=r[o]).getParent();0!==this.getNodeDegreeWithChildren(u)||void 0!=i.id&&this.getToBeTiled(i)||n.push(u)}for(o=0;o<n.length;o++){var u,s=(u=n[o]).getParent().id;"undefined"===typeof t[s]&&(t[s]=[]),t[s]=t[s].concat(u)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var o=t[n][0].getParent(),i=new a(e.graphManager);i.id=r,i.paddingLeft=o.paddingLeft||0,i.paddingRight=o.paddingRight||0,i.paddingBottom=o.paddingBottom||0,i.paddingTop=o.paddingTop||0,e.idToDummyNode[r]=i;var u=e.getGraphManager().add(e.newGraph(),i),s=o.getChild();s.add(i);for(var l=0;l<t[n].length;l++){var c=t[n][l];s.remove(c),u.add(c)}}})},m.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},m.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height})},m.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,o=t.paddingTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,o)}},m.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n],o=r.paddingLeft,i=r.paddingTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,o,i)})},m.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),o=0;o<r.length;o++){var i=r[o];if(this.getNodeDegree(i)>0)return this.toBeTiled[t]=!1,!1;if(null!=i.getChild()){if(!this.getToBeTiled(i))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[i.id]=!1}return this.toBeTiled[t]=!0,!0},m.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var o=t[r];o.getSource().id!==o.getTarget().id&&(n+=1)}return n},m.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var o=n[r];t+=this.getNodeDegreeWithChildren(o)}return t},m.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},m.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},m.prototype.adjustLocations=function(e,t,n,r,o){n+=o;for(var i=t+=r,a=0;a<e.rows.length;a++){var u=e.rows[a];t=i;for(var s=0,l=0;l<u.length;l++){var c=u[l];c.rect.x=t,c.rect.y=n,t+=c.rect.width+e.horizontalPadding,c.rect.height>s&&(s=c.rect.height)}n+=s+e.verticalPadding}},m.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var o=t[r];n.tiledMemberPack[r]=n.tileNodes(e[r],o.paddingLeft+o.paddingRight),o.rect.width=n.tiledMemberPack[r].width,o.rect.height=n.tiledMemberPack[r].height})},m.prototype.tileNodes=function(e,t){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:s.TILING_PADDING_VERTICAL,horizontalPadding:s.TILING_PADDING_HORIZONTAL};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var r=0;r<e.length;r++){var o=e[r];0==n.rows.length?this.insertNodeToRow(n,o,0,t):this.canAddHorizontal(n,o.rect.width,o.rect.height)?this.insertNodeToRow(n,o,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,o,n.rows.length,t),this.shiftToLastRow(n)}return n},m.prototype.insertNodeToRow=function(e,t,n,r){var o=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(o),e.rowHeight.push(0));var i=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(i+=e.horizontalPadding),e.rowWidth[n]=i,e.width<i&&(e.width=i);var a=t.rect.height;n>0&&(a+=e.verticalPadding);var u=0;a>e.rowHeight[n]&&(u=e.rowHeight[n],e.rowHeight[n]=a,u=e.rowHeight[n]-u),e.height+=u,e.rows[n].push(t)},m.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},m.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},m.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var o=e.rowWidth[r];if(o+e.horizontalPadding+t<=e.width)return!0;var i,a,u=0;return e.rowHeight[r]<n&&r>0&&(u=n+e.verticalPadding-e.rowHeight[r]),i=e.width-o>=t+e.horizontalPadding?(e.height+u)/(o+t+e.horizontalPadding):(e.height+u)/e.width,u=n+e.verticalPadding,(a=e.width<t?(e.height+u)/t:(e.height+u)/e.width)<1&&(a=1/a),i<1&&(i=1/i),i<a},m.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],o=r[r.length-1],i=o.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>i&&t!=n){r.splice(-1,1),e.rows[n].push(o),e.rowWidth[t]=e.rowWidth[t]-i,e.rowWidth[n]=e.rowWidth[n]+i,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,u=0;u<r.length;u++)r[u].height>a&&(a=r[u].height);t>0&&(a+=e.verticalPadding);var s=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=a,e.rowHeight[n]<o.height+e.verticalPadding&&(e.rowHeight[n]=o.height+e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.height+=l-s,this.shiftToLastRow(e)}},m.prototype.tilingPreLayout=function(){s.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},m.prototype.tilingPostLayout=function(){s.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},m.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),o=[];n=!1;for(var i=0;i<r.length;i++)1!=(e=r[i]).getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(o.push([e,e.getEdges()[0],e.getOwner()]),n=!0);if(1==n){for(var a=[],u=0;u<o.length;u++)1==o[u][0].getEdges().length&&(a.push(o[u]),o[u][0].getOwner().remove(o[u][0]));t.push(a),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},m.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},m.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0],o=(n=r==e[1].source?e[1].target:e[1].source).startX,i=n.finishX,a=n.startY,u=n.finishY,s=[0,0,0,0];if(a>0)for(var c=o;c<=i;c++)s[0]+=this.grid[c][a-1].length+this.grid[c][a].length-1;if(i<this.grid.length-1)for(c=a;c<=u;c++)s[1]+=this.grid[i+1][c].length+this.grid[i][c].length-1;if(u<this.grid[0].length-1)for(c=o;c<=i;c++)s[2]+=this.grid[c][u+1].length+this.grid[c][u].length-1;if(o>0)for(c=a;c<=u;c++)s[3]+=this.grid[o-1][c].length+this.grid[o][c].length-1;for(var f,d,h=p.MAX_VALUE,v=0;v<s.length;v++)s[v]<h?(h=s[v],f=1,d=v):s[v]==h&&f++;if(3==f&&0==h)0==s[0]&&0==s[1]&&0==s[2]?t=1:0==s[0]&&0==s[1]&&0==s[3]?t=0:0==s[0]&&0==s[2]&&0==s[3]?t=3:0==s[1]&&0==s[2]&&0==s[3]&&(t=2);else if(2==f&&0==h){var y=Math.floor(2*Math.random());t=0==s[0]&&0==s[1]?0==y?0:1:0==s[0]&&0==s[2]?0==y?0:2:0==s[0]&&0==s[3]?0==y?0:3:0==s[1]&&0==s[2]?0==y?1:2:0==s[1]&&0==s[3]?0==y?1:3:0==y?2:3}else t=4==f&&0==h?y=Math.floor(4*Math.random()):d;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-l.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+l.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+l.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-l.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())},e.exports=m},function(e,t,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(6),r.CoSENode=n(5),e.exports=r}])},e.exports=r(n(79612))},60906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(93323),o=n(63311),i=n(81414);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler);var a=i.timer(e,t);return o.throttle(function(){return a},n)}},60944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}},60981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15359),o=r.error.SERVICE_UNAVAILABLE,i=r.error.SESSION_EXPIRED,a=function(){function e(e,t,n,r){this._errorCode=e,this._handleUnavailability=t||u,this._handleWriteFailure=n||u,this._handleSecurityError=r||u}return e.create=function(t){return new e(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleSecurityError)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(e,t,n){return function(e){return null!=e&&null!=e.code&&e.code.startsWith("Neo.ClientError.Security.")}(e)?this._handleSecurityError(e,t,n):function(e){if(e)return e.code===i||e.code===o||"Neo.TransientError.General.DatabaseUnavailable"===e.code;return!1}(e)?this._handleUnavailability(e,t,n):function(e){if(e)return"Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code;return!1}(e)?this._handleWriteFailure(e,t,n):e},e}();function u(e){return e}t.default=a},61003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(62161),o=n(44845);t.skipWhile=function(e){return r.operate(function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,function(t){return(r||(r=!e(t,i++)))&&n.next(t)}))})}},61099:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(64666),u=n(15359),s=i(n(35488)),l=i(n(1023));t.default=r(r(r({},s.default),l.default),{createNodeTransformer:function(e){return s.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Node",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new u.Node(n,r,i,s)}})},createRelationshipTransformer:function(e){return s.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Relationship",8,e.size);var t=o(e.fields,8),n=t[0],r=t[1],i=t[2],s=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return new u.Relationship(n,r,i,s,l,c,f,d)}})},createUnboundRelationshipTransformer:function(e){return s.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("UnboundRelationship",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new u.UnboundRelationship(n,r,i,s)}})}})},61143:(e,t,n)=>{var r=n(13028)(Object.keys,Object);e.exports=r},61340:(e,t,n)=>{var r=n(93211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},61473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(93323),o=n(62161),i=n(44845);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate(function(n,r){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var e=a;a=null,r.next(e)}};function l(){var n=u+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);s()}n.subscribe(i.createOperatorSubscriber(r,function(n){a=n,u=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){s(),r.complete()},void 0,function(){a=o=null}))})}},61516:(e,t,n)=>{var r=n(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},61689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},61705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(24296),o=n(45926),i=n(99963),a=n(2694),u=n(30509),s=n(47737),l=n(63079),c=n(44845),f=n(60944);function d(e,t,n){return void 0===n&&(n=a.identity),function(r){h(t,function(){for(var o=e.length,a=new Array(o),u=o,s=o,l=function(o){h(t,function(){var l=i.from(e[o],t),f=!1;l.subscribe(c.createOperatorSubscriber(r,function(e){a[o]=e,f||(f=!0,s--),s||r.next(n(a.slice()))},function(){--u||r.complete()}))},r)},f=0;f<o;f++)l(f)},r)}}function h(e,t,n){e?f.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.popScheduler(e),c=s.popResultSelector(e),f=o.argsArgArrayOrObject(e),h=f.args,p=f.keys;if(0===h.length)return i.from([],n);var v=new r.Observable(d(h,n,p?function(e){return l.createObject(p,e)}:a.identity));return c?v.pipe(u.mapOneOrManyArgs(c)):v},t.combineLatestInit=d},61714:(e,t,n)=>{var r=n(61340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},61954:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(24296),o=n(84347),i=n(48397),a=n(44845);function u(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(a.createOperatorSubscriber(t,function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(u(e))},t.raceInit=u},62019:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(36021),u=n(36052),s=n(1036),l=n(26980),c=n(68890),f=n(41421),d=i(n(18958)),h=function(){function e(e){var t=e.connectionHolder,n=e.onClose,r=e.onBookmarks,o=e.onConnection,i=e.reactive,a=e.fetchSize,u=e.impersonatedUser,l=e.highRecordWatermark,c=e.lowRecordWatermark,f=e.notificationFilter,d=e.apiTelemetryConfig,h=this;this._connectionHolder=t,this._reactive=i,this._state=p.ACTIVE,this._onClose=n,this._onBookmarks=r,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=a,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=u,this._lowRecordWatermark=c,this._highRecordWatermark=l,this._bookmarks=s.Bookmarks.empty(),this._notificationFilter=f,this._apiTelemetryConfig=d,this._acceptActive=function(){},this._activePromise=new Promise(function(e,t){h._acceptActive=e})}return e.prototype._begin=function(e,t,n){var i=this;this._connectionHolder.getConnection().then(function(a){return r(i,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:return this._onConnection(),null==a?[3,2]:(r=this,[4,e()]);case 1:return r._bookmarks=o.sent(),[2,a.beginTransaction({bookmarks:this._bookmarks,txConfig:t,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})},afterComplete:function(e){null!=n&&n.onComplete(e),void 0!==e.db&&null!=(null===n||void 0===n?void 0:n.onDB)&&n.onDB(e.db),i._onComplete(e)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})}).finally(function(){return i._acceptActive()})},e.prototype.run=function(e,t){var n=(0,a.validateQueryAndParameters)(e,t),r=n.validatedQuery,o=n.params,i=this._state.run(r,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermark,preparationJob:this._activePromise});return this._results.push(i),i},e.prototype.commit=function(){var e=this,t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(t){return e._onCompleteCallback(t,e._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(e){return n(e)}})})},e.prototype.rollback=function(){var e=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise(function(t,n){e.result.subscribe({onCompleted:function(){return t()},onError:function(e){return n(e)}})})},e.prototype.isOpen=function(){return this._state===p.ACTIVE},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._onErrorCallback=function(e){return this._state===p.FAILED?Promise.resolve(null):(this._state=p.FAILED,this._onClose(),this._results.forEach(function(t){t.isOpen()&&t._streamObserverPromise.then(function(t){return t.onError(e)}).catch(function(e){})}),this._connectionHolder.releaseConnection())},e.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new s.Bookmarks(null===e||void 0===e?void 0:e.bookmark),null!==t&&void 0!==t?t:s.Bookmarks.empty(),null===e||void 0===e?void 0:e.db)},e}(),p={ACTIVE:{commit:function(e){return{result:v(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.SUCCEEDED}},rollback:function(e){return{result:v(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError,i=n.onComplete,a=n.onConnection,u=n.reactive,d=n.fetchSize,h=n.highRecordWatermark,p=n.lowRecordWatermark,v=n.preparationJob,g=null!==v&&void 0!==v?v:Promise.resolve();return y(r.getConnection().then(function(e){return g.then(function(){return e})}).then(function(n){if(a(),null!=n)return n.run(e,t,{bookmarks:s.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:u,fetchSize:d,highRecordWatermark:h,lowRecordWatermark:p});throw(0,f.newError)("No connection available")}).catch(function(e){return new c.FailedObserver({error:e,onError:o})}),e,t,r,h,p)}},FAILED:{commit:function(e){var t=e.connectionHolder,n=e.onError;e.onComplete;return{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},t,0,0),state:p.FAILED}},rollback:function(e){var t=e.connectionHolder;e.onError,e.onComplete;return{result:y(new c.CompletedObserver,"ROLLBACK",{},t,0,0),state:p.FAILED}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;n.onComplete;return y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,r,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,n=e.onError;e.onComplete;return{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,n=e.onError;e.onComplete;return{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;n.onComplete;return y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,r,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,n=e.onError;e.onComplete;return{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},t,0,0),state:p.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;e.onError,e.onComplete;return{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;n.onComplete;return y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,r,0,0)}}};function v(e,t,n,r,o,i,a){var u=null!==a&&void 0!==a?a:Promise.resolve(),s=t.getConnection().then(function(e){return u.then(function(){return e})}).then(function(t){return o(),i.forEach(function(e){return e._cancel()}),Promise.all(i.map(function(e){return e.summary()})).then(function(o){if(null!=t)return e?t.commitTransaction({beforeError:n,afterComplete:r}):t.rollbackTransaction({beforeError:n,afterComplete:r});throw(0,f.newError)("No connection available")})}).catch(function(e){return new c.FailedObserver({error:e,onError:n})});return new d.default(s,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function y(e,t,n,r,o,i){return void 0===r&&(r=u.EMPTY_CONNECTION_HOLDER),new d.default(Promise.resolve(e),t,n,new u.ReadOnlyConnectionHolder(null!==r&&void 0!==r?r:u.EMPTY_CONNECTION_HOLDER),{low:i,high:o})}t.default=h},62101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(6689),o=n(84347),i=n(62161),a=n(92234),u={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=u);var n=t.connector;return i.operate(function(t,r){var i=n();o.innerFrom(e(a.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))})}},62117:(e,t,n)=>{var r=n(36741),o=n(99057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},62125:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=function(e,t,n,r,o,i,a,s){void 0===i&&(i=null);void 0===s&&(s=function(e){return new u.Channel(e)});var l=new u.ChannelConfig(e,t,n.errorCode(),o),f=s(l);return c.default.handshake(f,r).then(function(o){var s=o.protocolVersion,l=o.consumeRemainingBuffer,d=new u.Chunker(f),h=new u.Dechunker,v=new p(f,n,e,r,t.disableLosslessIntegers,i,d,t.notificationFilter,function(e){return c.default.create({version:s,channel:f,chunker:d,dechunker:h,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:i,server:e.server,log:e.logger,observer:{onObserversCountChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})},t.telemetryDisabled,a);return l(function(e){return h.write(e)}),v}).catch(function(e){return f.close().then(function(){throw e})})};var u=n(52366),s=n(15359),l=a(n(91051)),c=a(n(46860)),f=s.error.PROTOCOL_ERROR,d=s.internal.logger.Logger,h=0;var p=function(e){function t(t,n,r,o,i,a,u,s,l,c,f){void 0===i&&(i=!1),void 0===a&&(a=null),void 0===f&&(f=function(e){});var p,v,y=e.call(this,n)||this;return y._authToken=null,y._idle=!1,y._reseting=!1,y._resetObservers=[],y._id=h++,y._address=r,y._server={address:r.asHostPort()},y._creationTimestamp=Date.now(),y._disableLosslessIntegers=i,y._ch=t,y._chunker=u,y._log=(p=y,new d((v=o)._level,function(e,t){return v._loggerFunction(e,"".concat(p," ").concat(t))})),y._serversideRouting=a,y._notificationFilter=s,y._telemetryDisabledDriverConfig=!0===c,y._telemetryDisabledConnection=!0,y._ssrCallback=f,y._dbConnectionId=null,y._protocol=l(y),y._isBroken=!1,y._log.isDebugEnabled()&&y._log.debug("created towards ".concat(r)),y}return r(t,e),t.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._sendTelemetryIfEnabled(n),this._protocol.run(e,t,n)},t.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},t.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){return o(this,void 0,void 0,function(){var o=this;return i(this,function(i){switch(i.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,s.newError)("Connection does not support re-auth");return this._authToken=n,this._protocol.initialized?[3,2]:[4,this._initialize(e,t,n)];case 1:case 3:return[2,i.sent()];case 2:return r?[4,new Promise(function(e,t){o._protocol.logoff({onError:t}),o._protocol.logon({authToken:n,onError:t,onComplete:function(){return e(o)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:n,flush:!0}),[2,this]}})})},t.prototype._initialize=function(e,t,n){var r=this,o=this;return new Promise(function(i,a){r._protocol.initialize({userAgent:e,boltAgent:t,authToken:n,notificationFilter:r._notificationFilter,onError:function(e){return a(e)},onComplete:function(e){var t;if(e){var n=e.server;r.version&&!n||(r.version=n);var a=e.connection_id;if(r.databaseId||(r.databaseId=a),e.hints){var u=e.hints["connection.recv_timeout_seconds"];if(null!==u&&void 0!==u){var l=(0,s.toNumber)(u);Number.isInteger(l)&&l>0?r._ch.setupReceiveTimeout(1e3*l):r._log.info("Server located at ".concat(r._address," supplied an invalid connection receive timeout value (").concat(l,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}!0===e.hints["telemetry.enabled"]&&(r._telemetryDisabledConnection=!1),r.SSREnabledHint=e.hints["ssr.enabled"]}r._ssrCallback(null!==(t=r.SSREnabledHint)&&void 0!==t&&t,"OPEN")}i(o)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(s.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise(function(t,n){e._reset({onError:function(t){if(e._isBroken)n(t);else{var r=e._handleProtocolError("Received FAILURE as a response for RESET: ".concat(t));n(r)}},onComplete:function(){t()}})})},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._reset=function(e){var t=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(t){e.onError(t)},onComplete:function(){e.onComplete()}});else{this._resetObservers.push(e),this._reseting=!0;var n=function(e){t._reseting=!1;var n=t._resetObservers;t._resetObservers=[],n.forEach(e)};this._protocol.reset({onError:function(e){n(function(t){return t.onError(e)})},onComplete:function(){n(function(e){return e.onComplete()})}})}},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},t.prototype.close=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this._ssrCallback(null!==(e=this.SSREnabledHint)&&void 0!==e&&e,"CLOSE"),this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return t.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var t=(0,s.newError)(e,f);return this._handleFatalError(t),t},t}(l.default);t.default=p},62161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(9620);function o(e){return r.isFunction(null===e||void 0===e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},62580:(e,t,n)=>{e.exports=n(55491)},62597:(e,t,n)=>{var r=n(54052),o=n(19841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},62856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(84905);t.skip=function(e){return r.filter(function(t,n){return e<=n})}},63079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}},63150:(e,t,n)=>{var r=n(53536);e.exports=function(e){var t=function(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}(e);r.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],u=[],s=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>s||l>t[o].lim));i=o,o=r;for(;(o=e.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,u=i.lca,s=0,l=a[s],c=!0;n!==o.w;){if(r=e.node(n),c){for(;(l=a[s])!==u&&e.node(l).maxRank<r.rank;)s++;l===u&&(c=!1)}if(!c){for(;s<a.length-1&&e.node(l=a[s+1]).minRank<=r.rank;)s++;l=a[s]}e.setParent(n,l),n=e.successors(n)[0]}})}},63311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var r=n(62161),o=n(44845),i=n(84347);t.throttle=function(e,t){return r.operate(function(n,r){var a=null!==t&&void 0!==t?t:{},u=a.leading,s=void 0===u||u,l=a.trailing,c=void 0!==l&&l,f=!1,d=null,h=null,p=!1,v=function(){null===h||void 0===h||h.unsubscribe(),h=null,c&&(m(),p&&r.complete())},y=function(){h=null,p&&r.complete()},g=function(t){return h=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,v,y))},m=function(){if(f){f=!1;var e=d;d=null,r.next(e),!p&&g(e)}};n.subscribe(o.createOperatorSubscriber(r,function(e){f=!0,d=e,(!h||h.closed)&&(s?m():g(e))},function(){p=!0,(!(c&&f&&h)||h.closed)&&r.complete()}))})}},63932:(e,t,n)=>{var r=n(10396),o=n(52866),i=n(62597),a=n(70914);e.exports=function(e){return i(e)?r(a(e)):o(e)}},64164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(62161),o=n(44845);function i(e,t,n){var r="index"===n;return function(n,i){var a=0;n.subscribe(o.createOperatorSubscriber(i,function(o){var u=a++;e.call(t,o,u,n)&&(i.next(r?u:o),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},64185:(e,t,n)=>{var r=n(1014),o=n(56734);e.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?o(e,t,n,i):r(e,t,n,i)},e.exports.nested=o,e.exports.flat=r},64260:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryObserver=t.ProcedureRouteObserver=t.RouteObserver=t.CompletedObserver=t.FailedObserver=t.ResetObserver=t.LogoffObserver=t.LoginObserver=t.ResultStreamObserver=t.StreamObserver=void 0;var i=n(15359),a=o(n(47840)),u=n(66831),s=i.internal.constants.FETCH_ALL,l=i.error.PROTOCOL_ERROR,c=function(){function e(){}return e.prototype.onNext=function(e){},e.prototype.onError=function(e){},e.prototype.onCompleted=function(e){},e}();t.StreamObserver=c;var f=function(e){function t(t){var n=void 0===t?{}:t,r=n.reactive,o=void 0!==r&&r,i=n.moreFunction,a=n.discardFunction,l=n.fetchSize,c=void 0===l?s:l,f=n.beforeError,d=n.afterError,h=n.beforeKeys,p=n.afterKeys,v=n.beforeComplete,y=n.afterComplete,g=n.server,m=n.highRecordWatermark,b=void 0===m?Number.MAX_VALUE:m,w=n.lowRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=n.enrichMetadata,x=n.onDb,S=e.call(this)||this;return S._fieldKeys=null,S._fieldLookup=null,S._head=null,S._queuedRecords=[],S._tail=null,S._error=null,S._observers=[],S._meta={},S._server=g,S._beforeError=f,S._afterError=d,S._beforeKeys=h,S._afterKeys=p,S._beforeComplete=v,S._afterComplete=y,S._enrichMetadata=E||u.functional.identity,S._queryId=null,S._moreFunction=i,S._discardFunction=a,S._discard=!1,S._fetchSize=c,S._lowRecordWatermark=O,S._highRecordWatermark=b,S._setState(o?_.READY:_.READY_STREAMING),S._setupAutoPull(),S._paused=!1,S._pulled=!o,S._haveRecordStreamed=!1,S._onDb=x,S}return r(t,e),t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new i.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(e){return e.onNext})?this._observers.forEach(function(e){e.onNext&&e.onNext(t)}):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(_.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(_.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===_.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===_.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(_.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var t=this,n=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},e));if([void 0,null,"r","w","rw","s"].includes(n.type)){this._setState(_.SUCCEEDED);var r=null;this._beforeComplete&&(r=this._beforeComplete(n));var o=function(){t._tail=n,t._observers.some(function(e){return e.onCompleted})&&t._observers.forEach(function(e){e.onCompleted&&e.onCompleted(n)}),t._afterComplete&&t._afterComplete(n)};r?Promise.resolve(r).then(function(){return o()}):o()}else this.onError((0,i.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(n.type,"'"),l))},t.prototype._handleRunSuccess=function(e,t){var n=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var r=0;r<e.fields.length;r++)this._fieldLookup[e.fields[r]]=r}null!==e.db&&void 0!==this._onDb&&this._onDb(e.db),null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){n._head=n._fieldKeys,n._observers.some(function(e){return e.onKeys})&&n._observers.forEach(function(e){e.onKeys&&e.onKeys(n._fieldKeys)}),n._afterKeys&&n._afterKeys(n._fieldKeys),t()};o?Promise.resolve(o).then(function(){return i()}):i()}},t.prototype._handleError=function(e){var t=this;this._setState(_.FAILED),this._error=e;var n=null;this._beforeError&&(n=this._beforeError(e));var r=function(){t._observers.some(function(e){return e.onError})&&t._observers.forEach(function(t){t.onError&&t.onError(e)}),t._afterError&&t._afterError(e)};n?Promise.resolve(n).then(function(){return r()}):r()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(_.STREAMING)},t.prototype._storeMetadataForCompletion=function(e){for(var t=Object.keys(e),n=t.length,r="";n--;)r=t[n],this._meta[r]=e[r]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(c);t.ResultStreamObserver=f;var d=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when initializing "+i.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(c);t.LoginObserver=d;var h=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when logging off "+i.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(c);t.LogoffObserver=h;var p=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onComplete,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onComplete=i,a}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when resetting: received record is: "+i.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(c);t.ResetObserver=p;var v=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when sending telemetry "+i.json.stringify(e),l))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.TelemetryObserver=v;var y=function(e){function t(t){var n=t.error,r=t.onError,o=e.call(this,{beforeError:r})||this;return o.onError(n),o}return r(t,e),t}(f);t.FailedObserver=y;var g=function(e){function t(){var t=e.call(this)||this;return e.prototype.markCompleted.call(t),t}return r(t,e),t}(f);t.CompletedObserver=g;var m=function(e){function t(t){var n=t.resultObserver,r=t.onProtocolError,o=t.onError,i=t.onCompleted,a=e.call(this)||this;return a._resultObserver=n,a._onError=o,a._onCompleted=i,a._records=[],a._onProtocolError=r,n.subscribe(a),a}return r(t,e),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){null===this._records||1===this._records.length?this._onCompleted&&this._onCompleted(a.default.ofRecord(this._records[0])):this.onError((0,i.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+i.json.stringify(this._records),l))},t}(c);t.ProcedureRouteObserver=m;var b=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onCompleted,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onCompleted=i,a}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when resetting: received record is: "+i.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(a.default.ofMessageResponse(e))},t}(c);t.RouteObserver=b;var _={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(_.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},64387:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r=n(6326),o=n(74087),i=n(30447),a=n(5242),u=n(5797),s=n(94268);function l(e){console.error("Error sending segment performance metrics",e)}var c,f=function(){function e(e){var t,n,r,o,i,a=this;if(this.host=null!==(t=null===e||void 0===e?void 0:e.host)&&void 0!==t?t:s.a,this.sampleRate=null!==(n=null===e||void 0===e?void 0:e.sampleRate)&&void 0!==n?n:1,this.flushTimer=null!==(r=null===e||void 0===e?void 0:e.flushTimer)&&void 0!==r?r:3e4,this.maxQueueSize=null!==(o=null===e||void 0===e?void 0:e.maxQueueSize)&&void 0!==o?o:20,this.protocol=null!==(i=null===e||void 0===e?void 0:e.protocol)&&void 0!==i?i:"https",this.queue=[],this.sampleRate>0){var u=!1,c=function(){u||(u=!0,a.flush().catch(l),u=!1,setTimeout(c,a.flushTimer))};c()}}return e.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&0!==t.length&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=function(e,t,n){var o=t.reduce(function(e,t){var n=t.split(":"),r=n[0],o=n[1];return e[r]=o,e},{});return{type:"Counter",metric:e,value:1,tags:(0,r.Cl)((0,r.Cl)({},o),{library:"analytics.js",library_version:"web"===n?"next-".concat(a.r):"npm:next-".concat(a.r)})}}(e,t,(0,u.X)());this.queue.push(n),e.includes("error")&&this.flush().catch(l)}},e.prototype.flush=function(){return(0,r.sH)(this,void 0,void 0,function(){var e=this;return(0,r.YH)(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(t){l(t),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},e.prototype.send=function(){return(0,r.sH)(this,void 0,void 0,function(){var e,t,n;return(0,r.YH)(this,function(r){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,i.h)(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.initRemoteMetrics=function(e){c=new f(e)},t.prototype.increment=function(t,n,r){e.prototype.increment.call(this,t,n,r),null===c||void 0===c||c.increment(t,null!==r&&void 0!==r?r:[])},t}(o.p)},64416:(e,t,n)=>{var r=n(18902),o=n(75866),i=n(41558),a=n(58114),u=n(68182),s=n(52074);e.exports=function(e,t,n){var l=-1,c=o,f=e.length,d=!0,h=[],p=h;if(n)d=!1,c=i;else if(f>=200){var v=t?null:u(e);if(v)return s(v);d=!1,c=a,p=new r}else p=t?[]:h;e:for(;++l<f;){var y=e[l],g=t?t(y):y;if(y=n||0!==y?y:0,d&&g===g){for(var m=p.length;m--;)if(p[m]===g)continue e;t&&p.push(g),h.push(y)}else c(p,g,n)||(p!==h&&p.push(g),h.push(y))}return h}},64541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(33837),o=n(9620);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},64666:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.v2=t.v1=void 0;var a=i(n(89379));t.v1=a;var u=i(n(18150));t.v2=u;var s=i(n(71871));t.structure=s,t.default=u},64816:(e,t,n)=>{var r=n(47251),o=n(37159),i=n(80438),a=n(69394),u=n(56874);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},65043:(e,t,n)=>{"use strict";e.exports=n(44288)},65136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var r=n(86953);t.lastValueFrom=function(e,t){var n="object"===typeof t;return new Promise(function(o,i){var a,u=!1;e.subscribe({next:function(e){a=e,u=!0},error:i,complete:function(){u?o(a):n?o(t.defaultValue):i(new r.EmptyError)}})})}},65387:(e,t,n)=>{var r=n(87937)(n(56552),"Promise");e.exports=r},65709:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var i=n(18931),a=n(24296),u=n(95518),s=n(30509),l=n(76522),c=n(92829);t.bindCallbackInternals=function e(t,n,f,d){if(f){if(!i.isScheduler(f))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n,d).apply(this,r).pipe(s.mapOneOrManyArgs(f))};d=f}return d?function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n).apply(this,r).pipe(u.subscribeOn(d),l.observeOn(d))}:function(){for(var e=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var s=new c.AsyncSubject,l=!0;return new a.Observable(function(a){var u=s.subscribe(a);if(l){l=!1;var c=!1,f=!1;n.apply(e,o(o([],r(i)),[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=e.shift();if(null!=r)return void s.error(r)}s.next(1<e.length?e:e[0]),f=!0,c&&s.complete()}])),f&&s.complete(),c=!0}return u})}}},65983:(e,t,n)=>{var r=n(53536),o=n(67606);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n=o.partition(e,function(e){return r.has(e,"barycenter")}),a=n.lhs,u=r.sortBy(n.rhs,function(e){return-e.i}),s=[],l=0,c=0,f=0;a.sort((d=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:d?t.i-e.i:e.i-t.i})),f=i(s,u,f),r.forEach(a,function(e){f+=e.vs.length,s.push(e.vs),l+=e.barycenter*e.weight,c+=e.weight,f=i(s,u,f)});var d;var h={vs:r.flatten(s,!0)};c&&(h.barycenter=l/c,h.weight=c);return h}},66211:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(52628));t.default=r({},i.default)},66487:e=>{e.exports=function(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}},66564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},66831:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.functional=void 0,t.functional=i(n(16946)),t.object=i(n(33568))},67168:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+s+("(?:\\u200d(?:"+[i,a,u].join("|")+")"+l+s+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+c,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},67586:function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(41421),u=n(18641);var s=function(){function e(e,t,n){this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!==n&&void 0!==n?n:function(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}(e)}return e.prototype.forEach=function(e){var t,n;try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var u=i(a.value,2),s=u[0];e(u[1],s,this)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.map=function(e){var t,n,r=[];try{for(var a=o(this.entries()),u=a.next();!u.done;u=a.next()){var s=i(u.value,2),l=s[0],c=s[1];r.push(e(c,l,this))}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.prototype.as=function(e,t){return(0,u.as)(this,e,t)},e.prototype.entries=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,[this.keys[e],this._fields[e]]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var e,t,n={};try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var u=i(a.value,2),s=u[0],l=u[1];n[s]=l}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.get=function(e){var t;if("number"!==typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},e.prototype.has=function(e){return"number"===typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]},e}();t.default=s},67606:(e,t,n)=>{"use strict";var r=n(53536),o=n(79207).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}e.exports={addDummyNode:i,simplify:function(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,u=t.y-i,s=e.width/2,l=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*l?(u<0&&(l=-l),n=l*a/u,r=l):(a<0&&(s=-s),n=s,r=s*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)});var o=0,i=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%i!==0?--o:o&&r.forEach(t,function(t){e.node(t).rank+=o})})},addBorderNode:function(e,t,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},67956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(92829),o=n(73508);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,function(){return t})}}},68027:(e,t,n)=>{"use strict";var r=n(53536),o=n(79207).Graph,i=n(21007).slack;function a(e,t){return r.forEach(e.nodes(),function n(o){r.forEach(t.nodeEdges(o),function(r){var a=r.v,u=o===a?r.w:a;e.hasNode(u)||i(t,r)||(e.setNode(u,{}),e.setEdge(o,u,{}),n(u))})}),e.nodeCount()}function u(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)})}function s(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,r=new o({directed:!1}),l=e.nodes()[0],c=e.nodeCount();r.setNode(l,{});for(;a(r,e)<c;)t=u(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),s(r,e,n);return r}},68182:(e,t,n)=>{var r=n(72070),o=n(75713),i=n(52074),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},68256:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(9559)),u=i(n(8607)),s=n(20379),l=n(64260),c=i(n(28149)),f=i(n(19155)),d=n(15359),h=(d.internal.bookmarks.Bookmarks,d.internal.constants.BOLT_PROTOCOL_V3),p=d.internal.txConfig.TxConfig,v="context",y="CALL dbms.cluster.routing.getRoutingTable($".concat(v,")"),g=new l.StreamObserver,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,c=n.onComplete,f=new l.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,c)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o),f,!0),f},t.prototype.prepareToClose=function(){this.write(u.default.goodbye(),g,!0)},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,c=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,s.assertDatabaseIsEmpty)(o,this._onProtocolError,v),(0,s.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,s.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,mode:c}),v,!0),v},t.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.commit(),a,!0),a},t.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.rollback(),a,!0),a},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,c=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.highRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=r.lowRecordWatermark,x=void 0===E?Number.MAX_VALUE:E,S=new l.ResultStreamObserver({server:this._server,beforeKeys:h,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:O,lowRecordWatermark:x});return(0,s.assertDatabaseIsEmpty)(a,this._onProtocolError,S),(0,s.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,S),(0,s.assertNotificationFilterIsEmpty)(f,this._onProtocolError,S),this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,mode:d}),S,!1),this.write(u.default.pullAll(),S,_),S},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,i=e.sessionContext,a=void 0===i?{}:i,u=e.onError,s=e.onCompleted,c=this.run(y,((t={})[v]=r,t),o(o({},a),{txConfig:p.empty()}));return new l.ProcedureRouteObserver({resultObserver:c,onProtocolError:this._onProtocolError,onError:u,onCompleted:s})},t}(a.default);t.default=m},68584:(e,t,n)=>{"use strict";function r(e,t){var n=t.methodName,r=t.integrationName,o=t.type,i=t.didError,a=void 0!==i&&i;e.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(o)])}n.d(t,{y:()=>r})},68592:(e,t,n)=>{var r=n(4262),o=n(56326),i=n(30474);e.exports=function(e){return r(e,i,o)}},68890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailedObserver=t.CompletedObserver=void 0;var n=function(){function e(){}return e.prototype.subscribe=function(e){o(e,e.onKeys,[]),o(e,e.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(e){throw new Error("CompletedObserver not supposed to call onError",{cause:e})},e}();t.CompletedObserver=n;var r=function(){function e(e){var t=e.error,n=e.onError;this._error=t,this._beforeError=n,this._observers=[],this.onError(t)}return e.prototype.subscribe=function(e){o(e,e.onError,this._error),this._observers.push(e)},e.prototype.onError=function(e){o(this,this._beforeError,e),this._observers.forEach(function(t){return o(t,t.onError,e)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();function o(e,t,n){null!=t&&t.bind(e)(n)}t.FailedObserver=r},69194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},69394:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).has(e)}},69583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var r=n(24296),o=n(84347);t.defer=function(e){return new r.Observable(function(t){o.innerFrom(e()).subscribe(t)})}},69621:(e,t,n)=>{var r=n(17529),o=n(57828),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=u},69987:(e,t,n)=>{var r=n(9812),o=n(22929),i=n(93211),a=n(43668),u=n(54160),s=n(52074),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var y=a(h(e),h(t),r,l,f,d);return d.delete(e),y;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},70427:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(6689),i=n(12836),a=n(62161),u=n(84347),s=n(44845),l=n(66564),c=n(61689);t.windowToggle=function(e,t){return a.operate(function(n,a){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);a.error(e)};u.innerFrom(e).subscribe(s.createOperatorSubscriber(a,function(e){var n=new o.Subject;f.push(n);var r,h=new i.Subscription;try{r=u.innerFrom(t(e))}catch(p){return void d(p)}a.next(n.asObservable()),h.add(r.subscribe(s.createOperatorSubscriber(a,function(){c.arrRemove(f,n),n.complete(),h.unsubscribe()},l.noop,d)))},l.noop)),n.subscribe(s.createOperatorSubscriber(a,function(e){var t,n,o=f.slice();try{for(var i=r(o),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},function(){for(;0<f.length;)f.shift().complete();a.complete()},d,function(){for(;0<f.length;)f.shift().unsubscribe()}))})}},70579:(e,t,n)=>{"use strict";e.exports=n(22799)},70705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},70829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(86953),o=n(84905),i=n(26252),a=n(14892),u=n(76679),s=n(2694);t.first=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):s.identity,i.take(1),n?a.defaultIfEmpty(t):u.throwIfEmpty(function(){return new r.EmptyError}))}}},70833:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(22930));t.default=r({},i.default)},70849:(e,t,n)=>{var r=n(53536),o=n(79207).Graph,i=n(30433);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,a=0,u=0;r.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.forEach(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),u=Math.max(u,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)});var l=r.range(u+a+3).map(function(){return new i}),c=a+1;return r.forEach(n.nodes(),function(e){s(l,c,n.node(e))}),{graph:n,buckets:l,zeroIdx:c}}(e,t||a),l=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)u(e,t,n,r);for(;r=i.dequeue();)u(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){o=o.concat(u(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(l,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=r.constant(1);function u(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),function(r){var o=e.edge(r),u=e.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(t,n,u)}),r.forEach(e.outEdges(o.v),function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,s(t,n,a)}),e.removeNode(o.v),a}function s(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},70905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var r=n(41421),o=new Map,i=function(){function e(e,t){this.low=null!==e&&void 0!==e?e:0,this.high=null!==t&&void 0!==t?t:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*u+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(u)+BigInt(this.low>>>0);var e=this.negate();return BigInt(-1)*(BigInt(e.high>>>0)*BigInt(u)+BigInt(e.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if((t=null!==t&&void 0!==t?t:10)<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var r=e.fromNumber(t),o=this.div(r);return n=o.multiply(r).subtract(this),o.toString(t)+n.toInt().toString(t)}return"-"+this.negate().toString(t)}var i=e.fromNumber(Math.pow(t,6));n=this;for(var a="";;){var u=n.div(i),s=(n.subtract(u.multiply(i)).toInt()>>>0).toString(t);if((n=u).isZero())return s+a;for(;s.length<6;)s="0"+s;a=""+s+a}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=0!==this.high?this.high:this.low,n=0;for(n=31;n>0&&0===(t&1<<n);n--);return 0!==this.high?n+33:n+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return 1===(1&this.low)},e.prototype.isEven=function(){return 0===(1&this.low)},e.prototype.equals=function(t){var n=e.fromValue(t);return this.high===n.high&&this.low===n.low},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.lessThan=function(e){return this.compare(e)<0},e.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.compare=function(t){var n=e.fromValue(t);if(this.equals(n))return 0;var r=this.isNegative(),o=n.isNegative();return r&&!o?-1:!r&&o?1:this.subtract(n).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var n=e.fromValue(t),r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=n.high>>>16,s=65535&n.high,l=n.low>>>16,c=0,f=0,d=0,h=0;return d+=(h+=a+(65535&n.low))>>>16,h&=65535,f+=(d+=i+l)>>>16,d&=65535,c+=(f+=o+s)>>>16,f&=65535,c+=r+u,c&=65535,e.fromBits(d<<16|h,c<<16|f)},e.prototype.subtract=function(t){var n=e.fromValue(t);return this.add(n.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var n=e.fromValue(t);if(n.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return n.isOdd()?e.MIN_VALUE:e.ZERO;if(n.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().multiply(n.negate()):this.negate().multiply(n).negate();if(n.isNegative())return this.multiply(n.negate()).negate();if(this.lessThan(l)&&n.lessThan(l))return e.fromNumber(this.toNumber()*n.toNumber());var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=n.high>>>16,s=65535&n.high,c=n.low>>>16,f=65535&n.low,d=0,h=0,p=0,v=0;return p+=(v+=a*f)>>>16,v&=65535,h+=(p+=i*f)>>>16,p&=65535,h+=(p+=a*c)>>>16,p&=65535,d+=(h+=o*f)>>>16,h&=65535,d+=(h+=i*c)>>>16,h&=65535,d+=(h+=a*s)>>>16,h&=65535,d+=r*f+o*c+i*s+a*u,d&=65535,e.fromBits(p<<16|v,d<<16|h)},e.prototype.div=function(t){var n,o,i,a=e.fromValue(t);if(a.isZero())throw(0,r.newError)("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.equals(e.ONE)||a.equals(e.NEG_ONE)?e.MIN_VALUE:a.equals(e.MIN_VALUE)?e.ONE:(n=this.shiftRight(1).div(a).shiftLeft(1)).equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(a.multiply(n)),i=n.add(o.div(a)));if(a.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(i=e.ZERO,o=this;o.greaterThanOrEqual(a);){n=Math.max(1,Math.floor(o.toNumber()/a.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),s=u<=48?1:Math.pow(2,u-48),l=e.fromNumber(n),c=l.multiply(a);c.isNegative()||c.greaterThan(o);)n-=s,c=(l=e.fromNumber(n)).multiply(a);l.isZero()&&(l=e.ONE),i=i.add(l),o=o.subtract(c)}return i},e.prototype.modulo=function(t){var n=e.fromValue(t);return this.subtract(this.div(n).multiply(n))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var n=e.fromValue(t);return e.fromBits(this.low&n.low,this.high&n.high)},e.prototype.or=function(t){var n=e.fromValue(t);return e.fromBits(this.low|n.low,this.high|n.high)},e.prototype.xor=function(t){var n=e.fromValue(t);return e.fromBits(this.low^n.low,this.high^n.high)},e.prototype.shiftLeft=function(t){var n=e.toNumber(t);return 0===(n&=63)?e.ZERO:n<32?e.fromBits(this.low<<n,this.high<<n|this.low>>>32-n):e.fromBits(0,this.low<<n-32)},e.prototype.shiftRight=function(t){var n=e.toNumber(t),r=e.toNumber(t);return 0===(n&=63)?e.ZERO:r<32?e.fromBits(this.low>>>n|this.high<<32-n,this.high>>n):e.fromBits(this.high>>n-32,this.high>=0?0:-1)},e.isInteger=function(e){return!0===(null===e||void 0===e?void 0:e.__isInteger__)},e.fromInt=function(t){var n;if((t|=0)>=-128&&t<128&&null!=(n=o.get(t)))return n;var r=new e(t,t<0?-1:0);return t>=-128&&t<128&&o.set(t,r),r},e.fromBits=function(t,n){return new e(t,n)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-s?e.MIN_VALUE:t+1>=s?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%u|0,t/u|0)},e.fromString=function(t,n,o){var i,u=(void 0===o?{}:o).strictStringValidation;if(0===t.length)throw(0,r.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if((n=null!==n&&void 0!==n?n:10)<2||n>36)throw(0,r.newError)("radix out of range: "+n.toString());if((i=t.indexOf("-"))>0)throw(0,r.newError)('number format error: interior "-" character: '+t);if(0===i)return e.fromString(t.substring(1),n).negate();for(var s=e.fromNumber(Math.pow(n,8)),l=e.ZERO,c=0;c<t.length;c+=8){var f=Math.min(8,t.length-c),d=t.substring(c,c+f),h=parseInt(d,n);if(!0===u&&!a(d,h,n))throw(0,r.newError)('number format error: "'.concat(d,'" is NaN in radix ').concat(n,": ").concat(t));if(f<8){var p=e.fromNumber(Math.pow(n,f));l=l.multiply(p).add(e.fromNumber(h))}else l=(l=l.multiply(s)).add(e.fromNumber(h))}return l},e.fromValue=function(t,n){return void 0===n&&(n={}),t instanceof e?t:"number"===typeof t?(!0===n.ceilFloat&&(t=Math.ceil(t)),e.fromNumber(t)):"string"===typeof t?e.fromString(t,void 0,n):"bigint"===typeof t?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,n){return e.fromValue(t).toString(n)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function a(e,t,n){return!Number.isNaN(e)&&!Number.isNaN(t)&&function(e,t,n){var r=e.toString(t),o=Math.max(n-r.length,0),i="0".repeat(o);return"".concat(i).concat(r)}(t,n,e.length)===e.toLowerCase()}Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var u=4294967296,s=u*u/2,l=i.fromInt(1<<24),c=i.fromValue;t.int=c;var f=i.isInteger;t.isInt=f;var d=i.inSafeRange;t.inSafeRange=d;var h=i.toNumber;t.toNumber=h;var p=i.toString;t.toString=p,t.default=i},70914:(e,t,n)=>{var r=n(19841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},70954:(e,t,n)=>{var r=n(53536);e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}})}},71400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(84347),o=n(44845),i=n(62161);t.catchError=function e(t){return i.operate(function(n,i){var a,u=null,s=!1;u=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,function(o){a=r.innerFrom(t(o,e(t)(n))),u?(u.unsubscribe(),u=null,a.subscribe(i)):s=!0})),s&&(u.unsubscribe(),u=null,a.subscribe(i))})}},71429:(e,t,n)=>{var r=n(53536),o=n(67606);function i(e,t,n,r,i,a){var u={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],l=o.addDummyNode(e,"border",u,n);i[t][a]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}e.exports=function(e){r.forEach(e.children(),function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(e,"borderLeft","_bl",n,a,u),i(e,"borderRight","_br",n,a,u)}})}},71720:(e,t,n)=>{"use strict";var r=n(53536);e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),o=r.max(r.map(n,function(t){return e.node(t).rank})),i=r.map(r.range(o+1),function(){return[]});var a=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(a,function n(o){if(r.has(t,o))return;t[o]=!0;var a=e.node(o);i[a.rank].push(o),r.forEach(e.successors(o),n)}),i}},71775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},71871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Structure=void 0,t.verifyStructSize=function(e,t,n){if(t!==n)throw(0,r.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(n),o)};var r=n(15359),o=r.error.PROTOCOL_ERROR,i=function(){function e(e,t){this.signature=e,this.fields=t}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},e}();t.Structure=i,t.default=i},72070:(e,t,n)=>{var r=n(87937)(n(56552),"Set");e.exports=r},72154:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},72162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},72263:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(89114));t.default=r({},i.default)},72293:(e,t,n)=>{"use strict";var r=n(53536);e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},72548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var r=n(24296),o=n(48664),i=n(27833);function a(e){return new r.Observable(function(t){var n=e||o.performanceTimestampProvider,r=n.now(),a=0,u=function(){t.closed||(a=i.animationFrameProvider.requestAnimationFrame(function(o){a=0;var i=n.now();t.next({timestamp:e?i:o,elapsed:i-r}),u()}))};return u(),function(){a&&i.animationFrameProvider.cancelAnimationFrame(a)}})}t.animationFrames=function(e){return e?a(e):u};var u=a()},72732:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(56294),i=n(62161),a=n(44845);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate(function(t,n){var o=[];t.subscribe(a.createOperatorSubscriber(n,function(t){o.push(t),e<o.length&&o.shift()},function(){var e,t;try{for(var i=r(o),a=i.next();!a.done;a=i.next()){var u=a.value;n.next(u)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()},void 0,function(){o=null}))})}},72801:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(61705),a=n(62161),u=n(48397),s=n(30509),l=n(88324),c=n(47737);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var f=c.popResultSelector(t);return f?l.pipe(e.apply(void 0,o([],r(t))),s.mapOneOrManyArgs(f)):a.operate(function(e,n){i.combineLatestInit(o([e],r(u.argsOrArgArray(t))))(n)})}},72909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(54715),o=n(84905),i=n(84347);t.partition=function(e,t,n){return[o.filter(t,n)(i.innerFrom(e)),o.filter(r.not(t,n))(i.innerFrom(e))]}},73204:(e,t,n)=>{var r=n(3343),o=n(22777),i=n(54052),a=n(44543),u=n(69194),s=n(51268),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&s(e),h=n||c||f||d,p=h?r(e.length,String):[],v=p.length;for(var y in e)!t&&!l.call(e,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||p.push(y);return p}},73508:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var o=n(24296),i=n(12836),a=n(59543),u=n(44845),s=n(62161),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,s.hasLift(t)&&(r.lift=t.lift),r}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null===e||void 0===e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new i.Subscription;var n=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=i.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return a.refCount()(this)},t}(o.Observable);t.ConnectableObservable=l},73688:(e,t,n)=>{"use strict";var r=n(53536),o=n(70849);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),function(e){r.has(n,e.w)?t.push(e):i(e.w)}),delete n[a])}return r.forEach(e.nodes(),i),t}(e);r.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},73742:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(62161),i=n(44845),a=n(61689);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!==t&&void 0!==t?t:e,o.operate(function(n,o){var u=[],s=0;n.subscribe(i.createOperatorSubscriber(o,function(n){var i,l,c,f,d=null;s++%t===0&&u.push([]);try{for(var h=r(u),p=h.next();!p.done;p=h.next()){(g=p.value).push(n),e<=g.length&&(d=null!==d&&void 0!==d?d:[]).push(g)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}if(d)try{for(var v=r(d),y=v.next();!y.done;y=v.next()){var g=y.value;a.arrRemove(u,g),o.next(g)}}catch(b){c={error:b}}finally{try{y&&!y.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}},function(){var e,t;try{for(var n=r(u),i=n.next();!i.done;i=n.next()){var a=i.value;o.next(a)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()},void 0,function(){u=null}))})}},74073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._offset=e||0}return e.prototype.next=function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},e}();t.default=n},74087:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,r:()=>i});var r=n(6326),o=function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,n){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!==n&&void 0!==n?n:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:null!==n&&void 0!==n?n:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map(function(e){return(0,r.Cl)((0,r.Cl)({},e),{tags:e.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:(t=e.type,{gauge:"g",counter:"c"}[t]),e:e.timestamp};var t})},e}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(o)},74238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(62161),o=n(64164);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},74749:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15359),a=n(66831),u=function(){function e(e){var t=e.authTokenManager,n=e.userAgent,r=e.boltAgent;this._authTokenManager=t||(0,i.staticAuthTokenManager)({}),this._userAgent=n,this._boltAgent=r}return e.prototype.authenticate=function(e){return r(this,arguments,void 0,function(e){var t,n,r=e.connection,i=e.auth,u=e.skipReAuth,s=e.waitReAuth,l=e.forceReAuth;return o(this,function(e){switch(e.label){case 0:return null==i?[3,3]:(t=!0===r.supportsReAuth&&(!a.object.equals(r.authToken,i)&&!0!==u||!0===l),null==r.authToken||t?[4,r.connect(this._userAgent,this._boltAgent,i,s||!1)]:[3,2]);case 1:case 5:return[2,e.sent()];case 2:case 6:return[2,r];case 3:return[4,this._authTokenManager.getToken()];case 4:return n=e.sent(),a.object.equals(n,r.authToken)?[3,6]:[4,r.connect(this._userAgent,this._boltAgent,n,!1)]}})})},e.prototype.handleError=function(e){var t=e.connection,n=e.code;return!(!t||!n.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,n)},e}();t.default=u},74958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(61705),o=n(98684);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},75039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=n},75544:(e,t)=>{"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],r=n.exec(e),o=0;if(!r)return new Date(e);for(var i,a=0;i=t[a];a++)r[i]=parseInt(r[i],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?o=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(o=60*r[11]+r[12],"+"===r[10]&&(o=0-o));var u=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(u)},t.is=function(e,t){return"string"===typeof e&&((!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&n.test(e))}},75629:(e,t,n)=>{"use strict";var r=n(75544),o=n(38599),i=n(13552),a=Object.prototype.toString;e.exports=function(e){return t=e,"[object Date]"===a.call(t)?e:function(e){return"[object Number]"===a.call(e)}(e)?new Date((n=e)<315576e5?1e3*n:n):r.is(e)?r.parse(e):o.is(e)?o.parse(e):i.is(e)?i.parse(e):new Date(e);var t,n}},75713:e=>{e.exports=function(){}},75816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},75822:(e,t,n)=>{var r=n(95750),o=n(34428);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,u={},s=new o,l=function(e){var t=e.v!==i?e.v:e.w,r=u[t],o=n(e),l=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(t,l))};e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;u[e]={distance:n},s.add(e,n)});for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return u}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},75866:(e,t,n)=>{var r=n(88468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},75943:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=t.ConnectionErrorHandler=t.DelegateConnection=t.ChannelConnection=t.Connection=void 0;var u=a(n(91051));t.Connection=u.default;var s=i(n(62125));t.ChannelConnection=s.default,Object.defineProperty(t,"createChannelConnection",{enumerable:!0,get:function(){return s.createChannelConnection}});var l=a(n(20363));t.DelegateConnection=l.default;var c=a(n(60981));t.ConnectionErrorHandler=c.default,t.default=u.default},76003:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(94364)),u=i(n(89114)),s=i(n(19155)),l=i(n(8607)),c=n(64260),f=n(15359).internal.constants.BOLT_PROTOCOL_V5_3,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=n.boltAgent,a=n.authToken,u=n.notificationFilter,s=n.onError,f=n.onComplete,d={},h=new c.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x3(r,i,u,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return f(o(o({},e),d.metadata))},onError:s,flush:!0})},t}(a.default);t.default=d},76272:(e,t,n)=>{var r=n(6571),o=n(22761);e.exports=function(e){return o(e)&&r(e)}},76354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(49741),o=n(85819),i=n(52515),a=n(78766),u=n(32308),s=n(20922),l=n(33115),c=n(81116),f=n(43470),d=n(1268),h=n(28944),p=n(24643),v=n(29155);t.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return r.scheduleObservable(e,t);if(c.isArrayLike(e))return i.scheduleArray(e,t);if(l.isPromise(e))return o.schedulePromise(e,t);if(d.isAsyncIterable(e))return u.scheduleAsyncIterable(e,t);if(f.isIterable(e))return a.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw h.createInvalidObservableTypeError(e)}},76516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,u=Object(n);(t?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},76522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(60944),o=n(62161),i=n(44845);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate(function(n,o){n.subscribe(i.createOperatorSubscriber(o,function(n){return r.executeSchedule(o,e,function(){return o.next(n)},t)},function(){return r.executeSchedule(o,e,function(){return o.complete()},t)},function(n){return r.executeSchedule(o,e,function(){return o.error(n)},t)}))})}},76551:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,s:()=>o});var r=n(19324);function o(){return!(0,r.B)()||window.navigator.onLine}function i(){return!o()}},76679:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(86953),o=n(62161),i=n(44845);function a(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),o.operate(function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}},76711:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Facade=void 0;var o=r(n(46105)),i=n(14704),a=r(n(1417)),u=r(n(75629)),s=r(n(88804)),l=r(n(50856));function c(e,t){t=t||{},this.raw=i.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=i.clone(e)),"traverse"in t||(t.traverse=!0),e.timestamp="timestamp"in e?u.default(e.timestamp):new Date,t.traverse&&l.default(e),this.opts=t,this.obj=e}t.Facade=c;var f=c.prototype;function d(e){return i.clone(e)}f.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.obj[e];return n?("function"===typeof n&&(n=n.call(this)||{}),0===t.length||(n=s.default(n,t.join("."))),this.opts.clone?d(n):n):n},f.field=function(e){var t=this.obj[e];return this.opts.clone?d(t):t},c.proxy=function(e){return function(){return this.proxy(e)}},c.field=function(e){return function(){return this.field(e)}},c.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?i.clone(n):n]),n||[]}},c.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return Array.isArray(n)?n[0]:void 0}},f.json=function(){var e=this.opts.clone?i.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e},f.rawEvent=function(){return this.raw},f.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?i.clone(t):t;if(!e)return n;if(this.enabled(e)){var r=this.integrations(),o=r[e]||s.default(r,e);return"object"!==typeof o&&(o=s.default(this.options(),e)),"object"===typeof o?o:{}}},f.context=f.options,f.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!==typeof t&&(t=this.proxy("options.all")),"boolean"!==typeof t&&(t=this.proxy("integrations.all")),"boolean"!==typeof t&&(t=!0);var n=t&&a.default(e),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(e)&&(n=r.providers[e]),r.hasOwnProperty(e)){var o=r[e];n="boolean"!==typeof o||o}return!!n},f.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},f.active=function(){var e=this.proxy("options.active");return null!==e&&void 0!==e||(e=!0),e},f.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},f.sessionId=f.anonymousId,f.groupId=c.proxy("options.groupId"),f.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var r in e=e||{},n&&(t.id=n),e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=null==this[r]?this.proxy("options.traits."+r):this[r]();if(null==o)continue;t[e[r]]=o,delete t[r]}return t},f.library=function(){var e=this.proxy("options.library");return e?"string"===typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},f.device=function(){var e=this.proxy("context.device");"object"===typeof e&&null!==e||(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e},f.userAgent=c.proxy("context.userAgent"),f.timezone=c.proxy("context.timezone"),f.timestamp=c.field("timestamp"),f.channel=c.field("channel"),f.ip=c.proxy("context.ip"),f.userId=c.field("userId"),o.default(f)},76788:(e,t,n)=>{var r=n(97160),o=n(85204),i=n(64816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},76921:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(29718);t.exhaust=r.exhaustAll},77116:(e,t,n)=>{var r=n(9812),o=n(22777),i=n(54052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},77574:(e,t)=>{"use strict";function n(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},77659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var r=n(65709);t.bindCallback=function(e,t,n){return r.bindCallbackInternals(!1,e,t,n)}},78159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.epochDayToDate=h,t.nanoOfDayToLocalTime=p,t.epochSecondAndNanoToLocalDateTime=function(e,t){var n=f(e,c),o=d(e,c).multiply(l).add(t),i=h(n),a=p(o);return new r.LocalDateTime(i.year,i.month,i.day,a.hour,a.minute,a.second,a.nanosecond)};var r=n(15359),o=r.internal.temporalUtil,i=o.DAYS_0000_TO_1970,a=o.DAYS_PER_400_YEAR_CYCLE,u=o.NANOS_PER_HOUR,s=o.NANOS_PER_MINUTE,l=o.NANOS_PER_SECOND,c=o.SECONDS_PER_DAY,f=o.floorDiv,d=o.floorMod;function h(e){var t=(e=(0,r.int)(e)).add(i).subtract(60),n=(0,r.int)(0);if(t.lessThan(0)){var o=t.add(1).div(a).subtract(1);n=o.multiply(400),t=t.add(o.multiply(-a))}var u=t.multiply(400).add(591).div(a),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)));s.lessThan(0)&&(u=u.subtract(1),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)))),u=u.add(n);var l=s,c=l.multiply(5).add(2).div(153),f=c.add(2).modulo(12).add(1),d=l.subtract(c.multiply(306).add(5).div(10)).add(1);return u=u.add(c.div(10)),new r.Date(u,f,d)}function p(e){var t=(e=(0,r.int)(e)).div(u),n=(e=e.subtract(t.multiply(u))).div(s),o=(e=e.subtract(n.multiply(s))).div(l),i=e.subtract(o.multiply(l));return new r.LocalTime(t,n,o,i)}},78311:e=>{e.exports="2.1.8"},78335:(e,t,n)=>{"use strict";var r=n(53536),o=n(79207).Graph,i=n(67606);function a(e,t){var n={};return r.reduce(t,function(t,o){var i=0,a=0,u=t.length,l=r.last(o);return r.forEach(o,function(t,c){var f=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),d=f?e.node(f).order:u;(f||t===l)&&(r.forEach(o.slice(a,c+1),function(t){r.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;!(a<i||d<a)||o.dummy&&e.node(t).dummy||s(n,r,t)})}),a=c+1,i=d)}),o}),n}function u(e,t){var n={};if(e.nodeCount()>1e3)return n;function o(t,o,i,a,u){var l;r.forEach(r.range(o,i),function(o){l=t[o],e.node(l).dummy&&r.forEach(e.predecessors(l),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>u)&&s(n,t,l)})})}return r.reduce(t,function(t,n){var i,a=-1,u=0;return r.forEach(n,function(r,s){if("border"===e.node(r).dummy){var l=e.predecessors(r);l.length&&(i=e.node(l[0]).order,o(n,u,s,a,i),u=s,a=i)}o(n,u,n.length,i,t.length)}),n}),n}function s(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function l(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function c(e,t,n,o){var i={},a={},u={};return r.forEach(t,function(e){r.forEach(e,function(e,t){i[e]=e,a[e]=e,u[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var s=o(e);if(s.length){s=r.sortBy(s,function(e){return u[e]});for(var c=(s.length-1)/2,f=Math.floor(c),d=Math.ceil(c);f<=d;++f){var h=s[f];a[e]===e&&t<u[h]&&!l(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=u[h])}}})}),{root:i,align:a}}function f(e,t,n,i,a){var u={},s=function(e,t,n,i){var a=new o,u=e.graph(),s=function(e,t,n){return function(o,i,a){var u,s=o.node(i),l=o.node(a),c=0;if(c+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(c+=n?u:-u),u=0,c+=(s.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2}return u&&(c+=n?u:-u),u=0,c}}(u.nodesep,u.edgesep,i);return r.forEach(t,function(t){var o;r.forEach(t,function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(s(e,t,o),u||0))}o=t})}),a}(e,t,n,a),l=a?"borderLeft":"borderRight";function c(e,t){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c(function(e){u[e]=s.inEdges(e).reduce(function(e,t){return Math.max(e,u[t.v]+s.edge(t))},0)},s.predecessors.bind(s)),c(function(t){var n=s.outEdges(t).reduce(function(e,t){return Math.min(e,u[t.w]-s.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(u[t]=Math.max(u[t],n))},s.successors.bind(s)),r.forEach(i,function(e){u[e]=u[n[e]]}),u}function d(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)}),n-o})}function h(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var u,s=n+a,l=e[s];if(l!==t){var c=r.values(l);(u="l"===a?o-r.min(c):i-r.max(c))&&(e[s]=r.mapValues(l,function(e){return e+u}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2})}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),u(e,n)),s={};r.forEach(["u","d"],function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var a=("u"===i?e.predecessors:e.successors).bind(e),u=c(e,t,o,a),l=f(e,t,u.root,u.align,"r"===n);"r"===n&&(l=r.mapValues(l,function(e){return-e})),s[i+n]=l})});var l=d(e,s);return h(s,l),p(s,e.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:l,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:h,findSmallestWidthAlignment:d,balance:p}},78420:(e,t,n)=>{var r=n(71775),o=n(93211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},78694:(e,t,n)=>{"use strict";var r=n(59966).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=l,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=a(t[r]),o>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=a(t[r]),o>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},78766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(24296),o=n(77574),i=n(9620),a=n(60944);t.scheduleIterable=function(e,t){return new r.Observable(function(n){var r;return a.executeSchedule(n,t,function(){r=e[o.iterator](),a.executeSchedule(n,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)},0,!0)}),function(){return i.isFunction(null===r||void 0===r?void 0:r.return)&&r.return()}})}},78853:(e,t,n)=>{"use strict";e.exports=n(5896)},78976:(e,t,n)=>{var r=n(75822),o=n(95750);e.exports=function(e,t,n){return o.transform(e.nodes(),function(o,i){o[i]=r(e,i,t,n)},{})}},78979:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.position=0,this.length=e}return e.prototype.getUInt8=function(e){throw new Error("Not implemented")},e.prototype.getInt8=function(e){throw new Error("Not implemented")},e.prototype.getFloat64=function(e){throw new Error("Not implemented")},e.prototype.getVarInt=function(e){throw new Error("Not implemented")},e.prototype.putUInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putFloat64=function(e,t){throw new Error("Not implemented")},e.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},e.prototype.getSlice=function(e,t){return new o(e,t,this)},e.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},e.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},e.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},e.prototype.putVarInt=function(e,t){for(var n=0;t>1;){var r=t%128;t>=128&&(r+=128),t/=128,this.putUInt8(e+n,r),n+=1}return n},e.prototype.putBytes=function(e,t){for(var n=0,r=t.remaining();n<r;n++)this.putUInt8(e+n,t.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.readVarInt=function(){var e=this.getVarInt(this.position);return this._updatePos(e.length),e.value},e.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},e.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},e.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},e.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},e.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},e.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},e.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},e.prototype.writeVarInt=function(e){var t=this.putVarInt(this.position,e);this._updatePos(t)},e.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},e.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},e.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},e.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var n=this.getUInt8(t).toString(16);1===n.length&&(n="0"+n),e+=n,t!==this.length-1&&(e+=" ")}return e},e}();t.default=r;var o=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o._start=t,o._inner=r,o}return n(t,e),t.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},t.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(r)},79207:(e,t,n)=>{var r=n(99383);e.exports={Graph:r.Graph,json:n(51097),alg:n(28582),version:r.version}},79593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(29491),o=n(45549);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout(function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)})}},79612:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(8),i=n(9);function a(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var u in a.prototype=Object.create(r.prototype),r)a[u]=r[u];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},a.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),o=n(10),i=n(13),a=n(0),u=n(16),s=n(4);function l(e,t,n,a){null==n&&null==a&&(a=t),r.call(this,a),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new i(t.x,t.y,n.width,n.height):new i}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(e){this.rect.width=e},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(e){this.rect.height=e},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new s(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new s(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},l.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},l.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},l.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},l.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},l.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},l.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},l.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach(function(t){e.add(t)});return e},l.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var e,t,n=-a.INITIAL_WORLD_BOUNDARY,r=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_X+u.nextDouble()*(r-n)+n;var o=-a.INITIAL_WORLD_BOUNDARY,i=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_Y+u.nextDouble()*(i-o)+o,this.rect.x=e,this.rect.y=t},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(e){var t=this.rect.x;t>a.WORLD_BOUNDARY?t=a.WORLD_BOUNDARY:t<-a.WORLD_BOUNDARY&&(t=-a.WORLD_BOUNDARY);var n=this.rect.y;n>a.WORLD_BOUNDARY?n=a.WORLD_BOUNDARY:n<-a.WORLD_BOUNDARY&&(n=-a.WORLD_BOUNDARY);var r=new s(t,n),o=e.inverseTransformPoint(r);this.setLocation(o.x,o.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=l},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(10),i=n(0),a=n(6),u=n(3),s=n(1),l=n(13),c=n(12),f=n(11);function d(e,t,n){r.call(this,n),this.estimatedSize=o.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof a?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var h in d.prototype=Object.create(r.prototype),r)d[h]=r[h];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var o=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(o.source=t,o.target=n,o.isInterGraph=!1,this.getEdges().push(o),t.edges.push(o),n!=t&&n.edges.push(o),o)},d.prototype.remove=function(e){var t=e;if(e instanceof u){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,o=0;o<r;o++)(i=n[o]).isInterGraph?this.graphManager.remove(i):i.source.owner.remove(i);if(-1==(a=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof s){var i;if(null==(i=e))throw"Edge is null!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(null==i.source.owner||null==i.target.owner||i.source.owner!=this||i.target.owner!=this)throw"Source and/or target owner is invalid!";var a,l=i.source.edges.indexOf(i),c=i.target.edges.indexOf(i);if(!(l>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(i.source.edges.splice(l,1),i.target!=i.source&&i.target.edges.splice(c,1),-1==(a=i.source.owner.getEdges().indexOf(i)))throw"Not in owner's edge list!";i.source.owner.getEdges().splice(a,1)}},d.prototype.updateLeftTop=function(){for(var e,t,n,r=o.MAX_VALUE,i=o.MAX_VALUE,a=this.getNodes(),u=a.length,s=0;s<u;s++){var l=a[s];r>(e=l.getTop())&&(r=e),i>(t=l.getLeft())&&(i=t)}return r==o.MAX_VALUE?null:(n=void 0!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=i-n,this.top=r-n,new c(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,n,r,i,a,u=o.MAX_VALUE,s=-o.MAX_VALUE,c=o.MAX_VALUE,f=-o.MAX_VALUE,d=this.nodes,h=d.length,p=0;p<h;p++){var v=d[p];e&&null!=v.child&&v.updateBounds(),u>(t=v.getLeft())&&(u=t),s<(n=v.getRight())&&(s=n),c>(r=v.getTop())&&(c=r),f<(i=v.getBottom())&&(f=i)}var y=new l(u,c,s-u,f-c);u==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=void 0!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=y.x-a,this.right=y.x+y.width+a,this.top=y.y-a,this.bottom=y.y+y.height+a},d.calculateBounds=function(e){for(var t,n,r,i,a=o.MAX_VALUE,u=-o.MAX_VALUE,s=o.MAX_VALUE,c=-o.MAX_VALUE,f=e.length,d=0;d<f;d++){var h=e[d];a>(t=h.getLeft())&&(a=t),u<(n=h.getRight())&&(u=n),s>(r=h.getTop())&&(s=r),c<(i=h.getBottom())&&(c=i)}return new l(a,s,u-a,c-s)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?i.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new f,o=new Set,i=this.nodes[0];for(i.withChildren().forEach(function(e){r.push(e),o.add(e)});0!==r.length;)for(var a=(t=(i=r.shift()).getEdges()).length,u=0;u<a;u++)null==(n=t[u].getOtherEndInGraph(i,this))||o.has(n)||n.withChildren().forEach(function(e){r.push(e),o.add(e)});if(this.isConnected=!1,o.size>=this.nodes.length){var s=0;o.forEach(function(t){t.owner==e&&s++}),s==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,n){"use strict";var r,o=n(1);function i(e){r=n(5),this.layout=e,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},i.prototype.add=function(e,t,n,r,o){if(null==n&&null==r&&null==o){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}o=n,n=e;var i=(r=t).getOwner(),a=o.getOwner();if(null==i||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==a)return n.isInterGraph=!1,i.add(n,r,o);if(n.isInterGraph=!0,n.source=r,n.target=o,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},i.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,i=[],a=(i=i.concat(t.getEdges())).length,u=0;u<a;u++)n=i[u],t.remove(n);var s,l=[];for(a=(l=l.concat(t.getNodes())).length,u=0;u<a;u++)s=l[u],t.remove(s);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof o){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(c=n.source.edges.indexOf(n),n.source.edges.splice(c,1),c=n.target.edges.indexOf(n),n.target.edges.splice(c,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";c=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(c,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},i.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,o,i=this.getAllEdges(),a=i.length,u=0;u<a;u++)if(t=(e=i[u]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,o=n.getOwner();null==e.lca;){if(o==r){e.lca=o;break}if(o==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=o.getParent(),o=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},i.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},i.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),o=r.length,i=0;i<o;i++)(n=r[i]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},i.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=i},function(e,t,n){"use strict";var r=n(0);function o(){}for(var i in r)o[i]=r[i];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=3*o.MAX_NODE_DISPLACEMENT_INCREMENTAL,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=o},function(e,t,n){"use strict";var r=n(12);function o(){}o.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var o=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,o),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var a=i*n[0],u=n[1]/i;n[0]<u?u=n[0]:a=n[1],n[0]=-1*o[0]*(u/2+r),n[1]=-1*o[1]*(a/2+r)},o.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},o.getIntersection2=function(e,t,n){var r=e.getCenterX(),o=e.getCenterY(),i=t.getCenterX(),a=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=o,n[2]=i,n[3]=a,!0;var u=e.getX(),s=e.getY(),l=e.getRight(),c=e.getX(),f=e.getBottom(),d=e.getRight(),h=e.getWidthHalf(),p=e.getHeightHalf(),v=t.getX(),y=t.getY(),g=t.getRight(),m=t.getX(),b=t.getBottom(),_=t.getRight(),w=t.getWidthHalf(),O=t.getHeightHalf(),E=!1,x=!1;if(r===i){if(o>a)return n[0]=r,n[1]=s,n[2]=i,n[3]=b,!1;if(o<a)return n[0]=r,n[1]=f,n[2]=i,n[3]=y,!1}else if(o===a){if(r>i)return n[0]=u,n[1]=o,n[2]=g,n[3]=a,!1;if(r<i)return n[0]=l,n[1]=o,n[2]=v,n[3]=a,!1}else{var S=e.height/e.width,P=t.height/t.width,T=(a-o)/(i-r),C=void 0,k=void 0,A=void 0,j=void 0,R=void 0,I=void 0;if(-S===T?r>i?(n[0]=c,n[1]=f,E=!0):(n[0]=l,n[1]=s,E=!0):S===T&&(r>i?(n[0]=u,n[1]=s,E=!0):(n[0]=d,n[1]=f,E=!0)),-P===T?i>r?(n[2]=m,n[3]=b,x=!0):(n[2]=g,n[3]=y,x=!0):P===T&&(i>r?(n[2]=v,n[3]=y,x=!0):(n[2]=_,n[3]=b,x=!0)),E&&x)return!1;if(r>i?o>a?(C=this.getCardinalDirection(S,T,4),k=this.getCardinalDirection(P,T,2)):(C=this.getCardinalDirection(-S,T,3),k=this.getCardinalDirection(-P,T,1)):o>a?(C=this.getCardinalDirection(-S,T,1),k=this.getCardinalDirection(-P,T,3)):(C=this.getCardinalDirection(S,T,2),k=this.getCardinalDirection(P,T,4)),!E)switch(C){case 1:j=s,A=r+-p/T,n[0]=A,n[1]=j;break;case 2:A=d,j=o+h*T,n[0]=A,n[1]=j;break;case 3:j=f,A=r+p/T,n[0]=A,n[1]=j;break;case 4:A=c,j=o+-h*T,n[0]=A,n[1]=j}if(!x)switch(k){case 1:I=y,R=i+-O/T,n[2]=R,n[3]=I;break;case 2:R=_,I=a+w*T,n[2]=R,n[3]=I;break;case 3:I=b,R=i+O/T,n[2]=R,n[3]=I;break;case 4:R=m,I=a+-w*T,n[2]=R,n[3]=I}}return!1},o.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},o.getIntersection=function(e,t,n,o){if(null==o)return this.getIntersection2(e,t,n);var i,a,u,s,l,c,f,d=e.x,h=e.y,p=t.x,v=t.y,y=n.x,g=n.y,m=o.x,b=o.y;return 0===(f=(i=v-h)*(s=y-m)-(a=b-g)*(u=d-p))?null:new r((u*(c=m*g-y*b)-s*(l=p*h-d*v))/f,(a*l-i*c)/f)},o.angleOfVector=function(e,t,n,r){var o=void 0;return e!==n?(o=Math.atan((r-t)/(n-e)),n<e?o+=Math.PI:r<t&&(o+=this.TWO_PI)):o=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,o},o.doIntersect=function(e,t,n,r){var o=e.x,i=e.y,a=t.x,u=t.y,s=n.x,l=n.y,c=r.x,f=r.y,d=(a-o)*(f-l)-(c-s)*(u-i);if(0===d)return!1;var h=((f-l)*(c-o)+(s-c)*(f-i))/d,p=((i-u)*(c-o)+(a-o)*(f-i))/d;return 0<h&&h<1&&0<p&&p<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,e.exports=o},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return{value:e,next:null,prev:null}},i=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},a=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach(function(e){return n.push(e)})}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return i(t.prev,o(e),t,this)}},{key:"insertAfter",value:function(e,t){return i(t,o(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return i(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return i(t,e,t.next,this)}},{key:"push",value:function(e){return i(this.tail,o(e),null,this)}},{key:"unshift",value:function(e){return i(null,o(e),this.head,this)}},{key:"remove",value:function(e){return a(e,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x)&&!(this.getBottom()<e.y)&&!(e.getRight()<this.x)&&!(e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}o.lastID=0,o.createID=function(e){return o.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=o.getString(),o.lastID++),e.uniqueID)},o.getString=function(e){return null==e&&(e=o.lastID),"Object#"+e},o.isPrimitive=function(e){var t="undefined"===typeof e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(0),i=n(6),a=n(3),u=n(1),s=n(5),l=n(4),c=n(17),f=n(27);function d(e){f.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(f.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new s(null,this.graphManager,e)},d.prototype.newNode=function(e){return new a(this.graphManager,e)},d.prototype.newEdge=function(e){return new u(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==o.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof a){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof u){var o=e;null!=o.vGraphObject&&o.vGraphObject.update(o)}else if(e instanceof s){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(void 0==e)this.transform(new l(0,0));else{var t=new c,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),o=0;o<r.length;o++)r[o].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),o=0;o<r.length;o++)null==(n=(t=r[o]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),o=!0,i=0;i<n.length;i++)null!=n[i].getChild()&&(o=!1);if(!o)return e;var a=new Set,u=[],s=new Map,l=[];for(l=l.concat(n);l.length>0&&t;){for(u.push(l[0]);u.length>0&&t;){var c=u[0];u.splice(0,1),a.add(c);var f=c.getEdges();for(i=0;i<f.length;i++){var d=f[i].getOtherEnd(c);if(s.get(c)!=d){if(a.has(d)){t=!1;break}u.push(d),s.set(d,c)}}}if(t){var h=[].concat(r(a));for(e.push(h),i=0;i<h.length;i++){var p=h[i],v=l.indexOf(p);v>-1&&l.splice(v,1)}a=new Set,s=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),o=0;o<e.bendpoints.length;o++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1)),r.add(i);var a=this.newEdge(null);this.graphManager.add(a,n,i),t.add(i),n=i}return a=this.newEdge(null),this.graphManager.add(a,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var o=this.edgeToDummyNodes.get(n),i=0;i<o.length;i++){var a=o[i],u=new l(a.getCenterX(),a.getCenterY()),s=n.bendpoints.get(i);s.x=u.x,s.y=u.y,a.getOwner().remove(a)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(e,t,n,r){if(void 0!=n&&void 0!=r){var o=t;return e<=50?o-=(t-t/n)/50*(50-e):o+=(t*r-t)/50*(e-50),o}var i,a;return e<=50?(i=9*t/500,a=t/10):(i=9*t/50,a=-8*t),i*e+a},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,o=!1,i=null;1!=t.length&&2!=t.length||(o=!0,i=t[0]);for(var a=0;a<t.length;a++){var u=(c=t[a]).getNeighborsList().size;r.set(c,c.getNeighborsList().size),1==u&&n.push(c)}var s=[];for(s=s.concat(n);!o;){var l=[];for(l=l.concat(s),s=[],a=0;a<t.length;a++){var c=t[a],f=t.indexOf(c);f>=0&&t.splice(f,1),c.getNeighborsList().forEach(function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&s.push(e),r.set(e,t)}})}n=n.concat(s),1!=t.length&&2!=t.length||(o=!0,i=t[0])}return i},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(4);function o(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(e){this.lworldExtX=e},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(e){this.lworldExtY=e},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},o.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},o.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},o.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},o.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},o.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(7),i=n(0),a=n(8),u=n(9);function s(){r.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var l in s.prototype=Object.create(r.prototype),r)s[l]=r[l];s.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},s.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,a,u,s=this.getGraphManager().getAllEdges(),l=0;l<s.length;l++)(e=s[l]).idealLength=this.idealEdgeLength,e.isInterGraph&&(n=e.getSource(),r=e.getTarget(),a=e.getSourceInLca().getEstimatedSize(),u=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=a+u-2*i.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t))},s.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(e-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},s.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},s.prototype.calcRepulsionForces=function(){var e,t,n,r,i,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),i=new Set,e=0;e<s.length;e++)n=s[e],this.calculateRepulsionForceOfANode(n,i,a,u),i.add(n);else for(e=0;e<s.length;e++)for(n=s[e],t=e+1;t<s.length;t++)r=s[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},s.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},s.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},s.prototype.calcSpringForce=function(e,t){var n,r,o,i,a=e.getSource(),u=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==u.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(o=(r=this.springConstant*(n-t))*(e.lengthX/n),i=r*(e.lengthY/n),a.springForceX+=o,a.springForceY+=i,u.springForceX-=o,u.springForceY-=i)},s.prototype.calcRepulsionForce=function(e,t){var n,r,i,s,l,c,f,d=e.getRect(),h=t.getRect(),p=new Array(2),v=new Array(4);if(d.intersects(h)){a.calcSeparationAmount(d,h,p,o.DEFAULT_EDGE_LENGTH/2),c=2*p[0],f=2*p[1];var y=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=y*c,e.repulsionForceY-=y*f,t.repulsionForceX+=y*c,t.repulsionForceY+=y*f}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=h.getCenterX()-d.getCenterX(),r=h.getCenterY()-d.getCenterY()):(a.getIntersection(d,h,v),n=v[2]-v[0],r=v[3]-v[1]),Math.abs(n)<o.MIN_REPULSION_DIST&&(n=u.sign(n)*o.MIN_REPULSION_DIST),Math.abs(r)<o.MIN_REPULSION_DIST&&(r=u.sign(r)*o.MIN_REPULSION_DIST),i=n*n+r*r,s=Math.sqrt(i),c=(l=this.repulsionConstant*e.noOfChildren*t.noOfChildren/i)*n/s,f=l*r/s,e.repulsionForceX-=c,e.repulsionForceY-=f,t.repulsionForceX+=c,t.repulsionForceY+=f},s.prototype.calcGravitationalForce=function(e){var t,n,r,o,i,a,u,s;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,o=e.getCenterX()-n,i=e.getCenterY()-r,a=Math.abs(o)+e.getWidth()/2,u=Math.abs(i)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(a>(s=t.getEstimatedSize()*this.gravityRangeFactor)||u>s)&&(e.gravitationForceX=-this.gravityConstant*o,e.gravitationForceY=-this.gravityConstant*i):(a>(s=t.getEstimatedSize()*this.compoundGravityRangeFactor)||u>s)&&(e.gravitationForceX=-this.gravityConstant*o*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant)},s.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},s.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},s.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},s.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),o=0;o<t;o++)r[o]=new Array(n);for(o=0;o<t;o++)for(var i=0;i<n;i++)r[o][i]=new Array;return r},s.prototype.addNodeToGrid=function(e,t,n){var r,o,i,a;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var u=r;u<=o;u++)for(var s=i;s<=a;s++)this.grid[u][s].push(e),e.setGridCoordinates(r,o,i,a)},s.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},s.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var i,a=new Set;e.surrounding=new Array;for(var u=this.grid,s=e.startX-1;s<e.finishX+2;s++)for(var l=e.startY-1;l<e.finishY+2;l++)if(!(s<0||l<0||s>=u.length||l>=u[0].length))for(var c=0;c<u[s][l].length;c++)if(i=u[s][l][c],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!a.has(i)){var f=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),d=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2);f<=this.repulsionRange&&d<=this.repulsionRange&&a.add(i)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))}for(s=0;s<e.surrounding.length;s++)this.calcRepulsionForce(e,e.surrounding[s])},s.prototype.calcRepulsionRange=function(){return 0},e.exports=s},function(e,t,n){"use strict";var r=n(1),o=n(7);function i(e,t,n){r.call(this,e,t,n),this.idealLength=o.DEFAULT_EDGE_LENGTH}for(var a in i.prototype=Object.create(r.prototype),r)i[a]=r[a];e.exports=i},function(e,t,n){"use strict";var r=n(3);function o(e,t,n,o){r.call(this,e,t,n,o),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var i in o.prototype=Object.create(r.prototype),r)o[i]=r[i];o.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=o},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},o.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},o.prototype.get=function(e){var t=r.createID(e);return this.map[t]},o.prototype.keySet=function(){return this.keys},e.exports=o},function(e,t,n){"use strict";var r=n(14);function o(){this.set={}}o.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},o.prototype.remove=function(e){delete this.set[r.createID(e)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(e){return this.set[r.createID(e)]==e},o.prototype.isEmpty=function(){return 0===this.size()},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof o?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),o=t,i=n;;){for(;this.compareFunction(r,this._get(e,i));)i--;for(;this.compareFunction(this._get(e,o),r);)o++;if(!(o<i))return i;this._swap(e,o,i),o++,i--}}},{key:"_get",value:function(e,t){return e instanceof o?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof o?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=o,this.gap_penalty=i,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.grid[a][u]=0}this.tracebackGrid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.tracebackGrid[s]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.tracebackGrid[s][l]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var o=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],i=this.arrayAllMaxIndexes(o);this.grid[n][r]=o[i[0]],this.tracebackGrid[n][r]=[i.includes(0),i.includes(1),i.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(7),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(4),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(24),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(5),r.LEdge=n(1),r.LGraphManager=n(6),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(25),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var o=r.prototype;o.addListener=function(e,t){this.listeners.push({event:e,callback:t})},o.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},o.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=t()},79708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_APIS=t.BOLT_PROTOCOL_V6_0=t.BOLT_PROTOCOL_V5_8=t.BOLT_PROTOCOL_V5_7=t.BOLT_PROTOCOL_V5_6=t.BOLT_PROTOCOL_V5_5=t.BOLT_PROTOCOL_V5_4=t.BOLT_PROTOCOL_V5_3=t.BOLT_PROTOCOL_V5_2=t.BOLT_PROTOCOL_V5_1=t.BOLT_PROTOCOL_V5_0=t.BOLT_PROTOCOL_V4_4=t.BOLT_PROTOCOL_V4_3=t.BOLT_PROTOCOL_V4_2=t.BOLT_PROTOCOL_V4_1=t.BOLT_PROTOCOL_V4_0=t.BOLT_PROTOCOL_V3=t.BOLT_PROTOCOL_V2=t.BOLT_PROTOCOL_V1=t.DEFAULT_POOL_MAX_SIZE=t.DEFAULT_POOL_ACQUISITION_TIMEOUT=t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=t.FETCH_ALL=void 0;var r=n(49840);t.FETCH_ALL=-1;t.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4;t.DEFAULT_POOL_MAX_SIZE=100;t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4;t.ACCESS_MODE_READ="READ";t.ACCESS_MODE_WRITE="WRITE";var o=new r.ProtocolVersion(1,0);t.BOLT_PROTOCOL_V1=o;var i=new r.ProtocolVersion(2,0);t.BOLT_PROTOCOL_V2=i;var a=new r.ProtocolVersion(3,0);t.BOLT_PROTOCOL_V3=a;var u=new r.ProtocolVersion(4,0);t.BOLT_PROTOCOL_V4_0=u;var s=new r.ProtocolVersion(4,1);t.BOLT_PROTOCOL_V4_1=s;var l=new r.ProtocolVersion(4,2);t.BOLT_PROTOCOL_V4_2=l;var c=new r.ProtocolVersion(4,3);t.BOLT_PROTOCOL_V4_3=c;var f=new r.ProtocolVersion(4,4);t.BOLT_PROTOCOL_V4_4=f;var d=new r.ProtocolVersion(5,0);t.BOLT_PROTOCOL_V5_0=d;var h=new r.ProtocolVersion(5,1);t.BOLT_PROTOCOL_V5_1=h;var p=new r.ProtocolVersion(5,2);t.BOLT_PROTOCOL_V5_2=p;var v=new r.ProtocolVersion(5,3);t.BOLT_PROTOCOL_V5_3=v;var y=new r.ProtocolVersion(5,4);t.BOLT_PROTOCOL_V5_4=y;var g=new r.ProtocolVersion(5,5);t.BOLT_PROTOCOL_V5_5=g;var m=new r.ProtocolVersion(5,6);t.BOLT_PROTOCOL_V5_6=m;var b=new r.ProtocolVersion(5,7);t.BOLT_PROTOCOL_V5_7=b;var _=new r.ProtocolVersion(5,8);t.BOLT_PROTOCOL_V5_8=_;var w=new r.ProtocolVersion(6,0);t.BOLT_PROTOCOL_V6_0=w;t.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},79743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(93323),o=n(62161),i=n(44845);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate(function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,function(t){var o=e.now(),i=o-r;r=o,n.next(new a(t,i))}))})};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},80073:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(44682).AsyncScheduler);t.AsapScheduler=o},80098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(6689),o=n(93323),i=n(12836),a=n(62161),u=n(44845),s=n(61689),l=n(47737),c=n(60944);t.windowTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return a.operate(function(t,n){var o=[],a=!1,l=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),s.arrRemove(o,e),a&&f()},f=function(){if(o){var t=new i.Subscription;n.add(t);var a=new r.Subject,u={window:a,subs:t,seen:0};o.push(u),n.next(a.asObservable()),c.executeSchedule(t,h,function(){return l(u)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):a=!0,f();var d=function(e){return o.slice().forEach(e)},y=function(e){d(function(t){var n=t.window;return e(n)}),e(n),n.unsubscribe()};return t.subscribe(u.createOperatorSubscriber(n,function(e){d(function(t){t.window.next(e),v<=++t.seen&&l(t)})},function(){return y(function(e){return e.complete()})},function(e){return y(function(t){return t.error(e)})})),function(){o=null}})}},80171:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(62161),a=n(15812),u=n(47737),s=n(99963);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e);return i.operate(function(t,i){a.concatAll()(s.from(o([t],r(e)),n)).subscribe(i)})}},80193:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alloc=function(e){return new a(e)};var i=o(n(26382)),a=function(e){function t(t){var n=this,r=function(e){return e instanceof i.default.Buffer?e:"number"===typeof e&&"function"===typeof i.default.Buffer.alloc?i.default.Buffer.alloc(e):new i.default.Buffer(e)}(t);return(n=e.call(this,r.length)||this)._buffer=r,n}return r(t,e),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.getVarInt=function(e){for(var t=0,n=this._buffer.readInt8(e+t),r=n%128;n/128>=1;)t+=1,r+=(n=this._buffer.readInt8(e+t))%128;return{length:t+1,value:r}},t.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},t.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},t.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},t.prototype.putBytes=function(n,r){if(r instanceof t){var o=Math.min(r.length-r.position,this.length-n);r._buffer.copy(this._buffer,n,r.position,r.position+o),r.position+=o}else e.prototype.putBytes.call(this,n,r)},t.prototype.getSlice=function(e,n){return new t(this._buffer.slice(e,e+n))},t}(o(n(13540)).default);t.default=a},80428:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(6326),o=function(e,t){return(0,r.sH)(void 0,void 0,void 0,function(){var n;return(0,r.YH)(this,function(o){return n=function(o){return(0,r.sH)(void 0,void 0,void 0,function(){var i;return(0,r.YH)(this,function(r){switch(r.label){case 0:return e(o)?(i=n,[4,t()]):[3,2];case 1:return[2,i.apply(void 0,[r.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})}},80438:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).get(e)}},80709:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfig=t.SessionConfig=t.routing=t.WRITE=t.READ=t.Driver=void 0;var u=n(1036),s=a(n(29915)),l=n(79708),c=n(55549),f=a(n(9519)),d=n(36021),h=n(85445),p=a(n(24807)),v=a(n(27691)),y=n(41421),g=a(n(92195)),m=n(16228),b=36e5,_=l.ACCESS_MODE_READ;t.READ=_;var w=l.ACCESS_MODE_WRITE;t.WRITE=w;var O=0,E=function(){this.defaultAccessMode=w,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};t.SessionConfig=E;var x={WRITE:"WRITE",READ:"READ"};t.routing=x,Object.freeze(x);var S=function(){this.routing=x.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};t.QueryConfig=S;var P=function(){function e(e,t,n,r,o){void 0===t&&(t={}),void 0===r&&(r=function(e){return new f.default(e)}),void 0===o&&(o=function(e){return new v.default(e)}),function(e){e.maxConnectionLifetime=T(e.maxConnectionLifetime,b),e.maxConnectionPoolSize=T(e.maxConnectionPoolSize,l.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=T(e.connectionAcquisitionTimeout,l.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=C(e.fetchSize,1e3),e.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t||!isNaN(t)&&t<0?null:isNaN(t)?l.DEFAULT_CONNECTION_TIMEOUT_MILLIS:t}(e),e.connectionLivenessCheckTimeout=function(e){if(null==e)return;var t=parseInt(e,10);if(t<0||Number.isNaN(t))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(t));return t}(e.connectionLivenessCheckTimeout)}(t);var i=c.Logger.create(t);!function(e,t){var n,r,o=e.resolver;if(null!==o&&void 0!==o&&"function"!==typeof o)throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof o));e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired');if(null!=(null===(n=e.notificationFilter)||void 0===n?void 0:n.disabledCategories)&&null!=(null===(r=e.notificationFilter)||void 0===r?void 0:r.disabledClassifications))throw new Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')}(t,i),this._id=O++,this._meta=e,this._config=t,this._log=i,this._createConnectionProvider=n,this._createSession=r,this._defaultExecuteQueryBookmarkManager=(0,h.bookmarkManager)(),this._queryExecutor=o(this.session.bind(this)),this._connectionProvider=null,this.homeDatabaseCache=new g.default(1e4),this._afterConstruction()}return Object.defineProperty(e.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(e,t){return o(this,arguments,void 0,function(e,t,n){var r,o,a,u,s,l;return void 0===n&&(n={}),i(this,function(i){switch(i.label){case 0:if(r=null===n.bookmarkManager?void 0:null!==(u=n.bookmarkManager)&&void 0!==u?u:this.executeQueryBookmarkManager,o=null!==(s=n.resultTransformer)&&void 0!==s?s:p.default.eager(),(a=null!==(l=n.routing)&&void 0!==l?l:x.WRITE)!==x.READ&&a!==x.WRITE)throw(0,y.newError)('Illegal query routing config: "'.concat(a,'"'));return[4,this._queryExecutor.execute({resultTransformer:o,bookmarkManager:r,routing:a,database:n.database,impersonatedUser:n.impersonatedUser,transactionConfig:n.transactionConfig,auth:n.auth,signal:n.signal},e,t)];case 1:return[2,i.sent()]}})})},e.prototype.verifyConnectivity=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t,r=this._getOrCreateConnectionProvider();return new Promise(function(e,t){r.verifyConnectivityAndGetServerInfo({database:n,accessMode:_}).then(function(){return e()}).catch(function(e){return t(e)})})},e.prototype.verifyAuthentication=function(){return o(this,arguments,void 0,function(e){var t=void 0===e?{}:e,n=t.database,r=t.auth;return i(this,function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!==n&&void 0!==n?n:"system",auth:r,accessMode:_})];case 1:return[2,e.sent()]}})})},e.prototype.getServerInfo=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:n,accessMode:_})},e.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},e.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},e.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===d.ENCRYPTION_ON||!0===this._config.encrypted},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?w:n,o=t.bookmarks,i=t.database,a=void 0===i?"":i,u=t.impersonatedUser,s=t.fetchSize,l=t.bookmarkManager,c=t.notificationFilter,f=t.auth;return this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:a,reactive:!1,impersonatedUser:u,fetchSize:C(s,this._config.fetchSize),bookmarkManager:l,notificationFilter:c,auth:f})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider?this._connectionProvider.close():Promise.resolve()},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._homeDatabaseCallback=function(e,t){this.homeDatabaseCache.set(e,t)},e.prototype._newSession=function(e){var t=e.defaultAccessMode,n=e.bookmarkOrBookmarks,o=e.database,i=e.reactive,a=e.impersonatedUser,s=e.fetchSize,l=e.bookmarkManager,c=e.notificationFilter,d=e.auth,h=f.default._validateSessionMode(t),p=this._getOrCreateConnectionProvider(),v=this.homeDatabaseCache.get((0,m.cacheKey)(d,a)),y=this._homeDatabaseCallback.bind(this),g=null!=n?new u.Bookmarks(n):u.Bookmarks.empty();return this._createSession({mode:h,database:null!==o&&void 0!==o?o:"",connectionProvider:p,bookmarks:g,config:r({cachedHomeDatabase:v,routingDriver:this._supportsRouting()},this._config),reactive:i,impersonatedUser:a,fetchSize:s,bookmarkManager:l,notificationFilter:c,auth:d,log:this._log,homeDatabaseCallback:y})},e.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new s.default(e.resolver)))),this._connectionProvider},e}();function T(e,t){var n=parseInt(e,10);return n>0||0===n?n:n<0?Number.MAX_SAFE_INTEGER:t}function C(e,t){var n=parseInt(e,10);if(n>0||n===l.FETCH_ALL)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(l.FETCH_ALL," for ALL. However fetchSize = ").concat(n));return t}t.Driver=P,t.default=P},80726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},80755:(e,t,n)=>{var r=n(48895),o=n(77116);e.exports=function e(t,n,i,a,u){var s=-1,l=t.length;for(i||(i=o),u||(u=[]);++s<l;){var c=t[s];n>0&&i(c)?n>1?e(c,n-1,i,a,u):r(u,c):a||(u[u.length]=c)}return u}},80869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(24296),o=n(9620);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},81038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},81116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},81414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(24296),o=n(93323),i=n(18931),a=n(39440);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var u=-1;return null!=t&&(i.isScheduler(t)?n=t:u=t),new r.Observable(function(t){var r=a.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=u?this.schedule(void 0,u):t.complete())},r)})}},81831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(6689),o=n(62161),i=n(44845),a=n(66564),u=n(84347);t.window=function(e){return o.operate(function(t,n){var o=new r.Subject;n.next(o.asObservable());var s=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,function(e){return null===o||void 0===o?void 0:o.next(e)},function(){o.complete(),n.complete()},s)),u.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){o.complete(),n.next(o=new r.Subject)},a.noop,s)),function(){null===o||void 0===o||o.unsubscribe(),o=null}})}},81964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(72162),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},82247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(e){return Promise.resolve([e])},e}();t.default=n},83123:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createValidRoutingTable=h;var i=n(15359),a=i.internal.constants,u=a.ACCESS_MODE_WRITE,s=a.ACCESS_MODE_READ,l=i.internal.serverAddress.ServerAddress,c=i.error.PROTOCOL_ERROR,f=function(){function e(e){var t=void 0===e?{}:e,n=t.database,r=t.routers,o=t.readers,a=t.writers,u=t.expirationTime,s=t.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=r||[],this.readers=o||[],this.writers=a||[],this.expirationTime=u||(0,i.int)(0),this.ttl=s}return e.fromRawRoutingTable=function(e,t,n){return h(e,t,n)},e.prototype.forget=function(e){this.readers=d(this.readers,e),this.writers=d(this.writers,e)},e.prototype.forgetRouter=function(e){this.routers=d(this.routers,e)},e.prototype.forgetWriter=function(e){this.writers=d(this.writers,e)},e.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===s&&0===this.readers.length||e===u&&0===this.writers.length},e.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},e.prototype.allServers=function(){return o(o(o([],r(this.routers),!1),r(this.readers),!1),r(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();function d(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}function h(e,t,n){var r=n.ttl,o=function(e,t){try{var n=(0,i.int)(Date.now()),r=(0,i.int)(e.ttl).multiply(1e3).add(n);return r.lessThan(n)?i.Integer.MAX_VALUE:r}catch(o){throw(0,i.newError)("Unable to parse TTL entry from router ".concat(t," from raw routing table:\n").concat(i.json.stringify(e),"\nError message: ").concat(o.message),c)}}(n,t),a=function(e,t){try{var n=[],r=[],o=[];return e.servers.forEach(function(e){var t=e.role,i=e.addresses;"ROUTE"===t?n=v(i).map(function(e){return l.fromUrl(e)}):"WRITE"===t?o=v(i).map(function(e){return l.fromUrl(e)}):"READ"===t&&(r=v(i).map(function(e){return l.fromUrl(e)}))}),{routers:n,readers:r,writers:o}}catch(a){throw(0,i.newError)("Unable to parse servers entry from router ".concat(t," from addresses:\n").concat(i.json.stringify(e.servers),"\nError message: ").concat(a.message),c)}}(n,t),u=a.routers,s=a.readers,d=a.writers;return p(u,"routers",t),p(s,"readers",t),new f({database:e||n.db,routers:u,readers:s,writers:d,expirationTime:o,ttl:r})}function p(e,t,n){if(0===e.length)throw(0,i.newError)("Received no "+t+" from router "+n,c)}function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}t.default=f},83369:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(12836),i=n(62161),a=n(84347),u=n(44845),s=n(66564),l=n(61689);t.bufferToggle=function(e,t){return i.operate(function(n,i){var c=[];a.innerFrom(e).subscribe(u.createOperatorSubscriber(i,function(e){var n=[];c.push(n);var r=new o.Subscription;r.add(a.innerFrom(t(e)).subscribe(u.createOperatorSubscriber(i,function(){l.arrRemove(c,n),i.next(n),r.unsubscribe()},s.noop)))},s.noop)),n.subscribe(u.createOperatorSubscriber(i,function(e){var t,n;try{for(var o=r(c),i=o.next();!i.done;i=o.next()){i.value.push(e)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},function(){for(;c.length>0;)i.next(c.shift());i.complete()}))})}},83384:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(30819),i=n(37929),a=r(n(56503)),u=n(15359),s=r(n(2752)),l=r(n(52580)),c=r(n(93425)),f=u.internal.constants,d=f.ACCESS_MODE_READ,h=f.ACCESS_MODE_WRITE,p=f.TELEMETRY_APIS,v=u.internal.txConfig.TxConfig,y=function(){function e(e){var t=void 0===e?{}:e,n=t.session,r=t.config,o=t.log;this._session=n,this._retryLogic=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:t})}(r),this._log=o}return e.prototype.run=function(e,t,n){var r=this;return new a.default(new o.Observable(function(o){try{o.next(r._session.run(e,t,n)),o.complete()}catch(i){o.error(i)}return function(){}}))},e.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:p.UNMANAGED_TRANSACTION})},e.prototype.executeRead=function(e,t){return this._executeInTransaction(d,e,t)},e.prototype.executeWrite=function(e,t){return this._executeInTransaction(h,e,t)},e.prototype._executeInTransaction=function(e,t,n){return this._runTransaction(e,t,n,function(e){return new l.default({run:e.run.bind(e)})})},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._session.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(e,t,n){var r=this,i=v.empty();return t&&(i=new v(t,this._log)),new o.Observable(function(t){try{r._session._beginTransaction(e,i,n).then(function(e){t.next(new s.default(e)),t.complete()}).catch(function(e){return t.error(e)})}catch(o){t.error(o)}return function(){}})},e.prototype._runTransaction=function(e,t,n,r){var a=this;void 0===r&&(r=function(e){return e});var u=v.empty();n&&(u=new v(n));var s={apiTelemetryConfig:{api:p.MANAGED_TRANSACTION,onTelemetrySuccess:function(){s.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,o.of)(1).pipe((0,i.mergeMap)(function(){return a._beginTransaction(e,u,s.apiTelemetryConfig)}),(0,i.mergeMap)(function(e){return(0,o.defer)(function(){try{return t(r(e))}catch(n){return(0,o.throwError)(function(){return n})}}).pipe((0,i.catchError)(function(t){return e.rollback().pipe((0,i.concatWith)((0,o.throwError)(function(){return t})))}),(0,i.concatWith)(e.commit()))})))},e}();t.default=y},83713:(e,t,n)=>{var r=n(36140),o=n(61143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},84086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var r=n(24296),o=n(66564);t.NEVER=new r.Observable(o.noop),t.never=function(){return t.NEVER}},84187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rawPolyfilledDiagnosticRecord=void 0,t.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(t.rawPolyfilledDiagnosticRecord)},84347:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof a?a(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var u=n(81116),s=n(33115),l=n(24296),c=n(20922),f=n(1268),d=n(28944),h=n(43470),p=n(24643),v=n(9620),y=n(79593),g=n(26309);function m(e){return new l.Observable(function(t){var n=e[g.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b(e){return new l.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function _(e){return new l.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,y.reportUnhandledError)})}function w(e){return new l.Observable(function(t){var n,r;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function O(e){return new l.Observable(function(t){(function(e,t){var n,a,u,s;return r(this,void 0,void 0,function(){var r,l;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((a=o.sent()).done)return[3,4];if(r=a.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),u={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),a&&!a.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function E(e){return O(p.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof l.Observable)return e;if(null!=e){if(c.isInteropObservable(e))return m(e);if(u.isArrayLike(e))return b(e);if(s.isPromise(e))return _(e);if(f.isAsyncIterable(e))return O(e);if(h.isIterable(e))return w(e);if(p.isReadableStreamLike(e))return E(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=b,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=O,t.fromReadableStreamLike=E},84391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(97004)},84545:(e,t,n)=>{var r=n(97160);e.exports=function(){this.__data__=new r,this.size=0}},84905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(62161),o=n(44845);t.filter=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}},85204:(e,t,n)=>{var r=n(87937)(n(56552),"Map");e.exports=r},85408:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(t){return t.src===e})}function o(e,t){var n=r(e);if(void 0!==n){var o=null===n||void 0===n?void 0:n.getAttribute("status");if("loaded"===o)return Promise.resolve(n);if("loading"===o)return new Promise(function(e,t){n.addEventListener("load",function(){return e(n)}),n.addEventListener("error",function(e){return t(e)})})}return new Promise(function(n,r){var o,i=window.document.createElement("script");i.type="text/javascript",i.src=e,i.async=!0,i.setAttribute("status","loading");for(var a=0,u=Object.entries(null!==t&&void 0!==t?t:{});a<u.length;a++){var s=u[a],l=s[0],c=s[1];i.setAttribute(l,c)}i.onload=function(){i.onerror=i.onload=null,i.setAttribute("status","loaded"),n(i)},i.onerror=function(){i.onerror=i.onload=null,i.setAttribute("status","error"),r(new Error("Failed to load ".concat(e)))};var f=window.document.querySelector("script");f?null===(o=f.parentElement)||void 0===o||o.insertBefore(i,f):window.document.head.appendChild(i)})}function i(e){var t=r(e);return void 0!==t&&t.remove(),Promise.resolve()}n.d(t,{d:()=>i,k:()=>o})},85445:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bookmarkManager=function(e){void 0===e&&(e={});var t=new Set(e.initialBookmarks);return new s(t,e.bookmarksSupplier,e.bookmarksConsumer)};var u=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e.prototype.getBookmarks=function(){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e}();t.default=u;var s=function(){function e(e,t,n){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=n}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){var n,u,s,l,c,f,d,h,p,v;return r(this,function(r){switch(r.label){case 0:n=this._bookmarks;try{for(u=o(e),s=u.next();!s.done;s=u.next())f=s.value,n.delete(f)}catch(y){d={error:y}}finally{try{s&&!s.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}}try{for(l=o(t),c=l.next();!c.done;c=l.next())f=c.value,n.add(f)}catch(g){p={error:g}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(p)throw p.error}}return"function"!==typeof this._bookmarksConsumer?[3,2]:[4,this._bookmarksConsumer(a([],i(n),!1))];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getBookmarks=function(){return n(this,void 0,void 0,function(){var e,t,n,u,s,l,c,f;return r(this,function(r){switch(r.label){case 0:return e=new Set(this._bookmarks),"function"!==typeof this._bookmarksSupplier?[3,2]:[4,this._bookmarksSupplier()];case 1:t=null!==(f=r.sent())&&void 0!==f?f:[];try{for(n=o(t),u=n.next();!u.done;u=n.next())s=u.value,e.add(s)}catch(d){l={error:d}}finally{try{u&&!u.done&&(c=n.return)&&c.call(n)}finally{if(l)throw l.error}}r.label=2;case 2:return[2,a([],i(e),!1)]}})})},e}()},85687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0,t.isPoint=function(e){var t=e;return null!=e&&!0===t[o]};var r=n(36021),o="__isPoint__",i=function(){function e(e,t,n,o){this.srid=(0,r.assertNumberOrInteger)(e,"SRID"),this.x=(0,r.assertNumber)(t,"X coordinate"),this.y=(0,r.assertNumber)(n,"Y coordinate"),this.z=null===o||void 0===o?o:(0,r.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},e}();function a(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}t.Point=i,Object.defineProperty(i.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1})},85819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(84347),o=n(76522),i=n(95518);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},85990:(e,t,n)=>{var r=n(13028)(Object.getPrototypeOf,Object);e.exports=r},86179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},86368:(e,t,n)=>{var r=n(95750),o=n(20191),i=n(34428);e.exports=function(e,t){var n,a=new o,u={},s=new i;function l(e){var r=e.v===n?e.w:e.v,o=s.priority(r);if(void 0!==o){var i=t(e);i<o&&(u[r]=n,s.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),function(e){s.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),s.decrease(e.nodes()[0],0);var c=!1;for(;s.size()>0;){if(n=s.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}},86483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromVersion=function(e,t){void 0===t&&(t=function(){return{get userAgent(){}}});var n=t(),r=null!=n.userAgent?n.userAgent.split("(")[1].split(")")[0]:void 0,o=n.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:r,languageDetails:o}}},86532:(e,t,n)=>{var r=n(5538),o=n(26989);e.exports=function(e,t,n,i){var a=n.length,u=a,s=!i;if(null==e)return!u;for(e=Object(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<u;){var c=(l=n[a])[0],f=e[c],d=l[1];if(s&&l[2]){if(void 0===f&&!(c in e))return!1}else{var h=new r;if(i)var p=i(f,d,c,e,t,h);if(!(void 0===p?o(d,f,3,i,h):p))return!1}}return!0}},86578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},86669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(93323),o=n(87824),i=n(81414);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit(function(){return i.timer(e,t)})}},86903:(e,t,n)=>{"use strict";var r=n(53536),o=n(67606);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,i,a=t.v,u=e.node(a).rank,s=t.w,l=e.node(s).rank,c=t.name,f=e.edge(t),d=f.labelRank;if(l===u+1)return;for(e.removeEdge(t),i=0,++u;u<l;++i,++u)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:u},n=o.addDummyNode(e,"edge",r,"_d"),u===d&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),e.setEdge(a,n,{weight:f.weight},c),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,s,{weight:f.weight},c)}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)})}}},86953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(81038);t.EmptyError=r.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})},86983:(e,t,n)=>{var r=n(50149);e.exports=function(e,t){return r(t,function(t){return e[t]})}},87139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var n,r=1,o={};function i(e){return e in o&&(delete o[e],!0)}t.Immediate={setImmediate:function(e){var t=r++;return o[t]=!0,n||(n=Promise.resolve()),n.then(function(){return i(t)&&e()}),t},clearImmediate:function(e){i(e)}},t.TestTools={pending:function(){return Object.keys(o).length}}},87171:(e,t,n)=>{var r=n(45652);e.exports=function(e,t){var n=[];return r(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}},87398:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(15359),u=n(64666),s=n(19155),l=n(78159),c=i(n(38871)),f=a.internal.temporalUtil,d=f.dateToEpochDay,h=f.localDateTimeToEpochSecond,p=f.localTimeToNanoOfDay;function v(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?r(u):u}return Object.freeze(o),o}t.default=r(r({},c.default),{createPoint2DTransformer:function(){return new s.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,a.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new u.structure.Structure(88,[(0,a.int)(e.srid),e.x,e.y])},fromStructure:function(e){u.structure.verifyStructSize("Point2D",3,e.size);var t=o(e.fields,3),n=t[0],r=t[1],i=t[2];return new a.Point(n,r,i,void 0)}})},createPoint3DTransformer:function(){return new s.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,a.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new u.structure.Structure(89,[(0,a.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){u.structure.verifyStructSize("Point3D",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new a.Point(n,r,i,s)}})},createDurationTransformer:function(){return new s.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(e){var t=(0,a.int)(e.months),n=(0,a.int)(e.days),r=(0,a.int)(e.seconds),o=(0,a.int)(e.nanoseconds);return new u.structure.Structure(69,[t,n,r,o])},fromStructure:function(e){u.structure.verifyStructSize("Duration",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new a.Duration(n,r,i,s)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond);return new u.structure.Structure(116,[t])},fromStructure:function(e){u.structure.verifyStructSize("LocalTime",1,e.size);var r=o(e.fields,1)[0];return v((0,l.nanoOfDayToLocalTime)(r),t,n)}})},createTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(84,[t,n])},fromStructure:function(e){u.structure.verifyStructSize("Time",2,e.size);var r=o(e.fields,2),i=r[0],s=r[1],c=(0,l.nanoOfDayToLocalTime)(i);return v(new a.Time(c.hour,c.minute,c.second,c.nanosecond,s),t,n)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(e){var t=d(e.year,e.month,e.day);return new u.structure.Structure(68,[t])},fromStructure:function(e){u.structure.verifyStructSize("Date",1,e.size);var r=o(e.fields,1)[0];return v((0,l.epochDayToDate)(r),t,n)}})},createLocalDateTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond);return new u.structure.Structure(100,[t,n])},fromStructure:function(e){u.structure.verifyStructSize("LocalDateTime",2,e.size);var r=o(e.fields,2),i=r[0],a=r[1];return v((0,l.epochSecondAndNanoToLocalDateTime)(i,a),t,n)}})},createDateTimeWithZoneIdTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=e.timeZoneId;return new u.structure.Structure(102,[t,n,r])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var r=o(e.fields,3),i=r[0],s=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,null,c),t,n)}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(70,[t,n,r])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var r=o(e.fields,3),i=r[0],s=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,c,null),t,n)}})}})},87528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vector=function(e){var t,n;try{return new a(e)}catch(o){throw(0,r.newError)("Invalid argument type passed to vector constructor function: should be signed integer or float TypedArray, got: ".concat(null!==(n=null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)&&void 0!==n?n:"undefined or type without constructor name"))}},t.isVector=function(e){return null!=e&&!0===e[o]};var r=n(41421),o="__isVector__",i={INT8:"INT8",INT16:"INT16",INT32:"INT32",INT64:"INT64",FLOAT32:"FLOAT32",FLOAT64:"FLOAT64"};Object.freeze(i);var a=function(){function e(e){var t,n;if(e instanceof Int8Array)this._type=i.INT8;else if(e instanceof Int16Array)this._type=i.INT16;else if(e instanceof Int32Array)this._type=i.INT32;else if(e instanceof BigInt64Array)this._type=i.INT64;else if(e instanceof Float32Array)this._type=i.FLOAT32;else{if(!(e instanceof Float64Array))throw(0,r.newError)("Invalid argument type passed to Vector constructor: should be signed integer or float TypedArray, got: ".concat(null!==(n=null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)&&void 0!==n?n:"undefined or type without constructor name"));this._type=i.FLOAT64}this._typedArray=e}return e.prototype.asTypedArray=function(){return this._typedArray},e.prototype.getType=function(){return this._type},e.prototype.toString=function(){return"vector([".concat(this._typedArray.join(", "),"], ").concat(this._typedArray.length,", ").concat(function(e){switch(e){case"INT8":return"INTEGER8 NOT NULL";case"INT16":return"INTEGER16 NOT NULL";case"INT32":return"INTEGER32 NOT NULL";case"INT64":return"INTEGER NOT NULL";case"FLOAT32":return"FLOAT32 NOT NULL";case"FLOAT64":return"FLOAT NOT NULL";default:throw(0,r.newError)("Cannot stringify vector with unsupported type. Got type: ".concat(e))}}(this._type),")")},e}();t.default=a,Object.defineProperty(a.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1})},87563:e=>{e.exports=function(){this.__data__=[],this.size=0}},87824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(62161),o=n(84347),i=n(44845);t.audit=function(e){return r.operate(function(t,n){var r=!1,a=null,u=null,s=!1,l=function(){if(null===u||void 0===u||u.unsubscribe(),u=null,r){r=!1;var e=a;a=null,n.next(e)}s&&n.complete()},c=function(){u=null,s&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,function(t){r=!0,a=t,u||o.innerFrom(e(t)).subscribe(u=i.createOperatorSubscriber(n,l,c))},function(){s=!0,(!r||!u||u.closed)&&n.complete()}))})}},87937:(e,t,n)=>{var r=n(36954),o=n(14657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},87968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(56294),o=n(62161),i=n(44845),a=n(84347),u=n(81414);t.repeat=function(e){var t,n,s=1/0;return null!=e&&("object"===typeof e?(t=e.count,s=void 0===t?1/0:t,n=e.delay):s=e),s<=0?function(){return r.EMPTY}:o.operate(function(e,t){var r,o=0,l=function(){if(null===r||void 0===r||r.unsubscribe(),r=null,null!=n){var e="number"===typeof n?u.timer(n):a.innerFrom(n(o)),s=i.createOperatorSubscriber(t,function(){s.unsubscribe(),c()});e.subscribe(s)}else c()},c=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,function(){++o<s?r?l():n=!0:t.complete()})),n&&l()};c()})}},88258:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(18163)),a=n(19155),u=n(64666),s=n(15359),l={INT8:200,INT16:201,INT32:202,INT64:203,FLOAT32:198,FLOAT64:193};function c(e,t){var n=function(){var e=new DataView(new ArrayBuffer(2));return e.setInt16(0,1e3,!0),1e3===new Int16Array(e.buffer)[0]}();if(n){var r=new DataView(new ArrayBuffer(t.byteLength)),o=new DataView(t),i=void 0,a=void 0,u=void 0;switch(e){case 200:u=1,i=r.setInt8.bind(r),a=o.getInt8.bind(o);break;case 201:u=2,i=r.setInt16.bind(r),a=o.getInt16.bind(o);break;case 202:case 198:u=4,i=r.setInt32.bind(r),a=o.getInt32.bind(o);break;case 203:case 193:u=8,i=r.setBigInt64.bind(r),a=o.getBigInt64.bind(o);break;default:throw(0,s.newError)("Vector is of unsupported type ".concat(e))}for(var l=0;l<t.byteLength;l+=u)i(l,a(l,n));return r.buffer}return t}t.default=r(r({},i.default),{createVectorTransformer:function(){return new a.TypeTransformer({signature:86,isTypeInstance:function(e){return(0,s.isVector)(e)},toStructure:function(e){var t=l[e.getType()];if(void 0===t)throw(0,s.newError)("Vector object has unknown type: ".concat(e.getType()));var n=c(t,e.asTypedArray().buffer);return new u.structure.Structure(86,[Int8Array.from([t]),new Int8Array(n)])},fromStructure:function(e){var t=Uint8Array.from(e.fields[0])[0],n=c(t,e.fields[1].buffer);switch(t){case 200:return new s.Vector(new Int8Array(n));case 201:return new s.Vector(new Int16Array(n));case 202:return new s.Vector(new Int32Array(n));case 203:return new s.Vector(new BigInt64Array(n));case 198:return new s.Vector(new Float32Array(n));case 193:return new s.Vector(new Float64Array(n));default:throw(0,s.newError)("Received Vector structure with unsupported type marker: ".concat(t))}}})},createUnsupportedTypeTransformer:function(){return new a.TypeTransformer({signature:63,isTypeInstance:function(e){return(0,s.isUnsupportedType)(e)},toStructure:function(e){throw(0,s.newError)("UnsupportedType object can not be transmitted")},fromStructure:function(e){return new s.UnsupportedType(e.fields[0],e.fields[1],e.fields[2],e.fields[3].message)}})}})},88259:(e,t,n)=>{var r=n(15797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},88324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(2694);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},88457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(84347),o=n(60944),i=n(44845);t.mergeInternals=function(e,t,n,a,u,s,l,c){var f=[],d=0,h=0,p=!1,v=function(){!p||f.length||d||t.complete()},y=function(e){return d<a?g(e):f.push(e)},g=function(e){s&&t.next(e),d++;var c=!1;r.innerFrom(n(e,h++)).subscribe(i.createOperatorSubscriber(t,function(e){null===u||void 0===u||u(e),s?y(e):t.next(e)},function(){c=!0},void 0,function(){if(c)try{d--;for(var e=function(){var e=f.shift();l?o.executeSchedule(t,l,function(){return g(e)}):g(e)};f.length&&d<a;)e();v()}catch(n){t.error(n)}}))};return e.subscribe(i.createOperatorSubscriber(t,y,function(){p=!0,v()})),function(){null===c||void 0===c||c()}}},88468:(e,t,n)=>{var r=n(75816),o=n(40644),i=n(94020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},88718:(e,t,n)=>{"use strict";function r(e){return"string"===typeof e}function o(e){return"number"===typeof e}function i(e){return"function"===typeof e}function a(e){return void 0!==e&&null!==e}function u(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}n.d(t,{Et:()=>o,Kg:()=>r,Qd:()=>u,Tn:()=>i,t2:()=>a})},88804:e=>{function t(e){return function(t,n,r,i){var a,u=i&&function(e){return"function"===typeof e}(i.normalizer)?i.normalizer:o;n=u(n);for(var s=!1;!s;)l();function l(){for(a in t){var e=u(a);if(0===n.indexOf(e)){var r=n.substr(e.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var o=t[a];return null==o?void(s=!0):n.length?void(t=o):void(s=!0)}}}a=void 0,s=!0}if(a)return null==t?t:e(t,a,r)}}function n(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function r(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function o(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t(function(e,t){if(e.hasOwnProperty(t))return e[t]}),e.exports.find=e.exports,e.exports.replace=function(e,n,o,i){return t(r).call(this,e,n,o,i),e},e.exports.del=function(e,r,o){return t(n).call(this,e,r,null,o),e}},88845:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificatesLoader=t.HostNameResolver=t.Channel=void 0;var o=r(n(31571)),i=r(n(44117)),a=r(n(57744));t.Channel=o.default,t.HostNameResolver=i.default,t.ClientCertificatesLoader=a.default},89114:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(26169));t.default=r({},i.default)},89379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var r=n(52366),o=n(66831),i=n(71871),a=n(15359),u=a.error.PROTOCOL_ERROR,s=function(){function e(e){this._ch=e,this._byteArraysSupported=!0}return e.prototype.packable=function(e,t){var n=this;void 0===t&&(t=o.functional.identity);try{e=t(e)}catch(s){return function(){throw s}}if(null===e)return function(){return n._ch.writeUInt8(192)};if(!0===e)return function(){return n._ch.writeUInt8(195)};if(!1===e)return function(){return n._ch.writeUInt8(194)};if("number"===typeof e)return function(){return n.packFloat(e)};if("string"===typeof e)return function(){return n.packString(e)};if("bigint"===typeof e)return function(){return n.packInteger((0,a.int)(e))};if((0,a.isInt)(e))return function(){return n.packInteger(e)};if(e instanceof Int8Array)return function(){return n.packBytes(e)};if(e instanceof Array)return function(){n.packListHeader(e.length);for(var r=0;r<e.length;r++)n.packable(void 0===e[r]?null:e[r],t)()};if(function(e){if(null==e)return!1;return"function"===typeof e[Symbol.iterator]}(e))return this.packableIterable(e,t);if(e instanceof i.Structure){for(var r=[],u=0;u<e.fields.length;u++)r[u]=this.packable(e.fields[u],t);return function(){return n.packStruct(e.signature,r)}}return"object"===typeof e?function(){for(var r=Object.keys(e),o=0,i=0;i<r.length;i++)void 0!==e[r[i]]&&o++;n.packMapHeader(o);for(i=0;i<r.length;i++){var a=r[i];void 0!==e[a]&&(n.packString(a),n.packable(e[a],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e))},e.prototype.packableIterable=function(e,t){try{var n=Array.from(e);return this.packable(n,t)}catch(r){throw(0,a.newError)("Cannot pack given iterable, ".concat(r.message,": ").concat(e))}},e.prototype.packStruct=function(e,t){t=t||[],this.packStructHeader(t.length,e);for(var n=0;n<t.length;n++)t[n]()},e.prototype.packInteger=function(e){var t=e.high,n=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(n):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(n)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(n)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(n)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(n))},e.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},e.prototype.packString=function(e){var t=r.utf8.encode(e),n=t.length;if(n<16)this._ch.writeUInt8(128|n),this._ch.writeBytes(t);else if(n<256)this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(t);else if(n<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(n/256|0),this._ch.writeUInt8(n%256),this._ch.writeBytes(t);else{if(!(n<4294967296))throw(0,a.newError)("UTF-8 strings of size "+n+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216|0)%256),this._ch.writeUInt8((n/65536|0)%256),this._ch.writeUInt8((n/256|0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(t)}},e.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Lists of size "+e+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packBytes=function(e){if(!this._byteArraysSupported)throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])},e.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Byte arrays of size "+e+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Maps of size "+e+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else{if(!(e<65536))throw(0,a.newError)("Structures of size "+e+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256)}},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(e){return function(){throw(0,a.newError)(e,u)}},e}();t.Packer=s;var l=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._disableLosslessIntegers=e,this._useBigInt=t}return e.prototype.unpack=function(e,t){void 0===t&&(t=o.functional.identity);var n=e.readUInt8(),r=240&n,i=15&n;if(192===n)return null;var u=this._unpackBoolean(n);if(null!==u)return u;var s=this._unpackNumberOrInteger(n,e);if(null!==s){if((0,a.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var l=this._unpackString(n,r,i,e);if(null!==l)return l;var c=this._unpackList(n,r,i,e,t);if(null!==c)return c;var f=this._unpackByteArray(n,e);if(null!==f)return f;var d=this._unpackMap(n,r,i,e,t);if(null!==d)return d;var h=this._unpackStruct(n,r,i,e,t);if(null!==h)return h;throw(0,a.newError)("Unknown packed value with marker "+n.toString(16))},e.prototype.unpackInteger=function(e){var t=e.readUInt8(),n=this._unpackInteger(t,e);if(null==n)throw(0,a.newError)("Unable to unpack integer value with marker "+t.toString(16));return n},e.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},e.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},e.prototype._unpackInteger=function(e,t){if(e>=0&&e<128)return(0,a.int)(e);if(e>=240&&e<256)return(0,a.int)(e-256);if(200===e)return(0,a.int)(t.readInt8());if(201===e)return(0,a.int)(t.readInt16());if(202===e){var n=t.readInt32();return(0,a.int)(n)}if(203===e){var r=t.readInt32(),o=t.readInt32();return new a.Integer(o,r)}return null},e.prototype._unpackString=function(e,t,n,o){return 128===t?r.utf8.decode(o,n):208===e?r.utf8.decode(o,o.readUInt8()):209===e?r.utf8.decode(o,o.readUInt16()):210===e?r.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(e,t,n,r,o){return 144===t?this._unpackListWithSize(n,r,o):212===e?this._unpackListWithSize(r.readUInt8(),r,o):213===e?this._unpackListWithSize(r.readUInt16(),r,o):214===e?this._unpackListWithSize(r.readUInt32(),r,o):null},e.prototype._unpackListWithSize=function(e,t,n){for(var r=[],o=0;o<e;o++)r.push(this.unpack(t,n));return r},e.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},e.prototype._unpackByteArrayWithSize=function(e,t){for(var n=new Int8Array(e),r=0;r<e;r++)n[r]=t.readInt8();return n},e.prototype._unpackMap=function(e,t,n,r,o){return 160===t?this._unpackMapWithSize(n,r,o):216===e?this._unpackMapWithSize(r.readUInt8(),r,o):217===e?this._unpackMapWithSize(r.readUInt16(),r,o):218===e?this._unpackMapWithSize(r.readUInt32(),r,o):null},e.prototype._unpackMapWithSize=function(e,t,n){for(var r={},o=0;o<e;o++){r[this.unpack(t,n)]=this.unpack(t,n)}return r},e.prototype._unpackStruct=function(e,t,n,r,o){return 176===t?this._unpackStructWithSize(n,r,o):220===e?this._unpackStructWithSize(r.readUInt8(),r,o):221===e?this._unpackStructWithSize(r.readUInt16(),r,o):null},e.prototype._unpackStructWithSize=function(e,t,n){for(var r=t.readUInt8(),o=new i.Structure(r,[]),a=0;a<e;a++)o.fields.push(this.unpack(t,n));return n(o)},e}();t.Unpacker=l},89892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyDestinationMiddleware:()=>a,sourceMiddlewarePlugin:()=>u});var r=n(6326),o=n(55591),i=n(57390);function a(e,t,n){return(0,r.sH)(this,void 0,void 0,function(){function o(t,n){return(0,r.sH)(this,void 0,void 0,function(){var o,a,u;return(0,r.YH)(this,function(s){switch(s.label){case 0:return o=!1,a=null,[4,n({payload:(0,i.W)(t,{clone:!0,traverse:!1}),integration:e,next:function(e){o=!0,null===e&&(a=null),e&&(a=e.obj)}})];case 1:return s.sent(),o||null===a||(a.integrations=(0,r.Cl)((0,r.Cl)({},t.integrations),((u={})[e]=!1,u))),[2,a]}})})}var a,u,s,l,c;return(0,r.YH)(this,function(e){switch(e.label){case 0:a=(0,i.W)(t,{clone:!0,traverse:!1}).rawEvent(),u=0,s=n,e.label=1;case 1:return u<s.length?(l=s[u],[4,o(a,l)]):[3,4];case 2:if(null===(c=e.sent()))return[2,null];a=c,e.label=3;case 3:return u++,[3,1];case 4:return[2,a]}})})}function u(e,t){function n(n){return(0,r.sH)(this,void 0,void 0,function(){var a;return(0,r.YH)(this,function(r){switch(r.label){case 0:return a=!1,[4,e({payload:(0,i.W)(n.event,{clone:!0,traverse:!1}),integrations:null!==t&&void 0!==t?t:{},next:function(e){a=!0,e&&(n.event=e.obj)}})];case 1:if(r.sent(),!a)throw new o.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(e){return Promise.resolve(e)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}},90620:(e,t,n)=>{var r=n(16913),o=n(54052),i=n(22761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},90961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e,t){return JSON.stringify(e,function(e,n){return(0,r.isBrokenObject)(n)?{__isBrokenObject__:!0,__reason__:(0,r.getBrokenObjectReason)(n)}:"bigint"===typeof n?"".concat(n,"n"):!0!==(null===t||void 0===t?void 0:t.sortedElements)||"object"!==typeof n||Array.isArray(n)?!0!==(null===t||void 0===t?void 0:t.useCustomToString)||"object"!==typeof n||Array.isArray(n)||"function"!==typeof n.toString||n.toString===Object.prototype.toString?n:null===n||void 0===n?void 0:n.toString():Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{})})};var r=n(24595)},91051:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});n(46860);var o=function(e){function t(t){var n=e.call(this)||this;return n._errorHandler=t,n}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){throw new Error("not implemented")},t.prototype.write=function(e,t,n){throw new Error("not implemented")},t.prototype.close=function(){throw new Error("not implemented")},t.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e},t}(n(15359).Connection);t.default=o},91218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(44845);t.scanInternals=function(e,t,n,o,i){return function(a,u){var s=n,l=t,c=0;a.subscribe(r.createOperatorSubscriber(u,function(t){var n=c++;l=s?e(l,t,n):(s=!0,t),o&&u.next(l)},i&&function(){s&&u.next(l),u.complete()}))}}},91310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},91397:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.boltAgent=t.objectUtil=t.resolver=t.serverAddress=t.urlUtil=t.logger=t.transactionExecutor=t.txConfig=t.connectionHolder=t.constants=t.bookmarks=t.observer=t.temporalUtil=t.util=void 0;var a=i(n(36021));t.util=a;var u=i(n(58620));t.temporalUtil=u;var s=i(n(68890));t.observer=s;var l=i(n(1036));t.bookmarks=l;var c=i(n(79708));t.constants=c;var f=i(n(36052));t.connectionHolder=f;var d=i(n(26980));t.txConfig=d;var h=i(n(27371));t.transactionExecutor=h;var p=i(n(55549));t.logger=p;var v=i(n(8421));t.urlUtil=v;var y=i(n(24507));t.serverAddress=y;var g=i(n(48108));t.resolver=g;var m=i(n(24595));t.objectUtil=m;var b=i(n(47790));t.boltAgent=b;var _=i(n(94236));t.pool=_},91450:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(48397),a=n(59606);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},91575:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(59929)),s=n(75943),l=n(15359),c=l.internal.constants,f=c.BOLT_PROTOCOL_V3,d=c.BOLT_PROTOCOL_V4_0,h=c.BOLT_PROTOCOL_V4_4,p=c.BOLT_PROTOCOL_V5_1,v=l.error.SERVICE_UNAVAILABLE,y=function(e){function t(t){var n=t.id,r=t.config,o=t.log,i=t.address,a=t.userAgent,u=t.boltAgent,s=t.authTokenManager,l=t.newPool,c=e.call(this,{id:n,config:r,log:o,userAgent:a,boltAgent:u,authTokenManager:s,newPool:l})||this;return c._address=i,c}return r(t,e),t.prototype.acquireConnection=function(){return o(this,arguments,void 0,function(e){var t,n,r=this,o=void 0===e?{}:e,a=(o.accessMode,o.database),u=(o.bookmarks,o.auth),l=o.forceReAuth;return i(this,function(e){switch(e.label){case 0:return t=s.ConnectionErrorHandler.create({errorCode:v,handleSecurityError:function(e,t,n){return r._handleSecurityError(e,t,n,a)}}),[4,this._connectionPool.acquire({auth:u,forceReAuth:l},this._address)];case 1:return n=e.sent(),u?[4,this._verifyStickyConnection({auth:u,connection:n,address:this._address})]:[3,3];case 2:return e.sent(),[2,n];case 3:return[2,new s.DelegateConnection(n,t)]}})})},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r)},t.prototype._hasProtocolVersion=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return t=r.sent(),n=t.protocol()?t.protocol().version:null,[4,t.close()];case 2:return r.sent(),n?[2,e(n)]:[2,!1]}})})},t.prototype.supportsMultiDb=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(d)})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.supportsTransactionConfig=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(f)})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(h)})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e.isGreaterOrEqualTo(p)})];case 1:return[2,e.sent()]}})})},t.prototype.verifyAuthentication=function(e){return o(this,arguments,void 0,function(e){var t=this,n=e.auth;return i(this,function(e){return[2,this._verifyAuthentication({auth:n,getAddress:function(){return t._address}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},t}(u.default);t.default=y},91632:(e,t,n)=>{var r=n(34724),o=n(36311),i=n(67168);e.exports=function(e){return o(e)?i(e):r(e)}},91980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},92031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var r=n(95400),o=n(84347),i=n(56294),a=n(47737),u=n(99963);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e),s=a.popNumber(e,1/0),l=e;return l.length?1===l.length?o.innerFrom(l[0]):r.mergeAll(s)(u.from(l,n)):i.EMPTY}},92173:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var o=n(76711);Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return o.Facade}});var i=n(49061);Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return i.Alias}});var a=n(27842);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return a.Group}});var u=n(19165);Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return u.Identify}});var s=n(10742);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return s.Track}});var l=n(25678);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var c=n(9557);Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return c.Screen}});var f=n(7562);Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return f.Delete}}),t.default=r(r({},o.Facade),{Alias:i.Alias,Group:a.Group,Identify:u.Identify,Track:s.Track,Page:l.Page,Screen:c.Screen,Delete:f.Delete})},92195:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.maxSize=e,this.pruneCount=Math.max(Math.round(.01*e*Math.log(e)),1),this.map=new Map}return e.prototype.set=function(e,t){this.map.set(e,{database:t,lastUsed:Date.now()}),this._pruneCache()},e.prototype.get=function(e){var t=this.map.get(e);if(void 0!==t)return t.lastUsed=Date.now(),t.database},e.prototype.delete=function(e){this.map.delete(e)},e.prototype._pruneCache=function(){if(this.map.size>this.maxSize)for(var e=Array.from(this.map.entries()).sort(function(e,t){return e[1].lastUsed-t[1].lastUsed}),t=0;t<this.pruneCount;t++)this.map.delete(e[t][0])},e}();t.default=n},92234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(24296);t.fromSubscribable=function(e){return new r.Observable(function(t){return e.subscribe(t)})}},92309:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(72801);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},92829:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return r(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,a=t.isStopped,u=t._isComplete;n?e.error(i):(a||u)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(6689).Subject);t.AsyncSubject=o},93211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},93323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(94937),o=n(44682);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},93425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15359),o=n(30819),i=n(37929),a=(r.internal.logger.Logger,r.error.SERVICE_UNAVAILABLE),u=function(){function e(e){var t=void 0===e?{}:e,n=t.maxRetryTimeout,r=void 0===n?3e4:n,o=t.initialDelay,i=void 0===o?1e3:o,a=t.delayMultiplier,u=void 0===a?2:a,l=t.delayJitter,c=void 0===l?.2:l,f=t.logger,d=void 0===f?null:f;this._maxRetryTimeout=s(r,3e4),this._initialDelay=s(i,1e3),this._delayMultiplier=s(u,2),this._delayJitter=s(c,.2),this._logger=d}return e.prototype.retry=function(e){var t=this;return e.pipe((0,i.retryWhen)(function(e){var n=[],u=Date.now(),s=1,l=t._initialDelay;return e.pipe((0,i.mergeMap)(function(e){if(!(0,r.isRetryableError)(e))return(0,o.throwError)(function(){return e});if(n.push(e),s>=2&&Date.now()-u>=t._maxRetryTimeout){var c=(0,r.newError)("Failed after retried for ".concat(s," times in ").concat(t._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return c.seenErrors=n,(0,o.throwError)(function(){return c})}var f=t._computeNextDelay(l);return l*=t._delayMultiplier,s++,t._logger&&t._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,o.of)(1).pipe((0,i.delay)(f))}))}))},e.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},e}();function s(e,t){return e||0===e?e:t}t.default=u},93549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnsupportedType=function(e){return null!=e&&!0===e[n]};var n="__isUnsupportedType__",r=function(){function e(e,t,n,r){this.name=e,this.minimumProtocolVersion="".concat(t,".").concat(n),this.message=r}return e.prototype.toString=function(){return"UnsupportedType<".concat(this.name,">")},e}();t.default=r,Object.defineProperty(r.prototype,n,{value:!0,enumerable:!1,configurable:!1,writable:!1})},93649:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18641),i=n(516);var a={booleanProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asBoolean(e)}},stringProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asString(e)}},numberProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asNumber(e)}},bigIntProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asBigInt(e)}},nodeProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asNode(e)}},relationshipProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asRelationship(e)}},pathProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asPath(e)}},pointProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asPoint(e)}},durationProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asDuration(e)}},listProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asList(r({apply:r({},n.metadata[n.name])},e))}},vectorProperty:function(e){return function(t,n){n.metadata[n.name]=i.rule.asVector(e)}},optionalProperty:function(){return function(e,t){t.metadata[t.name]=r({optional:!0},t.metadata[t.name])}},mapPropertyFromName:function(e){return function(t,n){n.metadata[n.name]=r({from:e},n.metadata[n.name])}},convertPropertyToType:function(e){return function(t,n){n.metadata[n.name]=r({convert:function(t){return t.as(e)}},n.metadata[n.name])}},mappedClass:function(){return function(e,t){o.rulesRegistry[t.name]=t.metadata}}};t.default=a},93677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var r=n(24296),o=n(9620);t.isObservable=function(e){return!!e&&(e instanceof r.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},94020:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},94236:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i=e(t),a=0;a<i.length;a++)"default"!==i[a]&&r(n,t,i[a]);return o(n,t),n}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_SIZE=t.DEFAULT_ACQUISITION_TIMEOUT=t.PoolConfig=t.Pool=void 0;var u=i(n(44679));t.PoolConfig=u.default,Object.defineProperty(t,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var s=a(n(42868));t.Pool=s.default,t.default=s.default},94258:(e,t,n)=>{var r=n(55906)();e.exports=r},94268:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r="api.segment.io/v1"},94364:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(24101)),u=i(n(26169)),s=i(n(19155)),l=i(n(8607)),c=n(64260),f=n(15359).internal.constants,d=f.BOLT_PROTOCOL_V5_2,h=f.FETCH_ALL,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=(n.boltAgent,n.authToken),a=n.notificationFilter,u=n.onError,s=n.onComplete,f={},d=new c.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return f.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x2(r,a,this._serversideRouting),d,!1),this.logon({authToken:i,onComplete:function(e){return s(o(o({},e),f.metadata))},onError:u,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,f=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new c.ResultStreamObserver({server:this._server,beforeError:s,afterError:f,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(l.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,f=r.notificationFilter,d=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?h:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=new c.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C}),A=O;return this.write(l.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:f}),k,A&&_),O||this.write(l.default.pull({n:x}),k,_),k},t}(a.default);t.default=p},94664:(e,t,n)=>{var r=n(94258),o=n(28673);e.exports=function(e,t){return e&&r(e,t,o)}},94937:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var o=n(36501),i=n(59175),a=n(61689),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&i.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o.Action);t.AsyncAction=u},94961:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function u(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundRelationship=t.Relationship=t.Node=t.Record=t.ServerInfo=t.GqlStatusObject=t.Notification=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ResultSummary=t.RxResult=t.RxManagedTransaction=t.RxTransaction=t.RxSession=t.EagerResult=t.Result=t.ManagedTransaction=t.Transaction=t.Session=t.Driver=t.temporal=t.spatial=t.graph=t.error=t.routing=t.session=t.types=t.logging=t.auth=t.isRetryableError=t.isRetriableError=t.Neo4jError=t.integer=t.isUnsupportedType=t.isUnboundRelationship=t.isRelationship=t.isPathSegment=t.isPath=t.isNode=t.isDateTime=t.isLocalDateTime=t.isDate=t.isTime=t.isLocalTime=t.isDuration=t.isPoint=t.isInt=t.int=t.authTokenManagers=void 0,t.StandardCase=t.RecordObjectMapping=t.mappingDecorators=t.rule=t.Rules=t.Rule=t.VectorType=t.Vector=t.vector=t.isVector=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.bookmarkManager=t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=t.Integer=t.Point=t.PathSegment=t.Path=void 0,t.driver=w,t.hasReachableServer=O;var a=n(8379);Object.defineProperty(t,"Driver",{enumerable:!0,get:function(){return a.Driver}});var u=i(n(39921)),s=n(15359);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return s.authTokenManagers}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return s.isRetryableError}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return s.Integer}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return s.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(t,"isUnsupportedType",{enumerable:!0,get:function(){return s.isUnsupportedType}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(t,"Record",{enumerable:!0,get:function(){return s.Record}}),Object.defineProperty(t,"ResultSummary",{enumerable:!0,get:function(){return s.ResultSummary}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return s.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return s.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return s.QueryStatistics}}),Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return s.Notification}}),Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return s.GqlStatusObject}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return s.ServerInfo}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}}),Object.defineProperty(t,"EagerResult",{enumerable:!0,get:function(){return s.EagerResult}}),Object.defineProperty(t,"auth",{enumerable:!0,get:function(){return s.auth}}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return s.Session}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return s.Transaction}}),Object.defineProperty(t,"ManagedTransaction",{enumerable:!0,get:function(){return s.ManagedTransaction}}),Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return s.bookmarkManager}}),Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return s.routing}}),Object.defineProperty(t,"resultTransformers",{enumerable:!0,get:function(){return s.resultTransformers}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return s.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return s.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return s.notificationSeverityLevel}}),Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return s.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return s.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return s.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return s.clientCertificateProviders}}),Object.defineProperty(t,"isVector",{enumerable:!0,get:function(){return s.isVector}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return s.Vector}}),Object.defineProperty(t,"VectorType",{enumerable:!0,get:function(){return s.VectorType}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return s.vector}}),Object.defineProperty(t,"Rule",{enumerable:!0,get:function(){return s.Rule}}),Object.defineProperty(t,"Rules",{enumerable:!0,get:function(){return s.Rules}}),Object.defineProperty(t,"rule",{enumerable:!0,get:function(){return s.rule}}),Object.defineProperty(t,"mappingDecorators",{enumerable:!0,get:function(){return s.mappingDecorators}}),Object.defineProperty(t,"RecordObjectMapping",{enumerable:!0,get:function(){return s.RecordObjectMapping}}),Object.defineProperty(t,"StandardCase",{enumerable:!0,get:function(){return s.StandardCase}});var l=n(1666),c=i(n(83384));t.RxSession=c.default;var f=i(n(2752));t.RxTransaction=f.default;var d=i(n(52580));t.RxManagedTransaction=d.default;var h=i(n(56503));t.RxResult=h.default;var p=s.internal.util,v=p.ENCRYPTION_ON,y=p.assertString,g=p.isEmptyObjectOrNull,m=s.internal.serverAddress.ServerAddress,b=s.internal.urlUtil,_="neo4j-javascript/"+u.default;function w(e,t,n){void 0===n&&(n={}),y(e,"Bolt URL");var r,o=b.parseDatabaseUrl(e),i=!1,c=!1;switch(o.scheme){case"bolt":break;case"bolt+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":c=!0,r="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":c=!0,r="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(o.scheme))}if(c){if("encrypted"in n||"trust"in n)throw new Error("Encryption/trust can only be configured either through URL or config, not both");n.encrypted=v,n.trust=r,n.clientCertificate=(0,s.resolveCertificateProvider)(n.clientCertificate)}var f=function(e){if("object"===typeof(t=e)&&null!=t&&"getToken"in t&&"handleSecurityException"in t&&"function"===typeof t.getToken&&"function"===typeof t.handleSecurityException)return e;var t,n=e;return(n=n||{}).scheme=n.scheme||"none",(0,s.staticAuthTokenManager)({authToken:n})}(t);n.userAgent=n.userAgent||_,n.boltAgent=s.internal.boltAgent.fromVersion(u.default);var d=m.fromUrl(o.hostAndPort),h={address:d,typename:i?"Routing":"Direct",routing:i};return new a.Driver(h,n,function(){if(i)return function(e,t,n,r){return new l.RoutingConnectionProvider({id:e,config:t,log:n,hostNameResolver:r,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:o.query})};if(!g(o.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"));return function(e,t,n){return new l.DirectConnectionProvider({id:e,config:t,log:n,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent})}}())}function O(e,t){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:n=w(e,{scheme:"none",principal:"",credentials:""},t),r.label=1;case 1:return r.trys.push([1,,3,5]),[4,n.getNegotiatedProtocolVersion()];case 2:return r.sent(),[2,!0];case 3:return[4,n.close()];case 4:return r.sent(),[7];case 5:return[2]}})})}var E={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(n.g.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}};t.logging=E;var x={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,EagerResult:s.EagerResult,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer,Vector:s.Vector,VectorType:s.VectorType,Rule:s.Rule,Rules:s.Rules};t.types=x;var S={READ:a.READ,WRITE:a.WRITE};t.session=S;var P={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange};t.integer=P;var T={isPoint:s.isPoint};t.spatial=T;var C={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};t.temporal=C;var k={isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship};t.graph=k;var A={authTokenManagers:s.authTokenManagers,driver:w,hasReachableServer:O,int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship,isUnsupportedType:s.isUnsupportedType,integer:P,Neo4jError:s.Neo4jError,isRetriableError:s.isRetriableError,isRetryableError:s.isRetryableError,auth:s.auth,logging:E,types:x,session:S,routing:s.routing,error:s.error,graph:k,spatial:T,temporal:C,Driver:a.Driver,Session:s.Session,Transaction:s.Transaction,ManagedTransaction:s.ManagedTransaction,Result:s.Result,EagerResult:s.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:d.default,RxResult:h.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,GqlStatusObject:s.GqlStatusObject,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime,bookmarkManager:s.bookmarkManager,resultTransformers:s.resultTransformers,notificationCategory:s.notificationCategory,notificationSeverityLevel:s.notificationSeverityLevel,notificationFilterDisabledCategory:s.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:s.notificationFilterMinimumSeverityLevel,clientCertificateProviders:s.clientCertificateProviders,isVector:s.isVector,vector:s.vector,rule:s.rule,mappingDecorators:s.mappingDecorators,RecordObjectMapping:s.RecordObjectMapping,StandardCase:s.StandardCase};t.default=A},95014:(e,t)=>{"use strict";function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},95198:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:null}},95389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(18137),o=n(9620);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},95400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(18137),o=n(2694);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},95408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(18137);t.flatMap=r.mergeMap},95449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(33837),o=n(62161),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate(function(e,t){r.reduce(i,[])(e).subscribe(t)})}},95518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(62161);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},95575:(e,t,n)=>{var r=n(87937)(Object,"create");e.exports=r},95610:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(76003)),a=o(n(72263)),u=o(n(8607)),s=n(64260),l=o(n(19155)),c=n(15359).internal.constants.BOLT_PROTOCOL_V5_4,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(a.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.telemetry=function(e,t){var n=e.api,r=void 0===t?{}:t,o=r.onError,i=r.onCompleted,a=new s.TelemetryObserver({onCompleted:i,onError:o});return this.write(u.default.telemetry({api:n}),a,!1),a},t}(i.default);t.default=f},95750:(e,t,n)=>{var r;try{r={clone:n(41740),constant:n(22541),each:n(62580),filter:n(50723),has:n(62117),isArray:n(54052),isEmpty:n(54320),isFunction:n(11629),isUndefined:n(141),keys:n(28673),map:n(33411),reduce:n(12759),size:n(35640),transform:n(22717),union:n(30450),values:n(26727)}}catch(o){}r||(r=window._),e.exports=r},95899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(62161),o=n(88457);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate(function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)})}},96227:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(44682).AsyncScheduler);t.QueueScheduler=o},96614:(e,t,n)=>{var r=n(78420),o=n(71775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var l=t[u],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?o(n,l,c):r(n,l,c)}return n}},96996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},97004:(e,t,n)=>{"use strict";var r=n(78853),o=n(65043),i=n(97950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function f(e){if(s(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var k=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case x:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case y:return"Portal";case w:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var I=Array.isArray,N=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},L=[],F=-1;function U(e){return{current:e}}function B(e){0>F||(e.current=L[F],L[F]=null,F--)}function z(e,t){F++,L[F]=e.current,e.current=t}var V,W,H=U(null),q=U(null),G=U(null),Y=U(null);function X(e,t){switch(z(G,t),z(q,e),z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bf(t=mf(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(H),z(H,e)}function K(){B(H),B(q),B(G)}function Z(e){null!==e.memoizedState&&z(Y,e);var t=H.current,n=bf(t,e.type);t!==n&&(z(q,e),z(H,n))}function $(e){q.current===e&&(B(H),B(q)),Y.current===e&&(B(Y),fd._currentValue=D)}function Q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",W=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+W}var J=!1;function ee(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(u){if(u&&r&&"string"===typeof u.stack)return[u.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],u=i[1];if(a&&u){var s=a.split("\n"),l=u.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===l.length)for(r=s.length-1,o=l.length-1;1<=r&&0<=o&&s[r]!==l[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==l[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==l[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Q(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==t&&null!==t?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Q("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,ue=r.unstable_requestPaint,se=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,fe=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,he=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ve=r.log,ye=r.unstable_setDisableYieldValue,ge=null,me=null;function be(e){if("function"===typeof ve&&ye(e),me&&"function"===typeof me.setStrictMode)try{me.setStrictMode(ge,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Oe|0)|0},we=Math.log,Oe=Math.LN2;var Ee=256,xe=262144,Se=4194304;function Pe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var u=134217727&r;return 0!==u?0!==(r=u&~i)?o=Pe(r):0!==(a&=u)?o=Pe(a):n||0!==(n=u&~e)&&(o=Pe(n)):0!==(u=r&~i)?o=Pe(u):0!==a?o=Pe(a):n||0!==(n=r&~e)&&(o=Pe(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Td(e.type)}function Ue(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Be=Math.random().toString(36).slice(2),ze="__reactFiber$"+Be,Ve="__reactProps$"+Be,We="__reactContainer$"+Be,He="__reactEvents$"+Be,qe="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Ye="__reactResources$"+Be,Xe="__reactMarker$"+Be;function Ke(e){delete e[ze],delete e[Ve],delete e[He],delete e[qe],delete e[Ge]}function Ze(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[We]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Lf(e);null!==e;){if(n=e[ze])return n;e=Lf(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[ze]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Je(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Xe]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ut={};function st(e,t,n){if(o=t,re.call(ut,o)||!re.call(at,o)&&(it.test(o)?ut[o]=!0:(at[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function vt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var yt=/[\n"\\]/g;function gt(e){return e.replace(yt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,o,i,a,u){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?_t(e,a,ft(t)):null!=n?_t(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=u&&"function"!==typeof u&&"symbol"!==typeof u&&"boolean"!==typeof u?e.name=""+ft(u):e.removeAttribute("name")}function bt(e,t,n,r,o,i,a,u){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=u?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ht(e)}function _t(e,t,n){"number"===t&&vt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ot(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(I(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Pt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Pt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var It=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Dt=null;function Lt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ve]||null;if(!o)throw Error(a(90));mt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Ot(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Mt||null!==Dt)&&(Jl(),Mt&&(t=Mt,e=Dt,Dt=Mt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(zt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Qd){Vt=!1}var Ht=null,qt=null,Gt=null;function Yt(){if(Gt)return Gt;var e,t,n=qt,r=n.length,o="value"in Ht?Ht.value:Ht.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Gt=o.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Zt(){return!1}function $t(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:Zt,this.isPropagationStopped=Zt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Qt,Jt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=h({},tn,{view:0,detail:0}),on=$t(rn),an=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Qt=e.screenX-en.screenX,Jt=e.screenY-en.screenY):Jt=Qt=0,en=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),un=$t(an),sn=$t(h({},an,{dataTransfer:0})),ln=$t(h({},rn,{relatedTarget:0})),cn=$t(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=$t(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=$t(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function gn(){return yn}var mn=$t(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=$t(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=$t(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$t(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=$t(h({},tn,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=zt&&"CompositionEvent"in window,Pn=null;zt&&"documentMode"in document&&(Pn=document.documentMode);var Tn=zt&&"TextEvent"in window&&!Pn,Cn=zt&&(!Sn||Pn&&8<Pn&&11>=Pn),kn=String.fromCharCode(32),An=!1;function jn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Dn(e,t,n,r){Mt?Dt?Dt.push(r):Dt=[r]:Mt=r,0<(t=rf(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Fn=null;function Un(e){Kc(e,0)}function Bn(e){if(pt(Qe(e)))return e}function zn(e,t){if("change"===e)return t}var Vn=!1;if(zt){var Wn;if(zt){var Hn="oninput"in document;if(!Hn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Hn="function"===typeof qn.oninput}Wn=Hn}else Wn=!1;Vn=Wn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Yn),Fn=Ln=null)}function Yn(e){if("value"===e.propertyName&&Bn(Fn)){var t=[];Dn(t,Fn,e,Nt(e)),Ut(Un,t)}}function Xn(e,t,n){"focusin"===e?(Gn(),Fn=n,(Ln=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Fn)}function Zn(e,t){if("click"===e)return Bn(t)}function $n(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=vt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=vt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=zt&&"documentMode"in document&&11>=document.documentMode,ar=null,ur=null,sr=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==vt(r)||("selectionStart"in(r=ar)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=rf(ur,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},hr={},pr={};function vr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return hr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var yr=vr("animationend"),gr=vr("animationiteration"),mr=vr("animationstart"),br=vr("transitionrun"),_r=vr("transitionstart"),wr=vr("transitioncancel"),Or=vr("transitionend"),Er=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Er.set(e,t),rt(t,[e])}xr.push("scrollEnd");var Pr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Cr=0,kr=0;function Ar(){for(var e=Cr,t=kr=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var i=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Nr(n,o,i)}}function jr(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return jr(e,t,n,r),Mr(e)}function Ir(e,t){return jr(e,null,null,t),Mr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-_e(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<Hl)throw Hl=0,ql=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Lr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,o,i){var u=0;if(r=e,"function"===typeof e)Ur(e)&&(u=1);else if("string"===typeof e)u=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Fr(31,n,t,o)).elementType=T,e.lanes=i,e;case g:return Wr(n.children,o,i,t);case m:u=8,o|=24;break;case b:return(e=Fr(12,n,t,2|o)).elementType=b,e.lanes=i,e;case E:return(e=Fr(13,n,t,o)).elementType=E,e.lanes=i,e;case x:return(e=Fr(19,n,t,o)).elementType=x,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:u=10;break e;case _:u=9;break e;case O:u=11;break e;case S:u=14;break e;case P:u=16,r=null;break e}u=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(u,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Wr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function qr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function Xr(e,t){if("object"===typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],Zr=0,$r=null,Qr=0,Jr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Kr[Zr++]=Qr,Kr[Zr++]=$r,$r=e,Qr=t}function io(e,t,n){Jr[eo++]=no,Jr[eo++]=ro,Jr[eo++]=to,to=e;var r=no;e=ro;var o=32-_e(r)-1;r&=~(1<<o),n+=1;var i=32-_e(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,no=1<<32-_e(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function ao(e){null!==e.return&&(oo(e,1),io(e,1,0))}function uo(e){for(;e===$r;)$r=Kr[--Zr],Kr[Zr]=null,Qr=Kr[--Zr],Kr[Zr]=null;for(;e===to;)to=Jr[--eo],Jr[eo]=null,ro=Jr[--eo],Jr[eo]=null,no=Jr[--eo],Jr[eo]=null}function so(e,t){Jr[eo++]=no,Jr[eo++]=ro,Jr[eo++]=to,no=t.id,ro=t.overflow,to=e}var lo=null,co=null,fo=!1,ho=null,po=!1,vo=Error(a(519));function yo(e){throw Oo(Xr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),vo}function go(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Ve]=r,n){case"dialog":Zc("cancel",t),Zc("close",t);break;case"iframe":case"object":case"embed":Zc("load",t);break;case"video":case"audio":for(n=0;n<Yc.length;n++)Zc(Yc[n],t);break;case"source":Zc("error",t);break;case"img":case"image":case"link":Zc("error",t),Zc("load",t);break;case"details":Zc("toggle",t);break;case"input":Zc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Zc("invalid",t);break;case"textarea":Zc("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cf(t.textContent,n)?(null!=r.popover&&(Zc("beforetoggle",t),Zc("toggle",t)),null!=r.onScroll&&Zc("scroll",t),null!=r.onScrollEnd&&Zc("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||yo(e,!0)}function mo(e){for(lo=e.return;lo;)switch(lo.tag){case 5:case 31:case 13:return void(po=!1);case 27:case 3:return void(po=!0);default:lo=lo.return}}function bo(e){if(e!==lo)return!1;if(!fo)return mo(e),fo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_f(e.type,e.memoizedProps)),t=!t),t&&co&&yo(e),mo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));co=Df(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));co=Df(e)}else 27===n?(n=co,Tf(e.type)?(e=Mf,Mf=null,co=e):co=n):co=lo?Nf(e.stateNode.nextSibling):null;return!0}function _o(){co=lo=null,fo=!1}function wo(){var e=ho;return null!==e&&(null===Al?Al=e:Al.push.apply(Al,e),ho=null),e}function Oo(e){null===ho?ho=[e]:ho.push(e)}var Eo=U(null),xo=null,So=null;function Po(e,t,n){z(Eo,t._currentValue),t._currentValue=n}function To(e){e._currentValue=Eo.current,B(Eo)}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var u=o.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=o;for(var l=0;l<t.length;l++)if(s.context===t[l]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Co(i.return,n,e),r||(u=null);break e}i=s.next}}else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(i=u.alternate)&&(i.lanes|=n),Co(u,n,e),u=null}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===e){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}}function Ao(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var u=o.alternate;if(null===u)throw Error(a(387));if(null!==(u=u.memoizedProps)){var s=o.type;Qn(o.pendingProps.value,u.value)||(null!==e?e.push(s):e=[s])}}else if(o===Y.current){if(null===(u=o.alternate))throw Error(a(387));u.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(fd):e=[fd])}o=o.return}null!==e&&ko(t,e,n,r),t.flags|=262144}function jo(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ro(e){xo=e,So=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Io(e){return Mo(xo,e)}function No(e,t){return null===xo&&Ro(e),Mo(e,t)}function Mo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===So){if(null===e)throw Error(a(308));So=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else So=So.next=t;return n}var Do="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lo=r.unstable_scheduleCallback,Fo=r.unstable_NormalPriority,Uo={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Do,data:new Map,refCount:0}}function zo(e){e.refCount--,0===e.refCount&&Lo(Fo,function(){e.controller.abort()})}var Vo=null,Wo=0,Ho=0,qo=null;function Go(){if(0===--Wo&&null!==Vo){null!==qo&&(qo.status="fulfilled");var e=Vo;Vo=null,Ho=0,qo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yo=N.S;N.S=function(e,t){Il=se(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vo){var n=Vo=[];Wo=0,Ho=Vc(),qo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wo++,t.then(Go,Go)}(0,t),null!==Yo&&Yo(e,t)};var Xo=U(null);function Ko(){var e=Xo.current;return null!==e?e:pl.pooledCache}function Zo(e,t){z(Xo,null===t?Xo.current:t.pool)}function $o(){var e=Ko();return null===e?null:{parent:Uo._currentValue,pool:e}}var Qo=Error(a(460)),Jo=Error(a(474)),ei=Error(a(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ui(e=t.reason),e}throw ii=t,Qo}}function oi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ii=t,Qo;throw t}}var ii=null;function ai(){if(null===ii)throw Error(a(459));var e=ii;return ii=null,e}function ui(e){if(e===Qo||e===ei)throw Error(a(483))}var si=null,li=0;function ci(e){var t=li;return li+=1,null===si&&(si=[]),ri(si,e,t)}function fi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function di(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===g?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&oi(i)===t.type)?(fi(t=o(t,n.props),n),t.return=e,t):(fi(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return fi(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case y:return(t=Gr(t,e.mode,n)).return=e,t;case P:return d(e,t=oi(t),n)}if(I(t)||A(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,ci(t),n);if(t.$$typeof===w)return d(e,No(e,t),n);di(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===o?l(e,t,n,r):null;case y:return n.key===o?c(e,t,n,r):null;case P:return h(e,t,n=oi(n),r)}if(I(n)||A(n))return null!==o?null:f(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,ci(n),r);if(n.$$typeof===w)return h(e,t,No(e,n),r);di(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case v:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return p(e,t,n,r=oi(r),o)}if(I(r)||A(r))return f(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return p(e,t,n,ci(r),o);if(r.$$typeof===w)return p(e,t,n,No(t,r),o);di(t,r)}return null}function m(s,l,c,f){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case v:e:{for(var b=c.key;null!==l;){if(l.key===b){if((b=c.type)===g){if(7===l.tag){n(s,l.sibling),(f=o(l,c.props.children)).return=s,s=f;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===P&&oi(b)===l.type){n(s,l.sibling),fi(f=o(l,c.props),c),f.return=s,s=f;break e}n(s,l);break}t(s,l),l=l.sibling}c.type===g?((f=Wr(c.props.children,s.mode,f,c.key)).return=s,s=f):(fi(f=Vr(c.type,c.key,c.props,null,s.mode,f),c),f.return=s,s=f)}return u(s);case y:e:{for(b=c.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(s,l.sibling),(f=o(l,c.children||[])).return=s,s=f;break e}n(s,l);break}t(s,l),l=l.sibling}(f=Gr(c,s.mode,f)).return=s,s=f}return u(s);case P:return m(s,l,c=oi(c),f)}if(I(c))return function(o,a,u,s){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=h(o,f,u[v],s);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(o,f),a=i(g,a,v),null===c?l=g:c.sibling=g,c=g,f=y}if(v===u.length)return n(o,f),fo&&oo(o,v),l;if(null===f){for(;v<u.length;v++)null!==(f=d(o,u[v],s))&&(a=i(f,a,v),null===c?l=f:c.sibling=f,c=f);return fo&&oo(o,v),l}for(f=r(f);v<u.length;v++)null!==(y=p(f,o,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=i(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach(function(e){return t(o,e)}),fo&&oo(o,v),l}(s,l,c,f);if(A(c)){if("function"!==typeof(b=A(c)))throw Error(a(150));return function(o,u,s,l){if(null==s)throw Error(a(151));for(var c=null,f=null,v=u,y=u=0,g=null,m=s.next();null!==v&&!m.done;y++,m=s.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=h(o,v,m.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(o,v),u=i(b,u,y),null===f?c=b:f.sibling=b,f=b,v=g}if(m.done)return n(o,v),fo&&oo(o,y),c;if(null===v){for(;!m.done;y++,m=s.next())null!==(m=d(o,m.value,l))&&(u=i(m,u,y),null===f?c=m:f.sibling=m,f=m);return fo&&oo(o,y),c}for(v=r(v);!m.done;y++,m=s.next())null!==(m=p(v,o,y,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),u=i(m,u,y),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach(function(e){return t(o,e)}),fo&&oo(o,y),c}(s,l,c=b.call(c),f)}if("function"===typeof c.then)return m(s,l,ci(c),f);if(c.$$typeof===w)return m(s,l,No(s,c),f);di(s,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==l&&6===l.tag?(n(s,l.sibling),(f=o(l,c)).return=s,s=f):(n(s,l),(f=Hr(c,s.mode,f)).return=s,s=f),u(s)):n(s,l)}return function(e,t,n,r){try{li=0;var o=m(e,t,n,r);return si=null,o}catch(a){if(a===Qo||a===ei)throw a;var i=Fr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var pi=hi(!0),vi=hi(!1),yi=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&hl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),Nr(e,null,n),t}return jr(e,r,t,n),Mr(e)}function wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function Oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ei=!1;function xi(){if(Ei){if(null!==qo)throw qo}}function Si(e,t,n,r){Ei=!1;var o=e.updateQueue;yi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var s=u,l=s.next;s.next=null,null===a?i=l:a.next=l,a=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==i){var f=o.baseState;for(a=0,c=l=s=null,u=i;;){var d=-536870913&u.lane,p=d!==u.lane;if(p?(yl&d)===d:(r&d)===d){0!==d&&d===Ho&&(Ei=!0),null!==c&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=e,y=u;d=t;var g=n;switch(y.tag){case 1:if("function"===typeof(v=y.payload)){f=v.call(g,f,d);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(d="function"===typeof(v=y.payload)?v.call(g,f,d):v)||void 0===d)break e;f=h({},f,d);break e;case 2:yi=!0}}null!==(d=u.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[d]:p.push(d))}else p={lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=p,s=f):c=c.next=p,a|=d;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(p=u).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===c&&(s=f),o.baseState=s,o.firstBaseUpdate=l,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),xl|=a,e.lanes=a,e.memoizedState=f}}function Pi(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ti(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Pi(n[e],t)}var Ci=U(null),ki=U(0);function Ai(e,t){z(ki,e=Ol),z(Ci,t),Ol=e|t.baseLanes}function ji(){z(ki,Ol),z(Ci,Ci.current)}function Ri(){Ol=ki.current,B(Ci),B(ki)}var Ii=U(null),Ni=null;function Mi(e){var t=e.alternate;z(Bi,1&Bi.current),z(Ii,e),null===Ni&&(null===t||null!==Ci.current||null!==t.memoizedState)&&(Ni=e)}function Di(e){z(Bi,Bi.current),z(Ii,e),null===Ni&&(Ni=e)}function Li(e){22===e.tag?(z(Bi,Bi.current),z(Ii,e),null===Ni&&(Ni=e)):Fi()}function Fi(){z(Bi,Bi.current),z(Ii,Ii.current)}function Ui(e){B(Ii),Ni===e&&(Ni=null),B(Bi)}var Bi=U(0);function zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rf(n)||If(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=0,Wi=null,Hi=null,qi=null,Gi=!1,Yi=!1,Xi=!1,Ki=0,Zi=0,$i=null,Qi=0;function Ji(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,o,i){return Vi=i,Wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?yu:gu,Xi=!1,i=n(r,o),Xi=!1,Yi&&(i=ra(t,n,r,o)),na(e),i}function na(e){N.H=vu;var t=null!==Hi&&null!==Hi.next;if(Vi=0,qi=Hi=Wi=null,Gi=!1,Zi=0,$i=null,t)throw Error(a(300));null===e||Iu||null!==(e=e.dependencies)&&jo(e)&&(Iu=!0)}function ra(e,t,n,r){Wi=e;var o=0;do{if(Yi&&($i=null),Zi=0,Yi=!1,25<=o)throw Error(a(301));if(o+=1,qi=Hi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}N.H=mu,i=t(n,r)}while(Yi);return i}function oa(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?ca(t):t,e=e.useState()[0],(null!==Hi?Hi.memoizedState:null)!==e&&(Wi.flags|=1024),t}function ia(){var e=0!==Ki;return Ki=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ua(e){if(Gi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gi=!1}Vi=0,qi=Hi=Wi=null,Yi=!1,Zi=Ki=0,$i=null}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qi?Wi.memoizedState=qi=e:qi=qi.next=e,qi}function la(){if(null===Hi){var e=Wi.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===qi?Wi.memoizedState:qi.next;if(null!==t)qi=t,Hi=e;else{if(null===e){if(null===Wi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===qi?Wi.memoizedState=qi=e:qi=qi.next=e}return qi}function ca(e){var t=Zi;return Zi+=1,null===$i&&($i=[]),e=ri($i,e,t),t=Wi,null===(null===qi?t.memoizedState:qi.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?yu:gu),e}function fa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ca(e);if(e.$$typeof===w)return Io(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=Wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function ha(e,t){return"function"===typeof t?t(e):t}function pa(e){return va(la(),Hi,e)}function va(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var u=o.next;o.next=i.next,i.next=u}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var s=u=null,l=null,c=t=o.next,f=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(yl&d)===d:(Vi&d)===d){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ho&&(f=!0);else{if((Vi&h)===h){c=c.next,h===Ho&&(f=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=d,u=i):l=l.next=d,Wi.lanes|=h,xl|=h}d=c.action,Xi&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else h={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=h,u=i):l=l.next=h,Wi.lanes|=d,xl|=d;c=c.next}while(null!==c&&c!==t);if(null===l?u=i:l.next=s,!Qn(i,e.memoizedState)&&(Iu=!0,f&&null!==(n=qo)))throw n;e.memoizedState=i,e.baseState=u,e.baseQueue=l,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ya(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var u=o=o.next;do{i=e(i,u.action),u=u.next}while(u!==o);Qn(i,t.memoizedState)||(Iu=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ga(e,t,n){var r=Wi,o=la(),i=fo;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var u=!Qn((Hi||o).memoizedState,n);if(u&&(o.memoizedState=n,Iu=!0),o=o.queue,Va(_a.bind(null,r,o,e),[e]),o.getSnapshot!==t||u||null!==qi&&1&qi.memoizedState.tag){if(r.flags|=2048,La(9,{destroy:void 0},ba.bind(null,r,o,n,t),null),null===pl)throw Error(a(349));i||0!==(127&Vi)||ma(r,t,n)}return n}function ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,wa(t)&&Oa(e)}function _a(e,t,n){return n(function(){wa(t)&&Oa(e)})}function wa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Oa(e){var t=Ir(e,2);null!==t&&Xl(t,e,2)}function Ea(e){var t=sa();if("function"===typeof e){var n=e;if(e=n(),Xi){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function xa(e,t,n,r){return e.baseState=n,va(e,Hi,"function"===typeof r?r:ha)}function Sa(e,t,n,r,o){if(du(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==N.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Pa(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Pa(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=N.T,a={};N.T=a;try{var u=n(o,r),s=N.S;null!==s&&s(a,u),Ta(e,t,u)}catch(l){ka(e,t,l)}finally{null!==i&&null!==a.types&&(i.types=a.types),N.T=i}}else try{Ta(e,t,i=n(o,r))}catch(c){ka(e,t,c)}}function Ta(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ca(e,t,n)},function(n){return ka(e,t,n)}):Ca(e,t,n)}function Ca(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Pa(e,n)))}function ka(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ja(e,t){return t}function Ra(e,t){if(fo){var n=pl.formState;if(null!==n){e:{var r=Wi;if(fo){if(co){t:{for(var o=co,i=po;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Nf(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){co=Nf(o.nextSibling),r="F!"===o.data;break e}}yo(r)}r=!1}r&&(t=n[0])}}return(n=sa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},n.queue=r,n=lu.bind(null,Wi,r),r.dispatch=n,r=Ea(!1),i=fu.bind(null,Wi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=sa()).queue=o,n=Sa.bind(null,Wi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ia(e){return Na(la(),Hi,e)}function Na(e,t,n){if(t=va(e,t,ja)[0],e=pa(ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ca(t)}catch(a){if(a===Qo)throw ei;throw a}else r=t;var o=(t=la()).queue,i=o.dispatch;return n!==t.memoizedState&&(Wi.flags|=2048,La(9,{destroy:void 0},Ma.bind(null,o,n),null)),[r,i,e]}function Ma(e,t){e.action=t}function Da(e){var t=la(),n=Hi;if(null!==n)return Na(t,n,e);la(),t=t.memoizedState;var r=(n=la()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function La(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return la().memoizedState}function Ua(e,t,n,r){var o=sa();Wi.flags|=e,o.memoizedState=La(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ba(e,t,n,r){var o=la();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Hi&&null!==r&&ea(r,Hi.memoizedState.deps)?o.memoizedState=La(t,i,n,r):(Wi.flags|=e,o.memoizedState=La(1|t,i,n,r))}function za(e,t){Ua(8390656,8,e,t)}function Va(e,t){Ba(2048,8,e,t)}function Wa(e){var t=la().memoizedState;return function(e){Wi.flags|=4;var t=Wi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hl))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Ba(4,2,e,t)}function qa(e,t){return Ba(4,4,e,t)}function Ga(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ya(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Xa(){}function Ka(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Xi){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $a(e,t,n){return void 0===n||0!==(1073741824&Vi)&&0===(261930&yl)?e.memoizedState=t:(e.memoizedState=n,e=Yl(),Wi.lanes|=e,xl|=e,n)}function Qa(e,t,n,r){return Qn(n,t)?n:null!==Ci.current?(e=$a(e,n,r),Qn(e,t)||(Iu=!0),e):0===(42&Vi)||0!==(1073741824&Vi)&&0===(261930&yl)?(Iu=!0,e.memoizedState=n):(e=Yl(),Wi.lanes|=e,xl|=e,t)}function Ja(e,t,n,r,o){var i=M.p;M.p=0!==i&&8>i?i:8;var a=N.T,u={};N.T=u,fu(e,!1,t,n);try{var s=o(),l=N.S;if(null!==l&&l(u,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)cu(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r),Gl());else cu(e,t,r,Gl())}catch(c){cu(e,t,{then:function(){},status:"rejected",reason:c},Gl())}finally{M.p=i,null!==a&&null!==u.types&&(a.types=u.types),N.T=a}}function eu(){}function tu(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=nu(e).queue;Ja(e,o,t,D,null===n?eu:function(){return ru(e),n(r)})}function nu(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ru(e){var t=nu(e);null===t.next&&(t=e.alternate.memoizedState),cu(e,t.next.queue,{},Gl())}function ou(){return Io(fd)}function iu(){return la().memoizedState}function au(){return la().memoizedState}function uu(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gl(),r=_i(t,e=bi(n),n);return null!==r&&(Xl(r,t,n),wi(r,t,n)),t={cache:Bo()},void(e.payload=t)}t=t.return}}function su(e,t,n){var r=Gl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},du(e)?hu(t,n):null!==(n=Rr(e,t,n,r))&&(Xl(n,e,r),pu(n,t,r))}function lu(e,t,n){cu(e,t,n,Gl())}function cu(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(du(e))hu(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=i(a,n);if(o.hasEagerState=!0,o.eagerState=u,Qn(u,a))return jr(e,t,o,0),null===pl&&Ar(),!1}catch(s){}if(null!==(n=Rr(e,t,o,r)))return Xl(n,e,r),pu(n,t,r),!0}return!1}function fu(e,t,n,r){if(r={lane:2,revertLane:Vc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},du(e)){if(t)throw Error(a(479))}else null!==(t=Rr(e,n,r,2))&&Xl(t,e,2)}function du(e){var t=e.alternate;return e===Wi||null!==t&&t===Wi}function hu(e,t){Yi=Gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pu(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var vu={readContext:Io,use:fa,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useLayoutEffect:Ji,useInsertionEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useSyncExternalStore:Ji,useId:Ji,useHostTransitionStatus:Ji,useFormState:Ji,useActionState:Ji,useOptimistic:Ji,useMemoCache:Ji,useCacheRefresh:Ji};vu.useEffectEvent=Ji;var yu={readContext:Io,use:fa,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=sa();t=void 0===t?null:t;var r=e();if(Xi){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sa();if(void 0!==n){var o=n(t);if(Xi){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=su.bind(null,Wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sa().memoizedState=e},useState:function(e){var t=(e=Ea(e)).queue,n=lu.bind(null,Wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xa,useDeferredValue:function(e,t){return $a(sa(),e,t)},useTransition:function(){var e=Ea(!1);return e=Ja.bind(null,Wi,e.queue,!0,!1),sa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Wi,o=sa();if(fo){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pl)throw Error(a(349));0!==(127&yl)||ma(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,za(_a.bind(null,r,i,e),[e]),r.flags|=2048,La(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),n},useId:function(){var e=sa(),t=pl.identifierPrefix;if(fo){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-_e(no)-1)).toString(32)+n),0<(n=Ki++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Ra,useActionState:Ra,useOptimistic:function(e){var t=sa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fu.bind(null,Wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return sa().memoizedState=uu.bind(null,Wi)},useEffectEvent:function(e){var t=sa(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hl))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},gu={readContext:Io,use:fa,useCallback:Ka,useContext:Io,useEffect:Va,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:qa,useMemo:Za,useReducer:pa,useRef:Fa,useState:function(){return pa(ha)},useDebugValue:Xa,useDeferredValue:function(e,t){return Qa(la(),Hi.memoizedState,e,t)},useTransition:function(){var e=pa(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:iu,useHostTransitionStatus:ou,useFormState:Ia,useActionState:Ia,useOptimistic:function(e,t){return xa(la(),0,e,t)},useMemoCache:da,useCacheRefresh:au};gu.useEffectEvent=Wa;var mu={readContext:Io,use:fa,useCallback:Ka,useContext:Io,useEffect:Va,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:qa,useMemo:Za,useReducer:ya,useRef:Fa,useState:function(){return ya(ha)},useDebugValue:Xa,useDeferredValue:function(e,t){var n=la();return null===Hi?$a(n,e,t):Qa(n,Hi.memoizedState,e,t)},useTransition:function(){var e=ya(ha)[0],t=la().memoizedState;return["boolean"===typeof e?e:ca(e),t]},useSyncExternalStore:ga,useId:iu,useHostTransitionStatus:ou,useFormState:Da,useActionState:Da,useOptimistic:function(e,t){var n=la();return null!==Hi?xa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:au};function bu(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}mu.useEffectEvent=Wa;var _u={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gl(),o=bi(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_i(e,o,r))&&(Xl(t,e,r),wi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gl(),o=bi(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_i(e,o,r))&&(Xl(t,e,r),wi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gl(),r=bi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_i(e,r,n))&&(Xl(t,e,n),wi(t,e,n))}};function wu(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(o,i))}function Ou(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_u.enqueueReplaceState(t,t.state,null)}function Eu(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function xu(e){Pr(e)}function Su(e){console.error(e)}function Pu(e){Pr(e)}function Tu(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Cu(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ku(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){Tu(e,t)},n}function Au(e){return(e=bi(e)).tag=3,e}function ju(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Cu(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Cu(t,n,r),"function"!==typeof o&&(null===Dl?Dl=new Set([this]):Dl.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ru=Error(a(461)),Iu=!1;function Nu(e,t,n,r){t.child=null===e?vi(t,null,n,r):pi(t,e.child,n,r)}function Mu(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var u in r)"ref"!==u&&(a[u]=r[u])}else a=r;return Ro(t),r=ta(e,t,n,a,i,o),u=ia(),null===e||Iu?(fo&&u&&ao(t),t.flags|=1,Nu(e,t,r,o),t.child):(aa(e,t,o),os(e,t,o))}function Du(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ur(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Lu(e,t,i,r,o))}if(i=e.child,!is(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return os(e,t,o)}return t.flags|=1,(e=Br(i,r)).ref=t.ref,e.return=t,t.child=e}function Lu(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Jn(i,r)&&e.ref===t.ref){if(Iu=!1,t.pendingProps=r=i,!is(e,o))return t.lanes=e.lanes,os(e,t,o);0!==(131072&e.flags)&&(Iu=!0)}}return Hu(e,t,n,r,o)}function Fu(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Bu(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Bu(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zo(0,null!==i?i.cachePool:null),null!==i?Ai(t,i):ji(),Li(t)}else null!==i?(Zo(0,i.cachePool),Ai(t,i),Fi(),t.memoizedState=null):(null!==e&&Zo(0,null),ji(),Fi());return Nu(e,t,o,n),t.child}function Uu(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bu(e,t,n,r,o){var i=Ko();return i=null===i?null:{parent:Uo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Zo(0,null),ji(),Li(t),null!==e&&Ao(e,t,r,!0),t.childLanes=o,null}function zu(e,t){return(t=Ju({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vu(e,t,n){return pi(t,e.child,null,n),(e=zu(t,t.pendingProps)).flags|=2,Ui(t),t.memoizedState=null,e}function Wu(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hu(e,t,n,r,o){return Ro(t),n=ta(e,t,n,r,void 0,o),r=ia(),null===e||Iu?(fo&&r&&ao(t),t.flags|=1,Nu(e,t,n,o),t.child):(aa(e,t,o),os(e,t,o))}function qu(e,t,n,r,o,i){return Ro(t),t.updateQueue=null,n=ra(t,r,n,o),na(e),r=ia(),null===e||Iu?(fo&&r&&ao(t),t.flags|=1,Nu(e,t,n,i),t.child):(aa(e,t,i),os(e,t,i))}function Gu(e,t,n,r,o){if(Ro(t),null===t.stateNode){var i=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Io(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=_u,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},gi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Io(a):Dr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(bu(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&_u.enqueueReplaceState(i,i.state,null),Si(t,r,i,o),xi(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var u=t.memoizedProps,s=Eu(n,u);i.props=s;var l=i.context,c=n.contextType;a=Dr,"object"===typeof c&&null!==c&&(a=Io(c));var f=n.getDerivedStateFromProps;c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate,u=t.pendingProps!==u,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u||l!==a)&&Ou(t,i,r,a),yi=!1;var d=t.memoizedState;i.state=d,Si(t,r,i,o),xi(),l=t.memoizedState,u||d!==l||yi?("function"===typeof f&&(bu(t,n,f,r),l=t.memoizedState),(s=yi||wu(t,n,s,r,d,l,a))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=a,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,mi(e,t),c=Eu(n,a=t.memoizedProps),i.props=c,f=t.pendingProps,d=i.context,l=n.contextType,s=Dr,"object"===typeof l&&null!==l&&(s=Io(l)),(l="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==f||d!==s)&&Ou(t,i,r,s),yi=!1,d=t.memoizedState,i.state=d,Si(t,r,i,o),xi();var h=t.memoizedState;a!==f||d!==h||yi||null!==e&&null!==e.dependencies&&jo(e.dependencies)?("function"===typeof u&&(bu(t,n,u,r),h=t.memoizedState),(c=yi||wu(t,n,c,r,d,h,s)||null!==e&&null!==e.dependencies&&jo(e.dependencies))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=s,r=c):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Wu(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,n,o)):Nu(e,t,n,o),t.memoizedState=i.state,e=t.child):e=os(e,t,o),e}function Yu(e,t,n,r){return _o(),t.flags|=256,Nu(e,t,n,r),t.child}var Xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ku(e){return{baseLanes:e,cachePool:$o()}}function Zu(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tl),e}function $u(e,t,n){var r,o=t.pendingProps,i=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Bi.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(fo){if(i?Mi(t):Fi(),(e=co)?null!==(e=null!==(e=jf(e,po))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,lo=t,co=null):e=null,null===e)throw yo(t);return If(e)?t.lanes=32:t.lanes=536870912,null}var s=o.children;return o=o.fallback,i?(Fi(),s=Ju({mode:"hidden",children:s},i=t.mode),o=Wr(o,i,n,null),s.return=t,o.return=t,s.sibling=o,t.child=s,(o=t.child).memoizedState=Ku(n),o.childLanes=Zu(e,r,n),t.memoizedState=Xu,Uu(null,o)):(Mi(t),Qu(t,s))}var l=e.memoizedState;if(null!==l&&null!==(s=l.dehydrated)){if(u)256&t.flags?(Mi(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Fi(),t.child=e.child,t.flags|=128,t=null):(Fi(),s=o.fallback,i=t.mode,o=Ju({mode:"visible",children:o.children},i),(s=Wr(s,i,n,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,pi(t,e.child,null,n),(o=t.child).memoizedState=Ku(n),o.childLanes=Zu(e,r,n),t.memoizedState=Xu,t=Uu(null,o));else if(Mi(t),If(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(a(419))).stack="",o.digest=r,Oo({value:o,source:null,stack:null}),t=es(e,t,n)}else if(Iu||Ao(e,t,n,!1),r=0!==(n&e.childLanes),Iu||r){if(null!==(r=pl)&&(0!==(o=Me(r,n))&&o!==l.retryLane))throw l.retryLane=o,Ir(e,o),Xl(r,e,o),Ru;Rf(s)||ac(),t=es(e,t,n)}else Rf(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,co=Nf(s.nextSibling),lo=t,fo=!0,ho=null,po=!1,null!==e&&so(t,e),(t=Qu(t,o.children)).flags|=4096);return t}return i?(Fi(),s=o.fallback,i=t.mode,c=(l=e.child).sibling,(o=Br(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?s=Br(c,s):(s=Wr(s,i,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,Uu(null,o),o=t.child,null===(s=e.child.memoizedState)?s=Ku(n):(null!==(i=s.cachePool)?(l=Uo._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=$o(),s={baseLanes:s.baseLanes|n,cachePool:i}),o.memoizedState=s,o.childLanes=Zu(e,r,n),t.memoizedState=Xu,Uu(e.child,o)):(Mi(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Qu(e,t){return(t=Ju({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ju(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function es(e,t,n){return pi(t,e.child,null,n),(e=Qu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function ns(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.treeForkCount=i)}function rs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var a=Bi.current,u=0!==(2&a);if(u?(a=1&a|2,t.flags|=128):a&=1,z(Bi,a),Nu(e,t,r,n),r=fo?Qr:0,!u&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===zi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ns(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===zi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ns(t,!0,n,null,i,r);break;case"together":ns(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ao(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function is(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!jo(e))}function as(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Iu=!0;else{if(!is(e,n)&&0===(128&t.flags))return Iu=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Po(0,Uo,e.memoizedState.cache),_o();break;case 27:case 5:Z(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Po(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Di(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$u(e,t,n):(Mi(t),null!==(e=os(e,t,n))?e.sibling:null);Mi(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ao(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),z(Bi,Bi.current),r)break;return null;case 22:return t.lanes=0,Fu(e,t,n,t.pendingProps);case 24:Po(0,Uo,e.memoizedState.cache)}return os(e,t,n)}(e,t,n);Iu=0!==(131072&e.flags)}else Iu=!1,fo&&0!==(1048576&t.flags)&&io(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===O){t.tag=11,t=Mu(null,t,e,r,n);break e}if(o===S){t.tag=14,t=Du(null,t,e,r,n);break e}}throw t=R(e)||e,Error(a(306,t,""))}Ur(e)?(r=Eu(e,r),t.tag=1,t=Gu(null,t,e,r,n)):(t.tag=0,t=Hu(null,t,e,r,n))}return t;case 0:return Hu(e,t,t.type,t.pendingProps,n);case 1:return Gu(e,t,r=t.type,o=Eu(r,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,mi(e,t),Si(t,r,null,n);var u=t.memoizedState;if(r=u.cache,Po(0,Uo,r),r!==i.cache&&ko(t,[Uo],n,!0),xi(),r=u.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Yu(e,t,r,n);break e}if(r!==o){Oo(o=Xr(Error(a(424)),t)),t=Yu(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(co=Nf(e.firstChild),lo=t,fo=!0,ho=null,po=!0,n=vi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),r===o){t=os(e,t,n);break e}Nu(e,t,r,n)}t=t.child}return t;case 26:return Wu(e,t),null===e?(n=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=n:fo||(n=t.type,e=t.pendingProps,(r=gf(G.current).createElement(n))[ze]=t,r[Ve]=e,hf(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Z(t),null===e&&fo&&(r=t.stateNode=Ff(t.type,t.pendingProps,G.current),lo=t,po=!0,o=co,Tf(t.type)?(Mf=o,co=Nf(r.firstChild)):co=o),Nu(e,t,t.pendingProps.children,n),Wu(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fo&&((o=r=co)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Nf(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,po))?(t.stateNode=r,lo=t,co=Nf(r.firstChild),po=!1,o=!0):o=!1),o||yo(t)),Z(t),o=t.type,i=t.pendingProps,u=null!==e?e.memoizedProps:null,r=i.children,_f(o,i)?r=null:null!==u&&_f(o,u)&&(t.flags|=32),null!==t.memoizedState&&(o=ta(e,t,oa,null,null,n),fd._currentValue=o),Wu(e,t),Nu(e,t,r,n),t.child;case 6:return null===e&&fo&&((e=n=co)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Nf(e.nextSibling)))return null}return e}(n,t.pendingProps,po))?(t.stateNode=n,lo=t,co=null,e=!0):e=!1),e||yo(t)),null;case 13:return $u(e,t,n);case 4:return X(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pi(t,null,r,n):Nu(e,t,r,n),t.child;case 11:return Mu(e,t,t.type,t.pendingProps,n);case 7:return Nu(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nu(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Po(0,t.type,r.value),Nu(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ro(t),r=r(o=Io(o)),t.flags|=1,Nu(e,t,r,n),t.child;case 14:return Du(e,t,t.type,t.pendingProps,n);case 15:return Lu(e,t,t.type,t.pendingProps,n);case 19:return rs(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(fo){if("hidden"===r.mode)return e=zu(t,r),t.lanes=536870912,Uu(null,e);if(Di(t),(e=co)?null!==(e=null!==(e=jf(e,po))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,lo=t,co=null):e=null,null===e)throw yo(t);return t.lanes=536870912,null}return zu(t,r)}var i=e.memoizedState;if(null!==i){var u=i.dehydrated;if(Di(t),o)if(256&t.flags)t.flags&=-257,t=Vu(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Iu||Ao(e,t,n,!1),o=0!==(n&e.childLanes),Iu||o){if(null!==(r=pl)&&0!==(u=Me(r,n))&&u!==i.retryLane)throw i.retryLane=u,Ir(e,u),Xl(r,e,u),Ru;ac(),t=Vu(e,t,n)}else e=i.treeContext,co=Nf(u.nextSibling),lo=t,fo=!0,ho=null,po=!1,null!==e&&so(t,e),(t=zu(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fu(e,t,n,t.pendingProps);case 24:return Ro(t),r=Io(Uo),null===e?(null===(o=Ko())&&(o=pl,i=Bo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},gi(t),Po(0,Uo,o)):(0!==(e.lanes&n)&&(mi(e,t),Si(t,null,null,n),xi()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Po(0,Uo,r)):(r=i.cache,Po(0,Uo,r),r!==o.cache&&ko(t,[Uo],n,!0))),Nu(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function us(e){e.flags|=4}function ss(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw ii=ti,Jo;e.flags|=8192}}else e.flags&=-16777217}function ls(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!rc())throw ii=ti,Jo;e.flags|=8192}}function cs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Cl|=t)}function fs(e,t){if(!fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ds(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hs(e,t,n){var r=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ds(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),To(Uo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?us(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wo())),ds(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(us(t),null!==i?(ds(t),ls(t,i)):(ds(t),ss(t,o,0,0,n))):i?i!==e.memoizedState?(us(t),ds(t),ls(t,i)):(ds(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&us(t),ds(t),ss(t,o,0,0,n)),null;case 27:if($(t),n=G.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&us(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ds(t),null}e=H.current,bo(t)?go(t):(e=Ff(o,r,n),t.stateNode=e,us(t))}return ds(t),null;case 5:if($(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&us(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ds(t),null}if(i=H.current,bo(t))go(t);else{var u=gf(G.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=u.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?u.createElement(o,{is:r.is}):u.createElement(o)}}i[ze]=t,i[Ve]=r;e:for(u=t.child;null!==u;){if(5===u.tag||6===u.tag)i.appendChild(u.stateNode);else if(4!==u.tag&&27!==u.tag&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;null===u.sibling;){if(null===u.return||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=i;e:switch(hf(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&us(t)}}return ds(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&us(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=G.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=lo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cf(e.nodeValue,n)))||yo(t,!0)}else(e=gf(e).createTextNode(r))[ze]=t,t.stateNode=e}return ds(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[ze]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ds(t),e=!1}else n=wo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ui(t),t):(Ui(t),null);if(0!==(128&t.flags))throw Error(a(558))}return ds(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ze]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ds(t),o=!1}else o=wo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Ui(t),t):(Ui(t),null)}return Ui(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cs(t,t.updateQueue),ds(t),null);case 4:return K(),null===e&&Jc(t.stateNode.containerInfo),ds(t),null;case 10:return To(t.type),ds(t),null;case 19:if(B(Bi),null===(r=t.memoizedState))return ds(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)fs(r,!1);else{if(0!==El||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=zi(e))){for(t.flags|=128,fs(r,!1),e=i.updateQueue,t.updateQueue=e,cs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Bi,1&Bi.current|2),fo&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Nl&&(t.flags|=128,o=!0,fs(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=zi(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,cs(t,e),fs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!fo)return ds(t),null}else 2*se()-r.renderingStartTime>Nl&&536870912!==n&&(t.flags|=128,o=!0,fs(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=Bi.current,z(Bi,o?1&n|2:1&n),fo&&oo(t,r.treeForkCount),e):(ds(t),null);case 22:case 23:return Ui(t),Ri(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ds(t),6&t.subtreeFlags&&(t.flags|=8192)):ds(t),null!==(n=t.updateQueue)&&cs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Xo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),To(Uo),ds(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ps(e,t){switch(uo(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return To(Uo),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Ui(t),null===t.alternate)throw Error(a(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Bi),null;case 4:return K(),null;case 10:return To(t.type),null;case 22:case 23:return Ui(t),Ri(),null!==e&&B(Xo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return To(Uo),null;default:return null}}function vs(e,t){switch(uo(t),t.tag){case 3:To(Uo),K();break;case 26:case 27:case 5:$(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Ui(t);break;case 13:Ui(t);break;case 19:B(Bi);break;case 10:To(t.type);break;case 22:case 23:Ui(t),Ri(),null!==e&&B(Xo);break;case 24:To(Uo)}}function ys(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(u){Ec(t,t.return,u)}}function gs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,u=a.destroy;if(void 0!==u){a.destroy=void 0,o=t;var s=n,l=u;try{l()}catch(c){Ec(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){Ec(t,t.return,c)}}function ms(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ti(t,n)}catch(r){Ec(e,e.return,r)}}}function bs(e,t,n){n.props=Eu(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ec(e,t,r)}}function _s(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Ec(e,t,o)}}function ws(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){Ec(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Ec(e,t,i)}else n.current=null}function Os(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Ec(e,e.return,o)}}function Es(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,u=null,s=null,l=null,c=null,f=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||ff(e,t,p,null,r,d)}}for(var h in r){var p=r[h];if(d=n[h],r.hasOwnProperty(h)&&(null!=p||null!=d))switch(h){case"type":i=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":f=p;break;case"value":u=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&ff(e,t,h,p,r,d)}}return void mt(e,u,s,l,c,f,i,o);case"select":for(i in p=u=s=h=null,n)if(l=n[i],n.hasOwnProperty(i)&&null!=l)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||ff(e,t,i,null,r,l)}for(o in r)if(i=r[o],l=n[o],r.hasOwnProperty(o)&&(null!=i||null!=l))switch(o){case"value":h=i;break;case"defaultValue":s=i;break;case"multiple":u=i;default:i!==l&&ff(e,t,o,i,r,l)}return t=s,n=u,r=p,void(null!=h?wt(e,!!n,h,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(s in p=h=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:ff(e,t,s,null,r,o)}for(u in r)if(o=r[u],i=n[u],r.hasOwnProperty(u)&&(null!=o||null!=i))switch(u){case"value":h=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&ff(e,t,u,o,r,i)}return void Ot(e,h,p);case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v))if("selected"===v)e.selected=!1;else ff(e,t,v,null,r,h);for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(null!=h||null!=p))if("selected"===l)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else ff(e,t,l,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&ff(e,t,y,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:ff(e,t,c,h,r,p)}return;default:if(Ct(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!r.hasOwnProperty(g)&&df(e,t,g,void 0,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||void 0===h&&void 0===p||df(e,t,f,h,r,p);return}}for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&ff(e,t,m,null,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||null==h&&null==p||ff(e,t,d,h,r,p)}(r,e.type,n,t),r[Ve]=t}catch(o){Ec(e,e.return,o)}}function xs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Tf(e.type)||4===e.tag}function Ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Tf(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ps(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Tf(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Tf(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Cs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hf(t,r,n),t[ze]=e,t[Ve]=n}catch(i){Ec(e,e.return,i)}}var ks=!1,As=!1,js=!1,Rs="function"===typeof WeakSet?WeakSet:Set,Is=null;function Ns(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xs(e,n),4&r&&ys(5,n);break;case 1:if(Xs(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Ec(n,n.return,a)}else{var o=Eu(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ec(n,n.return,u)}}64&r&&ms(n),512&r&&_s(n,n.return);break;case 3:if(Xs(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ti(e,t)}catch(a){Ec(n,n.return,a)}}break;case 27:null===t&&4&r&&Cs(n);case 26:case 5:Xs(e,n),null===t&&4&r&&Os(n),512&r&&_s(n,n.return);break;case 12:Xs(e,n);break;case 31:Xs(e,n),4&r&&Bs(e,n);break;case 13:Xs(e,n),4&r&&zs(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||ks)){t=null!==t&&null!==t.memoizedState||As,o=ks;var i=As;ks=r,(As=t)&&!i?Zs(e,n,0!==(8772&n.subtreeFlags)):Xs(e,n),ks=o,As=i}break;case 30:break;default:Xs(e,n)}}function Ms(e){var t=e.alternate;null!==t&&(e.alternate=null,Ms(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ds=null,Ls=!1;function Fs(e,t,n){for(n=n.child;null!==n;)Us(e,t,n),n=n.sibling}function Us(e,t,n){if(me&&"function"===typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(ge,n)}catch(i){}switch(n.tag){case 26:As||ws(n,t),Fs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:As||ws(n,t);var r=Ds,o=Ls;Tf(n.type)&&(Ds=n.stateNode,Ls=!1),Fs(e,t,n),Uf(n.stateNode),Ds=r,Ls=o;break;case 5:As||ws(n,t);case 6:if(r=Ds,o=Ls,Ds=null,Fs(e,t,n),Ls=o,null!==(Ds=r))if(Ls)try{(9===Ds.nodeType?Ds.body:"HTML"===Ds.nodeName?Ds.ownerDocument.body:Ds).removeChild(n.stateNode)}catch(a){Ec(n,t,a)}else try{Ds.removeChild(n.stateNode)}catch(a){Ec(n,t,a)}break;case 18:null!==Ds&&(Ls?(Cf(9===(e=Ds).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qd(e)):Cf(Ds,n.stateNode));break;case 4:r=Ds,o=Ls,Ds=n.stateNode.containerInfo,Ls=!0,Fs(e,t,n),Ds=r,Ls=o;break;case 0:case 11:case 14:case 15:gs(2,n,t),As||gs(4,n,t),Fs(e,t,n);break;case 1:As||(ws(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bs(n,t,r)),Fs(e,t,n);break;case 21:Fs(e,t,n);break;case 22:As=(r=As)||null!==n.memoizedState,Fs(e,t,n),As=r;break;default:Fs(e,t,n)}}function Bs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qd(e)}catch(n){Ec(t,t.return,n)}}}function zs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qd(e)}catch(n){Ec(t,t.return,n)}}function Vs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rs),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Cc.bind(null,e,t);t.then(r,r)}})}function Ws(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 27:if(Tf(s.type)){Ds=s.stateNode,Ls=!1;break e}break;case 5:Ds=s.stateNode,Ls=!1;break e;case 3:case 4:Ds=s.stateNode.containerInfo,Ls=!0;break e}s=s.return}if(null===Ds)throw Error(a(160));Us(i,u,o),Ds=null,Ls=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qs(t,e),t=t.sibling}var Hs=null;function qs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ws(t,e),Gs(e),4&r&&(gs(3,e,e.return),ys(3,e),gs(5,e,e.return));break;case 1:Ws(t,e),Gs(e),512&r&&(As||null===n||ws(n,n.return)),64&r&&ks&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Hs;if(Ws(t,e),Gs(e),512&r&&(As||null===n||ws(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Xe]||i[ze]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),hf(i,r,n),i[ze]=e,et(i),r=i;break e;case"link":var u=rd("link","href",o).get(r+(n.href||""));if(u)for(var s=0;s<u.length;s++)if((i=u[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){u.splice(s,1);break t}hf(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(u=rd("meta","content",o).get(r+(n.content||"")))for(s=0;s<u.length;s++)if((i=u[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){u.splice(s,1);break t}hf(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[ze]=e,et(i),r=i}e.stateNode=r}else od(o,e.type,e.stateNode);else e.stateNode=Qf(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?od(o,e.type,e.stateNode):Qf(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Es(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ws(t,e),Gs(e),512&r&&(As||null===n||ws(n,n.return)),null!==n&&4&r&&Es(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ws(t,e),Gs(e),512&r&&(As||null===n||ws(n,n.return)),32&e.flags){o=e.stateNode;try{xt(o,"")}catch(v){Ec(e,e.return,v)}}4&r&&null!=e.stateNode&&Es(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(js=!0);break;case 6:if(Ws(t,e),Gs(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(v){Ec(e,e.return,v)}}break;case 3:if(nd=null,o=Hs,Hs=Vf(t.containerInfo),Ws(t,e),Hs=o,Gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qd(t.containerInfo)}catch(v){Ec(e,e.return,v)}js&&(js=!1,Ys(e));break;case 4:r=Hs,Hs=Vf(e.stateNode.containerInfo),Ws(t,e),Gs(e),Hs=r;break;case 12:default:Ws(t,e),Gs(e);break;case 31:case 19:Ws(t,e),Gs(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vs(e,r)));break;case 13:Ws(t,e),Gs(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rl=se()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vs(e,r)));break;case 22:o=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,c=ks,f=As;if(ks=c||o,As=f||l,Ws(t,e),As=f,ks=c,Gs(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||l||ks||As||Ks(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(i=l.stateNode,o)"function"===typeof(u=i.style).setProperty?u.setProperty("display","none","important"):u.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,h=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;s.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(v){Ec(l,l.return,v)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=o?"":l.memoizedProps}catch(v){Ec(l,l.return,v)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;o?kf(p,!0):kf(l.stateNode,!1)}catch(v){Ec(l,l.return,v)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vs(e,n))));case 30:case 21:}}function Gs(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(xs(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;Ts(e,Ss(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(xt(i,""),n.flags&=-33),Ts(e,Ss(e),i);break;case 3:case 4:var u=n.stateNode.containerInfo;Ps(e,Ss(e),u);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ys(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ys(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ns(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gs(4,t,t.return),Ks(t);break;case 1:ws(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bs(t,t.return,n),Ks(t);break;case 27:Uf(t.stateNode);case 26:case 5:ws(t,t.return),Ks(t);break;case 22:null===t.memoizedState&&Ks(t);break;default:Ks(t)}e=e.sibling}}function Zs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Zs(o,i,n),ys(4,i);break;case 1:if(Zs(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(l){Ec(r,r.return,l)}if(null!==(o=(r=i).updateQueue)){var u=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Pi(s[o],u)}catch(l){Ec(r,r.return,l)}}n&&64&a&&ms(i),_s(i,i.return);break;case 27:Cs(i);case 26:case 5:Zs(o,i,n),n&&null===r&&4&a&&Os(i),_s(i,i.return);break;case 12:Zs(o,i,n);break;case 31:Zs(o,i,n),n&&4&a&&Bs(o,i);break;case 13:Zs(o,i,n),n&&4&a&&zs(o,i);break;case 22:null===i.memoizedState&&Zs(o,i,n),_s(i,i.return);break;case 30:break;default:Zs(o,i,n)}t=t.sibling}}function $s(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zo(n))}function Qs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zo(e))}function Js(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Js(e,t,n,r),2048&o&&ys(9,t);break;case 1:case 31:case 13:default:Js(e,t,n,r);break;case 3:Js(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zo(e)));break;case 12:if(2048&o){Js(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,u=i.onPostCommit;"function"===typeof u&&u(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Ec(t,t.return,s)}}else Js(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Js(e,t,n,r):nl(e,t):2&i._visibility?Js(e,t,n,r):(i._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&$s(a,t);break;case 24:Js(e,t,n,r),2048&o&&Qs(t.alternate,t)}}function tl(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,u=n,s=r,l=a.flags;switch(a.tag){case 0:case 11:case 15:tl(i,a,u,s,o),ys(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?tl(i,a,u,s,o):nl(i,a):(c._visibility|=2,tl(i,a,u,s,o)),o&&2048&l&&$s(a.alternate,a);break;case 24:tl(i,a,u,s,o),o&&2048&l&&Qs(a.alternate,a);break;default:tl(i,a,u,s,o)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nl(n,r),2048&o&&$s(r.alternate,r);break;case 24:nl(n,r),2048&o&&Qs(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function ol(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)il(e,t,n),e=e.sibling}function il(e,t,n){switch(e.tag){case 26:ol(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=Yf(r.href),i=t.querySelector(Xf(o));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ud.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Kf(r),(o=Bf.get(o))&&ed(r,o),et(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hf(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ud.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hs,e.memoizedState,e.memoizedProps);break;case 5:default:ol(e,t,n);break;case 3:case 4:var r=Hs;Hs=Vf(e.stateNode.containerInfo),ol(e,t,n),Hs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,ol(e,t,n),rl=r):ol(e,t,n))}}function al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ul(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Is=r,cl(r,e)}al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sl(e),e=e.sibling}function sl(e){switch(e.tag){case 0:case 11:case 15:ul(e),2048&e.flags&&gs(9,e,e.return);break;case 3:case 12:default:ul(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):ul(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Is=r,cl(r,e)}al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gs(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function cl(e,t){for(;null!==Is;){var n=Is;switch(n.tag){case 0:case 11:case 15:gs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Is=r;else e:for(n=e;null!==Is;){var o=(r=Is).sibling,i=r.return;if(Ms(r),r===n){Is=null;break e}if(null!==o){o.return=i,Is=o;break e}Is=i}}}var fl={getCacheForType:function(e){var t=Io(Uo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Io(Uo).controller.signal}},dl="function"===typeof WeakMap?WeakMap:Map,hl=0,pl=null,vl=null,yl=0,gl=0,ml=null,bl=!1,_l=!1,wl=!1,Ol=0,El=0,xl=0,Sl=0,Pl=0,Tl=0,Cl=0,kl=null,Al=null,jl=!1,Rl=0,Il=0,Nl=1/0,Ml=null,Dl=null,Ll=0,Fl=null,Ul=null,Bl=0,zl=0,Vl=null,Wl=null,Hl=0,ql=null;function Gl(){return 0!==(2&hl)&&0!==yl?yl&-yl:null!==N.T?Vc():Fe()}function Yl(){if(0===Tl)if(0===(536870912&yl)||fo){var e=xe;0===(3932160&(xe<<=1))&&(xe=262144),Tl=e}else Tl=536870912;return null!==(e=Ii.current)&&(e.flags|=32),Tl}function Xl(e,t,n){(e!==pl||2!==gl&&9!==gl)&&null===e.cancelPendingCommit||(tc(e,0),Ql(e,yl,Tl,!1)),Re(e,n),0!==(2&hl)&&e===pl||(e===pl&&(0===(2&hl)&&(Sl|=n),4===El&&Ql(e,yl,Tl,!1)),Mc(e))}function Kl(e,t,n){if(0!==(6&hl))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),o=r?function(e,t){var n=hl;hl|=2;var r=oc(),o=ic();pl!==e||yl!==t?(Ml=null,Nl=se()+500,tc(e,t)):_l=Ce(e,t);e:for(;;)try{if(0!==gl&&null!==vl){t=vl;var i=ml;t:switch(gl){case 1:gl=0,ml=null,dc(e,t,i,1);break;case 2:case 9:if(ni(i)){gl=0,ml=null,fc(t);break}t=function(){2!==gl&&9!==gl||pl!==e||(gl=7),Mc(e)},i.then(t,t);break e;case 3:gl=7;break e;case 4:gl=5;break e;case 7:ni(i)?(gl=0,ml=null,fc(t)):(gl=0,ml=null,dc(e,t,i,7));break;case 5:var u=null;switch(vl.tag){case 26:u=vl.memoizedState;case 5:case 27:var s=vl;if(u?id(u):s.stateNode.complete){gl=0,ml=null;var l=s.sibling;if(null!==l)vl=l;else{var c=s.return;null!==c?(vl=c,hc(c)):vl=null}break t}}gl=0,ml=null,dc(e,t,i,5);break;case 6:gl=0,ml=null,dc(e,t,i,6);break;case 8:ec(),El=6;break e;default:throw Error(a(462))}}lc();break}catch(f){nc(e,f)}return So=xo=null,N.H=r,N.A=o,hl=n,null!==vl?0:(pl=null,yl=0,Ar(),El)}(e,t):uc(e,t,!0),i=r;;){if(0===o){_l&&!r&&Ql(e,t,0,!1);break}if(n=e.current.alternate,!i||$l(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=0!==(u=-536870913&e.pendingLanes)?u:536870912&u?536870912:0;if(0!==u){t=u;e:{var s=e;o=kl;var l=s.current.memoizedState.isDehydrated;if(l&&(tc(s,u).flags|=256),2!==(u=uc(s,u,!1))){if(wl&&!l){s.errorRecoveryDisabledLanes|=i,Sl|=i,o=4;break e}i=Al,Al=o,null!==i&&(null===Al?Al=i:Al.push.apply(Al,i))}o=u}if(i=!1,2!==o)continue}}if(1===o){tc(e,0),Ql(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Ql(r,t,Tl,!bl);break e;case 2:Al=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=Rl+300-se())){if(Ql(r,t,Tl,!bl),0!==Te(r,0,!0))break e;Bl=t,r.timeoutHandle=Of(Zl.bind(null,r,n,Al,Ml,jl,t,Tl,Sl,Cl,bl,i,"Throttled",-0,0),o)}else Zl(r,n,Al,Ml,jl,t,Tl,Sl,Cl,bl,i,null,-0,0)}break}o=uc(e,t,!1),i=!1}Mc(e)}function Zl(e,t,n,r,o,i,a,u,s,l,c,f,d,h){if(e.timeoutHandle=-1,8192&(f=t.subtreeFlags)||16785408===(16785408&f)){il(t,i,f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&i)===i?Rl-se():(4194048&i)===i?Il-se():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ad&&(ad=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,a=o.initiatorType,u=o.duration;if(i&&u&&pf(a)){for(a=0,u=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],l=s.startTime;if(l>u)break;var c=s.transferSize,f=s.initiatorType;c&&pf(f)&&(a+=c*((s=s.responseEnd)<u?1:(u-l)/(s-l)))}if(--r,t+=8*(i+a)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ad?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(f,p)))return Bl=i,e.cancelPendingCommit=p(vc.bind(null,e,t,i,n,r,o,a,u,s,c,f,null,d,h)),void Ql(e,i,a,!l)}vc(e,t,i,n,r,o,a,u,s)}function $l(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ql(e,t,n,r){t&=~Pl,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-_e(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Ie(e,n,t)}function Jl(){return 0!==(6&hl)||(Dc(0,!1),!1)}function ec(){if(null!==vl){if(0===gl)var e=vl.return;else So=xo=null,ua(e=vl),si=null,li=0,e=vl;for(;null!==e;)vs(e.alternate,e),e=e.return;vl=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ef(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bl=0,ec(),pl=e,vl=n=Br(e.current,null),yl=t,gl=0,ml=null,bl=!1,_l=Ce(e,t),wl=!1,Cl=Tl=Pl=Sl=xl=El=0,Al=kl=null,jl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-_e(r),i=1<<o;t|=e[o],r&=~i}return Ol=t,Ar(),n}function nc(e,t){Wi=null,N.H=vu,t===Qo||t===ei?(t=ai(),gl=3):t===Jo?(t=ai(),gl=4):gl=t===Ru?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ml=t,null===vl&&(El=1,Tu(e,Xr(t,e.current)))}function rc(){var e=Ii.current;return null===e||((4194048&yl)===yl?null===Ni:((62914560&yl)===yl||0!==(536870912&yl))&&e===Ni)}function oc(){var e=N.H;return N.H=vu,null===e?vu:e}function ic(){var e=N.A;return N.A=fl,e}function ac(){El=4,bl||(4194048&yl)!==yl&&null!==Ii.current||(_l=!0),0===(134217727&xl)&&0===(134217727&Sl)||null===pl||Ql(pl,yl,Tl,!1)}function uc(e,t,n){var r=hl;hl|=2;var o=oc(),i=ic();pl===e&&yl===t||(Ml=null,tc(e,t)),t=!1;var a=El;e:for(;;)try{if(0!==gl&&null!==vl){var u=vl,s=ml;switch(gl){case 8:ec(),a=6;break e;case 3:case 2:case 9:case 6:null===Ii.current&&(t=!0);var l=gl;if(gl=0,ml=null,dc(e,u,s,l),n&&_l){a=0;break e}break;default:l=gl,gl=0,ml=null,dc(e,u,s,l)}}sc(),a=El;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,So=xo=null,hl=r,N.H=o,N.A=i,null===vl&&(pl=null,yl=0,Ar()),a}function sc(){for(;null!==vl;)cc(vl)}function lc(){for(;null!==vl&&!ae();)cc(vl)}function cc(e){var t=as(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?hc(e):vl=t}function fc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qu(n,t,t.pendingProps,t.type,void 0,yl);break;case 11:t=qu(n,t,t.pendingProps,t.type.render,t.ref,yl);break;case 5:ua(t);default:vs(n,t),t=as(n,t=vl=zr(t,Ol),Ol)}e.memoizedProps=e.pendingProps,null===t?hc(e):vl=t}function dc(e,t,n,r){So=xo=null,ua(t),si=null,li=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ao(t,n,o,!0),null!==(n=Ii.current)){switch(n.tag){case 31:case 13:return null===Ni?ac():null===n.alternate&&0===El&&(El=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),xc(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),xc(e,r,o)),!1}throw Error(a(435,n.tag))}return xc(e,r,o),ac(),!1}if(fo)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==vo&&Oo(Xr(e=Error(a(422),{cause:r}),n))):(r!==vo&&Oo(Xr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Xr(r,n),Oi(e,o=ku(e.stateNode,r,o)),4!==El&&(El=2)),!1;var i=Error(a(520),{cause:r});if(i=Xr(i,n),null===kl?kl=[i]:kl.push(i),4!==El&&(El=2),null===t)return!0;r=Xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Oi(n,e=ku(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Dl||!Dl.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,ju(o=Au(o),e,n,r),Oi(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,yl))return El=1,Tu(e,Xr(n,e.current)),void(vl=null)}catch(i){if(null!==o)throw vl=o,i;return El=1,Tu(e,Xr(n,e.current)),void(vl=null)}32768&t.flags?(fo||1===r?e=!0:_l||0!==(536870912&yl)?e=!1:(bl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ii.current)&&13===r.tag&&(r.flags|=16384))),pc(t,e)):hc(t)}function hc(e){var t=e;do{if(0!==(32768&t.flags))return void pc(t,bl);e=t.return;var n=hs(t.alternate,t,Ol);if(null!==n)return void(vl=n);if(null!==(t=t.sibling))return void(vl=t);vl=t=e}while(null!==t);0===El&&(El=5)}function pc(e,t){do{var n=ps(e.alternate,e);if(null!==n)return n.flags&=32767,void(vl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(vl=e);vl=e=n}while(null!==e);El=6,vl=null}function vc(e,t,n,r,o,i,u,s,l){e.cancelPendingCommit=null;do{_c()}while(0!==Ll);if(0!==(6&hl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,s=e.expirationTimes,l=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-_e(n),f=1<<c;u[c]=0,s[c]=-1;var d=l[c];if(null!==d)for(l[c]=null,c=0;c<d.length;c++){var h=d[c];null!==h&&(h.lane&=-536870913)}n&=~f}0!==r&&Ie(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=kr,u,s,l),e===pl&&(vl=pl=null,yl=0),Ul=t,Fl=e,Bl=n,zl=i,Vl=o,Wl=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(de,function(){return wc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=N.T,N.T=null,o=M.p,M.p=2,u=hl,hl|=4;try{!function(e,t){if(e=e.containerInfo,vf=_d,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(y){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(s=u+o),d!==i||0!==r&&3!==d.nodeType||(l=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===o&&(s=u),h===i&&++f===r&&(l=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:e,selectionRange:n},_d=!1,Is=t;null!==Is;)if(e=(t=Is).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Is=e;else for(;null!==Is;){switch(i=(t=Is).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var v=Eu(n.type,o);e=r.getSnapshotBeforeUpdate(v,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){Ec(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Af(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Is=e;break}Is=t.return}}(e,t)}finally{hl=u,M.p=o,N.T=r}}Ll=1,yc(),gc(),mc()}}function yc(){if(1===Ll){Ll=0;var e=Fl,t=Ul,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=N.T,N.T=null;var r=M.p;M.p=2;var o=hl;hl|=4;try{qs(t,e);var i=yf,a=rr(e.containerInfo),u=i.focusedElem,s=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&nr(u.ownerDocument.documentElement,u)){if(null!==s&&or(u)){var l=s.start,c=s.end;if(void 0===c&&(c=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(c,u.value.length);else{var f=u.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var h=d.getSelection(),p=u.textContent.length,v=Math.min(s.start,p),y=void 0===s.end?v:Math.min(s.end,p);!h.extend&&v>y&&(a=y,y=v,v=a);var g=tr(u,v),m=tr(u,y);if(g&&m&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==m.node||h.focusOffset!==m.offset)){var b=f.createRange();b.setStart(g.node,g.offset),h.removeAllRanges(),v>y?(h.addRange(b),h.extend(m.node,m.offset)):(b.setEnd(m.node,m.offset),h.addRange(b))}}}}for(f=[],h=u;h=h.parentNode;)1===h.nodeType&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof u.focus&&u.focus(),u=0;u<f.length;u++){var _=f[u];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_d=!!vf,yf=vf=null}finally{hl=o,M.p=r,N.T=n}}e.current=t,Ll=2}}function gc(){if(2===Ll){Ll=0;var e=Fl,t=Ul,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=N.T,N.T=null;var r=M.p;M.p=2;var o=hl;hl|=4;try{Ns(e,t.alternate,t)}finally{hl=o,M.p=r,N.T=n}}Ll=3}}function mc(){if(4===Ll||3===Ll){Ll=0,ue();var e=Fl,t=Ul,n=Bl,r=Wl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ll=5:(Ll=0,Ul=Fl=null,bc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Dl=null),Le(n),t=t.stateNode,me&&"function"===typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=N.T,o=M.p,M.p=2,N.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var u=r[a];i(u.value,{componentStack:u.stack})}}finally{N.T=t,M.p=o}}0!==(3&Bl)&&_c(),Mc(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===ql?Hl++:(Hl=0,ql=e):Hl=0,Dc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zo(t)))}function _c(){return yc(),gc(),mc(),wc()}function wc(){if(5!==Ll)return!1;var e=Fl,t=zl;zl=0;var n=Le(Bl),r=N.T,o=M.p;try{M.p=32>n?32:n,N.T=null,n=Vl,Vl=null;var i=Fl,u=Bl;if(Ll=0,Ul=Fl=null,Bl=0,0!==(6&hl))throw Error(a(331));var s=hl;if(hl|=4,sl(i.current),el(i,i.current,u,n),hl=s,Dc(0,!1),me&&"function"===typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(ge,i)}catch(l){}return!0}finally{M.p=o,N.T=r,bc(e,t)}}function Oc(e,t,n){t=Xr(n,t),null!==(e=_i(e,t=ku(e.stateNode,t,2),2))&&(Re(e,2),Mc(e))}function Ec(e,t,n){if(3===e.tag)Oc(e,e,n);else for(;null!==t;){if(3===t.tag){Oc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dl||!Dl.has(r))){e=Xr(n,e),null!==(r=_i(t,n=Au(2),2))&&(ju(n,r,t,e),Re(r,2),Mc(r));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(wl=!0,o.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(yl&n)===n&&(4===El||3===El&&(62914560&yl)===yl&&300>se()-Rl?0===(2&hl)&&tc(e,0):Pl|=n,Cl===yl&&(Cl=0)),Mc(e)}function Pc(e,t){0===t&&(t=Ae()),null!==(e=Ir(e,t))&&(Re(e,t),Mc(e))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Pc(e,n)}var kc=null,Ac=null,jc=!1,Rc=!1,Ic=!1,Nc=0;function Mc(e){e!==Ac&&null===e.next&&(null===Ac?kc=Ac=e:Ac=Ac.next=e),Rc=!0,jc||(jc=!0,Sf(function(){0!==(6&hl)?oe(ce,Lc):Fc()}))}function Dc(e,t){if(!Ic&&Rc){Ic=!0;do{for(var n=!1,r=kc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,u=r.pingedLanes;i=(1<<31-_e(42|e)+1)-1,i=201326741&(i&=o&~(a&~u))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,zc(r,i))}else i=yl,0===(3&(i=Te(r,r===pl?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,i)||(n=!0,zc(r,i));r=r.next}}while(n);Ic=!1}}function Lc(){Fc()}function Fc(){Rc=jc=!1;var e=0;0!==Nc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wf&&(wf=e,!0);return wf=null,!1}()&&(e=Nc);for(var t=se(),n=null,r=kc;null!==r;){var o=r.next,i=Uc(r,t);0===i?(r.next=null,null===n?kc=o:n.next=o,null===o&&(Ac=n)):(n=r,(0!==e||0!==(3&i))&&(Rc=!0)),r=o}0!==Ll&&5!==Ll||Dc(e,!1),0!==Nc&&(Nc=0)}function Uc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-_e(i),u=1<<a,s=o[a];-1===s?0!==(u&n)&&0===(u&r)||(o[a]=ke(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}if(n=yl,n=Te(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===gl||9===gl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=fe;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Bc.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Bc(e,t){if(0!==Ll&&5!==Ll)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=yl;return 0===(r=Te(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kl(e,r,t),Uc(e,se()),null!=e.callbackNode&&e.callbackNode===n?Bc.bind(null,e):null)}function zc(e,t){if(_c())return null;Kl(e,t,!0)}function Vc(){if(0===Nc){var e=Ho;0===e&&(e=Ee,0===(261888&(Ee<<=1))&&(Ee=256)),Nc=e}return Nc}function Wc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Hc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qc=0;qc<xr.length;qc++){var Gc=xr[qc];Sr(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}Sr(yr,"onAnimationEnd"),Sr(gr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(_r,"onTransitionStart"),Sr(wr,"onTransitionCancel"),Sr(Or,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function Kc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==i&&o.isPropagationStopped())break e;i=u,o.currentTarget=l;try{i(o)}catch(c){Pr(c)}o.currentTarget=null,i=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,l=u.currentTarget,u=u.listener,s!==i&&o.isPropagationStopped())break e;i=u,o.currentTarget=l;try{i(o)}catch(c){Pr(c)}o.currentTarget=null,i=s}}}}function Zc(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(ef(t,e,2,!1),n.add(r))}function $c(e,t,n){var r=0;t&&(r|=4),ef(n,e,r,t)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Qc]){e[Qc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Xc.has(t)||$c(t,!1,e),$c(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qc]||(t[Qc]=!0,$c("selectionchange",!1,t))}}function ef(e,t,n,r){switch(Td(t)){case 2:var o=wd;break;case 8:o=Od;break;default:o=Ed}n=o.bind(null,t,n,e),o=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function tf(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==u;){if(null===(a=Ze(u)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}u=u.parentNode}}r=r.return}Ut(function(){var r=i,o=Nt(n),a=[];e:{var u=Er.get(e);if(void 0!==u){var l=nn,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=ln;break;case"focusout":c="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case yr:case gr:case mr:l=cn;break;case Or:l=wn;break;case"scroll":case"scrollend":l=on;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bn;break;case"toggle":case"beforetoggle":l=En}var f=0!==(4&t),d=!f&&("scroll"===e||"scrollend"===e),h=f?null!==u?u+"Capture":null:u;f=[];for(var p,v=r;null!==v;){var y=v;if(p=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===p||null===h||null!=(y=Bt(v,h))&&f.push(nf(v,y,p)),d)break;v=v.return}0<f.length&&(u=new l(u,c,null,n,o),a.push({event:u,listeners:f}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===It||!(c=n.relatedTarget||n.fromElement)||!Ze(c)&&!c[We])&&(l||u)&&(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ze(c):null)&&(d=s(c),f=c.tag,c!==d||5!==f&&27!==f&&6!==f)&&(c=null)):(l=null,c=r),l!==c)){if(f=un,y="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(f=bn,y="onPointerLeave",h="onPointerEnter",v="pointer"),d=null==l?u:Qe(l),p=null==c?u:Qe(c),(u=new f(y,v+"leave",l,n,o)).target=d,u.relatedTarget=p,y=null,Ze(o)===r&&((f=new f(h,v+"enter",c,n,o)).target=p,f.relatedTarget=d,y=f),d=y,l&&c)e:{for(f=of,v=c,p=0,y=h=l;y;y=f(y))p++;y=0;for(var g=v;g;g=f(g))y++;for(;0<p-y;)h=f(h),p--;for(;0<y-p;)v=f(v),y--;for(;p--;){if(h===v||null!==v&&h===v.alternate){f=h;break e}h=f(h),v=f(v)}f=null}else f=null;null!==l&&af(a,u,l,f,!1),null!==c&&null!==d&&af(a,d,c,f,!0)}if("select"===(l=(u=r?Qe(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===l&&"file"===u.type)var m=zn;else if(Mn(u))if(Vn)m=$n;else{m=Kn;var b=Xn}else!(l=u.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==u.type&&"radio"!==u.type?r&&Ct(r.elementType)&&(m=zn):m=Zn;switch(m&&(m=m(e,r))?Dn(a,m,n,o):(b&&b(e,u,r),"focusout"===e&&r&&"number"===u.type&&null!=r.memoizedProps.value&&_t(u,"number",u.value)),b=r?Qe(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(ar=b,ur=r,sr=null);break;case"focusout":sr=ur=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(a,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(a,n,o)}var _;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(In||"onCompositionStart"!==w?"onCompositionEnd"===w&&In&&(_=Yt()):(qt="value"in(Ht=o)?Ht.value:Ht.textContent,In=!0)),0<(b=rf(r,w)).length&&(w=new dn(w,e,null,n,o),a.push({event:w,listeners:b}),_?w.data=_:null!==(_=Rn(n))&&(w.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,kn);case"textInput":return(e=t.data)===kn&&An?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Sn&&jn(e,t)?(e=Yt(),Gt=qt=Ht=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rf(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,o),a.push({event:b,listeners:w}),b.data=_)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Wc((o[Ve]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ve]||null)?Wc(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var u=new nn("action","action",null,r,o);e.push({event:u,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nc){var e=a?Hc(o,a):new FormData(o);tu(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(u.preventDefault(),e=a?Hc(o,a):new FormData(o),tu(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Kc(a,t)})}function nf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rf(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Bt(e,n))&&r.unshift(nf(e,o,i)),null!=(o=Bt(e,t))&&r.push(nf(e,o,i))),3===e.tag)return r;e=e.return}return[]}function of(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function af(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(u=u.tag,null!==s&&s===r)break;5!==u&&26!==u&&27!==u||null===l||(s=l,o?null!=(l=Bt(n,i))&&a.unshift(nf(n,l,s)):o||null!=(l=Bt(n,i))&&a.push(nf(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var uf=/\r\n?/g,sf=/\u0000|\uFFFD/g;function lf(e){return("string"===typeof e?e:""+e).replace(uf,"\n").replace(sf,"")}function cf(e,t){return t=lf(t),lf(e)===t}function ff(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Tt(e,r,i);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&ff(e,t,"name",o.name,o,null),ff(e,t,"formEncType",o.formEncType,o,null),ff(e,t,"formMethod",o.formMethod,o,null),ff(e,t,"formTarget",o.formTarget,o,null)):(ff(e,t,"encType",o.encType,o,null),ff(e,t,"method",o.method,o,null),ff(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Zc("scroll",e);break;case"onScrollEnd":null!=r&&Zc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Zc("beforetoggle",e),Zc("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=kt.get(n)||n,r)}}function df(e,t,n,r,o,i){switch(n){case"style":Tt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Zc("scroll",e);break;case"onScrollEnd":null!=r&&Zc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ve]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hf(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zc("error",e),Zc("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ff(e,t,r,u,n,null)}}return i&&ff(e,t,"srcSet",n.srcSet,n,null),void(o&&ff(e,t,"src",n.src,n,null));case"input":Zc("invalid",e);var s=r=u=i=null,l=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(null!=f)switch(o){case"name":i=f;break;case"type":u=f;break;case"checked":l=f;break;case"defaultChecked":c=f;break;case"value":r=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:ff(e,t,o,f,n,null)}}return void bt(e,r,s,l,c,u,i,!1);case"select":for(i in Zc("invalid",e),o=u=r=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":r=s;break;case"defaultValue":u=s;break;case"multiple":o=s;default:ff(e,t,i,s,n,null)}return t=r,n=u,e.multiple=!!o,void(null!=t?wt(e,!!o,t,!1):null!=n&&wt(e,!!o,n,!0));case"textarea":for(u in Zc("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"value":o=s;break;case"defaultValue":i=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:ff(e,t,u,s,n,null)}return void Et(e,o,i,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))if("selected"===l)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else ff(e,t,l,o,n,null);return;case"dialog":Zc("beforetoggle",e),Zc("toggle",e),Zc("cancel",e),Zc("close",e);break;case"iframe":case"object":Zc("load",e);break;case"video":case"audio":for(o=0;o<Yc.length;o++)Zc(Yc[o],e);break;case"image":Zc("error",e),Zc("load",e);break;case"details":Zc("toggle",e);break;case"embed":case"source":case"link":Zc("error",e),Zc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ff(e,t,c,o,n,null)}return;default:if(Ct(t)){for(f in n)n.hasOwnProperty(f)&&(void 0!==(o=n[f])&&df(e,t,f,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&ff(e,t,s,o,n,null))}function pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var vf=null,yf=null;function gf(e){return 9===e.nodeType?e:e.ownerDocument}function mf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bf(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _f(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wf=null;var Of="function"===typeof setTimeout?setTimeout:void 0,Ef="function"===typeof clearTimeout?clearTimeout:void 0,xf="function"===typeof Promise?Promise:void 0,Sf="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xf?function(e){return xf.resolve(null).then(e).catch(Pf)}:Of;function Pf(e){setTimeout(function(){throw e})}function Tf(e){return"head"===e}function Cf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void qd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Uf(e.ownerDocument.documentElement);else if("head"===n){Uf(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,u=i.nodeName;i[Xe]||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Uf(e.ownerDocument.body);n=o}while(n);qd(t)}function kf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Af(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Af(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function jf(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Nf(e.nextSibling)))return null}return e}function Rf(e){return"$?"===e.data||"$~"===e.data}function If(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Nf(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Mf=null;function Df(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Nf(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Lf(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ff(e,t,n){switch(t=gf(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Uf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Bf=new Map,zf=new Set;function Vf(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wf=M.d;M.d={f:function(){var e=Wf.f(),t=Jl();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ru(t):Wf.r(e)},D:function(e){Wf.D(e),qf("dns-prefetch",e,null)},C:function(e,t){Wf.C(e,t),qf("preconnect",e,t)},L:function(e,t,n){Wf.L(e,t,n);var r=Hf;if(r&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var i=o;switch(t){case"style":i=Yf(e);break;case"script":i=Zf(e)}Bf.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bf.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Xf(i))||"script"===t&&r.querySelector($f(i))||(hf(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wf.m(e,t);var n=Hf;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Zf(e)}if(!Bf.has(i)&&(e=h({rel:"modulepreload",href:e},t),Bf.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($f(i)))return}hf(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wf.X(e,t);var n=Hf;if(n&&e){var r=Je(n).hoistableScripts,o=Zf(e),i=r.get(o);i||((i=n.querySelector($f(o)))||(e=h({src:e,async:!0},t),(t=Bf.get(o))&&td(e,t),et(i=n.createElement("script")),hf(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Wf.S(e,t,n);var r=Hf;if(r&&e){var o=Je(r).hoistableStyles,i=Yf(e);t=t||"default";var a=o.get(i);if(!a){var u={loading:0,preload:null};if(a=r.querySelector(Xf(i)))u.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bf.get(i))&&ed(e,n);var s=a=r.createElement("link");et(s),hf(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){u.loading|=1}),s.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Jf(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:u},o.set(i,a)}}},M:function(e,t){Wf.M(e,t);var n=Hf;if(n&&e){var r=Je(n).hoistableScripts,o=Zf(e),i=r.get(o);i||((i=n.querySelector($f(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Bf.get(o))&&td(e,t),et(i=n.createElement("script")),hf(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Hf="undefined"===typeof document?null:document;function qf(e,t,n){var r=Hf;if(r&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),zf.has(o)||(zf.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hf(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gf(e,t,n,r){var o,i,u,s,l=(l=G.current)?Vf(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Yf(n.href),(r=(n=Je(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Yf(n.href);var c=Je(l).hoistableStyles,f=c.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=l.querySelector(Xf(e)))&&!c._p&&(f.instance=c,f.state.loading=5),Bf.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bf.set(e,n),c||(o=l,i=e,u=n,s=f.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=o.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),hf(i,"link",u),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return f}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Zf(n),(r=(n=Je(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Yf(e){return'href="'+gt(e)+'"'}function Xf(e){return'link[rel="stylesheet"]['+e+"]"}function Kf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Zf(e){return'[src="'+gt(e)+'"]'}function $f(e){return"script[async]"+e}function Qf(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hf(r,"style",o),Jf(r,n.precedence,e),t.instance=r;case"stylesheet":o=Yf(n.href);var i=e.querySelector(Xf(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Kf(n),(o=Bf.get(o))&&ed(r,o),et(i=(e.ownerDocument||e).createElement("link"));var u=i;return u._p=new Promise(function(e,t){u.onload=e,u.onerror=t}),hf(i,"link",r),t.state.loading|=4,Jf(i,n.precedence,e),t.instance=i;case"script":return i=Zf(n.src),(o=e.querySelector($f(i)))?(t.instance=o,et(o),o):(r=n,(o=Bf.get(i))&&td(r=h({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hf(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jf(r,n.precedence,e));return t.instance}function Jf(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var u=r[a];if(u.dataset.precedence===t)i=u;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,o=nd=new Map;o.set(n,r)}else(r=(o=nd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Xe]||i[ze]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var u=r.get(a);u?u.push(i):r.set(a,[i])}}return r}function od(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ad=0;function ud(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sd=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sd=new Map,t.forEach(cd,e),sd=null,ud.call(e))}function cd(e,t){if(!(4&t.state.loading)){var n=sd.get(e);if(n)var r=n.get(null);else{n=new Map,sd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=ud.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var fd={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function dd(e,t,n,r,o,i,a,u,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function hd(e,t,n,r,o,i,a,u,s,l,c,f){return e=new dd(e,t,n,a,s,l,c,f,u),t=1,!0===i&&(t|=24),i=Fr(3,null,null,t),e.current=i,i.stateNode=e,(t=Bo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},gi(i),e}function pd(e){return e?e=Dr:Dr}function vd(e,t,n,r,o,i){o=pd(o),null===r.context?r.context=o:r.pendingContext=o,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=_i(e,r,t))&&(Xl(n,0,t),wi(n,e,t))}function yd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gd(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function md(e){if(13===e.tag||31===e.tag){var t=Ir(e,67108864);null!==t&&Xl(t,0,67108864),gd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Gl(),n=Ir(e,t=De(t));null!==n&&Xl(n,0,t),gd(e,t)}}var _d=!0;function wd(e,t,n,r){var o=N.T;N.T=null;var i=M.p;try{M.p=2,Ed(e,t,n,r)}finally{M.p=i,N.T=o}}function Od(e,t,n,r){var o=N.T;N.T=null;var i=M.p;try{M.p=8,Ed(e,t,n,r)}finally{M.p=i,N.T=o}}function Ed(e,t,n,r){if(_d){var o=xd(r);if(null===o)tf(e,t,r,Sd,n),Dd(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return kd=Ld(kd,e,t,n,r,o),!0;case"dragenter":return Ad=Ld(Ad,e,t,n,r,o),!0;case"mouseover":return jd=Ld(jd,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rd.set(i,Ld(Rd.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Id.set(i,Ld(Id.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dd(e,r),4&t&&-1<Md.indexOf(e)){for(;null!==o;){var i=$e(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Pe(i.pendingLanes);if(0!==a){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;a;){var s=1<<31-_e(a);u.entanglements[1]|=s,a&=~s}Mc(i),0===(6&hl)&&(Nl=se()+500,Dc(0,!1))}}break;case 31:case 13:null!==(u=Ir(i,2))&&Xl(u,0,2),Jl(),gd(i,2)}if(null===(i=xd(r))&&tf(e,t,r,Sd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else tf(e,t,r,null,n)}}function xd(e){return Pd(e=Nt(e))}var Sd=null;function Pd(e){if(Sd=null,null!==(e=Ze(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sd=e,null}function Td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case fe:return 8;case de:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cd=!1,kd=null,Ad=null,jd=null,Rd=new Map,Id=new Map,Nd=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dd(e,t){switch(e){case"focusin":case"focusout":kd=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":jd=null;break;case"pointerover":case"pointerout":Rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(t.pointerId)}}function Ld(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=$e(t))&&md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Fd(e){var t=Ze(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&md(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Bd(e,t,n){Ud(e)&&n.delete(t)}function zd(){Cd=!1,null!==kd&&Ud(kd)&&(kd=null),null!==Ad&&Ud(Ad)&&(Ad=null),null!==jd&&Ud(jd)&&(jd=null),Rd.forEach(Bd),Id.forEach(Bd)}function Vd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zd)))}var Wd=null;function Hd(e){Wd!==e&&(Wd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wd===e&&(Wd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Pd(r||n))continue;break}var i=$e(n);null!==i&&(e.splice(t,3),t-=3,tu(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function qd(e){function t(t){return Vd(t,e)}null!==kd&&Vd(kd,e),null!==Ad&&Vd(Ad,e),null!==jd&&Vd(jd,e),Rd.forEach(t),Id.forEach(t);for(var n=0;n<Nd.length;n++){var r=Nd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Nd.length&&null===(n=Nd[0]).blockedOn;)Fd(n),null===n.blockedOn&&Nd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Ve]||null;if("function"===typeof i)a||Hd(n);else if(a){var u=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Ve]||null)u=a.formAction;else if(null!==Pd(o))continue}else u=a.action;"function"===typeof u?n[r+1]=u:(n.splice(r,3),r-=3),Hd(n)}}}function Gd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Yd(e){this._internalRoot=e}function Xd(e){this._internalRoot=e}Xd.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));vd(t.current,Gl(),e,t,null,null)},Xd.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vd(e.current,2,null,e,null,null),Jl(),t[We]=null}},Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nd.length&&0!==t&&t<Nd[n].priority;n++);Nd.splice(n,0,e),0===n&&Fd(e)}};var Kd=o.version;if("19.2.0"!==Kd)throw Error(a(527,Kd,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return f(o),e;if(i===r)return f(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var u=!1,l=o.child;l;){if(l===n){u=!0,n=o,r=i;break}if(l===r){u=!0,r=o,n=i;break}l=l.sibling}if(!u){for(l=i.child;l;){if(l===n){u=!0,n=i,r=o;break}if(l===r){u=!0,r=i,n=o;break}l=l.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Zd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ge=$d.inject(Zd),me=$d}catch(Jd){}}t.createRoot=function(e,t){if(!u(e))throw Error(a(299));var n=!1,r="",o=xu,i=Su,s=Pu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=hd(e,1,!1,null,0,n,r,null,o,i,s,Gd),e[We]=t.current,Jc(e),new Yd(t)},t.hydrateRoot=function(e,t,n){if(!u(e))throw Error(a(299));var r=!1,o="",i=xu,s=Su,l=Pu,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=hd(e,1,!0,t,0,r,o,c,i,s,l,Gd)).context=pd(null),n=t.current,(o=bi(r=De(r=Gl()))).callback=null,_i(n,o,r),n=r,t.current.lanes=n,Re(t,n),Mc(t),e[We]=t.current,Jc(e),new Xd(t)},t.version="19.2.0"},97132:(e,t,n)=>{var r=n(5538),o=n(80726),i=n(78420),a=n(51104),u=n(55119),s=n(44353),l=n(91980),c=n(98124),f=n(29075),d=n(59395),h=n(68592),p=n(26924),v=n(38268),y=n(18630),g=n(20310),m=n(54052),b=n(44543),_=n(57887),w=n(46686),O=n(45921),E=n(28673),x=n(30474),S="[object Arguments]",P="[object Function]",T="[object Object]",C={};C[S]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[P]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,k,A,j,R){var I,N=1&n,M=2&n,D=4&n;if(k&&(I=j?k(t,A,j,R):k(t)),void 0!==I)return I;if(!w(t))return t;var L=m(t);if(L){if(I=v(t),!N)return l(t,I)}else{var F=p(t),U=F==P||"[object GeneratorFunction]"==F;if(b(t))return s(t,N);if(F==T||F==S||U&&!j){if(I=M||U?{}:g(t),!N)return M?f(t,u(I,t)):c(t,a(I,t))}else{if(!C[F])return j?t:{};I=y(t,F,N)}}R||(R=new r);var B=R.get(t);if(B)return B;R.set(t,I),O(t)?t.forEach(function(r){I.add(e(r,n,k,r,t,R))}):_(t)&&t.forEach(function(r,o){I.set(o,e(r,n,k,o,t,R))});var z=L?void 0:(D?M?h:d:M?x:E)(t);return o(z||t,function(r,o){z&&(r=t[o=r]),i(I,o,e(r,n,k,o,t,R))}),I}},97160:(e,t,n)=>{var r=n(87563),o=n(29935),i=n(24190),a=n(51946),u=n(61714);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},97164:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(6689),i=n(62161),a=n(44845);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate(function(t,i){var u=[new o.Subject],s=0;i.next(u[0].asObservable()),t.subscribe(a.createOperatorSubscriber(i,function(t){var a,l;try{for(var c=r(u),f=c.next();!f.done;f=c.next()){f.value.next(t)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}var d=s-e+1;if(d>=0&&d%n===0&&u.shift().complete(),++s%n===0){var h=new o.Subject;u.push(h),i.next(h.asObservable())}},function(){for(;u.length>0;)u.shift().complete();i.complete()},function(e){for(;u.length>0;)u.shift().error(e);i.error(e)},function(){u=null}))})}},97685:(e,t,n)=>{var r=n(87937)(n(56552),"DataView");e.exports=r},97778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var r=n(17448),o=n(80073);t.asapScheduler=new o.AsapScheduler(r.AsapAction),t.asap=t.asapScheduler},97950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(46672)},98124:(e,t,n)=>{var r=n(96614),o=n(69621);e.exports=function(e,t){return r(e,o(e),t)}},98684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(2694),o=n(30509),i=n(88324),a=n(18137),u=n(95449);t.joinAllInternals=function(e,t){return i.pipe(u.toArray(),a.mergeMap(function(t){return e(t)}),t?o.mapOneOrManyArgs(t):r.identity)}},98724:(e,t,n)=>{var r=n(27615),o=n(25051),i=n(72154),a=n(48734),u=n(22662);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},98969:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(83123)),i=(n(15359),function(){function e(e){this._routingContext=e}return e.prototype.lookupRoutingTableOnRouter=function(e,t,n,r){var i=this;return e._acquireConnection(function(a){return i._requestRawRoutingTable(a,e,t,n,r).then(function(e){return e.isNull?null:o.default.fromRawRoutingTable(t,n,e)})})},e.prototype._requestRawRoutingTable=function(e,t,n,r,o){var i=this;return new Promise(function(r,a){e.protocol().requestRoutingInformation({routingContext:i._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmarks:t._lastBookmarks,mode:t._mode,database:t._database,afterComplete:t._onComplete},onCompleted:r,onError:a})})},e}());t.default=i},98994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r=n(56294),o=n(16118),i=n(80869),a=n(9620);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(t.NotificationKind||(t.NotificationKind={}));var u=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return s(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,a=r.error;return"N"===o?null===e||void 0===e?void 0:e(i):"E"===o?null===t||void 0===t?void 0:t(a):null===n||void 0===n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return a.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,a=e.error,u="N"===t?o.of(n):"E"===t?i.throwError(function(){return a}):"C"===t?r.EMPTY:0;if(!u)throw new TypeError("Unexpected notification kind "+t);return u},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function s(e,t){var n,r,o,i=e,a=i.kind,u=i.value,s=i.error;if("string"!==typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(n=t.next)||void 0===n||n.call(t,u):"E"===a?null===(r=t.error)||void 0===r||r.call(t,s):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=u,t.observeNotification=s},99057:(e,t,n)=>{var r=n(35324),o=n(22777),i=n(54052),a=n(69194),u=n(56173),s=n(70914);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,f=!1;++l<c;){var d=s(t[l]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&u(c)&&a(d,c)&&(i(e)||o(e))}},99211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathSegment=t.Path=t.UnboundRelationship=t.Relationship=t.Node=void 0,t.isNode=function(e){return f(e,a)},t.isRelationship=function(e){return f(e,u)},t.isUnboundRelationship=function(e){return f(e,s)},t.isPath=function(e){return f(e,l)},t.isPathSegment=function(e){return f(e,c)};var r=n(90961),o=n(18641),i={value:!0,enumerable:!1,configurable:!1,writable:!1},a="__isNode__",u="__isRelationship__",s="__isUnboundRelationship__",l="__isPath__",c="__isPathSegment__";function f(e,t){return null!=e&&!0===e[t]}var d=function(){function e(e,t,n,r){this.identity=e,this.labels=t,this.properties=n,this.elementId=g(r,function(){return e.toString()})}return e.prototype.as=function(e,t){var n=this;return(0,o.as)({get:function(e){return n.properties[e]}},e,t)},e.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var n=Object.keys(this.properties);if(n.length>0){e+=" {";for(t=0;t<n.length;t++)t>0&&(e+=","),e+=n[t]+":"+(0,r.stringify)(this.properties[n[t]]);e+="}"}return e+=")"},e}();t.Node=d,Object.defineProperty(d.prototype,a,i);var h=function(){function e(e,t,n,r,o,i,a,u){this.identity=e,this.start=t,this.end=n,this.type=r,this.properties=o,this.elementId=g(i,function(){return e.toString()}),this.startNodeElementId=g(a,function(){return t.toString()}),this.endNodeElementId=g(u,function(){return n.toString()})}return e.prototype.as=function(e,t){var n=this;return(0,o.as)({get:function(e){return n.properties[e]}},e,t)},e.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+="]->("+this.endNodeElementId+")"},e}();t.Relationship=h,Object.defineProperty(h.prototype,u,i);var p=function(){function e(e,t,n,r){this.identity=e,this.type=t,this.properties=n,this.elementId=g(r,function(){return e.toString()})}return e.prototype.bind=function(e,t){return new h(this.identity,e,t,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(e,t){return new h(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},e.prototype.as=function(e,t){var n=this;return(0,o.as)({get:function(e){return n.properties[e]}},e,t)},e.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+="]->"},e}();t.UnboundRelationship=p,Object.defineProperty(p.prototype,s,i);var v=function(e,t,n){this.start=e,this.relationship=t,this.end=n};t.PathSegment=v,Object.defineProperty(v.prototype,c,i);var y=function(e,t,n){this.start=e,this.end=t,this.segments=n,this.length=n.length};function g(e,t){return void 0===e||null===e?t():e}t.Path=y,Object.defineProperty(y.prototype,l,i)},99294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(5141);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map(function(t){for(var r=t,o=0;o<n;o++){var i=null===r||void 0===r?void 0:r[e[o]];if("undefined"===typeof i)return;r=i}return r})}},99335:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(58832)),u=i(n(6230)),s=i(n(19155)),l=n(15359).internal.constants.BOLT_PROTOCOL_V5_7,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.enrichErrorMetadata=function(e){return o(o({},e),{cause:null!==e.cause&&void 0!==e.cause?this.enrichErrorMetadata(e.cause):null,code:e.neo4j_code,diagnostic_record:null!==e.diagnostic_record?o(o({},c),e.diagnostic_record):null})},t}(a.default);t.default=f},99383:(e,t,n)=>{e.exports={Graph:n(20191),version:n(78311)}},99421:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},99579:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationFilterMinimumSeverityLevel=void 0;var n={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};t.notificationFilterMinimumSeverityLevel=n,Object.freeze(n);var r={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};t.notificationFilterDisabledCategory=r,Object.freeze(r);var o=r;t.notificationFilterDisabledClassification=o;var i=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")};t.default=i},99738:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var r=n(6326),o=n(6655),i=n(25814),a=n(19324),u={getItem:function(){},setItem:function(){},removeItem:function(){}};try{u=(0,a.B)()&&window.localStorage?window.localStorage:u}catch(h){console.warn("Unable to access localStorage",h)}function s(e){var t=u.getItem(e);return(t?JSON.parse(t):[]).map(function(e){return new i.o(e.event,e.id)})}function l(e){var t=u.getItem(e);return t?JSON.parse(t):{}}function c(e){u.removeItem(e)}function f(e,t,n){void 0===n&&(n=0);var r="persisted-queue:v1:".concat(e,":lock"),o=u.getItem(r),i=o?JSON.parse(o):null,a=null===i||function(e){return(new Date).getTime()>e}(i);if(a)return u.setItem(r,JSON.stringify((new Date).getTime()+50)),t(),void u.removeItem(r);!a&&n<3?setTimeout(function(){f(e,t,n+1)},50):console.error("Unable to retrieve lock")}var d=function(e){function t(t,n){var o=e.call(this,t,[])||this,i="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),d=[],p={};return f(n,function(){try{d=s(i),p=l(a),c(i),c(a),o.queue=(0,r.fX)((0,r.fX)([],d,!0),o.queue,!0),o.seen=(0,r.Cl)((0,r.Cl)({},p),o.seen)}catch(h){console.error(h)}}),window.addEventListener("pagehide",function(){if(o.todo>0){var e=(0,r.fX)((0,r.fX)([],o.queue,!0),o.future,!0);try{f(n,function(){!function(e,t){var n=s(e),o=(0,r.fX)((0,r.fX)([],t,!0),n,!0).reduce(function(e,t){var n;return(0,r.Cl)((0,r.Cl)({},e),((n={})[t.id]=t,n))},{});u.setItem(e,JSON.stringify(Object.values(o)))}(i,e),function(e,t){var n=l(e);u.setItem(e,JSON.stringify((0,r.Cl)((0,r.Cl)({},n),t)))}(a,o.seen)})}catch(h){console.error(h)}}}),o}return(0,r.C6)(t,e),t}(o.M)},99963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(76354),o=n(84347);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&r;("object"==typeof u||"function"==typeof u)&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+({10:"tsub-middleware",50:"ajs-destination",104:"schemaFilter",248:"auto-track",521:"remoteMiddleware",538:"queryString",574:"CoseBilkentLayout",654:"HierarchicalLayout",694:"legacyVideos"}[e]||e)+"."+{10:"76a451ae",50:"6c8fef86",104:"54c2c65e",248:"050a62ad",381:"241e8a1a",521:"71a308f4",538:"287eec36",574:"ac865a15",654:"c98ae787",694:"244d8f2e"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="neo4j-visualizer:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var u,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+i),u.src=r),e[r]=[o];var d=(t,n)=>{u.onerror=u.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/PKP-graphs/",(()=>{n.b="undefined"!==typeof document&&document.baseURI||self.location.href;var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var a=n.p+n.u(t),u=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,o[1](u)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,[a,u,s]=r,l=0;if(a.some(t=>0!==e[t])){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(s)s(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkneo4j_visualizer=self.webpackChunkneo4j_visualizer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{coseBilkentLayoutFallbackWorker:()=>sh,createCoseBilkentLayoutWorker:()=>lh,createHierarchicalLayoutWorker:()=>jh,hierarchicalLayoutFallbackWorker:()=>Ah});var t=n(65043),r=n(84391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=n(94961),c=n.n(l);function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=n(70579);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var E="undefined"===typeof window?null:window,x=E?E.navigator:null;E&&E.document;var S,P,T,C,k,A,j,R,I,N,M,D,L,F,U,B,z,V,W,H,q,G,Y,X,K,Z,$,Q,J=w(""),ee=w({}),te=w(function(){}),ne="undefined"===typeof HTMLElement?"undefined":w(HTMLElement),re=function(e){return e&&e.instanceString&&ie(e.instanceString)?e.instanceString():null},oe=function(e){return null!=e&&w(e)==J},ie=function(e){return null!=e&&w(e)===te},ae=function(e){return!ce(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},ue=function(e){return null!=e&&w(e)===ee&&!ae(e)&&e.constructor===Object},se=function(e){return null!=e&&w(e)===w(1)&&!isNaN(e)},le=function(e){return"undefined"===ne?void 0:null!=e&&e instanceof HTMLElement},ce=function(e){return fe(e)||de(e)},fe=function(e){return"collection"===re(e)&&e._private.single},de=function(e){return"collection"===re(e)&&!e._private.single},he=function(e){return"core"===re(e)},pe=function(e){return"stylesheet"===re(e)},ve=function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},ye=function(e){return function(e){return null!=e&&w(e)===ee}(e)&&ie(e.then)},ge=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function(){var r,o=arguments,i=t.apply(this,o),a=n.cache;return(r=a[i])||(r=a[i]=e.apply(this,o)),r};return n.cache={},n},me=ge(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),be=ge(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),_e=ge(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),we=function(e){return ve(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Oe=function(e,t){return e.slice(-1*t.length)===t},Ee="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",xe="rgb[a]?\\(("+Ee+"[%]?)\\s*,\\s*("+Ee+"[%]?)\\s*,\\s*("+Ee+"[%]?)(?:\\s*,\\s*("+Ee+"))?\\)",Se="rgb[a]?\\((?:"+Ee+"[%]?)\\s*,\\s*(?:"+Ee+"[%]?)\\s*,\\s*(?:"+Ee+"[%]?)(?:\\s*,\\s*(?:"+Ee+"))?\\)",Pe="hsl[a]?\\(("+Ee+")\\s*,\\s*("+Ee+"[%])\\s*,\\s*("+Ee+"[%])(?:\\s*,\\s*("+Ee+"))?\\)",Te="hsl[a]?\\((?:"+Ee+")\\s*,\\s*(?:"+Ee+"[%])\\s*,\\s*(?:"+Ee+"[%])(?:\\s*,\\s*(?:"+Ee+"))?\\)",Ce=function(e,t){return e<t?-1:e>t?1:0},ke=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var o=Object.keys(r),i=0;i<o.length;i++){var a=o[i];e[a]=r[a]}}return e},Ae=function(e){return(ae(e)?e:null)||function(e){return je[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,o=16;return 4===e.length?(t=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),r=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),r=parseInt(e[5]+e[6],o)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^"+xe+"$").exec(e);if(n){t=[];for(var r=[],o=1;o<=3;o++){var i=n[o];if("%"===i[i.length-1]&&(r[o]=!0),i=parseFloat(i),r[o]&&(i=i/100*255),i<0||i>255)return;t.push(Math.floor(i))}var a=r[1]||r[2]||r[3],u=r[1]&&r[2]&&r[3];if(a&&!u)return;var s=n[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;t.push(s)}}return t}(e)||function(e){var t,n,r,o,i,a,u,s;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^"+Pe+"$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(o=parseFloat(c[3]))<0||o>100)return;if(o/=100,void 0!==(i=c[4])&&((i=parseFloat(i))<0||i>1))return;if(0===r)a=u=s=Math.round(255*o);else{var f=o<.5?o*(1+r):o+r-o*r,d=2*o-f;a=Math.round(255*l(d,f,n+1/3)),u=Math.round(255*l(d,f,n)),s=Math.round(255*l(d,f,n-1/3))}t=[a,u,s,i]}return t}(e)},je={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Re=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(ue(i))throw Error("Tried to set map with object key");o<n.length-1?(null==t[i]&&(t[i]={}),t=t[i]):t[i]=e.value}},Ie=function(e){for(var t=e.map,n=e.keys,r=n.length,o=0;o<r;o++){var i=n[o];if(ue(i))throw Error("Tried to get map with object key");if(null==(t=t[i]))return t}return t},Ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function Me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function De(){if(P)return S;return P=1,S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},S}function Le(){if(A)return k;A=1;var e=function(){if(C)return T;C=1;var e="object"==typeof Ne&&Ne&&Ne.Object===Object&&Ne;return T=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return k=n}function Fe(){if(D)return M;D=1;var e=function(){if(N)return I;N=1;var e=/\s/;return I=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},I}(),t=/^\s+/;return M=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n},M}function Ue(){if(F)return L;F=1;var e=Le().Symbol;return L=e}function Be(){if(H)return W;H=1;var e=Ue(),t=function(){if(B)return U;B=1;var e=Ue(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;return U=function(e){var t=n.call(e,o),i=e[o];try{e[o]=void 0;var a=!0}catch(om){}var u=r.call(e);return a&&(t?e[o]=i:delete e[o]),u}}(),n=function(){if(V)return z;V=1;var e=Object.prototype.toString;return z=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return W=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function ze(){if(X)return Y;X=1;var e=Be(),t=G?q:(G=1,q=function(e){return null!=e&&"object"==typeof e});return Y=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}var Ve=function(){if(Q)return $;Q=1;var e=De(),t=function(){if(R)return j;R=1;var e=Le();return j=function(){return e.Date.now()}}(),n=function(){if(Z)return K;Z=1;var e=Fe(),t=De(),n=ze(),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt;return K=function(u){if("number"==typeof u)return u;if(n(u))return NaN;if(t(u)){var s="function"==typeof u.valueOf?u.valueOf():u;u=t(s)?s+"":s}if("string"!=typeof u)return 0===u?u:+u;u=e(u);var l=o.test(u);return l||i.test(u)?a(u.slice(2),l?2:8):r.test(u)?NaN:+u}}(),r=Math.max,o=Math.min;return $=function(i,a,u){var s,l,c,f,d,h,p=0,v=!1,y=!1,g=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function m(e){var t=s,n=l;return s=l=void 0,p=e,f=i.apply(n,t)}function b(e){var t=e-h;return void 0===h||t>=a||t<0||y&&e-p>=c}function _(){var e=t();if(b(e))return w(e);d=setTimeout(_,function(e){var t=a-(e-h);return y?o(t,c-(e-p)):t}(e))}function w(e){return d=void 0,g&&s?m(e):(s=l=void 0,f)}function O(){var e=t(),n=b(e);if(s=arguments,l=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(_,a),v?m(e):f}(h);if(y)return clearTimeout(d),d=setTimeout(_,a),m(h)}return void 0===d&&(d=setTimeout(_,a)),f}return a=n(a)||0,e(u)&&(v=!!u.leading,c=(y="maxWait"in u)?r(n(u.maxWait)||0,a):c,g="trailing"in u?!!u.trailing:g),O.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=l=d=void 0},O.flush=function(){return void 0===d?f:w(t())},O},$}(),We=Me(Ve),He=E?E.performance:null,qe=He&&He.now?function(){return He.now()}:function(){return Date.now()},Ge=function(){if(E){if(E.requestAnimationFrame)return function(e){E.requestAnimationFrame(e)};if(E.mozRequestAnimationFrame)return function(e){E.mozRequestAnimationFrame(e)};if(E.webkitRequestAnimationFrame)return function(e){E.webkitRequestAnimationFrame(e)};if(E.msRequestAnimationFrame)return function(e){E.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(qe())},1e3/60)}}(),Ye=function(e){return Ge(e)},Xe=qe,Ke=9261,Ze=5381,$e=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ke;!(t=e.next()).done;)n=65599*n+t.value|0;return n},Qe=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ke)+e|0},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze;return(t<<5)+t+e|0},et=function(e){return 2097152*e[0]+e[1]},tt=function(e,t){return[Qe(e[0],t[0]),Je(e[1],t[1])]},nt=function(e,t){var n={value:0,done:!1},r=0,o=e.length;return $e({next:function(){return r<o?n.value=e[r++]:n.done=!0,n}},t)},rt=function(e,t){var n={value:0,done:!1},r=0,o=e.length;return $e({next:function(){return r<o?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},ot=function(){return it(arguments)},it=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?rt(r):rt(r,t)}return t};function at(e,t,n){if(0===n)return e;var r=(t.x1+t.x2)/2,o=(t.y1+t.y2)/2,i=t.w/t.h,a=1/i,u=function(e,t,n,r,o){var i=o*Math.PI/180;return{x:Math.cos(i)*(e-n)-Math.sin(i)*(t-r)+n,y:Math.sin(i)*(e-n)+Math.cos(i)*(t-r)+r}}(e.x,e.y,r,o,n),s=function(e,t,n,r,o,i){return{x:(e-n)*o+n,y:(t-r)*i+r}}(u.x,u.y,r,o,i,a);return{x:s.x,y:s.y}}var ut=!0,st=null!=console.warn,lt=null!=console.trace,ct=Number.MAX_SAFE_INTEGER||9007199254740991,ft=function(){return!0},dt=function(){return!1},ht=function(){return 0},pt=function(){},vt=function(e){throw new Error(e)},yt=function(e){if(void 0===e)return ut;ut=!!e},gt=function(e){yt()&&(st?console.warn(e):(console.log(e),lt&&console.trace()))},mt=function(e){return null==e?e:ae(e)?e.slice():ue(e)?function(e){return ke({},e)}(e):e},bt=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},_t={},wt=function(){return _t},Ot=function(e){var t=Object.keys(e);return function(n){for(var r={},o=0;o<t.length;o++){var i=t[o],a=null==n?void 0:n[i];r[i]=void 0===a?e[i]:a}return r}},Et=function(e,t,n){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},xt=function(e){e.splice(0,e.length)},St=function(e,t,n){return n&&(t=_e(n,t)),e[t]},Pt=function(e,t,n,r){n&&(t=_e(n,t)),e[t]=r},Tt="undefined"!==typeof Map?Map:function(){return v(function e(){p(this,e),this._obj={}},[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}])}(),Ct=function(){return v(function e(t){if(p(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}])}(),kt="undefined"!==("undefined"===typeof Set?"undefined":w(Set))?Set:Ct,At=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&he(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new kt,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),t.renderedPosition){var i=t.renderedPosition,a=e.pan(),u=e.zoom();o.position={x:(i.x-a.x)/u,y:(i.y-a.y)/u}}var s=[];ae(t.classes)?s=t.classes:oe(t.classes)&&(s=t.classes.split(/\s+/));for(var l=0,c=s.length;l<c;l++){var f=s[l];f&&""!==f&&o.classes.add(f)}this.createEmitter(),(void 0===n||n)&&this.restore();var d=t.style||t.css;d&&(gt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))}else vt("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else vt("An element must have a core reference and parameters set")},jt=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var o;ue(t)&&!ce(t)&&(t=(o=t).roots||o.root,n=o.visit,r=o.directed),r=2!==arguments.length||ie(n)?r:n,n=ie(n)?n:function(){};for(var i,a=this._private.cy,u=t=oe(t)?this.filter(t):t,s=[],l=[],c={},f={},d={},h=0,p=this.byGroup(),v=p.nodes,y=p.edges,g=0;g<u.length;g++){var m=u[g],b=m.id();m.isNode()&&(s.unshift(m),e.bfs&&(d[b]=!0,l.push(m)),f[b]=0)}for(var _,w=function(){var t=e.bfs?s.shift():s.pop(),o=t.id();if(e.dfs){if(d[o])return 0;d[o]=!0,l.push(t)}var a,u=f[o],p=c[o],g=null!=p?p.source():null,m=null!=p?p.target():null,b=null==p?void 0:t.same(g)?m[0]:g[0];if(!0===(a=n(t,p,b,h++,u)))return i=t,1;if(!1===a)return 1;for(var _=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&y.has(e)}),w=0;w<_.length;w++){var O=_[w],E=O.connectedNodes().filter(function(e){return!e.same(t)&&v.has(e)}),x=E.id();0===E.length||d[x]||(E=E[0],s.push(E),e.bfs&&(d[x]=!0,l.push(E)),c[x]=O,f[x]=f[o]+1)}};0!==s.length&&(0===(_=w())||1!==_););for(var O=a.collection(),E=0;E<l.length;E++){var x=l[E],S=c[x.id()];null!=S&&O.push(S),O.push(x)}return{path:a.collection(O),found:a.collection(i)}}},Rt={breadthFirstSearch:jt({bfs:!0}),depthFirstSearch:jt({dfs:!0})};Rt.bfs=Rt.breadthFirstSearch,Rt.dfs=Rt.depthFirstSearch;var It,Nt,Mt,Dt={exports:{}},Lt=Dt.exports;function Ft(){return It||(It=1,e=Dt,function(){var t,n,r,o,i,a,u,s,l,c,f,d,h,p,v;r=Math.floor,c=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},l=function(e,t,o,i,a){var u;if(null==o&&(o=0),null==a&&(a=n),o<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);o<i;)a(t,e[u=r((o+i)/2)])<0?i=u:o=u+1;return[].splice.apply(e,[o,o-o].concat(t)),t},a=function(e,t,r){return null==r&&(r=n),e.push(t),p(e,0,e.length-1,r)},i=function(e,t){var r,o;return null==t&&(t=n),r=e.pop(),e.length?(o=e[0],e[0]=r,v(e,0,t)):o=r,o},s=function(e,t,r){var o;return null==r&&(r=n),o=e[0],e[0]=t,v(e,0,r),o},u=function(e,t,r){var o;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(o=[e[0],t])[0],e[0]=o[1],v(e,0,r)),t},o=function(e,t){var o,i,a,u,s,l;for(null==t&&(t=n),s=[],i=0,a=(u=function(){l=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse()).length;i<a;i++)o=u[i],s.push(v(e,o,t));return s},h=function(e,t,r){var o;if(null==r&&(r=n),-1!==(o=e.indexOf(t)))return p(e,0,o,r),v(e,o,r)},f=function(e,t,r){var i,a,s,l,c;if(null==r&&(r=n),!(a=e.slice(0,t)).length)return a;for(o(a,r),s=0,l=(c=e.slice(t)).length;s<l;s++)i=c[s],u(a,i,r);return a.sort(r).reverse()},d=function(e,t,r){var a,u,s,f,d,h,p,v,y;if(null==r&&(r=n),10*t<=e.length){if(!(s=e.slice(0,t).sort(r)).length)return s;for(u=s[s.length-1],f=0,h=(p=e.slice(t)).length;f<h;f++)r(a=p[f],u)<0&&(l(s,a,0,null,r),s.pop(),u=s[s.length-1]);return s}for(o(e,r),y=[],d=0,v=c(t,e.length);0<=v?d<v:d>v;0<=v?++d:--d)y.push(i(e,r));return y},p=function(e,t,r,o){var i,a,u;for(null==o&&(o=n),i=e[r];r>t&&o(i,a=e[u=r-1>>1])<0;)e[r]=a,r=u;return e[r]=i},v=function(e,t,r){var o,i,a,u,s;for(null==r&&(r=n),i=e.length,s=t,a=e[t],o=2*t+1;o<i;)(u=o+1)<i&&!(r(e[o],e[u])<0)&&(o=u),e[t]=e[o],o=2*(t=o)+1;return e[t]=a,p(e,s,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=a,e.pop=i,e.replace=s,e.pushpop=u,e.heapify=o,e.updateItem=h,e.nlargest=f,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return o(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}.call(Lt)),Dt.exports;var e}var Ut,Bt=Me(Mt?Nt:(Mt=1,Nt=Ft())),zt=Ot({root:null,weight:function(e){return 1},directed:!1}),Vt={dijkstra:function(e){if(!ue(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=zt(e),r=n.root,o=n.weight,i=n.directed,a=this,u=o,s=oe(r)?this.filter(r)[0]:r[0],l={},c={},f={},d=this.byGroup(),h=d.nodes,p=d.edges;p.unmergeBy(function(e){return e.isLoop()});for(var v=function(e){return l[e.id()]},y=function(e,t){l[e.id()]=t,g.updateItem(e)},g=new Bt(function(e,t){return v(e)-v(t)}),m=0;m<h.length;m++){var b=h[m];l[b.id()]=b.same(s)?0:1/0,g.push(b)}for(var _=function(e,t){for(var n,r=(i?e.edgesTo(t):e.edgesWith(t)).intersect(p),o=1/0,a=0;a<r.length;a++){var s=r[a],l=u(s);(l<o||!n)&&(o=l,n=s)}return{edge:n,dist:o}};g.size()>0;){var w=g.pop(),O=v(w),E=w.id();if(f[E]=O,O!==1/0)for(var x=w.neighborhood().intersect(h),S=0;S<x.length;S++){var P=x[S],T=P.id(),C=_(w,P),k=O+C.dist;k<v(P)&&(y(P,k),c[T]={node:w,edge:C.edge})}}return{distanceTo:function(e){var t=oe(e)?h.filter(e)[0]:e[0];return f[t.id()]},pathTo:function(e){var t=oe(e)?h.filter(e)[0]:e[0],n=[],r=t,o=r.id();if(t.length>0)for(n.unshift(t);c[o];){var i=c[o];n.unshift(i.edge),n.unshift(i.node),o=(r=i.node).id()}return a.spawn(n)}}}},Wt={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,o=n.length,i=new Array(o),a=n,u=function(e){for(var t=0;t<i.length;t++){if(i[t].has(e))return t}},s=0;s<o;s++)i[s]=this.spawn(n[s]);for(var l=r.sort(function(t,n){return e(t)-e(n)}),c=0;c<l.length;c++){var f=l[c],d=f.source()[0],h=f.target()[0],p=u(d),v=u(h),y=i[p],g=i[v];p!==v&&(a.merge(f),y.merge(g),i.splice(v,1))}return a}},Ht=Ot({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),qt={aStar:function(e){var t=this.cy(),n=Ht(e),r=n.root,o=n.goal,i=n.heuristic,a=n.directed,u=n.weight;r=t.collection(r)[0],o=t.collection(o)[0];var s,l,c=r.id(),f=o.id(),d={},h={},p={},v=new Bt(function(e,t){return h[e.id()]-h[t.id()]}),y=new kt,g={},m={},b=function(e,t){v.push(e),y.add(t)},_=function(){s=v.pop(),l=s.id(),y.delete(l)},w=function(e){return y.has(e)};b(r,c),d[c]=0,h[c]=i(r);for(var O=0;v.size()>0;){if(_(),O++,l===f){for(var E=[],x=o,S=f,P=m[S];E.unshift(x),null!=P&&E.unshift(P),null!=(x=g[S]);)P=m[S=x.id()];return{found:!0,distance:d[l],path:this.spawn(E),steps:O}}p[l]=!0;for(var T=s._private.edges,C=0;C<T.length;C++){var k=T[C];if(this.hasElementWithId(k.id())&&(!a||k.data("source")===l)){var A=k.source(),j=k.target(),R=A.id()!==l?A:j,I=R.id();if(this.hasElementWithId(I)&&!p[I]){var N=d[l]+u(k);w(I)?N<d[I]&&(d[I]=N,h[I]=N+i(R),g[I]=s,m[I]=k):(d[I]=N,h[I]=N+i(R),b(R,I),g[I]=s,m[I]=k)}}}}return{found:!1,distance:void 0,path:void 0,steps:O}}},Gt=Ot({weight:function(e){return 1},directed:!1}),Yt={floydWarshall:function(e){for(var t=this.cy(),n=Gt(e),r=n.weight,o=n.directed,i=r,a=this.byGroup(),u=a.nodes,s=a.edges,l=u.length,c=l*l,f=function(e){return u.indexOf(e)},d=function(e){return u[e]},h=new Array(c),p=0;p<c;p++){var v=p%l,y=(p-v)/l;h[p]=y===v?0:1/0}for(var g=new Array(c),m=new Array(c),b=0;b<s.length;b++){var _=s[b],w=_.source()[0],O=_.target()[0];if(w!==O){var E=f(w),x=f(O),S=E*l+x,P=i(_);if(h[S]>P&&(h[S]=P,g[S]=x,m[S]=_),!o){var T=x*l+E;!o&&h[T]>P&&(h[T]=P,g[T]=E,m[T]=_)}}}for(var C=0;C<l;C++)for(var k=0;k<l;k++)for(var A=k*l+C,j=0;j<l;j++){var R=k*l+j,I=C*l+j;h[A]+h[I]<h[R]&&(h[R]=h[A]+h[I],g[R]=g[A])}var N=function(e){return f(function(e){return(oe(e)?t.filter(e):e)[0]}(e))},M={distance:function(e,t){var n=N(e),r=N(t);return h[n*l+r]},path:function(e,n){var r=N(e),o=N(n),i=d(r);if(r===o)return i.collection();if(null==g[r*l+o])return t.collection();var a,u=t.collection(),s=r;for(u.merge(i);r!==o;)s=r,r=g[r*l+o],a=m[s*l+r],u.merge(a),u.merge(d(r));return u}};return M}},Xt=Ot({weight:function(e){return 1},directed:!1,root:null}),Kt={bellmanFord:function(e){var t=this,n=Xt(e),r=n.weight,o=n.directed,i=n.root,a=r,u=this,s=this.cy(),l=this.byGroup(),c=l.edges,f=l.nodes,d=f.length,h=new Tt,p=!1,v=[];i=s.collection(i)[0],c.unmergeBy(function(e){return e.isLoop()});for(var y=c.length,g=function(e){var t=h.get(e.id());return t||(t={},h.set(e.id(),t)),t},m=function(e){return(oe(e)?s.$(e):e)[0]},b=0;b<d;b++){var _=f[b],w=g(_);_.same(i)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var O=!1,E=function(e,t,n,r,o,i){var a=r.dist+i;a<o.dist&&!n.same(r.edge)&&(o.dist=a,o.pred=e,o.edge=n,O=!0)},x=1;x<d;x++){O=!1;for(var S=0;S<y;S++){var P=c[S],T=P.source(),C=P.target(),k=a(P),A=g(T),j=g(C);E(T,0,P,A,j,k),o||E(C,0,P,j,A,k)}if(!O)break}if(O)for(var R=[],I=0;I<y;I++){var N=c[I],M=N.source(),D=N.target(),L=a(N),F=g(M).dist,U=g(D).dist;if(F+L<U||!o&&U+L<F){if(p||(gt("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),!1===e.findNegativeWeightCycles)break;var B=[];F+L<U&&B.push(M),!o&&U+L<F&&B.push(D);for(var z=B.length,V=0;V<z;V++){var W=B[V],H=[W];H.push(g(W).edge);for(var q=g(W).pred;-1===H.indexOf(q);)H.push(q),H.push(g(q).edge),q=g(q).pred;for(var G=(H=H.slice(H.indexOf(q)))[0].id(),Y=0,X=2;X<H.length;X+=2)H[X].id()<G&&(G=H[X].id(),Y=X);(H=H.slice(Y).concat(H.slice(0,Y))).push(H[0]);var K=H.map(function(e){return e.id()}).join(",");-1===R.indexOf(K)&&(v.push(u.spawn(H)),R.push(K))}}}return{distanceTo:function(e){return g(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=[],o=m(e);;){if(null==o)return t.spawn();var a=g(o),s=a.edge,l=a.pred;if(r.unshift(o[0]),o.same(n)&&r.length>0)break;null!=s&&r.unshift(s),o=l}return u.spawn(r)},hasNegativeWeightCycle:p,negativeWeightCycles:v}}},Zt=Math.sqrt(2),$t=function(e,t,n){0===n.length&&vt("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],o=r[1],i=r[2],a=t[o],u=t[i],s=n,l=s.length-1;l>=0;l--){var c=s[l],f=c[1],d=c[2];(t[f]===a&&t[d]===u||t[f]===u&&t[d]===a)&&s.splice(l,1)}for(var h=0;h<s.length;h++){var p=s[h];p[1]===u?(s[h]=p.slice(),s[h][1]=a):p[2]===u&&(s[h]=p.slice(),s[h][2]=a)}for(var v=0;v<t.length;v++)t[v]===u&&(t[v]=a);return s},Qt=function(e,t,n,r){for(;n>r;){var o=Math.floor(Math.random()*t.length);t=$t(o,e,t),n--}return t},Jt={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy(function(e){return e.isLoop()});var o=n.length,i=r.length,a=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/Zt);if(!(o<2)){for(var s=[],l=0;l<i;l++){var c=r[l];s.push([l,n.indexOf(c.source()),n.indexOf(c.target())])}for(var f=1/0,d=[],h=new Array(o),p=new Array(o),v=new Array(o),y=function(e,t){for(var n=0;n<o;n++)t[n]=e[n]},g=0;g<=a;g++){for(var m=0;m<o;m++)p[m]=m;var b=Qt(p,s.slice(),o,u),_=b.slice();y(p,v);var w=Qt(p,b,u,2),O=Qt(v,_,u,2);w.length<=O.length&&w.length<f?(f=w.length,d=w,y(p,h)):O.length<=w.length&&O.length<f&&(f=O.length,d=O,y(v,h))}for(var E=this.spawn(d.map(function(e){return r[e[0]]})),x=this.spawn(),S=this.spawn(),P=h[0],T=0;T<h.length;T++){var C=h[T],k=n[T];C===P?x.merge(k):S.merge(k)}var A=function(t){var n=e.spawn();return t.forEach(function(t){n.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!E.contains(t)&&n.merge(t)})}),n},j=[A(x),A(S)];return{cut:E,components:j,partition1:x,partition2:S}}vt("At least 2 nodes are required for Karger-Stein algorithm")}},en=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},tn=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},nn=function(e){return{x:e[0],y:e[1]}},rn=function(e,t){return Math.atan2(t,e)-Math.PI/2},on=Math.log2||function(e){return Math.log(e)/Math.log(2)},an=function(e){return e>0?1:e<0?-1:0},un=function(e,t){return Math.sqrt(sn(e,t))},sn=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},ln=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var o=0;o<t;o++)e[o]=e[o]/n;return e},cn=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},fn=function(e,t,n,r){return{x:cn(e.x,t.x,n.x,r),y:cn(e.y,t.y,n.y,r)}},dn=function(e,t,n){return Math.max(e,Math.min(n,t))},hn=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},pn=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},vn=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gn=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===i.length)t=n=r=o=i[0];else if(2===i.length)t=r=i[0],o=n=i[1];else if(4===i.length){var a=m(i,4);t=a[0],n=a[1],r=a[2],o=a[3]}return e.x1-=o,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},mn=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},bn=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},_n=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},wn=function(e,t){return _n(e,t.x,t.y)},On=function(e,t){return _n(e,t.x1,t.y1)&&_n(e,t.x2,t.y2)},En=null!==(Ut=Math.hypot)&&void 0!==Ut?Ut:function(e,t){return Math.sqrt(e*e+t*t)};function xn(e,t,n,r,o,i){var a=function(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var n=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},r=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},o=function(e,t){return{x:e.x*t,y:e.y*t}},i=function(e,t){return e.x*t.y-e.y*t.x},a=function(e){var t=En(e.x,e.y);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},u=function(e,t,a,u){var s=r(t,e),l=r(u,a),c=i(s,l);if(Math.abs(c)<1e-9)return n(e,o(s,.5));var f=i(r(a,e),l)/c;return n(e,o(s,f))},s=e.map(function(e){return{x:e.x,y:e.y}});(function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],o=e[(n+1)%e.length];t+=r.x*o.y-o.x*r.y}return t/2})(s)<0&&s.reverse();for(var l=s.length,c=[],f=0;f<l;f++){var d=s[f],h=s[(f+1)%l],p=r(h,d),v=a({x:p.y,y:-p.x});c.push(v)}for(var y=c.map(function(e,r){return{p1:n(s[r],o(e,t)),p2:n(s[(r+1)%l],o(e,t))}}),g=[],m=0;m<l;m++){var b=y[(m-1+l)%l],_=y[m],w=u(b.p1,b.p2,_.p1,_.p2);g.push(w)}return g}(Fn(e,t,n,r,o),i),u=hn();return a.forEach(function(e){return vn(u,e.x,e.y)}),u}var Sn=function(e,t,n,r,o,i,a){var u,s,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",c="auto"===l?Hn(o,i):l,f=o/2,d=i/2,h=(c=Math.min(c,f,d))!==f,p=c!==d;if(h){var v=r-d-a;if((u=Ln(e,t,n,r,n-f+c-a,v,n+f-c+a,v,!1)).length>0)return u}if(p){var y=n+f+a;if((u=Ln(e,t,n,r,y,r-d+c-a,y,r+d-c+a,!1)).length>0)return u}if(h){var g=r+d+a;if((u=Ln(e,t,n,r,n-f+c-a,g,n+f-c+a,g,!1)).length>0)return u}if(p){var m=n-f-a;if((u=Ln(e,t,n,r,m,r-d+c-a,m,r+d-c+a,!1)).length>0)return u}var b=n-f+c,_=r-d+c;if((s=Mn(e,t,n,r,b,_,c+a)).length>0&&s[0]<=b&&s[1]<=_)return[s[0],s[1]];var w=n+f-c,O=r-d+c;if((s=Mn(e,t,n,r,w,O,c+a)).length>0&&s[0]>=w&&s[1]<=O)return[s[0],s[1]];var E=n+f-c,x=r+d-c;if((s=Mn(e,t,n,r,E,x,c+a)).length>0&&s[0]>=E&&s[1]>=x)return[s[0],s[1]];var S=n-f+c,P=r+d-c;return(s=Mn(e,t,n,r,S,P,c+a)).length>0&&s[0]<=S&&s[1]>=P?[s[0],s[1]]:[]},Pn=function(e,t,n,r,o,i,a){var u=a,s=Math.min(n,o),l=Math.max(n,o),c=Math.min(r,i),f=Math.max(r,i);return s-u<=e&&e<=l+u&&c-u<=t&&t<=f+u},Tn=function(e,t,n,r,o,i,a,u,s){var l=Math.min(n,a,o)-s,c=Math.max(n,a,o)+s,f=Math.min(r,u,i)-s,d=Math.max(r,u,i)+s;return!(e<l||e>c||t<f||t>d)},Cn=function(e,t,n,r,o,i,a,u){var s=[];!function(e,t,n,r,o){var i,a,u,s,l,c,f,d;0===e&&(e=1e-5),u=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),i=(a=(3*n-t*t)/9)*a*a+(u/=54)*u,o[1]=0,f=t/3,i>0?(l=(l=u+Math.sqrt(i))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),c=(c=u-Math.sqrt(i))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),o[0]=-f+l+c,f+=(l+c)/2,o[4]=o[2]=-f,f=Math.sqrt(3)*(-c+l)/2,o[3]=f,o[5]=-f):(o[5]=o[3]=0,0===i?(d=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),o[0]=2*d-f,o[4]=o[2]=-(d+f)):(s=(a=-a)*a*a,s=Math.acos(u/Math.sqrt(s)),d=2*Math.sqrt(a),o[0]=-f+d*Math.cos(s/3),o[2]=-f+d*Math.cos((s+2*Math.PI)/3),o[4]=-f+d*Math.cos((s+4*Math.PI)/3)))}(1*n*n-4*n*o+2*n*a+4*o*o-4*o*a+a*a+r*r-4*r*i+2*r*u+4*i*i-4*i*u+u*u,9*n*o-3*n*n-3*n*a-6*o*o+3*o*a+9*r*i-3*r*r-3*r*u-6*i*i+3*i*u,3*n*n-6*n*o+n*a-n*e+2*o*o+2*o*e-a*e+3*r*r-6*r*i+r*u-r*t+2*i*i+2*i*t-u*t,1*n*o-n*n+n*e-o*e+r*i-r*r+r*t-i*t,s);for(var l=[],c=0;c<6;c+=2)Math.abs(s[c+1])<1e-7&&s[c]>=0&&s[c]<=1&&l.push(s[c]);l.push(1),l.push(0);for(var f,d,h,p=-1,v=0;v<l.length;v++)f=Math.pow(1-l[v],2)*n+2*(1-l[v])*l[v]*o+l[v]*l[v]*a,d=Math.pow(1-l[v],2)*r+2*(1-l[v])*l[v]*i+l[v]*l[v]*u,h=Math.pow(f-e,2)+Math.pow(d-t,2),p>=0?h<p&&(p=h):p=h;return p},kn=function(e,t,n,r,o,i){var a=[e-n,t-r],u=[o-n,i-r],s=u[0]*u[0]+u[1]*u[1],l=a[0]*a[0]+a[1]*a[1],c=a[0]*u[0]+a[1]*u[1],f=c*c/s;return c<0?l:f>s?(e-o)*(e-o)+(t-i)*(t-i):l-f},An=function(e,t,n){for(var r,o,i,a,u=0,s=0;s<n.length/2;s++)if(r=n[2*s],o=n[2*s+1],s+1<n.length/2?(i=n[2*(s+1)],a=n[2*(s+1)+1]):(i=n[2*(s+1-n.length/2)],a=n[2*(s+1-n.length/2)+1]),r==e&&i==e);else{if(!(r>=e&&e>=i||r<=e&&e<=i))continue;(e-r)/(i-r)*(a-o)+o>t&&u++}return u%2!==0},jn=function(e,t,n,r,o,i,a,u,s){var l,c=new Array(n.length);null!=u[0]?(l=Math.atan(u[1]/u[0]),u[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=u;for(var f,d=Math.cos(-l),h=Math.sin(-l),p=0;p<c.length/2;p++)c[2*p]=i/2*(n[2*p]*d-n[2*p+1]*h),c[2*p+1]=a/2*(n[2*p+1]*d+n[2*p]*h),c[2*p]+=r,c[2*p+1]+=o;if(s>0){var v=In(c,-s);f=Rn(v)}else f=c;return An(e,t,f)},Rn=function(e){for(var t,n,r,o,i,a,u,s,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],o=e[4*c+3],c<e.length/4-1?(i=e[4*(c+1)],a=e[4*(c+1)+1],u=e[4*(c+1)+2],s=e[4*(c+1)+3]):(i=e[0],a=e[1],u=e[2],s=e[3]);var f=Ln(t,n,r,o,i,a,u,s,!0);l[2*c]=f[0],l[2*c+1]=f[1]}return l},In=function(e,t){for(var n,r,o,i,a=new Array(2*e.length),u=0;u<e.length/2;u++){n=e[2*u],r=e[2*u+1],u<e.length/2-1?(o=e[2*(u+1)],i=e[2*(u+1)+1]):(o=e[0],i=e[1]);var s=i-r,l=-(o-n),c=Math.sqrt(s*s+l*l),f=s/c,d=l/c;a[4*u]=n+f*t,a[4*u+1]=r+d*t,a[4*u+2]=o+f*t,a[4*u+3]=i+d*t}return a},Nn=function(e,t,n,r,o,i,a){return e-=o,t-=i,(e/=n/2+a)*e+(t/=r/2+a)*t<=1},Mn=function(e,t,n,r,o,i,a){var u=[n-e,r-t],s=[e-o,t-i],l=u[0]*u[0]+u[1]*u[1],c=2*(s[0]*u[0]+s[1]*u[1]),f=c*c-4*l*(s[0]*s[0]+s[1]*s[1]-a*a);if(f<0)return[];var d=(-c+Math.sqrt(f))/(2*l),h=(-c-Math.sqrt(f))/(2*l),p=Math.min(d,h),v=Math.max(d,h),y=[];if(p>=0&&p<=1&&y.push(p),v>=0&&v<=1&&y.push(v),0===y.length)return[];var g=y[0]*u[0]+e,m=y[0]*u[1]+t;return y.length>1?y[0]==y[1]?[g,m]:[g,m,y[1]*u[0]+e,y[1]*u[1]+t]:[g,m]},Dn=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Ln=function(e,t,n,r,o,i,a,u,s){var l=e-o,c=n-e,f=a-o,d=t-i,h=r-t,p=u-i,v=f*d-p*l,y=c*d-h*l,g=p*c-f*h;if(0!==g){var m=v/g,b=y/g,_=-.001;return _<=m&&m<=1.001&&_<=b&&b<=1.001||s?[e+m*c,t+m*h]:[]}return 0===v||0===y?Dn(e,n,a)===a?[a,u]:Dn(e,n,o)===o?[o,i]:Dn(o,a,n)===n?[n,r]:[]:[]},Fn=function(e,t,n,r,o){var i=[],a=r/2,u=o/2,s=t,l=n;i.push({x:s+a*e[0],y:l+u*e[1]});for(var c=1;c<e.length/2;c++)i.push({x:s+a*e[2*c],y:l+u*e[2*c+1]});return i},Un=function(e,t,n,r,o,i,a,u){var s,l,c,f,d,h,p=[],v=new Array(n.length),y=!0;if(null==i&&(y=!1),y){for(var g=0;g<v.length/2;g++)v[2*g]=n[2*g]*i+r,v[2*g+1]=n[2*g+1]*a+o;if(u>0){var m=In(v,-u);l=Rn(m)}else l=v}else l=n;for(var b=0;b<l.length/2;b++)c=l[2*b],f=l[2*b+1],b<l.length/2-1?(d=l[2*(b+1)],h=l[2*(b+1)+1]):(d=l[0],h=l[1]),0!==(s=Ln(e,t,r,o,c,f,d,h)).length&&p.push(s[0],s[1]);return p},Bn=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(o-n)/o;return i<0&&(i=1e-5),[t[0]+i*r[0],t[1]+i*r[1]]},zn=function(e,t){var n=Wn(e,t);return n=Vn(n)},Vn=function(e){for(var t,n,r=e.length/2,o=1/0,i=1/0,a=-1/0,u=-1/0,s=0;s<r;s++)t=e[2*s],n=e[2*s+1],o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),u=Math.max(u,n);for(var l=2/(a-o),c=2/(u-i),f=0;f<r;f++)t=e[2*f]=e[2*f]*l,n=e[2*f+1]=e[2*f+1]*c,o=Math.min(o,t),a=Math.max(a,t),i=Math.min(i,n),u=Math.max(u,n);if(i<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-i);return e},Wn=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var o,i=new Array(2*e),a=0;a<e;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},Hn=function(e,t){return Math.min(e/4,t/4,8)},qn=function(e,t){return Math.min(e/10,t/10,8)},Gn=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function Yn(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=e[(n+1)%e.length],i={x:o.x-r.x,y:o.y-r.y},a={x:-i.y,y:i.x},u=Math.sqrt(a.x*a.x+a.y*a.y);t.push({x:a.x/u,y:a.y/u})}return t}function r(e,t){var n,r=1/0,o=-1/0,i=y(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=a.x*t.x+a.y*t.y;r=Math.min(r,u),o=Math.max(o,u)}}catch(s){i.e(s)}finally{i.f()}return{min:r,max:o}}function o(e,t){return!(e.max<t.min||t.max<e.min)}var i,a=y([].concat(b(n(e)),b(n(t))));try{for(a.s();!(i=a.n()).done;){var u=i.value;if(!o(r(e,u),r(t,u)))return!1}}catch(s){a.e(s)}finally{a.f()}return!0}var Xn=Ot({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Kn={pageRank:function(e){for(var t=Xn(e),n=t.dampingFactor,r=t.precision,o=t.iterations,i=t.weight,a=this._private.cy,u=this.byGroup(),s=u.nodes,l=u.edges,c=s.length,f=c*c,d=l.length,h=new Array(f),p=new Array(c),v=(1-n)/c,y=0;y<c;y++){for(var g=0;g<c;g++){h[y*c+g]=0}p[y]=0}for(var m=0;m<d;m++){var b=l[m],_=b.data("source"),w=b.data("target");if(_!==w){var O=s.indexOfId(_),E=s.indexOfId(w),x=i(b);h[E*c+O]+=x,p[O]+=x}}for(var S=1/c+v,P=0;P<c;P++)if(0===p[P])for(var T=0;T<c;T++){h[T*c+P]=S}else for(var C=0;C<c;C++){var k=C*c+P;h[k]=h[k]/p[P]+v}for(var A,j=new Array(c),R=new Array(c),I=0;I<c;I++)j[I]=1;for(var N=0;N<o;N++){for(var M=0;M<c;M++)R[M]=0;for(var D=0;D<c;D++)for(var L=0;L<c;L++){var F=D*c+L;R[D]+=h[F]*j[L]}ln(R),A=j,j=R,R=A;for(var U=0,B=0;B<c;B++){var z=A[B]-j[B];U+=z*z}if(U<r)break}return{rank:function(e){return e=a.collection(e)[0],j[s.indexOf(e)]}}}},Zn=Ot({root:null,weight:function(e){return 1},directed:!1,alpha:0}),$n={degreeCentralityNormalized:function(e){e=Zn(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var o={},i={},a=0,u=0,s=0;s<r;s++){var l=n[s],c=l.id();e.root=l;var f=this.degreeCentrality(e);a<f.indegree&&(a=f.indegree),u<f.outdegree&&(u=f.outdegree),o[c]=f.indegree,i[c]=f.outdegree}return{indegree:function(e){return 0==a?0:(oe(e)&&(e=t.filter(e)),o[e.id()]/a)},outdegree:function(e){return 0===u?0:(oe(e)&&(e=t.filter(e)),i[e.id()]/u)}}}for(var d={},h=0,p=0;p<r;p++){var v=n[p];e.root=v;var y=this.degreeCentrality(e);h<y.degree&&(h=y.degree),d[v.id()]=y.degree}return{degree:function(e){return 0===h?0:(oe(e)&&(e=t.filter(e)),d[e.id()]/h)}}},degreeCentrality:function(e){e=Zn(e);var t=this.cy(),n=this,r=e,o=r.root,i=r.weight,a=r.directed,u=r.alpha;if(o=t.collection(o)[0],a){for(var s=o.connectedEdges(),l=s.filter(function(e){return e.target().same(o)&&n.has(e)}),c=s.filter(function(e){return e.source().same(o)&&n.has(e)}),f=l.length,d=c.length,h=0,p=0,v=0;v<l.length;v++)h+=i(l[v]);for(var y=0;y<c.length;y++)p+=i(c[y]);return{indegree:Math.pow(f,1-u)*Math.pow(h,u),outdegree:Math.pow(d,1-u)*Math.pow(p,u)}}for(var g=o.connectedEdges().intersection(n),m=g.length,b=0,_=0;_<g.length;_++)b+=i(g[_]);return{degree:Math.pow(m,1-u)*Math.pow(b,u)}}};$n.dc=$n.degreeCentrality,$n.dcn=$n.degreeCentralityNormalised=$n.degreeCentralityNormalized;var Qn=Ot({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Jn={closenessCentralityNormalized:function(e){for(var t=Qn(e),n=t.harmonic,r=t.weight,o=t.directed,i=this.cy(),a={},u=0,s=this.nodes(),l=this.floydWarshall({weight:r,directed:o}),c=0;c<s.length;c++){for(var f=0,d=s[c],h=0;h<s.length;h++)if(c!==h){var p=l.distance(d,s[h]);f+=n?1/p:p}n||(f=1/f),u<f&&(u=f),a[d.id()]=f}return{closeness:function(e){return 0==u?0:(e=oe(e)?i.filter(e)[0].id():e.id(),a[e]/u)}}},closenessCentrality:function(e){var t=Qn(e),n=t.root,r=t.weight,o=t.directed,i=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:o}),u=0,s=this.nodes(),l=0;l<s.length;l++){var c=s[l];if(!c.same(n)){var f=a.distanceTo(c);u+=i?1/f:f}}return i?u:1/u}};Jn.cc=Jn.closenessCentrality,Jn.ccn=Jn.closenessCentralityNormalised=Jn.closenessCentralityNormalized;var er=Ot({weight:null,directed:!1}),tr={betweennessCentrality:function(e){for(var t=er(e),n=t.directed,r=t.weight,o=null!=r,i=this.cy(),a=this.nodes(),u={},s={},l=0,c=function(e,t){s[e]=t,t>l&&(l=t)},f=function(e){return s[e]},d=0;d<a.length;d++){var h=a[d],p=h.id();u[p]=n?h.outgoers().nodes():h.openNeighborhood().nodes(),c(p,0)}for(var v=function(){for(var e=a[y].id(),t=[],n={},s={},l={},d=new Bt(function(e,t){return l[e]-l[t]}),h=0;h<a.length;h++){var p=a[h].id();n[p]=[],s[p]=0,l[p]=1/0}for(s[e]=1,l[e]=0,d.push(e);!d.empty();){var v=d.pop();if(t.push(v),o)for(var g=0;g<u[v].length;g++){var m=u[v][g],b=i.getElementById(v),_=void 0;_=b.edgesTo(m).length>0?b.edgesTo(m)[0]:m.edgesTo(b)[0];var w=r(_);m=m.id(),l[m]>l[v]+w&&(l[m]=l[v]+w,d.nodes.indexOf(m)<0?d.push(m):d.updateItem(m),s[m]=0,n[m]=[]),l[m]==l[v]+w&&(s[m]=s[m]+s[v],n[m].push(v))}else for(var O=0;O<u[v].length;O++){var E=u[v][O].id();l[E]==1/0&&(d.push(E),l[E]=l[v]+1),l[E]==l[v]+1&&(s[E]=s[E]+s[v],n[E].push(v))}}for(var x={},S=0;S<a.length;S++)x[a[S].id()]=0;for(;t.length>0;){for(var P=t.pop(),T=0;T<n[P].length;T++){var C=n[P][T];x[C]=x[C]+s[C]/s[P]*(1+x[P])}P!=a[y].id()&&c(P,f(P)+x[P])}},y=0;y<a.length;y++)v();var g={betweenness:function(e){var t=i.collection(e).id();return f(t)},betweennessNormalized:function(e){if(0==l)return 0;var t=i.collection(e).id();return f(t)/l}};return g.betweennessNormalised=g.betweennessNormalized,g}};tr.bc=tr.betweennessCentrality;var nr=Ot({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),rr=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},or=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var o=0;o<t;o++)n+=e[o*t+r];for(var i=0;i<t;i++)e[i*t+r]=e[i*t+r]/n}},ir=function(e,t,n){for(var r=new Array(n*n),o=0;o<n;o++){for(var i=0;i<n;i++)r[o*n+i]=0;for(var a=0;a<n;a++)for(var u=0;u<n;u++)r[o*n+u]+=e[o*n+a]*t[a*n+u]}return r},ar=function(e,t,n){for(var r=e.slice(0),o=1;o<n;o++)e=ir(e,r,t);return e},ur=function(e,t,n){for(var r=new Array(t*t),o=0;o<t*t;o++)r[o]=Math.pow(e[o],n);return or(r,t),r},sr=function(e,t,n,r){for(var o=0;o<n;o++){if(Math.round(e[o]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[o]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},lr=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},cr=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),o=function(e){return nr(e)}(e),i={},a=0;a<t.length;a++)i[t[a].id()]=a;for(var u,s=t.length,l=s*s,c=new Array(l),f=0;f<l;f++)c[f]=0;for(var d=0;d<n.length;d++){var h=n[d],p=i[h.source().id()],v=i[h.target().id()],y=rr(h,o.attributes);c[p*s+v]+=y,c[v*s+p]+=y}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,s,o.multFactor),or(c,s);for(var g=!0,m=0;g&&m<o.maxIterations;)g=!1,u=ar(c,s,o.expandFactor),c=ur(u,s,o.inflateFactor),sr(c,u,l,4)||(g=!0),m++;var b=function(e,t,n,r){for(var o=[],i=0;i<t;i++){for(var a=[],u=0;u<t;u++)Math.round(1e3*e[i*t+u])/1e3>0&&a.push(n[u]);0!==a.length&&o.push(r.collection(a))}return o}(c,s,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&lr(e[t],e[n])&&e.splice(n,1);return e}(b),b},fr={markovClustering:cr,mcl:cr},dr=function(e){return e},hr=function(e,t){return Math.abs(t-e)},pr=function(e,t,n){return e+hr(t,n)},vr=function(e,t,n){return e+Math.pow(n-t,2)},yr=function(e){return Math.sqrt(e)},gr=function(e,t,n){return Math.max(e,hr(t,n))},mr=function(e,t,n,r,o){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dr,a=r,u=0;u<e;u++)a=o(a,t(u),n(u));return i(a)},br={euclidean:function(e,t,n){return e>=2?mr(e,t,n,0,vr,yr):mr(e,t,n,0,pr)},squaredEuclidean:function(e,t,n){return mr(e,t,n,0,vr)},manhattan:function(e,t,n){return mr(e,t,n,0,pr)},max:function(e,t,n){return mr(e,t,n,-1/0,gr)}};function _r(e,t,n,r,o,i){var a;return a=ie(e)?e:br[e]||br.euclidean,0===t&&ie(e)?a(o,i):a(t,n,r,o,i)}br["squared-euclidean"]=br.squaredEuclidean,br.squaredeuclidean=br.squaredEuclidean;var wr=Ot({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Or=function(e){return wr(e)},Er=function(e,t,n,r,o){var i="kMedoids"!==o?function(e){return n[e]}:function(e){return r[e](n)},a=n,u=t;return _r(e,r.length,i,function(e){return r[e](t)},a,u)},xr=function(e,t,n){for(var r=n.length,o=new Array(r),i=new Array(r),a=new Array(t),u=null,s=0;s<r;s++)o[s]=e.min(n[s]).value,i[s]=e.max(n[s]).value;for(var l=0;l<t;l++){u=[];for(var c=0;c<r;c++)u[c]=Math.random()*(i[c]-o[c])+o[c];a[l]=u}return a},Sr=function(e,t,n,r,o){for(var i=1/0,a=0,u=0;u<t.length;u++){var s=Er(n,e,t[u],r,o);s<i&&(i=s,a=u)}return a},Pr=function(e,t,n){for(var r=[],o=null,i=0;i<t.length;i++)n[(o=t[i]).id()]===e&&r.push(o);return r},Tr=function(e,t,n){return Math.abs(t-e)<=n},Cr=function(e,t,n){for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++){if(Math.abs(e[r][o]-t[r][o])>n)return!1}return!0},kr=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},Ar=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var o=e[Math.floor(Math.random()*e.length)];kr(o,n,r);)o=e[Math.floor(Math.random()*e.length)];n[r]=o}else for(var i=0;i<t;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},jr=function(e,t,n){for(var r=0,o=0;o<t.length;o++)r+=Er("manhattan",t[o],e,n,"kMedoids");return r},Rr=function(e,t,n,r,o){for(var i,a,u=0;u<t.length;u++)for(var s=0;s<e.length;s++)r[u][s]=Math.pow(n[u][s],o.m);for(var l=0;l<e.length;l++)for(var c=0;c<o.attributes.length;c++){i=0,a=0;for(var f=0;f<t.length;f++)i+=r[f][l]*o.attributes[c](t[f]),a+=r[f][l];e[l][c]=i/a}},Ir=function(e,t,n,r,o){for(var i=0;i<e.length;i++)t[i]=e[i].slice();for(var a,u,s,l=2/(o.m-1),c=0;c<n.length;c++)for(var f=0;f<r.length;f++){a=0;for(var d=0;d<n.length;d++)u=Er(o.distance,r[f],n[c],o.attributes,"cmeans"),s=Er(o.distance,r[f],n[d],o.attributes,"cmeans"),a+=Math.pow(u/s,l);e[f][c]=1/a}},Nr=function(e){var t,n,r,o,i,a=this.cy(),u=this.nodes(),s=Or(e);o=new Array(u.length);for(var l=0;l<u.length;l++)o[l]=new Array(s.k);r=new Array(u.length);for(var c=0;c<u.length;c++)r[c]=new Array(s.k);for(var f=0;f<u.length;f++){for(var d=0,h=0;h<s.k;h++)r[f][h]=Math.random(),d+=r[f][h];for(var p=0;p<s.k;p++)r[f][p]=r[f][p]/d}n=new Array(s.k);for(var v=0;v<s.k;v++)n[v]=new Array(s.attributes.length);i=new Array(u.length);for(var y=0;y<u.length;y++)i[y]=new Array(s.k);for(var g=!0,m=0;g&&m<s.maxIterations;)g=!1,Rr(n,u,r,i,s),Ir(r,o,n,u,s),Cr(r,o,s.sensitivityThreshold)||(g=!0),m++;return t=function(e,t,n,r){for(var o,i,a=new Array(n.k),u=0;u<a.length;u++)a[u]=[];for(var s=0;s<t.length;s++){o=-1/0,i=-1;for(var l=0;l<t[0].length;l++)t[s][l]>o&&(o=t[s][l],i=l);a[i].push(e[s])}for(var c=0;c<a.length;c++)a[c]=r.collection(a[c]);return a}(u,r,s,a),{clusters:t,degreeOfMembership:r}},Mr={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),o=null,i=Or(e),a=new Array(i.k),u={};i.testMode?"number"===typeof i.testCentroids?(i.testCentroids,t=xr(r,i.k,i.attributes)):t="object"===w(i.testCentroids)?i.testCentroids:xr(r,i.k,i.attributes):t=xr(r,i.k,i.attributes);for(var s=!0,l=0;s&&l<i.maxIterations;){for(var c=0;c<r.length;c++)u[(o=r[c]).id()]=Sr(o,t,i.distance,i.attributes,"kMeans");s=!1;for(var f=0;f<i.k;f++){var d=Pr(f,r,u);if(0!==d.length){for(var h=i.attributes.length,p=t[f],v=new Array(h),y=new Array(h),g=0;g<h;g++){y[g]=0;for(var m=0;m<d.length;m++)o=d[m],y[g]+=i.attributes[g](o);v[g]=y[g]/d.length,Tr(v[g],p[g],i.sensitivityThreshold)||(s=!0)}t[f]=v,a[f]=n.collection(d)}}l++}return a},kMedoids:function(e){var t,n,r=this.cy(),o=this.nodes(),i=null,a=Or(e),u=new Array(a.k),s={},l=new Array(a.k);a.testMode?"number"===typeof a.testCentroids||(t="object"===w(a.testCentroids)?a.testCentroids:Ar(o,a.k)):t=Ar(o,a.k);for(var c=!0,f=0;c&&f<a.maxIterations;){for(var d=0;d<o.length;d++)s[(i=o[d]).id()]=Sr(i,t,a.distance,a.attributes,"kMedoids");c=!1;for(var h=0;h<t.length;h++){var p=Pr(h,o,s);if(0!==p.length){l[h]=jr(t[h],p,a.attributes);for(var v=0;v<p.length;v++)(n=jr(p[v],p,a.attributes))<l[h]&&(l[h]=n,t[h]=p[v],c=!0);u[h]=r.collection(p)}}f++}return u},fuzzyCMeans:Nr,fcm:Nr},Dr=Ot({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Lr={single:"min",complete:"max"},Fr=function(e,t,n,r,o){for(var i,a=0,u=1/0,s=o.attributes,l=function(e,t){return _r(o.distance,s.length,function(t){return s[t](e)},function(e){return s[e](t)},e,t)},c=0;c<e.length;c++){var f=e[c].key,d=n[f][r[f]];d<u&&(a=f,u=d)}if("threshold"===o.mode&&u>=o.threshold||"dendrogram"===o.mode&&1===e.length)return!1;var h,p=t[a],v=t[r[a]];h="dendrogram"===o.mode?{left:p,right:v,key:p.key}:{value:p.value.concat(v.value),key:p.key},e[p.index]=h,e.splice(v.index,1),t[p.key]=h;for(var y=0;y<e.length;y++){var g=e[y];p.key===g.key?i=1/0:"min"===o.linkage?(i=n[p.key][g.key],n[p.key][g.key]>n[v.key][g.key]&&(i=n[v.key][g.key])):"max"===o.linkage?(i=n[p.key][g.key],n[p.key][g.key]<n[v.key][g.key]&&(i=n[v.key][g.key])):i="mean"===o.linkage?(n[p.key][g.key]*p.size+n[v.key][g.key]*v.size)/(p.size+v.size):"dendrogram"===o.mode?l(g.value,p.value):l(g.value[0],p.value[0]),n[p.key][g.key]=n[g.key][p.key]=i}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===p.key||r[b]===v.key){for(var _=b,w=0;w<e.length;w++){var O=e[w].key;n[b][O]<n[b][_]&&(_=O)}r[b]=_}e[m].index=m}return p.key=v.key=p.index=v.index=null,!0},Ur=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&Ur(e.left,t),e.right&&Ur(e.right,t)))},Br=function(e,t){if(!e)return"";if(e.left&&e.right){var n=Br(e.left,t),r=Br(e.right,t),o=t.add({group:"nodes",data:{id:n+","+r}});return t.add({group:"edges",data:{source:n,target:o.id()}}),t.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return e.value?e.value.id():void 0},zr=function(e,t,n){if(!e)return[];var r=[],o=[],i=[];return 0===t?(e.left&&Ur(e.left,r),e.right&&Ur(e.right,o),i=r.concat(o),[n.collection(i)]):1===t?e.value?[n.collection(e.value)]:(e.left&&Ur(e.left,r),e.right&&Ur(e.right,o),[n.collection(r),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(r=zr(e.left,t-1,n)),e.right&&(o=zr(e.right,t-1,n)),r.concat(o))},Vr=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Dr(e),n=Lr[t.linkage];return null!=n&&(t.linkage=n),t}(e),o=r.attributes,i=function(e,t){return _r(r.distance,o.length,function(t){return o[t](e)},function(e){return o[e](t)},e,t)},a=[],u=[],s=[],l=[],c=0;c<n.length;c++){var f={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=f,l[c]=f,u[c]=[],s[c]=0}for(var d=0;d<a.length;d++)for(var h=0;h<=d;h++){var p=void 0;p="dendrogram"===r.mode?d===h?1/0:i(a[d].value,a[h].value):d===h?1/0:i(a[d].value[0],a[h].value[0]),u[d][h]=p,u[h][d]=p,p<u[d][s[d]]&&(s[d]=h)}for(var v,y=Fr(a,l,u,s,r);y;)y=Fr(a,l,u,s,r);return"dendrogram"===r.mode?(v=zr(a[0],r.dendrogramDepth,t),r.addDendrogram&&Br(a[0],t)):(v=new Array(a.length),a.forEach(function(e,n){e.key=e.index=null,v[n]=t.collection(e.value)})),v},Wr={hierarchicalClustering:Vr,hca:Vr},Hr=Ot({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qr=function(e,t,n,r){var o=function(e,t){return r[t](e)};return-_r(e,r.length,function(e){return o(t,e)},function(e){return o(n,e)},t,n)},Gr=function(e,t){var n=null;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var i=0,a=e.length-1;a>=0;a--){var u=e[a];o?isFinite(u)||(e[a]=-1/0,i++):e.splice(a,1)}r&&e.sort(function(e,t){return e-t});var s=e.length,l=Math.floor(s/2);return s%2!==0?e[l+1+i]:(e[l-1+i]+e[l+i])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,o=0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r+=a,o++)}return r/o}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.min(i,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,o=t;o<n;o++){var i=e[o];isFinite(i)&&(r=Math.max(i,r))}return r}(e):t,n},Yr=function(e,t,n){for(var r=[],o=0;o<e;o++){for(var i=-1,a=-1/0,u=0;u<n.length;u++){var s=n[u];t[o*e+s]>a&&(i=s,a=t[o*e+s])}i>0&&r.push(i)}for(var l=0;l<n.length;l++)r[n[l]]=n[l];return r},Xr=function(e){for(var t,n,r,o,i,a,u=this.cy(),s=this.nodes(),l=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||vt("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||se(n)||vt("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Hr(e)}(e),c={},f=0;f<s.length;f++)c[s[f].id()]=f;n=(t=s.length)*t,r=new Array(n);for(var d=0;d<n;d++)r[d]=-1/0;for(var h=0;h<t;h++)for(var p=0;p<t;p++)h!==p&&(r[h*t+p]=qr(l.distance,s[h],s[p],l.attributes));o=Gr(r,l.preference);for(var v=0;v<t;v++)r[v*t+v]=o;i=new Array(n);for(var y=0;y<n;y++)i[y]=0;a=new Array(n);for(var g=0;g<n;g++)a[g]=0;for(var m=new Array(t),b=new Array(t),_=new Array(t),w=0;w<t;w++)m[w]=0,b[w]=0,_[w]=0;for(var O,E=new Array(t*l.minIterations),x=0;x<E.length;x++)E[x]=0;for(O=0;O<l.maxIterations;O++){for(var S=0;S<t;S++){for(var P=-1/0,T=-1/0,C=-1,k=0,A=0;A<t;A++)m[A]=i[S*t+A],(k=a[S*t+A]+r[S*t+A])>=P?(T=P,P=k,C=A):k>T&&(T=k);for(var j=0;j<t;j++)i[S*t+j]=(1-l.damping)*(r[S*t+j]-P)+l.damping*m[j];i[S*t+C]=(1-l.damping)*(r[S*t+C]-T)+l.damping*m[C]}for(var R=0;R<t;R++){for(var I=0,N=0;N<t;N++)m[N]=a[N*t+R],b[N]=Math.max(0,i[N*t+R]),I+=b[N];I-=b[R],b[R]=i[R*t+R],I+=b[R];for(var M=0;M<t;M++)a[M*t+R]=(1-l.damping)*Math.min(0,I-b[M])+l.damping*m[M];a[R*t+R]=(1-l.damping)*(I-b[R])+l.damping*m[R]}for(var D=0,L=0;L<t;L++){var F=a[L*t+L]+i[L*t+L]>0?1:0;E[O%l.minIterations*t+L]=F,D+=F}if(D>0&&(O>=l.minIterations-1||O==l.maxIterations-1)){for(var U=0,B=0;B<t;B++){_[B]=0;for(var z=0;z<l.minIterations;z++)_[B]+=E[z*t+B];0!==_[B]&&_[B]!==l.minIterations||U++}if(U===t)break}}for(var V=function(e,t,n){for(var r=[],o=0;o<e;o++)t[o*e+o]+n[o*e+o]>0&&r.push(o);return r}(t,i,a),W=function(e,t,n){for(var r=Yr(e,t,n),o=0;o<n.length;o++){for(var i=[],a=0;a<r.length;a++)r[a]===n[o]&&i.push(a);for(var u=-1,s=-1/0,l=0;l<i.length;l++){for(var c=0,f=0;f<i.length;f++)c+=t[i[f]*e+i[l]];c>s&&(u=l,s=c)}n[o]=i[u]}return Yr(e,t,n)}(t,r,V),H={},q=0;q<V.length;q++)H[V[q]]=[];for(var G=0;G<s.length;G++){var Y=W[c[s[G].id()]];null!=Y&&H[Y].push(s[G])}for(var X=new Array(V.length),K=0;K<V.length;K++)X[K]=u.collection(H[V[K]]);return X},Kr={affinityPropagation:Xr,ap:Xr},Zr=Ot({root:void 0,directed:!1}),$r={hierholzer:function(e){if(!ue(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,o,i=Zr(e),a=i.root,u=i.directed,s=this,l=!1;a&&(o=oe(a)?this.filter(a)[0].id():a[0].id());var c={},f={};u?s.forEach(function(e){var t=e.id();if(e.isNode()){var o=e.indegree(!0),i=e.outdegree(!0),a=o-i,u=i-o;1==a?n?l=!0:n=t:1==u?r?l=!0:r=t:(u>1||a>1)&&(l=!0),c[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&c[t].push(e.id())})}else f[t]=[void 0,e.target().id()]}):s.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?l=!0:r=t:n=t),c[t]=[],e.connectedEdges().forEach(function(e){return c[t].push(e.id())})):f[t]=[e.source().id(),e.target().id()]});var d={found:!1,trail:void 0};if(l)return d;if(r&&n)if(u){if(o&&r!=o)return d;o=r}else{if(o&&r!=o&&n!=o)return d;o||(o=r)}else o||(o=s[0].id());var h=function(e){for(var t,n,r,o=e,i=[e];c[o].length;)t=c[o].shift(),n=f[t][0],o!=(r=f[t][1])?(c[r]=c[r].filter(function(e){return e!=t}),o=r):u||o==n||(c[n]=c[n].filter(function(e){return e!=t}),o=n),i.unshift(t),i.unshift(o);return i},p=[],v=[];for(v=h(o);1!=v.length;)0==c[v[0]].length?(p.unshift(s.getElementById(v.shift())),p.unshift(s.getElementById(v.shift()))):v=h(v.shift()).concat(v);for(var y in p.unshift(s.getElementById(v.shift())),c)if(c[y].length)return d;return d.found=!0,d.trail=this.spawn(p,!0),d}},Qr=function(){var e=this,t={},n=0,r=0,o=[],i=[],a={},u=function(s,l,c){s===c&&(r+=1),t[l]={id:n,low:n++,cutVertex:!1};var f,d,h,p,v=e.getElementById(l).connectedEdges().intersection(e);0===v.size()?o.push(e.spawn(e.getElementById(l))):v.forEach(function(n){f=n.source().id(),d=n.target().id(),(h=f===l?d:f)!==c&&(p=n.id(),a[p]||(a[p]=!0,i.push({x:l,y:h,edge:n})),h in t?t[l].low=Math.min(t[l].low,t[h].id):(u(s,h,l),t[l].low=Math.min(t[l].low,t[h].low),t[l].id<=t[h].low&&(t[l].cutVertex=!0,function(n,r){for(var a=i.length-1,u=[],s=e.spawn();i[a].x!=n||i[a].y!=r;)u.push(i.pop().edge),a--;u.push(i.pop().edge),u.forEach(function(n){var r=n.connectedNodes().intersection(e);s.merge(n),r.forEach(function(n){var r=n.id(),o=n.connectedEdges().intersection(e);s.merge(n),t[r].cutVertex?s.merge(o.filter(function(e){return e.isLoop()})):s.merge(o)})}),o.push(s)}(l,h))))})};e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(r=0,u(n,n),t[n].cutVertex=r>1)}});var s=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(s),components:o}},Jr=function(){var e=this,t={},n=0,r=[],o=[],i=e.spawn(e),a=function(u){if(o.push(u),t[u]={index:n,low:n++,explored:!1},e.getElementById(u).connectedEdges().intersection(e).forEach(function(e){var n=e.target().id();n!==u&&(n in t||a(n),t[n].explored||(t[u].low=Math.min(t[u].low,t[n].low)))}),t[u].index===t[u].low){for(var s=e.spawn();;){var l=o.pop();if(s.merge(e.getElementById(l)),t[l].low=t[u].index,t[l].explored=!0,l===u)break}var c=s.edgesWith(s),f=s.merge(c);r.push(f),i=i.difference(f)}};return e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||a(n)}}),{cut:i,components:r}},eo={};[Rt,Vt,Wt,qt,Yt,Kt,Jt,Kn,$n,Jn,tr,fr,Mr,Wr,Kr,$r,{hopcroftTarjanBiconnected:Qr,htbc:Qr,htb:Qr,hopcroftTarjanBiconnectedComponents:Qr},{tarjanStronglyConnected:Jr,tsc:Jr,tscc:Jr,tarjanStronglyConnectedComponents:Jr}].forEach(function(e){ke(eo,e)});var to=function(e){if(!(this instanceof to))return new to(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"===typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};to.prototype={fulfill:function(e){return no(this,1,"fulfillValue",e)},reject:function(e){return no(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new to;return n.onFulfilled.push(io(e,r,"fulfill")),n.onRejected.push(io(t,r,"reject")),ro(n),r.proxy}};var no=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,ro(e)),e},ro=function(e){1===e.state?oo(e,"onFulfilled",e.fulfillValue):2===e.state&&oo(e,"onRejected",e.rejectReason)},oo=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var o=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"===typeof setImmediate?setImmediate(o):setTimeout(o,0)}},io=function(e,t,n){return function(r){if("function"!==typeof e)t[n].call(t,r);else{var o;try{o=e(r)}catch(om){return void t.reject(om)}ao(t,o)}}},ao=function(e,t){if(e!==t&&e.proxy!==t){var n;if("object"===w(t)&&null!==t||"function"===typeof t)try{n=t.then}catch(om){return void e.reject(om)}if("function"!==typeof n)e.fulfill(t);else{var r=!1;try{n.call(t,function(n){r||(r=!0,n===t?e.reject(new TypeError("circular thenable chain")):ao(e,n))},function(t){r||(r=!0,e.reject(t))})}catch(om){r||e.reject(om)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};to.all=function(e){return new to(function(t,n){for(var r=new Array(e.length),o=0,i=function(n,i){r[n]=i,++o===e.length&&t(r)},a=0;a<e.length;a++)(function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){i(t,e)},function(e){n(e)}):i(t,r)})(a)})},to.resolve=function(e){return new to(function(t,n){t(e)})},to.reject=function(e){return new to(function(t,n){n(e)})};var uo="undefined"!==typeof Promise?Promise:to,so=function(e,t,n){var r=he(e),o=!r,i=this._private=ke({duration:1e3},t,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&ie(i.complete)&&i.completes.push(i.complete),o){var a=e.position();i.startPosition=i.startPosition||{x:a.x,y:a.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var u=e.pan();i.startPan={x:u.x,y:u.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},lo=so.prototype;ke(lo,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),ce(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var o=e.style[r],i=o.name,a=e.startStyle[i];e.startStyle[i]=o,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;if("frame"===e)t=n.frames;else t=n.completes;return new uo(function(e,n){t.push(function(){e()})})}}),lo.complete=lo.completed,lo.run=lo.play,lo.running=lo.playing;var co,fo,ho,po,vo,yo,go,mo,bo,_o,wo,Oo,Eo,xo,So,Po,To,Co,ko,Ao,jo,Ro,Io,No,Mo,Do,Lo,Fo,Uo,Bo,zo,Vo,Wo,Ho,qo,Go,Yo,Xo,Ko,Zo,$o,Qo,Jo,ei,ti,ni,ri,oi,ii,ai,ui,si,li,ci,fi,di,hi,pi,vi,yi,gi,mi,bi,_i,wi,Oi,Ei,xi,Si,Pi,Ti,Ci,ki,Ai,ji,Ri,Ii,Ni,Mi,Di,Li,Fi,Ui,Bi,zi,Vi,Wi={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,o=r?n:[n],i=this._private.cy||this,a=!r,u=!a;if(!i.styleEnabled())return this;var s=i.style();if(e=ke({},e,t),0===Object.keys(e).length)return new so(o[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(u&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),u&&null!=e.renderedPosition){var l=e.renderedPosition,c=i.pan(),f=i.zoom();e.position=tn(l,f,c)}if(a&&null!=e.panBy){var d=e.panBy,h=i.pan();e.pan={x:h.x+d.x,y:h.y+d.y}}var p=e.center||e.centre;if(a&&null!=p){var v=i.getCenterPan(p.eles,e.zoom);null!=v&&(e.pan=v)}if(a&&null!=e.fit){var y=e.fit,g=i.getFitViewport(y.eles||y.boundingBox,y.padding);null!=g&&(e.pan=g.pan,e.zoom=g.zoom)}if(a&&ue(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m?(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan)):e.zoom=null}return new so(o[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=ke({},e,t));for(var o=0;o<r.length;o++){var i=r[o],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var i=0;i<r.length;i++){for(var a=r[i]._private,u=a.animation.current,s=0;s<u.length;s++){var l=u[s]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return o.notify("draw"),this}}};function Hi(){if(fo)return co;fo=1;var e=Array.isArray;return co=e}function qi(){if(_o)return bo;_o=1;var e=function(){if(mo)return go;mo=1;var e=Le()["__core-js_shared__"];return go=e}(),t=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();return bo=function(e){return!!t&&t in e}}function Gi(){if(xo)return Eo;xo=1;var e=function(){if(yo)return vo;yo=1;var e=Be(),t=De();return vo=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}(),t=qi(),n=De(),r=function(){if(Oo)return wo;Oo=1;var e=Function.prototype.toString;return wo=function(t){if(null!=t){try{return e.call(t)}catch(om){}try{return t+""}catch(om){}}return""}}(),o=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,u=i.toString,s=a.hasOwnProperty,l=RegExp("^"+u.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Eo=function(i){return!(!n(i)||t(i))&&(e(i)?l:o).test(r(i))}}function Yi(){if(Co)return To;Co=1;var e=Gi(),t=(Po||(Po=1,So=function(e,t){return null==e?void 0:e[t]}),So);return To=function(n,r){var o=t(n,r);return e(o)?o:void 0},To}function Xi(){if(Ao)return ko;Ao=1;var e=Yi()(Object,"create");return ko=e}function Ki(){if(Vo)return zo;Vo=1;var e=function(){if(Ro)return jo;Ro=1;var e=Xi();return jo=function(){this.__data__=e?e(null):{},this.size=0}}(),t=No?Io:(No=1,Io=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(Do)return Mo;Do=1;var e=Xi(),t=Object.prototype.hasOwnProperty;return Mo=function(n){var r=this.__data__;if(e){var o=r[n];return"__lodash_hash_undefined__"===o?void 0:o}return t.call(r,n)?r[n]:void 0},Mo}(),r=function(){if(Fo)return Lo;Fo=1;var e=Xi(),t=Object.prototype.hasOwnProperty;return Lo=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},Lo}(),o=function(){if(Bo)return Uo;Bo=1;var e=Xi();return Uo=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},Uo}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,zo=i}function Zi(){if(Go)return qo;return Go=1,qo=function(e,t){return e===t||e!==e&&t!==t}}function $i(){if(Xo)return Yo;Xo=1;var e=Zi();return Yo=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},Yo}function Qi(){if(oi)return ri;oi=1;var e=Ho?Wo:(Ho=1,Wo=function(){this.__data__=[],this.size=0}),t=function(){if(Zo)return Ko;Zo=1;var e=$i(),t=Array.prototype.splice;return Ko=function(n){var r=this.__data__,o=e(r,n);return!(o<0)&&(o==r.length-1?r.pop():t.call(r,o,1),--this.size,!0)},Ko}(),n=function(){if(Qo)return $o;Qo=1;var e=$i();return $o=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},$o}(),r=function(){if(ei)return Jo;ei=1;var e=$i();return Jo=function(t){return e(this.__data__,t)>-1}}(),o=function(){if(ni)return ti;ni=1;var e=$i();return ti=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this},ti}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,ri=i}function Ji(){if(si)return ui;si=1;var e=Ki(),t=Qi(),n=function(){if(ai)return ii;ai=1;var e=Yi()(Le(),"Map");return ii=e}();return ui=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}function ea(){if(di)return fi;di=1;var e=(ci||(ci=1,li=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}),li);return fi=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},fi}function ta(){if(Oi)return wi;Oi=1;var e=Ji(),t=function(){if(pi)return hi;pi=1;var e=ea();return hi=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(yi)return vi;yi=1;var e=ea();return vi=function(t){return e(this,t).get(t)}}(),r=function(){if(mi)return gi;mi=1;var e=ea();return gi=function(t){return e(this,t).has(t)}}(),o=function(){if(_i)return bi;_i=1;var e=ea();return bi=function(t,n){var r=e(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this},bi}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,wi=i}function na(){if(Pi)return Si;Pi=1;var e=function(){if(xi)return Ei;xi=1;var e=ta();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=o.cache;if(i.has(t))return i.get(t);var a=n.apply(this,e);return o.cache=i.set(t,a)||i,a};return o.cache=new(t.Cache||e),o}return t.Cache=e,Ei=t}();return Si=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n},Si}function ra(){if(Ci)return Ti;Ci=1;var e=na(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,o,i){r.push(o?i.replace(n,"$1"):t||e)}),r});return Ti=r}function oa(){if(Ai)return ki;return Ai=1,ki=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ki}function ia(){if(Ni)return Ii;Ni=1;var e=function(){if(Ri)return ji;Ri=1;var e=Ue(),t=oa(),n=Hi(),r=ze(),o=e?e.prototype:void 0,i=o?o.toString:void 0;return ji=function e(o){if("string"==typeof o)return o;if(n(o))return t(o,e)+"";if(r(o))return i?i.call(o):"";var a=o+"";return"0"==a&&1/o==-1/0?"-0":a},ji}();return Ii=function(t){return null==t?"":e(t)}}function aa(){if(Di)return Mi;Di=1;var e=Hi(),t=function(){if(po)return ho;po=1;var e=Hi(),t=ze(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return ho=function(o,i){if(e(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!t(o))||r.test(o)||!n.test(o)||null!=i&&o in Object(i)},ho}(),n=ra(),r=ia();return Mi=function(o,i){return e(o)?o:t(o,i)?[o]:n(r(o))},Mi}function ua(){if(Fi)return Li;Fi=1;var e=ze();return Li=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}var sa,la,ca,fa,da,ha,pa,va,ya,ga,ma,ba,_a=function(){if(Vi)return zi;Vi=1;var e=function(){if(Bi)return Ui;Bi=1;var e=aa(),t=ua();return Ui=function(n,r){for(var o=0,i=(r=e(r,n)).length;null!=n&&o<i;)n=n[t(r[o++])];return o&&o==i?n:void 0},Ui}();return zi=function(t,n,r){var o=null==t?void 0:e(t,n);return void 0===o?r:o},zi}(),wa=Me(_a);function Oa(){if(fa)return ca;fa=1;var e=function(){if(la)return sa;la=1;var e=Yi(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(om){}}();return sa=t}();return ca=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},ca}function Ea(){if(ga)return ya;ga=1;var e=function(){if(ha)return da;ha=1;var e=Oa(),t=Zi(),n=Object.prototype.hasOwnProperty;return da=function(r,o,i){var a=r[o];n.call(r,o)&&t(a,i)&&(void 0!==i||o in r)||e(r,o,i)},da}(),t=aa(),n=function(){if(va)return pa;va=1;var e=/^(?:0|[1-9]\d*)$/;return pa=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n},pa}(),r=De(),o=ua();return ya=function(i,a,u,s){if(!r(i))return i;for(var l=-1,c=(a=t(a,i)).length,f=c-1,d=i;null!=d&&++l<c;){var h=o(a[l]),p=u;if("__proto__"===h||"constructor"===h||"prototype"===h)return i;if(l!=f){var v=d[h];void 0===(p=s?s(v,h,d):void 0)&&(p=r(v)?v:n(a[l+1])?[]:{})}e(d,h,p),d=d[h]}return i},ya}var xa,Sa,Pa,Ta,Ca=function(){if(ba)return ma;ba=1;var e=Ea();return ma=function(t,n,r){return null==t?t:e(t,n,r)},ma}(),ka=Me(Ca);var Aa=function(){if(Ta)return Pa;Ta=1;var e=oa(),t=(Sa||(Sa=1,xa=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}),xa),n=Hi(),r=ze(),o=ra(),i=ua(),a=ia();return Pa=function(u){return n(u)?e(u,i):r(u)?[u]:t(o(a(u)))}}(),ja=Me(Aa),Ra={data:function(e){return e=ke({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,o=this,i=void 0!==o.length,a=i?o:[o],u=i?o[0]:o;if(oe(t)){var s,l=-1!==t.indexOf(".")&&ja(t);if(r.allowGetting&&void 0===n)return u&&(r.beforeGet(u),s=l&&void 0===u._private[r.field][t]?wa(u._private[r.field],l):u._private[r.field][t]),s;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var c=g({},t,n);r.beforeSet(o,c);for(var f=0,d=a.length;f<d;f++){var h=a[f];r.canSet(h)&&(l&&void 0===u._private[r.field][t]?ka(h._private[r.field],l,n):h._private[r.field][t]=n)}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&ue(t)){var p,v,y=t,m=Object.keys(y);r.beforeSet(o,y);for(var b=0;b<m.length;b++){if(v=y[p=m[b]],!r.immutableKeys[p])for(var _=0;_<a.length;_++){var w=a[_];r.canSet(w)&&(w._private[r.field][p]=v)}}r.updateStyle&&o.updateStyle(),r.onSet(o),r.settingTriggersEvent&&o[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&ie(t)){var O=t;o.on(r.bindingEvent,O)}else if(r.allowGetting&&void 0===t){var E;return u&&(r.beforeGet(u),E=u._private[r.field]),E}return o}},removeData:function(e){return e=ke({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,o=void 0!==r.length?r:[r];if(oe(t)){for(var i=t.split(/\s+/),a=i.length,u=0;u<a;u++){var s=i[u];if(!ve(s))if(!n.immutableKeys[s])for(var l=0,c=o.length;l<c;l++)o[l]._private[n.field][s]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var f=0,d=o.length;f<d;f++)for(var h=o[f]._private[n.field],p=Object.keys(h),v=0;v<p.length;v++){var y=p[v];!n.immutableKeys[y]&&(h[y]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},Ia={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new uo(function(e,t){var o=r.concat([function(t){n.off.apply(n,i),e(t)}]),i=o.concat([]);n.on.apply(n,o)})}}},Na={};[Wi,Ra,Ia].forEach(function(e){ke(Na,e)});var Ma={animate:Na.animate(),animation:Na.animation(),animated:Na.animated(),clearQueue:Na.clearQueue(),delay:Na.delay(),delayAnimation:Na.delayAnimation(),stop:Na.stop()},Da={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach(function(e){return n.push(e)}),n}ae(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],o=new kt(e),i=0;i<t.length;i++){for(var a=t[i],u=a._private,s=u.classes,l=!1,c=0;c<e.length;c++){var f=e[c];if(!s.has(f)){l=!0;break}}l||(l=s.size!==e.length),l&&(u.classes=o,r.push(a))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){ae(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,o=[],i=0,a=n.length;i<a;i++)for(var u=n[i],s=u._private.classes,l=!1,c=0;c<e.length;c++){var f=e[c],d=s.has(f),h=!1;t||r&&!d?(s.add(f),h=!0):(!t||r&&d)&&(s.delete(f),h=!0),!l&&h&&(o.push(u),l=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};Da.className=Da.classNames=Da.classes;var La={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Ee,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};La.variable="(?:[\\w-.]|(?:\\\\"+La.metaChar+"))+",La.className="(?:[\\w-]|(?:\\\\"+La.metaChar+"))+",La.value=La.string+"|"+La.number,La.id=La.variable,function(){var e,t,n;for(e=La.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],La.comparatorOp+="|@"+t;for(e=La.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(La.comparatorOp+="|\\!"+t)}();var Fa=0,Ua=1,Ba=2,za=3,Va=4,Wa=5,Ha=6,qa=7,Ga=8,Ya=9,Xa=10,Ka=11,Za=12,$a=13,Qa=14,Ja=15,eu=16,tu=17,nu=18,ru=19,ou=20,iu=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*Ce(e,t)}(e.selector,t.selector)}),au=function(){for(var e,t={},n=0;n<iu.length;n++)t[(e=iu[n]).selector]=e.matches;return t}(),uu="("+iu.map(function(e){return e.selector}).join("|")+")",su=function(e){return e.replace(new RegExp("\\\\("+La.metaChar+")","g"),function(e,t){return t})},lu=function(e,t,n){e[e.length-1]=n},cu=[{name:"group",query:!0,regex:"("+La.group+")",populate:function(e,t,n){var r=m(n,1)[0];t.checks.push({type:Fa,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:uu,populate:function(e,t,n){var r=m(n,1)[0];t.checks.push({type:qa,value:r})}},{name:"id",query:!0,regex:"\\#("+La.id+")",populate:function(e,t,n){var r=m(n,1)[0];t.checks.push({type:Ga,value:su(r)})}},{name:"className",query:!0,regex:"\\.("+La.className+")",populate:function(e,t,n){var r=m(n,1)[0];t.checks.push({type:Ya,value:su(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+La.variable+")\\s*\\]",populate:function(e,t,n){var r=m(n,1)[0];t.checks.push({type:Va,field:su(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+La.variable+")\\s*("+La.comparatorOp+")\\s*("+La.value+")\\s*\\]",populate:function(e,t,n){var r=m(n,3),o=r[0],i=r[1],a=r[2];a=null!=new RegExp("^"+La.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),t.checks.push({type:za,field:su(o),operator:i,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+La.boolOp+")\\s*("+La.variable+")\\s*\\]",populate:function(e,t,n){var r=m(n,2),o=r[0],i=r[1];t.checks.push({type:Wa,field:su(i),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+La.meta+")\\s*("+La.comparatorOp+")\\s*("+La.number+")\\s*\\]\\]",populate:function(e,t,n){var r=m(n,3),o=r[0],i=r[1],a=r[2];t.checks.push({type:Ha,field:su(o),operator:i,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:La.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,o=e.compoundCount,i=e[e.length-1];return null!=n&&(i.subject=n,e.currentSubject=null),i.edgeCount=r,i.compoundCount=o,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:La.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:Ka,source:r,target:o}),lu(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,u={checks:[]};return i.checks.push({type:Za,source:a,target:u}),lu(e,0,i),e.edgeCount++,u}},{name:"undirectedEdge",separator:!0,regex:La.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,o={checks:[]};return n.checks.push({type:Xa,nodes:[r,o]}),lu(e,0,n),e.edgeCount++,o}var i={checks:[]},a=t,u={checks:[]};return i.checks.push({type:Qa,node:a,neighbor:u}),lu(e,0,i),u}},{name:"child",separator:!0,regex:La.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:Ja,parent:o,child:r}),lu(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],u={checks:[]},s={checks:[]},l={checks:[]},c={checks:[]};return i.checks.push({type:ru,left:a,right:u,subject:s}),s.checks=t.checks,t.checks=[{type:ou}],c.checks.push({type:ou}),u.checks.push({type:tu,parent:c,child:l}),lu(e,0,i),e.currentSubject=s,e.compoundCount++,l}var f={checks:[]},d={checks:[]},h=[{type:tu,parent:f,child:d}];return f.checks=t.checks,t.checks=h,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:La.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},o=e[e.length-1];return n.checks.push({type:eu,ancestor:o,descendant:r}),lu(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},a=e[e.length-1],u={checks:[]},s={checks:[]},l={checks:[]},c={checks:[]};return i.checks.push({type:ru,left:a,right:u,subject:s}),s.checks=t.checks,t.checks=[{type:ou}],c.checks.push({type:ou}),u.checks.push({type:nu,ancestor:c,descendant:l}),lu(e,0,i),e.currentSubject=s,e.compoundCount++,l}var f={checks:[]},d={checks:[]},h=[{type:nu,ancestor:f,descendant:d}];return f.checks=t.checks,t.checks=h,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:La.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return gt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Ka?n.type=$a:r===Xa&&(n.type=Qa,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];cu.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var fu=function(e){for(var t,n,r,o=0;o<cu.length;o++){var i=cu[o],a=i.name,u=e.match(i.regexObj);if(null!=u){n=u,t=i,r=a;var s=u[0];e=e.substring(s.length);break}}return{expr:t,match:n,name:r,remaining:e}},du={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var o=fu(n);if(null==o.expr)return gt("The selector `"+e+"`is invalid"),!1;var i=o.match.slice(1),a=o.expr.populate(t,r,i);if(!1===a)return!1;if(null!=a&&(r=a),(n=o.remaining).match(/^\s*$/))break}var u=t[t.length-1];null!=t.currentSubject&&(u.subject=t.currentSubject),u.edgeCount=t.edgeCount,u.compoundCount=t.compoundCount;for(var s=0;s<t.length;s++){var l=t[s];if(l.compoundCount>0&&l.edgeCount>0)return gt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return gt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&gt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return oe(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,i){var a=r.type,u=r.value;switch(a){case Fa:var s=e(u);return s.substring(0,s.length-1);case za:var l=r.field,c=r.operator;return"["+l+n(e(c))+t(u)+"]";case Wa:var f=r.operator,d=r.field;return"["+e(f)+d+"]";case Va:return"["+r.field+"]";case Ha:var h=r.operator;return"[["+r.field+n(e(h))+t(u)+"]]";case qa:return u;case Ga:return"#"+u;case Ya:return"."+u;case tu:case Ja:return o(r.parent,i)+n(">")+o(r.child,i);case nu:case eu:return o(r.ancestor,i)+" "+o(r.descendant,i);case ru:var p=o(r.left,i),v=o(r.subject,i),y=o(r.right,i);return p+(p.length>0?" ":"")+v+y;case ou:return""}},o=function(e,t){return e.checks.reduce(function(n,o,i){return n+(t===e&&0===i?"$":"")+r(o,t)},"")},i="",a=0;a<this.length;a++){var u=this[a];i+=o(u,u.subject),this.length>1&&a<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},hu=function(e,t,n){var r,o,i,a=oe(e),u=se(e),s=oe(n),l=!1,c=!1,f=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),l=!0),(a||s||l)&&(o=a||u?""+e:"",i=""+n),l&&(e=o=o.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":r=o.indexOf(i)>=0;break;case"$=":r=o.indexOf(i,o.length-i.length)>=0;break;case"^=":r=0===o.indexOf(i);break;case"=":r=e===n;break;case">":f=!0,r=e>n;break;case">=":f=!0,r=e>=n;break;case"<":f=!0,r=e<n;break;case"<=":f=!0,r=e<=n;break;default:r=!1}return!c||null==e&&f||(r=!r),r},pu=function(e,t){return e.data(t)},vu=[],yu=function(e,t){return e.checks.every(function(e){return vu[e.type](e,t)})};vu[Fa]=function(e,t){var n=e.value;return"*"===n||n===t.group()},vu[qa]=function(e,t){return function(e,t){return au[e](t)}(e.value,t)},vu[Ga]=function(e,t){var n=e.value;return t.id()===n},vu[Ya]=function(e,t){var n=e.value;return t.hasClass(n)},vu[Ha]=function(e,t){var n=e.field,r=e.operator,o=e.value;return hu(function(e,t){return e[t]()}(t,n),r,o)},vu[za]=function(e,t){var n=e.field,r=e.operator,o=e.value;return hu(pu(t,n),r,o)},vu[Wa]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(pu(t,n),r)},vu[Va]=function(e,t){var n=e.field;return e.operator,void 0!==pu(t,n)},vu[Xa]=function(e,t){var n=e.nodes[0],r=e.nodes[1],o=t.source(),i=t.target();return yu(n,o)&&yu(r,i)||yu(r,o)&&yu(n,i)},vu[Qa]=function(e,t){return yu(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&yu(e.neighbor,t)})},vu[Ka]=function(e,t){return yu(e.source,t.source())&&yu(e.target,t.target())},vu[Za]=function(e,t){return yu(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&yu(e.target,t)})},vu[$a]=function(e,t){return yu(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&yu(e.source,t)})},vu[Ja]=function(e,t){return yu(e.child,t)&&yu(e.parent,t.parent())},vu[tu]=function(e,t){return yu(e.parent,t)&&t.children().some(function(t){return yu(e.child,t)})},vu[eu]=function(e,t){return yu(e.descendant,t)&&t.ancestors().some(function(t){return yu(e.ancestor,t)})},vu[nu]=function(e,t){return yu(e.ancestor,t)&&t.descendants().some(function(t){return yu(e.descendant,t)})},vu[ru]=function(e,t){return yu(e.subject,t)&&yu(e.left,t)&&yu(e.right,t)},vu[ou]=function(){return!0},vu[Ua]=function(e,t){return e.value.has(t)},vu[Ba]=function(e,t){return(0,e.value)(t)};var gu={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(yu(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Ga)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(yu(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},mu=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||oe(e)&&e.match(/^\s*$/)||(ce(e)?this.addQuery({checks:[{type:Ua,value:e.collection()}]}):ie(e)?this.addQuery({checks:[{type:Ba,value:e}]}):oe(e)?this.parse(e)||(this.invalid=!0):vt("A selector must be created from a string; found "))},bu=mu.prototype;[du,gu].forEach(function(e){return ke(bu,e)}),bu.text=function(){return this.inputText},bu.size=function(){return this.length},bu.eq=function(e){return this[e]},bu.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},bu.addQuery=function(e){this[this.length++]=e},bu.selector=bu.toString;var _u={allAre:function(e){var t=new mu(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new mu(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};_u.allAreNeighbours=_u.allAreNeighbors,_u.has=_u.contains,_u.equal=_u.equals=_u.same;var wu,Ou,Eu=function(e,t){return function(n,r,o,i){var a,u=n,s=this;if(null==u?a="":ce(u)&&1===u.length&&(a=u.id()),1===s.length&&a){var l=s[0]._private,c=l.traversalCache=l.traversalCache||{},f=c[t]=c[t]||[],d=rt(a),h=f[d];return h||(f[d]=e.call(s,n,r,o,i))}return e.call(s,n,r,o,i)}},xu={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var o=this[r]._private.parent;o&&t.push(o)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var o=n[r];t.push(o)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:Eu(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,o=0;o<r.length;o++)t.push(r[o]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var o=n[r];t.push(o),o.children().nonempty()&&e(o.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function Su(e,t,n,r){for(var o=[],i=new kt,a=e.cy().hasCompoundNodes(),u=0;u<e.length;u++){var s=e[u];n?o.push(s):a&&r(o,i,s)}for(;o.length>0;){var l=o.shift();t(l),i.add(l.id()),a&&r(o,i,l)}return e}function Pu(e,t,n){if(n.isParent())for(var r=n._private.children,o=0;o<r.length;o++){var i=r[o];t.has(i.id())||e.push(i)}}function Tu(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function Cu(e,t,n){Tu(e,t,n),Pu(e,t,n)}xu.forEachDown=function(e){return Su(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Pu)},xu.forEachUp=function(e){return Su(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Tu)},xu.forEachUpAndDown=function(e){return Su(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Cu)},xu.ancestors=xu.parents,(wu=Ou={data:Na.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Na.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Na.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Na.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Na.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Na.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=wu.data,wu.removeAttr=wu.removeData;var ku,Au,ju=Ou,Ru={};function Iu(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,o=n[0],i=o._private.edges,a=0;a<i.length;a++){var u=i[a];!t&&u.isLoop()||(r+=e(o,u))}return r}}}function Nu(e,t){return function(n){for(var r,o=this.nodes(),i=0;i<o.length;i++){var a=o[i][e](n);void 0===a||void 0!==r&&!t(a,r)||(r=a)}return r}}ke(Ru,{degree:Iu(function(e,t){return t.source().same(t.target())?2:1}),indegree:Iu(function(e,t){return t.target().same(e)?1:0}),outdegree:Iu(function(e,t){return t.source().same(e)?1:0})}),ke(Ru,{minDegree:Nu("degree",function(e,t){return e<t}),maxDegree:Nu("degree",function(e,t){return e>t}),minIndegree:Nu("indegree",function(e,t){return e<t}),maxIndegree:Nu("indegree",function(e,t){return e>t}),minOutdegree:Nu("outdegree",function(e,t){return e<t}),maxOutdegree:Nu("outdegree",function(e,t){return e>t})}),ke(Ru,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var Mu=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(!o.locked()){var i=o._private.position,a={x:null!=t.x?t.x-i.x:0,y:null!=t.y?t.y-i.y:0};!o.isParent()||0===a.x&&0===a.y||o.children().shift(a,n),o.dirtyBoundingBoxCache()}}},Du={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Mu(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ku=Au={position:Na.data(Du),silentPosition:Na.data(ke({},Du,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Mu(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(ue(e))t?this.silentPosition(e):this.position(e);else if(ie(e)){var n=e,r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var i,a=this[o];(i=n(a,o))&&(t?a.silentPosition(i):a.position(i))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(ue(e)?(r={x:se(e.x)?e.x:0,y:se(e.y)?e.y:0},n=t):oe(e)&&se(t)&&((r={x:0,y:0})[e]=t),null!=r){var o=this.cy();o.startBatch();for(var i=0;i<this.length;i++){var a=this[i];if(!(o.hasCompoundNodes()&&a.isChild()&&a.ancestors().anySame(this))){var u=a.position(),s={x:u.x+r.x,y:u.y+r.y};n?a.silentPosition(s):a.position(s)}}o.endBatch()}return this},silentShift:function(e,t){return ue(e)?this.shift(e,!0):oe(e)&&se(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),o=r.zoom(),i=r.pan(),a=ue(e)?e:void 0,u=void 0!==a||void 0!==t&&oe(e);if(n&&n.isNode()){if(!u){var s=n.position();return a=en(s,o,i),void 0===e?a:a[e]}for(var l=0;l<this.length;l++){var c=this[l];void 0!==t?c.position(e,(t-i[e])/o):void 0!==a&&c.position(tn(a,o,i))}}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),o=ue(e)?e:void 0,i=void 0!==o||void 0!==t&&oe(e),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!i){var u=n.position(),s=a?n.parent():null,l=s&&s.length>0,c=l;l&&(s=s[0]);var f=c?s.position():{x:0,y:0};return o={x:u.x-f.x,y:u.y-f.y},void 0===e?o:o[e]}for(var d=0;d<this.length;d++){var h=this[d],p=a?h.parent():null,v=p&&p.length>0,y=v;v&&(p=p[0]);var g=y?p.position():{x:0,y:0};void 0!==t?h.position(e,t+g[e]):void 0!==o&&h.position({x:o.x+g.x,y:o.y+g.y})}}else if(!i)return;return this}},ku.modelPosition=ku.point=ku.position,ku.modelPositions=ku.points=ku.positions,ku.renderedPoint=ku.renderedPosition,ku.relativePoint=ku.relativePosition;var Lu,Fu,Uu=Au;Lu=Fu={},Fu.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),o=n.pan(),i=t.x1*r+o.x,a=t.x2*r+o.x,u=t.y1*r+o.y,s=t.y2*r+o.y;return{x1:i,x2:a,y1:u,y2:s,w:a-i,h:s-u}},Fu.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},Fu.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,o={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},i=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=t.position;0!==i.w&&0!==i.h||((i={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-i.w/2,i.x2=a.x+i.w/2,i.y1=a.y-i.h/2,i.y2=a.y+i.h/2);var u=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(u=100*u/o.width.val);var s=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(s=100*s/o.width.val);var l=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(l=100*l/o.height.val);var c=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(c=100*c/o.height.val);var f=g(o.width.val-i.w,u,s),d=f.biasDiff,h=f.biasComplementDiff,p=g(o.height.val-i.h,l,c),v=p.biasDiff,y=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(i.w,i.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(i.w,o.width.val),a.x=(-d+i.x1+i.x2+h)/2,t.autoHeight=Math.max(i.h,o.height.val),a.y=(-v+i.y1+i.y2+y)/2}function g(e,t,n){var r=0,o=0,i=t+n;return e>0&&i>0&&(r=t/i*e,o=n/i*e),{biasDiff:r,biasComplementDiff:o}}}for(var r=0;r<this.length;r++){var o=this[r],i=o._private;i.compoundBoundsClean&&!e||(n(o),t.batching()||(i.compoundBoundsClean=!0))}return this};var Bu=function(e){return e===1/0||e===-1/0?0:e},zu=function(e,t,n,r,o){r-t!==0&&o-n!==0&&null!=t&&null!=n&&null!=r&&null!=o&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Vu=function(e,t){return null==t?e:zu(e,t.x1,t.y1,t.x2,t.y2)},Wu=function(e,t,n){return St(e,t,n)},Hu=function(e,t,n){if(!t.cy().headless()){var r,o,i=t._private,a=i.rstyle,u=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,o=a.srcY):"target"===n?(r=a.tgtX,o=a.tgtY):(r=a.midX,o=a.midY);var s=i.arrowBounds=i.arrowBounds||{},l=s[n]=s[n]||{};l.x1=r-u,l.y1=o-u,l.x2=r+u,l.y2=o+u,l.w=l.x2-l.x1,l.h=l.y2-l.y1,yn(l,1),zu(e,l.x1,l.y1,l.x2,l.y2)}}},qu=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var o=t._private,i=o.rstyle;if(t.pstyle(r+"label").strValue){var a,u,s,l,c=t.pstyle("text-halign"),f=t.pstyle("text-valign"),d=Wu(i,"labelWidth",n),h=Wu(i,"labelHeight",n),p=Wu(i,"labelX",n),v=Wu(i,"labelY",n),y=t.pstyle(r+"text-margin-x").pfValue,g=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),_=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,O=t.pstyle("text-background-padding").pfValue,E=h,x=d,S=x/2,P=E/2;if(m)a=p-S,u=p+S,s=v-P,l=v+P;else{switch(c.value){case"left":a=p-x,u=p;break;case"center":a=p-S,u=p+S;break;case"right":a=p,u=p+x}switch(f.value){case"top":s=v-E,l=v;break;case"center":s=v-P,l=v+P;break;case"bottom":s=v,l=v+E}}var T=y-Math.max(_,w)-O-2,C=y+Math.max(_,w)+O+2,k=g-Math.max(_,w)-O-2,A=g+Math.max(_,w)+O+2;a+=T,u+=C,s+=k,l+=A;var j=n||"main",R=o.labelBounds,I=R[j]=R[j]||{};I.x1=a,I.y1=s,I.x2=u,I.y2=l,I.w=u-a,I.h=l-s,I.leftPad=T,I.rightPad=C,I.topPad=k,I.botPad=A;var N=m&&"autorotate"===b.strValue,M=null!=b.pfValue&&0!==b.pfValue;if(N||M){var D=N?Wu(o.rstyle,"labelAngle",n):b.pfValue,L=Math.cos(D),F=Math.sin(D),U=(a+u)/2,B=(s+l)/2;if(!m){switch(c.value){case"left":U=u;break;case"right":U=a}switch(f.value){case"top":B=l;break;case"bottom":B=s}}var z=function(e,t){return{x:(e-=U)*L-(t-=B)*F+U,y:e*F+t*L+B}},V=z(a,s),W=z(a,l),H=z(u,s),q=z(u,l);a=Math.min(V.x,W.x,H.x,q.x),u=Math.max(V.x,W.x,H.x,q.x),s=Math.min(V.y,W.y,H.y,q.y),l=Math.max(V.y,W.y,H.y,q.y)}var G=j+"Rot",Y=R[G]=R[G]||{};Y.x1=a,Y.y1=s,Y.x2=u,Y.y2=l,Y.w=u-a,Y.h=l-s,zu(e,a,s,u,l),zu(o.labelBounds.all,a,s,u,l)}return e}},Gu=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,r=t.pstyle("outline-width").value+t.pstyle("outline-offset").value;Yu(e,t,n,r,"outside",r/2)}},Yu=function(e,t,n,r,o,i){if(!(0===n||r<=0||"inside"===o)){var a=t.cy(),u=t.pstyle("shape").value,s=a.renderer().nodeShapes[u],l=t.position(),c=l.x,f=l.y,d=t.width(),h=t.height();if(s.hasMiterBounds){"center"===o&&(r/=2);var p=s.miterBounds(c,f,d,h,r);Vu(e,p)}else null!=i&&i>0&&gn(e,[i,i,i,i])}},Xu=function(e,t){var n,r,o,i,a,u,s,l=e._private.cy,c=l.styleEnabled(),f=l.headless(),d=hn(),h=e._private,p=e.isNode(),v=e.isEdge(),y=h.rstyle,g=p&&c?e.pstyle("bounds-expansion").pfValue:[0],m=function(e){return"none"!==e.pstyle("display").value},b=!c||m(e)&&(!v||m(e.source())&&m(e.target()));if(b){var _=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(_=e.pstyle("overlay-padding").value);var w=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var O=Math.max(_,w),E=0;if(c&&(E=e.pstyle("width").pfValue/2),p&&t.includeNodes){var x=e.position();a=x.x,u=x.y;var S=e.outerWidth()/2,P=e.outerHeight()/2;zu(d,n=a-S,o=u-P,r=a+S,i=u+P),c&&Gu(d,e),c&&t.includeOutlines&&!f&&Gu(d,e),c&&function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,r=t.pstyle("border-width").pfValue,o=t.pstyle("border-position").value;Yu(e,t,n,r,o)}}(d,e)}else if(v&&t.includeEdges)if(c&&!f){var T=e.pstyle("curve-style").strValue;if(n=Math.min(y.srcX,y.midX,y.tgtX),r=Math.max(y.srcX,y.midX,y.tgtX),o=Math.min(y.srcY,y.midY,y.tgtY),i=Math.max(y.srcY,y.midY,y.tgtY),zu(d,n-=E,o-=E,r+=E,i+=E),"haystack"===T){var C=y.haystackPts;if(C&&2===C.length){if(n=C[0].x,o=C[0].y,n>(r=C[1].x)){var k=n;n=r,r=k}if(o>(i=C[1].y)){var A=o;o=i,i=A}zu(d,n-E,o-E,r+E,i+E)}}else if("bezier"===T||"unbundled-bezier"===T||Oe(T,"segments")||Oe(T,"taxi")){var j;switch(T){case"bezier":case"unbundled-bezier":j=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":j=y.linePts}if(null!=j)for(var R=0;R<j.length;R++){var I=j[R];n=I.x-E,r=I.x+E,o=I.y-E,i=I.y+E,zu(d,n,o,r,i)}}}else{var N=e.source().position(),M=e.target().position();if((n=N.x)>(r=M.x)){var D=n;n=r,r=D}if((o=N.y)>(i=M.y)){var L=o;o=i,i=L}zu(d,n-=E,o-=E,r+=E,i+=E)}if(c&&t.includeEdges&&v&&(Hu(d,e,"mid-source"),Hu(d,e,"mid-target"),Hu(d,e,"source"),Hu(d,e,"target")),c)if("yes"===e.pstyle("ghost").value){var F=e.pstyle("ghost-offset-x").pfValue,U=e.pstyle("ghost-offset-y").pfValue;zu(d,d.x1+F,d.y1+U,d.x2+F,d.y2+U)}var B=h.bodyBounds=h.bodyBounds||{};mn(B,d),gn(B,g),yn(B,1),c&&(n=d.x1,r=d.x2,o=d.y1,i=d.y2,zu(d,n-O,o-O,r+O,i+O));var z=h.overlayBounds=h.overlayBounds||{};mn(z,d),gn(z,g),yn(z,1);var V=h.labelBounds=h.labelBounds||{};null!=V.all?((s=V.all).x1=1/0,s.y1=1/0,s.x2=-1/0,s.y2=-1/0,s.w=0,s.h=0):V.all=hn(),c&&t.includeLabels&&(t.includeMainLabels&&qu(d,e,null),v&&(t.includeSourceLabels&&qu(d,e,"source"),t.includeTargetLabels&&qu(d,e,"target")))}return d.x1=Bu(d.x1),d.y1=Bu(d.y1),d.x2=Bu(d.x2),d.y2=Bu(d.y2),d.w=Bu(d.x2-d.x1),d.h=Bu(d.y2-d.y1),d.w>0&&d.h>0&&b&&(gn(d,g),yn(d,1)),d},Ku=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays),r+=n(e.includeOutlines)},Zu=function(e){var t=function(e){return Math.round(e)};if(e.isEdge()){var n=e.source().position(),r=e.target().position();return nt([t(n.x),t(n.y),t(r.x),t(r.y)])}var o=e.position();return nt([t(o.x),t(o.y)])},$u=function(e,t){var n,r=e._private,o=e.isEdge(),i=(null==t?Ju:Ku(t))===Ju;if(null==r.bbCache?(n=Xu(e,Qu),r.bbCache=n,r.bbCachePosKey=Zu(e)):n=r.bbCache,!i){var a=e.isNode();n=hn(),(t.includeNodes&&a||t.includeEdges&&!a)&&(t.includeOverlays?Vu(n,r.overlayBounds):Vu(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?Vu(n,r.labelBounds.all):(t.includeMainLabels&&Vu(n,r.labelBounds.mainRot),t.includeSourceLabels&&Vu(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Vu(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Qu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Ju=Ku(Qu),es=Ot(Qu);Fu.boundingBox=function(e){var t,n=void 0===e||void 0===e.useCache||!0===e.useCache,r=ge(function(e){var t=e._private;return null==t.bbCache||t.styleDirty||t.bbCachePosKey!==Zu(e)},function(e){return e.id()});if(n&&1===this.length&&!r(this[0]))e=void 0===e?Qu:es(e),t=$u(this[0],e);else{t=hn();var o=es(e=e||Qu),i=this,a=i.cy().styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),a&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var u=0;u<i.length;u++){var s=i[u];r(s)&&s.dirtyBoundingBoxCache(),Vu(t,$u(s,o))}}return t.x1=Bu(t.x1),t.y1=Bu(t.y1),t.x2=Bu(t.x2),t.y2=Bu(t.y2),t.w=Bu(t.x2-t.x1),t.h=Bu(t.y2-t.y1),t},Fu.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Fu.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),o=n.collection();if(r&&(o=t.filter(function(e){return e.isParent()}),t=t.not(o)),ue(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0));var a=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),r&&(o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),o.updateCompoundBounds(!0)),n.endBatch(),a},Lu.boundingbox=Lu.bb=Lu.boundingBox,Lu.renderedBoundingbox=Lu.renderedBoundingBox;var ts,ns,rs=Fu;ts=ns={};var os=function(e){e.uppercaseName=we(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=we(e.outerName),ts[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var o=t.pstyle(e.name);return"label"===o.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):o.pfValue}return 1}},ts["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t){if(n){var r=t[e.name](),o=t.pstyle("border-position").value;return r+("center"===o?t.pstyle("border-width").pfValue:"outside"===o?2*t.pstyle("border-width").pfValue:0)+2*t.padding()}return 1}},ts["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},ts["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};os({name:"width"}),os({name:"height"}),ns.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},ns.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},ns.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var is=ns,as={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},us=Object.keys(as).reduce(function(e,t){var n=as[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),r=n.pan(),o=n.zoom();return t(e).map(function(e){return en(e,o,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return en(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),ss=ke({},Uu,rs,is,us),ls=function(e,t){this.recycle(e,t)};function cs(){return!1}function fs(){return!0}ls.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=cs,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?fs:cs):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*r+o.x,y:n.y*r+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=fs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=fs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=fs,this.stopPropagation()},isDefaultPrevented:cs,isPropagationStopped:cs,isImmediatePropagationStopped:cs};var ds=/^([^.]+)(\.(?:[^.]+))?$/,hs={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ps=Object.keys(hs),vs={};function ys(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vs,t=arguments.length>1?arguments[1]:void 0,n=0;n<ps.length;n++){var r=ps[n];this[r]=e[r]||hs[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var gs=ys.prototype,ms=function(e,t,n,r,o,i,a){ie(r)&&(o=r,r=null),a&&(i=null==i?a:ke({},i,a));for(var u=ae(n)?n:n.split(/\s+/),s=0;s<u.length;s++){var l=u[s];if(!ve(l)){var c=l.match(ds);if(c)if(!1===t(e,l,c[1],c[2]?c[2]:null,r,o,i))break}}},bs=function(e,t){return e.addEventFields(e.context,t),new ls(t.type,t)},_s=function(e,t,n){if("event"!==re(n))if(ue(n))t(e,bs(e,n));else for(var r=ae(n)?n:n.split(/\s+/),o=0;o<r.length;o++){var i=r[o];if(!ve(i)){var a=i.match(ds);if(a){var u=a[1],s=a[2]?a[2]:null;t(e,bs(e,{type:u,namespace:s,target:e.context}))}}}else t(e,n)};gs.on=gs.addListener=function(e,t,n,r,o){return ms(this,function(e,t,n,r,o,i,a){ie(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:r,qualifier:o,conf:a})},e,t,n,r,o),this},gs.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},gs.removeListener=gs.off=function(e,t,n,r){var o=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var i=this.listeners,a=function(a){var u=i[a];ms(o,function(t,n,r,o,s,l){if((u.type===r||"*"===e)&&(!o&&".*"!==u.namespace||u.namespace===o)&&(!s||t.qualifierCompare(u.qualifier,s))&&(!l||u.callback===l))return i.splice(a,1),!1},e,t,n,r)},u=i.length-1;u>=0;u--)a(u);return this},gs.removeAllListeners=function(){return this.removeListener("*")},gs.emit=gs.trigger=function(e,t,n){var r=this.listeners,o=r.length;return this.emitting++,ae(t)||(t=[t]),_s(this,function(e,i){null!=n&&(r=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],o=r.length);for(var a=function(){var n=r[u];if(n.type===i.type&&(!n.namespace||n.namespace===i.namespace||".*"===n.namespace)&&e.eventMatches(e.context,n,i)){var o=[i];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,n,i),n.conf&&n.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==n}));var a=e.callbackContext(e.context,n,i),s=n.callback.apply(a,o);e.afterEmit(e.context,n,i),!1===s&&(i.stopPropagation(),i.preventDefault())}},u=0;u<o;u++)a();e.bubble(e.context)&&!i.isPropagationStopped()&&e.parent(e.context).emit(i,t)},e),this.emitting--,this};var ws={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&fe(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Os=function(e){return oe(e)?new mu(e):e},Es={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ys(ws,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=Os(t),o=0;o<this.length;o++){this[o].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=Os(t),o=0;o<this.length;o++){this[o].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=Os(t),o=0;o<this.length;o++){this[o].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=Os(t),o=0;o<this.length;o++){this[o].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};Na.eventAliasesOn(Es);var xs={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(oe(e)||ce(e))return new mu(e).filter(this);if(ie(e)){for(var n=this.spawn(),r=this,o=0;o<r.length;o++){var i=r[o];(t?e.apply(t,[i,o,r]):e(i,o,r))&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){oe(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(oe(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,o=this.length<e.length,i=o?this:r,a=o?r:this,u=0;u<i.length;u++){var s=i[u];a.has(s)&&n.push(s)}return n},xor:function(e){var t=this._private.cy;oe(e)&&(e=t.$(e));var n=this.spawn(),r=e,o=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=o._private.data.id;t.hasElementWithId(i)||n.push(o)}};return o(this,r),o(r,this),n},diff:function(e){var t=this._private.cy;oe(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),o=this.spawn(),i=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)?o.merge(i):n.push(i)}};return a(this,i,n),a(i,this,r),{left:n,right:r,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(oe(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),o=0;o<e.length;o++){var i=e[o],a=!this.has(i);a&&r.push(i)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&oe(e)){var r=e;e=n.mutableElements().filter(r)}for(var o=t.map,i=0;i<e.length;i++){var a=e[i],u=a._private.data.id;if(!o.has(u)){var s=this.length++;this[s]=a,o.set(u,{ele:a,index:s})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var o=this.length-1,i=this[o],a=i._private.data.id;this[o]=void 0,this[e]=i,n.set(a,{ele:i,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var o=r.index;return this.unmergeAt(o),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&oe(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,o=0;o<r.length;o++){var i=r[o],a=t?e.apply(t,[i,o,r]):e(i,o,r);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=this,o=0;o<r.length;o++)n=e(n,r[o],o,r);return n},max:function(e,t){for(var n,r=-1/0,o=this,i=0;i<o.length;i++){var a=o[i],u=t?e.apply(t,[a,i,o]):e(a,i,o);u>r&&(r=u,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,o=this,i=0;i<o.length;i++){var a=o[i],u=t?e.apply(t,[a,i,o]):e(a,i,o);u<r&&(r=u,n=a)}return{value:r,ele:n}}},Ss=xs;Ss.u=Ss["|"]=Ss["+"]=Ss.union=Ss.or=Ss.add,Ss["\\"]=Ss["!"]=Ss["-"]=Ss.difference=Ss.relativeComplement=Ss.subtract=Ss.not,Ss.n=Ss["&"]=Ss["."]=Ss.and=Ss.intersection=Ss.intersect,Ss["^"]=Ss["(+)"]=Ss["(-)"]=Ss.symmetricDifference=Ss.symdiff=Ss.xor,Ss.fnFilter=Ss.filterFn=Ss.stdFilter=Ss.filter,Ss.complement=Ss.abscomp=Ss.absoluteComplement;var Ps=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ct:0}var o=r(e)-r(t);if(0!==o)return o;function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=i(e)-i(t);if(0!==a)return a;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==u?u:e.poolIndex()-t.poolIndex()},Ts={forEach:function(e,t){if(ie(e))for(var n=this.length,r=0;r<n;r++){var o=this[r];if(!1===(t?e.apply(t,[o,r,this]):e(o,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var o=e;o>=0&&o<t&&o<r;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!ie(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Ps)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:ct-1}var r=t.source,o=t.target,i=r.zDepth(),a=o.zDepth();return Math.max(i,a,0)}}};Ts.each=Ts.forEach;!function(){var e="undefined";("undefined"===typeof Symbol?"undefined":w(Symbol))!=e&&w(Symbol.iterator)!=e&&(Ts[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return g({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})})}();var Cs=Ot({nodeDimensionsIncludeLabels:!1}),ks={layoutDimensions:function(e){var t;if(e=Cs(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter(function(e){return!e.isParent()}),o=this.cy(),i=t.eles,a=function(e){return e.id()},u=ge(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var s=t.spacingFactor&&1!==t.spacingFactor,l=function(){if(!s)return null;for(var e=hn(),t=0;t<r.length;t++){var n=r[t],o=u(n,t);vn(e,o.x,o.y)}return e}(),c=ge(function(e,n){var r=u(e,n);s&&(r=function(e,t,n){var r=t.x1+t.w/2,o=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:o+(n.y-o)*e}}(Math.abs(t.spacingFactor),l,r));return null!=t.transform&&(r=t.transform(e,r)),r},a);if(t.animate){for(var f=0;f<r.length;f++){var d=r[f],h=c(d,f);if(null==t.animateFilter||t.animateFilter(d,f)){var p=d.animation({position:h,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else d.position(h)}if(t.fit){var v=o.animation({fit:{boundingBox:i.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else if(void 0!==t.zoom&&void 0!==t.pan){var y=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(y)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),uo.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(c),t.fit&&o.fit(t.eles,t.padding),null!=t.zoom&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(ke({},e,{eles:this}))}};function As(e,t,n){var r,o=n._private,i=o.styleCache=o.styleCache||[];return null!=(r=i[e])?r:r=i[e]=t(n)}function js(e,t){return e=rt(e),function(n){return As(e,t,n)}}function Rs(e,t){e=rt(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return As(e,n,t)}}ks.createLayout=ks.makeLayout=ks.layout;var Is={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,r.style().apply(n));var o=n._private.style[e];return null!=o?o:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,o=n.style();if(ue(e)){var i=e;o.applyBypass(this,i,r),this.emitAndNotify("style")}else if(oe(e)){if(void 0===t){var a=this[0];return a?o.getStylePropertyValue(a,e):void 0}o.applyBypass(this,e,t,r),this.emitAndNotify("style")}else if(void 0===e){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),o=this;if(void 0===e)for(var i=0;i<o.length;i++){var a=o[i];r.removeAllBypasses(a,n)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var s=o[u];r.removeBypasses(s,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,o=n.pstyle("opacity").value;if(!t)return o;var i=r.data.parent?n.parents():null;if(i)for(var a=0;a<i.length;a++){o*=i[a].pstyle("opacity").value}return o}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ns(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function Ms(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var o=this[0],i=e.hasCompoundNodes();if(o){var a=o._private;if(!t(o))return!1;if(o.isNode())return!i||Ns(o,r);var u=a.source,s=a.target;return n(u)&&(!i||Ns(u,n))&&(u===s||n(s)&&(!i||Ns(s,n)))}}}var Ds=js("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});Is.takesUpSpace=Rs("takesUpSpace",Ms({ok:Ds}));var Ls=js("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Ds(e)}),Fs=js("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&Ds(e)});Is.interactive=Rs("interactive",Ms({ok:Ls,parentOk:Fs,edgeOkViaNode:Ds})),Is.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Us=js("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Ds(e)}),Bs=Ds;Is.visible=Rs("visible",Ms({ok:Us,edgeOkViaNode:Bs})),Is.hidden=function(){var e=this[0];if(e)return!e.visible()},Is.isBundledBezier=Rs("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),Is.bypass=Is.css=Is.style,Is.renderedCss=Is.renderedStyle,Is.removeBypass=Is.removeCss=Is.removeStyle,Is.pstyle=Is.parsedStyle;var zs={};function Vs(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],o=t[1];this.on(e.event,r,o)}else if(1===t.length&&ie(t[0])){var i=t[0];this.on(e.event,i)}else if(0===t.length||1===t.length&&ae(t[0])){for(var a=1===t.length?t[0]:null,u=0;u<this.length;u++){var s=this[u],l=!e.ableField||s._private[e.ableField],c=s._private[e.field]!=e.value;if(e.overrideAble){var f=e.overrideAble(s);if(void 0!==f&&(l=f,!f))return this}l&&(s._private[e.field]=e.value,c&&n.push(s))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),a&&d.emit(a)}return this}}function Ws(e){zs[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},zs[e.on]=Vs({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),zs[e.off]=Vs({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Ws({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ws({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ws({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ws({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),zs.deselect=zs.unselect,zs.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Ws({field:"active",on:"activate",off:"unactivate"}),Ws({field:"pannable",on:"panify",off:"unpanify"}),zs.inactive=function(){var e=this[0];if(e)return!e._private.active};var Hs={},qs=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode()){for(var i=!1,a=o.connectedEdges(),u=0;u<a.length;u++){var s=a[u],l=s.source(),c=s.target();if(e.noIncomingEdges&&c===o&&l!==o||e.noOutgoingEdges&&l===o&&c!==o){i=!0;break}}i||n.push(o)}}return this.spawn(n,!0).filter(t)}},Gs=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r];if(o.isNode())for(var i=o.connectedEdges(),a=0;a<i.length;a++){var u=i[a],s=u.source(),l=u.target();e.outgoing&&s===o?(n.push(u),n.push(l)):e.incoming&&l===o&&(n.push(u),n.push(s))}}return this.spawn(n,!0).filter(t)}},Ys=function(e){return function(t){for(var n=this,r=[],o={};;){var i=e.outgoing?n.outgoers():n.incomers();if(0===i.length)break;for(var a=!1,u=0;u<i.length;u++){var s=i[u],l=s.id();o[l]||(o[l]=!0,r.push(s),a=!0)}if(!a)break;n=i}return this.spawn(r,!0).filter(t)}};function Xs(e){return function(t){for(var n=[],r=0;r<this.length;r++){var o=this[r]._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(t)}}function Ks(e){return function(t){var n=[],r=this._private.cy,o=e||{};oe(t)&&(t=r.$(t));for(var i=0;i<t.length;i++)for(var a=t[i]._private.edges,u=0;u<a.length;u++){var s=a[u],l=s._private.data,c=this.hasElementWithId(l.source)&&t.hasElementWithId(l.target),f=t.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(c||f){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!c)continue;if(o.thisIsTgt&&!f)continue}n.push(s)}}return this.spawn(n,!0)}}function Zs(e){return e=ke({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),o=e,i=0;i<r.length;i++)for(var a=r[i]._private,u=a.source,s=u._private.data.id,l=a.data.target,c=u._private.edges,f=0;f<c.length;f++){var d=c[f],h=d._private.data,p=h.target,v=h.source,y=p===l&&v===s,g=s===p&&l===v;(o.codirected&&y||!o.codirected&&(y||g))&&n.push(d)}return this.spawn(n,!0).filter(t)}}Hs.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},ke(Hs,{roots:qs({noIncomingEdges:!0}),leaves:qs({noOutgoingEdges:!0}),outgoers:Eu(Gs({outgoing:!0}),"outgoers"),successors:Ys({outgoing:!0}),incomers:Eu(Gs({incoming:!0}),"incomers"),predecessors:Ys({})}),ke(Hs,{neighborhood:Eu(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var o=n[r],i=o.connectedEdges(),a=0;a<i.length;a++){var u=i[a],s=u.source(),l=u.target(),c=o===s?l:s;c.length>0&&t.push(c[0]),t.push(u[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Hs.neighbourhood=Hs.neighborhood,Hs.closedNeighbourhood=Hs.closedNeighborhood,Hs.openNeighbourhood=Hs.openNeighborhood,ke(Hs,{source:Eu(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:Eu(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:Xs({attr:"source"}),targets:Xs({attr:"target"})}),ke(Hs,{edgesWith:Eu(Ks(),"edgesWith"),edgesTo:Eu(Ks({thisIsSrc:!0}),"edgesTo")}),ke(Hs,{connectedEdges:Eu(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var o=r._private.edges,i=0;i<o.length;i++){var a=o[i];t.push(a)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Eu(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Eu(Zs(),"parallelEdges"),codirectedEdges:Eu(Zs({codirected:!0}),"codirectedEdges")}),ke(Hs,{components:function(e){var t=this,n=t.cy(),r=n.collection(),o=null==e?t.nodes():e.nodes(),i=[];null!=e&&o.empty()&&(o=e.sources());var a=function(e,t){r.merge(e),o.unmerge(e),t.merge(e)};if(o.empty())return t.spawn();var u=function(){var e=n.collection();i.push(e);var r=o[0];a(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return a(t,e)}}),e.forEach(function(n){n.connectedEdges().forEach(function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)})})};do{u()}while(o.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Hs.componentsOf=Hs.components;var $s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var o=new Tt,i=!1;if(t){if(t.length>0&&ue(t[0])&&!fe(t[0])){i=!0;for(var a=[],u=new kt,s=0,l=t.length;s<l;s++){var c=t[s];null==c.data&&(c.data={});var f=c.data;if(null==f.id)f.id=bt();else if(e.hasElementWithId(f.id)||u.has(f.id))continue;var d=new At(e,c,!1);a.push(d),u.add(f.id)}t=a}}else t=[];this.length=0;for(var h=0,p=t.length;h<p;h++){var v=t[h][0];if(null!=v){var y=v._private.data.id;n&&o.has(y)||(n&&o.set(y,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Tt,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=o),i&&!r&&this.restore()}else vt("A collection must have a reference to the core")},Qs=At.prototype=$s.prototype=Object.create(Array.prototype);Qs.instanceString=function(){return"collection"},Qs.spawn=function(e,t){return new $s(this.cy(),e,t)},Qs.spawnSelf=function(){return this.spawn(this)},Qs.cy=function(){return this._private.cy},Qs.renderer=function(){return this._private.cy.renderer()},Qs.element=function(){return this[0]},Qs.collection=function(){return de(this)?this:new $s(this._private.cy,[this])},Qs.unique=function(){return new $s(this._private.cy,this,!0)},Qs.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Qs.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new $s(t)},Qs.$id=Qs.getElementById,Qs.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Qs.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Qs.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Qs.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(ue(e)){if(n.startBatch(),e.data){t.data(e.data);var o=r.data;if(t.isEdge()){var i=!1,a={},u=e.data.source,s=e.data.target;null!=u&&u!=o.source&&(a.source=""+u,i=!0),null!=s&&s!=o.target&&(a.target=""+s,i=!0),i&&(t=t.move(a))}else{var l="parent"in e.data,c=e.data.parent;!l||null==c&&null==o.parent||c==o.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var f=function(n,o,i){var a=e[n];null!=a&&a!==r[n]&&(a?t[o]():t[i]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:mt(r.data),position:mt(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};d.classes="";var h=0;return r.classes.forEach(function(e){return d.classes+=0===h++?e:" "+e}),d}}},Qs.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Qs.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),o=new At(e,r,!1);t.push(o)}return new $s(e,t)},Qs.copy=Qs.clone,Qs.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,i=o.cy(),a=i._private,u=[],s=[],l=0,c=o.length;l<c;l++){var f=o[l];r&&!f.removed()||(f.isNode()?u.push(f):s.push(f))}e=u.concat(s);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var h=e[t],p=h._private,v=p.data;if(h.clearTraversalCache(),r||p.removed)if(void 0===v.id)v.id=bt();else if(se(v.id))v.id=""+v.id;else{if(ve(v.id)||!oe(v.id)){vt("Can not create element with invalid string ID `"+v.id+"`"),d();continue}if(i.hasElementWithId(v.id)){vt("Can not create second element with ID `"+v.id+"`"),d();continue}}else;var y=v.id;if(h.isNode()){var g=p.position;null==g.x&&(g.x=0),null==g.y&&(g.y=0)}if(h.isEdge()){for(var m=h,b=["source","target"],_=b.length,w=!1,O=0;O<_;O++){var E=b[O],x=v[E];se(x)&&(x=v[E]=""+v[E]),null==x||""===x?(vt("Can not create edge `"+y+"` with unspecified "+E),w=!0):i.hasElementWithId(x)||(vt("Can not create edge `"+y+"` with nonexistant "+E+" `"+x+"`"),w=!0)}if(w){d();continue}var S=i.getElementById(v.source),P=i.getElementById(v.target);S.same(P)?S._private.edges.push(m):(S._private.edges.push(m),P._private.edges.push(m)),m._private.source=S,m._private.target=P}p.map=new Tt,p.map.set(y,{ele:h,index:0}),p.removed=!1,r&&i.addToPool(h)}for(var T=0;T<u.length;T++){var C=u[T],k=C._private.data;se(k.parent)&&(k.parent=""+k.parent);var A=k.parent;if(null!=A||C._private.parent){var j=C._private.parent?i.collection().merge(C._private.parent):i.getElementById(A);if(j.empty())k.parent=void 0;else if(j[0].removed())gt("Node added with missing parent, reference to parent removed"),k.parent=void 0,C._private.parent=null;else{for(var R=!1,I=j;!I.empty();){if(C.same(I)){R=!0,k.parent=void 0;break}I=I.parent()}R||(j[0]._private.children.push(C),C._private.parent=j[0],a.hasCompoundNodes=!0)}}}if(e.length>0){for(var N=e.length===o.length?o:new $s(i,e),M=0;M<N.length;M++){var D=N[M];D.isNode()||(D.parallelEdges().clearTraversalCache(),D.source().clearTraversalCache(),D.target().clearTraversalCache())}(a.hasCompoundNodes?i.collection().merge(N).merge(N.connectedNodes()).merge(N.parent()):N).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?N.emitAndNotify("add"):r&&N.emit("add")}return o},Qs.removed=function(){var e=this[0];return e&&e._private.removed},Qs.inside=function(){var e=this[0];return e&&!e._private.removed},Qs.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],o={},i=n._private.cy;function a(e){var n=o[e.id()];t&&e.removed()||n||(o[e.id()]=!0,e.isNode()?(r.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)a(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)a(t[n])}(e)):r.unshift(e))}for(var u=0,s=n.length;u<s;u++){a(n[u])}function l(e,t){var n=e._private.edges;Et(n,t),e.clearTraversalCache()}function c(e){e.clearTraversalCache()}var f=[];function d(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Et(n,t),t._private.parent=null,f.ids[r]||(f.ids[r]=!0,f.push(e))}f.ids={},n.dirtyCompoundBoundsCache(),t&&i.removeFromPool(r);for(var h=0;h<r.length;h++){var p=r[h];if(p.isEdge()){var v=p.source()[0],y=p.target()[0];l(v,p),l(y,p);for(var g=p.parallelEdges(),m=0;m<g.length;m++){var b=g[m];c(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var _=p.parent();0!==_.length&&d(_,p)}t&&(p._private.removed=!0)}var w=i._private.elements;i._private.hasCompoundNodes=!1;for(var O=0;O<w.length;O++){if(w[O].isParent()){i._private.hasCompoundNodes=!0;break}}var E=new $s(this.cy(),r);E.size()>0&&(e?E.emitAndNotify("remove"):t&&E.emit("remove"));for(var x=0;x<f.length;x++){var S=f[x];t&&S.removed()||S.updateStyle()}return E},Qs.move=function(e){var t=this._private.cy,n=this,r=!1,o=!1,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var a=i(e.source),u=i(e.target),s=null!=a&&t.hasElementWithId(a),l=null!=u&&t.hasElementWithId(u);(s||l)&&(t.batch(function(){n.remove(r,o),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(s&&(i.source=a),l&&(i.target=u))}n.restore(r,o)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var c=i(e.parent);if(null===c||t.hasElementWithId(c)){var f=null===c?void 0:c;t.batch(function(){var e=n.remove(r,o);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],a=i._private.data;i.isNode()&&(a.parent=f)}e.restore(r,o)}),n.emitAndNotify("move")}}return this},[eo,Ma,Da,_u,xu,ju,Ru,ss,Es,xs,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Ts,ks,Is,zs,Hs].forEach(function(e){ke(Qs,e)});var Js={add:function(e){var t,n=this;if(ce(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var o=[],i=0;i<r.length;i++){var a=r[i];o.push(a.json())}t=new $s(n,o)}}else if(ae(e)){t=new $s(n,e)}else if(ue(e)&&(ae(e.nodes)||ae(e.edges))){for(var u=e,s=[],l=["nodes","edges"],c=0,f=l.length;c<f;c++){var d=l[c],h=u[d];if(ae(h))for(var p=0,v=h.length;p<v;p++){var y=ke({group:d},h[p]);s.push(y)}}t=new $s(n,s)}else{t=new At(n,e).collection()}return t},remove:function(e){if(ce(e));else if(oe(e)){var t=e;e=this.$(t)}return e.remove()}};function el(e,t,n,r){var o=.1,i="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;for(var a=0;a<4;++a)if("number"!==typeof arguments[a]||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var u=i?new Float32Array(11):new Array(11);function s(e,t){return 1-3*t+3*e}function l(e,t){return 3*t-6*e}function c(e){return 3*e}function f(e,t,n){return((s(t,n)*e+l(t,n))*e+c(t))*e}function d(e,t,n){return 3*s(t,n)*e*e+2*l(t,n)*e+c(t)}function h(t){for(var r=0,i=1;10!==i&&u[i]<=t;++i)r+=o;--i;var a=r+(t-u[i])/(u[i+1]-u[i])*o,s=d(a,e,n);return s>=.001?function(t,r){for(var o=0;o<4;++o){var i=d(r,e,n);if(0===i)return r;r-=(f(r,e,n)-t)/i}return r}(t,a):0===s?a:function(t,r,o){var i,a,u=0;do{(i=f(a=r+(o-r)/2,e,n)-t)>0?o=a:r=a}while(Math.abs(i)>1e-7&&++u<10);return a}(t,r,r+o)}var p=!1;function v(){p=!0,e===t&&n===r||function(){for(var t=0;t<11;++t)u[t]=f(t*o,e,n)}()}var y=function(o){return p||v(),e===t&&n===r?o:0===o?0:1===o?1:f(h(o),t,r)};y.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var g="generateBezier("+[e,t,n,r]+")";return y.toString=function(){return g},y}var tl=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var o={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function n(n,r){var o={dx:n.v,dv:e(n)},i=t(n,.5*r,o),a=t(n,.5*r,i),u=t(n,r,a),s=1/6*(o.dx+2*(i.dx+a.dx)+u.dx),l=1/6*(o.dv+2*(i.dv+a.dv)+u.dv);return n.x=n.x+s*r,n.v=n.v+l*r,n}return function e(t,r,o){var i,a,u,s={x:-1,v:0,tension:null,friction:null},l=[0],c=0,f=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,s.tension=t,s.friction=r,a=(i=null!==o)?(c=e(t,r))/o*.016:.016;u=n(u||s,a),l.push(1+u.x),c+=16,Math.abs(u.x)>f&&Math.abs(u.v)>f;);return i?function(e){return l[e*(l.length-1)|0]}:c}}(),nl=function(e,t,n,r){var o=el(e,t,n,r);return function(e,t,n){return e+(t-e)*o(n)}},rl={linear:function(e,t,n){return e+(t-e)*n},ease:nl(.25,.1,.25,1),"ease-in":nl(.42,0,1,1),"ease-out":nl(0,0,.58,1),"ease-in-out":nl(.42,0,.58,1),"ease-in-sine":nl(.47,0,.745,.715),"ease-out-sine":nl(.39,.575,.565,1),"ease-in-out-sine":nl(.445,.05,.55,.95),"ease-in-quad":nl(.55,.085,.68,.53),"ease-out-quad":nl(.25,.46,.45,.94),"ease-in-out-quad":nl(.455,.03,.515,.955),"ease-in-cubic":nl(.55,.055,.675,.19),"ease-out-cubic":nl(.215,.61,.355,1),"ease-in-out-cubic":nl(.645,.045,.355,1),"ease-in-quart":nl(.895,.03,.685,.22),"ease-out-quart":nl(.165,.84,.44,1),"ease-in-out-quart":nl(.77,0,.175,1),"ease-in-quint":nl(.755,.05,.855,.06),"ease-out-quint":nl(.23,1,.32,1),"ease-in-out-quint":nl(.86,0,.07,1),"ease-in-expo":nl(.95,.05,.795,.035),"ease-out-expo":nl(.19,1,.22,1),"ease-in-out-expo":nl(1,0,0,1),"ease-in-circ":nl(.6,.04,.98,.335),"ease-out-circ":nl(.075,.82,.165,1),"ease-in-out-circ":nl(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return rl.linear;var r=tl(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":nl};function ol(e,t,n,r,o){if(1===r)return n;if(t===n)return n;var i=o(t,n,r);return null==e||((e.roundValue||e.color)&&(i=Math.round(i)),void 0!==e.min&&(i=Math.max(i,e.min)),void 0!==e.max&&(i=Math.min(i,e.max))),i}function il(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function al(e,t,n,r,o){var i=null!=o?o.type:null;n<0?n=0:n>1&&(n=1);var a=il(e,o),u=il(t,o);if(se(a)&&se(u))return ol(i,a,u,n,r);if(ae(a)&&ae(u)){for(var s=[],l=0;l<u.length;l++){var c=a[l],f=u[l];if(null!=c&&null!=f){var d=ol(i,c,f,n,r);s.push(d)}else s.push(f)}return s}}function ul(e,t,n,r){var o=!r,i=e._private,a=t._private,u=a.easing,s=a.startTime,l=(r?e:e.cy()).style();if(!a.easingImpl)if(null==u)a.easingImpl=rl.linear;else{var c,f,d;if(oe(u))c=l.parse("transition-timing-function",u).value;else c=u;oe(c)?(f=c,d=[]):(f=c[1],d=c.slice(2).map(function(e){return+e})),d.length>0?("spring"===f&&d.push(a.duration),a.easingImpl=rl[f].apply(null,d)):a.easingImpl=rl[f]}var h,p=a.easingImpl;if(h=0===a.duration?1:(n-s)/a.duration,a.applying&&(h=a.progress),h<0?h=0:h>1&&(h=1),null==a.delay){var v=a.startPosition,y=a.position;if(y&&o&&!e.locked()){var g={};sl(v.x,y.x)&&(g.x=al(v.x,y.x,h,p)),sl(v.y,y.y)&&(g.y=al(v.y,y.y,h,p)),e.position(g)}var m=a.startPan,b=a.pan,_=i.pan,w=null!=b&&r;w&&(sl(m.x,b.x)&&(_.x=al(m.x,b.x,h,p)),sl(m.y,b.y)&&(_.y=al(m.y,b.y,h,p)),e.emit("pan"));var O=a.startZoom,E=a.zoom,x=null!=E&&r;x&&(sl(O,E)&&(i.zoom=dn(i.minZoom,al(O,E,h,p),i.maxZoom)),e.emit("zoom")),(w||x)&&e.emit("viewport");var S=a.style;if(S&&S.length>0&&o){for(var P=0;P<S.length;P++){var T=S[P],C=T.name,k=T,A=a.startStyle[C],j=al(A,k,h,p,l.properties[A.name]);l.overrideBypass(e,C,j)}e.emit("style")}}return a.progress=h,h}function sl(e,t){return null!=e&&null!=t&&(!(!se(e)||!se(t))||!(!e||!t))}function ll(e,t,n,r){var o=t._private;o.started=!0,o.startTime=n-o.progress*o.duration}function cl(e,t){var n=t._private.aniEles,r=[];function o(t,n){var o=t._private,i=o.animation.current,a=o.animation.queue,u=!1;if(0===i.length){var s=a.shift();s&&i.push(s)}for(var l=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},c=i.length-1;c>=0;c--){var f=i[c],d=f._private;d.stopped?(i.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||ll(0,f,e),ul(t,f,e,n),d.applying&&(d.applying=!1),l(d.frames),null!=d.step&&d.step(e),f.completed()&&(i.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.completes)),u=!0)}return n||0!==i.length||0!==a.length||r.push(t),u}for(var i=!1,a=0;a<n.length;a++){var u=o(n[a]);i=i||u}var s=o(t,!0);(i||s)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var fl={animate:Na.animate(),animation:Na.animation(),animated:Na.animated(),clearQueue:Na.clearQueue(),delay:Na.delay(),delayAnimation:Na.delayAnimation(),stop:Na.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){cl(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&Ye(function(n){cl(n,e),t()})}()}}},dl={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&fe(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},hl=function(e){return oe(e)?new mu(e):e},pl={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ys(dl,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,hl(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,hl(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,hl(t),n),this},once:function(e,t,n){return this.emitter().one(e,hl(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Na.eventAliasesOn(pl);var vl={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};vl.jpeg=vl.jpg;var yl={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var o;o=oe(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var i=new r(ke({},e,{cy:t,eles:o}));return i}vt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else vt("A `name` must be specified to make a layout");else vt("Layout options must be specified to make a layout")}};yl.createLayout=yl.makeLayout=yl.layout;var gl={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var o=this.renderer();!this.destroyed()&&o&&o.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],i=e[o];t.getElementById(o).data(i)}})}},ml=Ot({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),bl={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&gt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=ml(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else vt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};bl.invalidateDimensions=bl.resize;var _l={collection:function(e,t){return oe(e)?this.$(e):ce(e)?e.collection():ae(e)?(t||(t={}),new $s(this,e,t.unique,t.removed)):new $s(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};_l.elements=_l.filter=_l.$;var wl={},Ol="t";wl.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var o=e[r],i=t.getContextMeta(o);if(!i.empty){var a=t.getContextStyle(i),u=t.applyContextStyle(i,a,o);o._private.appliedInitStyle?t.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0,t.updateStyleHints(o)&&n.push(o)}}return n},wl.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},o=e+"-"+t,i=r[o];if(i)return i;for(var a=[],u={},s=0;s<n.length;s++){var l=n[s],c=e[s]===Ol,f=t[s]===Ol,d=c!==f,h=l.mappedProperties.length>0;if(d||f&&h){var p=void 0;d&&h||d?p=l.properties:h&&(p=l.mappedProperties);for(var v=0;v<p.length;v++){for(var y=p[v],g=y.name,m=!1,b=s+1;b<n.length;b++){var _=n[b];if(t[b]===Ol&&(m=null!=_.properties[y.name]))break}u[g]||m||(u[g]=!0,a.push(g))}}}return r[o]=a,a},wl.getContextMeta=function(e){for(var t,n=this,r="",o=e._private.styleCxtKey||"",i=0;i<n.length;i++){var a=n[i];r+=a.selector&&a.selector.matches(e)?Ol:"f"}return t=n.getPropertiesDiff(o,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},wl.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},o=0;o<this.length;o++){var i=this[o];if(t[o]===Ol)for(var a=0;a<i.properties.length;a++){var u=i.properties[a];r[u.name]=u}}return n[t]=r,r},wl.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,o={},i=this.types,a=0;a<r.length;a++){var u=r[a],s=t[u],l=n.pstyle(u);if(!s){if(!l)continue;s=l.bypass?{name:u,deleteBypassed:!0}:{name:u,delete:!0}}if(l!==s){if(s.mapped===i.fn&&null!=l&&null!=l.mapping&&l.mapping.value===s.value){var c=l.mapping;if((c.fnValue=s.value(n))===c.prevFnValue)continue}var f=o[u]={prev:l};this.applyParsedProperty(n,s),f.next=n.pstyle(u),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:o}},wl.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,o=n.propertyGroupKeys,i=function(e,t,r){return n.getPropertiesHash(e,t,r)},a=t.styleKey;if(e.removed())return!1;var u="nodes"===t.group,s=e._private.style;r=Object.keys(s);for(var l=0;l<o.length;l++){var c=o[l];t.styleKeys[c]=[Ke,Ze]}for(var f=function(e,n){return t.styleKeys[n][0]=Qe(e,t.styleKeys[n][0])},d=function(e,n){return t.styleKeys[n][1]=Je(e,t.styleKeys[n][1])},h=function(e,t){f(e,t),d(e,t)},p=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);f(r,t),d(r,t)}},v=function(e){return-128<e&&e<128&&Math.floor(e)!==e?2e9-(1024*e|0):e},y=0;y<r.length;y++){var g=r[y],m=s[g];if(null!=m){var b=this.properties[g],_=b.type,w=b.groupKey,O=void 0;null!=b.hashOverride?O=b.hashOverride(e,m):null!=m.pfValue&&(O=m.pfValue);var E=null==b.enums?m.value:null,x=null!=O,S=x||null!=E,P=m.units;if(_.number&&S&&!_.multiple)h(v(x?O:E),w),x||null==P||p(P,w);else p(m.strValue,w)}}for(var T,C,k=[Ke,Ze],A=0;A<o.length;A++){var j=o[A],R=t.styleKeys[j];k[0]=Qe(R[0],k[0]),k[1]=Je(R[1],k[1])}t.styleKey=(T=k[0],C=k[1],2097152*T+C);var I=t.styleKeys;t.labelDimsKey=et(I.labelDimensions);var N=i(e,["label"],I.labelDimensions);if(t.labelKey=et(N),t.labelStyleKey=et(tt(I.commonLabel,N)),!u){var M=i(e,["source-label"],I.labelDimensions);t.sourceLabelKey=et(M),t.sourceLabelStyleKey=et(tt(I.commonLabel,M));var D=i(e,["target-label"],I.labelDimensions);t.targetLabelKey=et(D),t.targetLabelStyleKey=et(tt(I.commonLabel,D))}if(u){var L=t.styleKeys,F=L.nodeBody,U=L.nodeBorder,B=L.nodeOutline,z=L.backgroundImage,V=L.compound,W=L.pie,H=L.stripe,q=[F,U,B,z,V,W,H].filter(function(e){return null!=e}).reduce(tt,[Ke,Ze]);t.nodeKey=et(q),t.hasPie=null!=W&&W[0]!==Ke&&W[1]!==Ze,t.hasStripe=null!=H&&H[0]!==Ke&&H[1]!==Ze}return a!==t.styleKey},wl.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},wl.applyParsedProperty=function(e,t){var n,r=this,o=t,i=e._private.style,a=r.types,u=r.properties[o.name].type,s=o.bypass,l=i[o.name],c=l&&l.bypass,f=e._private,d="mapping",h=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=h(l),n=h(o);r.checkTriggers(e,o.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(o=t=this.parse(t.name,"bezier",s)),o.delete)return i[o.name]=void 0,p(),!0;if(o.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return l?!!l.bypass&&(i[o.name]=l.bypassed,p(),!0):(p(),!0);var v=function(){gt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case a.mapData:for(var y,g=o.field.split("."),m=f.data,b=0;b<g.length&&m;b++){m=m[g[b]]}if(null==m)return v(),!1;if(!se(m))return gt("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var _=o.fieldMax-o.fieldMin;if((y=0===_?0:(m-o.fieldMin)/_)<0?y=0:y>1&&(y=1),u.color){var w=o.valueMin[0],O=o.valueMax[0],E=o.valueMin[1],x=o.valueMax[1],S=o.valueMin[2],P=o.valueMax[2],T=null==o.valueMin[3]?1:o.valueMin[3],C=null==o.valueMax[3]?1:o.valueMax[3],k=[Math.round(w+(O-w)*y),Math.round(E+(x-E)*y),Math.round(S+(P-S)*y),Math.round(T+(C-T)*y)];n={bypass:o.bypass,name:o.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else{if(!u.number)return!1;var A=o.valueMin+(o.valueMax-o.valueMin)*y;n=this.parse(o.name,A,o.bypass,d)}if(!n)return v(),!1;n.mapping=o,o=n;break;case a.data:for(var j=o.field.split("."),R=f.data,I=0;I<j.length&&R;I++){R=R[j[I]]}if(null!=R&&(n=this.parse(o.name,R,o.bypass,d)),!n)return v(),!1;n.mapping=o,o=n;break;case a.fn:var N=o.value,M=null!=o.fnValue?o.fnValue:N(e);if(o.prevFnValue=M,null==M)return gt("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(o.name,M,o.bypass,d)))return gt("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=mt(o),o=n;break;case void 0:break;default:return!1}return s?(o.bypassed=c?l.bypassed:l,i[o.name]=o):c?l.bypassed=o:i[o.name]=o,p(),!0},wl.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var o=r._private.style,i=Object.keys(o),a=0;a<i.length;a++){var u=i[a],s=o[u];null!=s&&(s.bypass?s.bypassed=null:o[u]=null)}else r._private.style={}}},wl.update=function(){this._private.cy.mutableElements().updateStyle()},wl.updateTransitions=function(e,t){var n=this,r=e._private,o=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(o.length>0&&i>0){for(var u={},s=!1,l=0;l<o.length;l++){var c=o[l],f=e.pstyle(c),d=t[c];if(d){var h=d.prev,p=null!=d.next?d.next:f,v=!1,y=void 0,g=1e-6;h&&(se(h.pfValue)&&se(p.pfValue)?(v=p.pfValue-h.pfValue,y=h.pfValue+g*v):se(h.value)&&se(p.value)?(v=p.value-h.value,y=h.value+g*v):ae(h.value)&&ae(p.value)&&(v=h.value[0]!==p.value[0]||h.value[1]!==p.value[1]||h.value[2]!==p.value[2],y=h.strValue),v&&(u[c]=p.strValue,this.applyBypass(e,c,y),s=!0))}}if(!s)return;r.transitioning=!0,new uo(function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()}).then(function(){return e.animation({style:u,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,o),e.emitAndNotify("style"),r.transitioning=!1)},wl.checkTrigger=function(e,t,n,r,o,i){var a=this.properties[t],u=o(a);e.removed()||null!=u&&u(n,r,e)&&i(a)},wl.checkZOrderTrigger=function(e,t,n,r){var o=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){o._private.cy.notify("zorder",e)})},wl.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(t){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},wl.checkConnectedEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfConnectedEdges},function(t){e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},wl.checkParallelEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfParallelEdges},function(t){e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},wl.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r),this.checkConnectedEdgesBoundsTrigger(e,t,n,r),this.checkParallelEdgesBoundsTrigger(e,t,n,r)};var El={applyBypass:function(e,t,n,r){var o=[];if("*"===t||"**"===t){if(void 0!==n)for(var i=0;i<this.properties.length;i++){var a=this.properties[i].name,u=this.parse(a,n,!0);u&&o.push(u)}}else if(oe(t)){var s=this.parse(t,n,!0);s&&o.push(s)}else{if(!ue(t))return!1;var l=t;r=n;for(var c=Object.keys(l),f=0;f<c.length;f++){var d=c[f],h=l[d];if(void 0===h&&(h=l[be(d)]),void 0!==h){var p=this.parse(d,h,!0);p&&o.push(p)}}}if(0===o.length)return!1;for(var v=!1,y=0;y<e.length;y++){for(var g=e[y],m={},b=void 0,_=0;_<o.length;_++){var w=o[_];if(r){var O=g.pstyle(w.name);b=m[w.name]={prev:O}}v=this.applyParsedProperty(g,mt(w))||v,r&&(b.next=g.pstyle(w.name))}v&&this.updateStyleHints(g),r&&this.updateTransitions(g,m,true)}return v},overrideBypass:function(e,t,n){t=me(t);for(var r=0;r<e.length;r++){var o=e[r],i=o._private.style[t],a=this.properties[t].type,u=a.color,s=a.mutiple,l=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=n,null!=i.pfValue&&(i.pfValue=n),i.strValue=u?"rgb("+n.join(",")+")":s?n.join(" "):""+n,this.updateStyleHints(o)):this.applyBypass(o,t,n),this.checkTriggers(o,t,l,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var o=e[r],i={},a=0;a<t.length;a++){var u=t[a],s=this.properties[u],l=o.pstyle(s.name);if(l&&l.bypass){var c=this.parse(u,"",!0),f=i[s.name]={prev:l};this.applyParsedProperty(o,c),f.next=o.pstyle(s.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,i,true)}}},xl={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)}},Sl={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},o=0;o<n.properties.length;o++){var i=n.properties[o],a=n.getStylePropertyValue(e,i.name,t);null!=a&&(r[i.name]=a,r[be(i.name)]=a)}return r}},getIndexedStyle:function(e,t,n,r){var o=e.pstyle(t)[n][r];return null!=o?o:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var o=r.type,i=e.pstyle(r.name);if(i){var a=i.value,u=i.units,s=i.strValue;if(n&&o.number&&null!=a&&se(a)){var l=e.cy().zoom(),c=function(e){return e*l},f=function(e,t){return c(e)+t},d=ae(a),h=d?u.every(function(e){return null!=e}):null!=u;return h?d?a.map(function(e,t){return f(e,u[t])}).join(" "):f(a,u):d?a.map(function(e){return oe(e)?e:""+c(e)}).join(" "):""+c(a)}if(null!=s)return s}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].name,i=e.pstyle(o);void 0!==i&&(i=ue(i)?this.parse(o,i.strValue):this.parse(o,i)),i&&(n[o]=i)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var o=Object.keys(n),i=0;i<o.length;i++){var a=o[i],u=n[a],s=r[a]||r[me(a)],l=this.parse(s.name,u);l&&t.push(l)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,o,i,a,u,s,l=n.slice();for(u=0;u<t.length;u++)if(r=t[u],null!=(o=e.pstyle(r,!1)))if(null!=o.pfValue)l[0]=Qe(a,l[0]),l[1]=Je(a,l[1]);else for(i=o.strValue,s=0;s<i.length;s++)a=i.charCodeAt(s),l[0]=Qe(a,l[0]),l[1]=Je(a,l[1]);return l}};Sl.getPropertiesHash=Sl.getNonDefaultPropertiesHash;var Pl={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],o=r.selector,i=r.style||r.css,a=Object.keys(i);t.selector(o);for(var u=0;u<a.length;u++){var s=a[u],l=i[s];t.css(s,l)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,o=n.properties,i={},a=0;a<o.length;a++){var u=o[a];i[u.name]=u.strValue}e.push({selector:r?r.toString():"core",style:i})}return e}},Tl={appendFromString:function(e){var t,n,r,o=this,i=""+e;function a(){i=i.length>t.length?i.substr(t.length):""}function u(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(i.match(/^\s*$/))break;var s=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){gt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=s[0];var l=s[1];if("core"!==l)if(new mu(l).invalid){gt("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),a();continue}var c=s[2],f=!1;n=c;for(var d=[];;){if(n.match(/^\s*$/))break;var h=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!h){gt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),f=!0;break}r=h[0];var p=h[1],v=h[2];if(this.properties[p])o.parse(p,v)?(d.push({name:p,val:v}),u()):(gt("Skipping property: Invalid property definition in: "+r),u());else gt("Skipping property: Invalid property name in: "+r),u()}if(f){a();break}o.selector(l);for(var y=0;y<d.length;y++){var g=d[y];o.css(g.name,g.val)}a()}return o},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Cl={};!function(){var e=Ee,t=Se,n=Te,r=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(r){var o=e+"|\\w+|"+t+"|"+n+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+o+")\\s*\\,\\s*("+o+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Cl.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return oe(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var a={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=ve(e),r=ve(t);return n&&!r||!n&&r}},u=Cl.types,s=[{name:"label",type:u.text,triggersBounds:a.any,triggersZOrder:a.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:a.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:a.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:a.any}],l=[{name:"source-label",type:u.text,triggersBounds:a.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:a.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:a.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:a.any},{name:"source-text-offset",type:u.size,triggersBounds:a.any}],c=[{name:"target-label",type:u.text,triggersBounds:a.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:a.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:a.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:a.any},{name:"target-text-offset",type:u.size,triggersBounds:a.any}],f=[{name:"font-family",type:u.fontFamily,triggersBounds:a.any},{name:"font-style",type:u.fontStyle,triggersBounds:a.any},{name:"font-weight",type:u.fontWeight,triggersBounds:a.any},{name:"font-size",type:u.size,triggersBounds:a.any},{name:"text-transform",type:u.textTransform,triggersBounds:a.any},{name:"text-wrap",type:u.textWrap,triggersBounds:a.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:a.any},{name:"text-max-width",type:u.size,triggersBounds:a.any},{name:"text-outline-width",type:u.size,triggersBounds:a.any},{name:"line-height",type:u.positiveNumber,triggersBounds:a.any}],d=[{name:"text-valign",type:u.valign,triggersBounds:a.any},{name:"text-halign",type:u.halign,triggersBounds:a.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:a.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:a.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:a.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:a.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:a.any}],h=[{name:"events",type:u.bool,triggersZOrder:a.any},{name:"text-events",type:u.bool,triggersZOrder:a.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:a.any}],p=[{name:"display",type:u.display,triggersZOrder:a.any,triggersBounds:a.any,triggersBoundsOfConnectedEdges:a.any,triggersBoundsOfParallelEdges:function(e,t,n){return e!==t&&"bezier"===n.pstyle("curve-style").value}},{name:"visibility",type:u.visibility,triggersZOrder:a.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:a.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:a.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:a.any},{name:"z-index",type:u.number,triggersZOrder:a.any}],v=[{name:"overlay-padding",type:u.size,triggersBounds:a.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:a.any},{name:"overlay-corner-radius",type:u.cornerRadius}],y=[{name:"underlay-padding",type:u.size,triggersBounds:a.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:a.any},{name:"underlay-corner-radius",type:u.cornerRadius}],g=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:u.nodeSize,triggersBounds:a.any,hashOverride:m},{name:"width",type:u.nodeSize,triggersBounds:a.any,hashOverride:m},{name:"shape",type:u.nodeShape,triggersBounds:a.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:a.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:a.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:a.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:a.any}],_=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:a.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],w=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:a.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:a.any}],O=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],E=[{name:"position",type:u.position,triggersBounds:a.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:a.any},{name:"min-width",type:u.size,triggersBounds:a.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:a.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:a.any},{name:"min-height",type:u.size,triggersBounds:a.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:a.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:a.any}],x=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:a.any,triggersBoundsOfParallelEdges:function(e,t){return e!==t&&("bezier"===e||"bezier"===t)}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:a.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:a.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:a.any},{name:"control-point-step-size",type:u.size,triggersBounds:a.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:a.any},{name:"control-point-weights",type:u.numbers,triggersBounds:a.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:a.any},{name:"segment-weights",type:u.numbers,triggersBounds:a.any},{name:"segment-radii",type:u.numbers,triggersBounds:a.any},{name:"radius-type",type:u.radiusType,triggersBounds:a.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:a.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:a.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:a.any},{name:"taxi-radius",type:u.number,triggersBounds:a.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:a.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:a.any},{name:"loop-direction",type:u.angle,triggersBounds:a.any},{name:"loop-sweep",type:u.angle,triggersBounds:a.any},{name:"source-distance-from-node",type:u.size,triggersBounds:a.any},{name:"target-distance-from-node",type:u.size,triggersBounds:a.any}],S=[{name:"ghost",type:u.bool,triggersBounds:a.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:a.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:a.any},{name:"ghost-opacity",type:u.zeroOneNumber}],P=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],T=[];Cl.pieBackgroundN=16,T.push({name:"pie-size",type:u.sizeMaybePercent}),T.push({name:"pie-hole",type:u.sizeMaybePercent}),T.push({name:"pie-start-angle",type:u.angle});for(var C=1;C<=Cl.pieBackgroundN;C++)T.push({name:"pie-"+C+"-background-color",type:u.color}),T.push({name:"pie-"+C+"-background-size",type:u.percent}),T.push({name:"pie-"+C+"-background-opacity",type:u.zeroOneNumber});var k=[];Cl.stripeBackgroundN=16,k.push({name:"stripe-size",type:u.sizeMaybePercent}),k.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var A=1;A<=Cl.stripeBackgroundN;A++)k.push({name:"stripe-"+A+"-background-color",type:u.color}),k.push({name:"stripe-"+A+"-background-size",type:u.percent}),k.push({name:"stripe-"+A+"-background-opacity",type:u.zeroOneNumber});var j=[],R=Cl.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:a.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(e){R.forEach(function(t){var n=t+"-"+e.name,r=e.type,o=e.triggersBounds;j.push({name:n,type:r,triggersBounds:o})})},{});var I=Cl.properties=[].concat(h,g,p,v,y,S,d,f,s,l,c,b,_,w,O,T,k,E,x,j,P),N=Cl.propertyGroups={behavior:h,transition:g,visibility:p,overlay:v,underlay:y,ghost:S,commonLabel:d,labelDimensions:f,mainLabel:s,sourceLabel:l,targetLabel:c,nodeBody:b,nodeBorder:_,nodeOutline:w,backgroundImage:O,pie:T,stripe:k,compound:E,edgeLine:x,edgeArrow:j,core:P},M=Cl.propertyGroupNames={};(Cl.propertyGroupKeys=Object.keys(N)).forEach(function(e){M[e]=N[e].map(function(e){return e.name}),N[e].forEach(function(t){return t.groupKey=e})});var D=Cl.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Cl.propertyNames=I.map(function(e){return e.name});for(var L=0;L<I.length;L++){var F=I[L];I[F.name]=F}for(var U=0;U<D.length;U++){var B=D[U],z=I[B.pointsTo],V={name:B.name,alias:!0,pointsTo:z};I.push(V),I[B.name]=V}}(),Cl.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Cl.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=Cl.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=Cl.stripeBackgroundN;n++){var r=t.name.replace("{{i}}",n),o=t.value;e[r]=o}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return Cl.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,o=t.value;e[r]=o}),e},{})),n={},r=0;r<this.properties.length;r++){var o=this.properties[r];if(!o.pointsTo){var i=o.name,a=t[i],u=this.parse(i,a);n[i]=u}}return e.defaultProperties=n,e.defaultProperties},Cl.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var kl={parse:function(e,t,n,r){var o=this;if(ie(t))return o.parseImplWarn(e,t,n,r);var i,a=ot(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),u=o.propCache=o.propCache||[];return(i=u[a])||(i=u[a]=o.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=mt(i))&&(i.value=mt(i.value)),i},parseImplWarn:function(e,t,n,r){var o=this.parseImpl(e,t,n,r);return o||null==t||gt("The style property `".concat(e,": ").concat(t,"` is invalid")),!o||"width"!==o.name&&"height"!==o.name||"label"!==t||gt("The style value of `label` is deprecated for `"+o.name+"`"),o}};kl.parseImpl=function(e,t,n,r){var o=this;e=me(e);var i=o.properties[e],a=t,u=o.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var s=oe(t);s&&(t=t.trim());var l,c,f=i.type;if(!f)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(ie(t))return{name:e,value:t,strValue:"fn",mapped:u.fn,bypass:n};if(!s||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(u.data.regex).exec(t))){if(n)return!1;var d=u.data;return{name:e,value:l,strValue:""+t,mapped:d,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(u.mapData.regex).exec(t))){if(n)return!1;if(f.multiple)return!1;var h=u.mapData;if(!f.color&&!f.number)return!1;var p=this.parse(e,c[4]);if(!p||p.mapped)return!1;var v=this.parse(e,c[5]);if(!v||v.mapped)return!1;if(p.pfValue===v.pfValue||p.strValue===v.strValue)return gt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(f.color){var y=p.value,g=v.value;if(y[0]===g[0]&&y[1]===g[1]&&y[2]===g[2]&&(y[3]===g[3]||(null==y[3]||1===y[3])&&(null==g[3]||1===g[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:h,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:v.value,bypass:n}}}if(f.multiple&&"multiple"!==r){var m;if(m=s?t.split(/\s+/):ae(t)?t:[t],f.evenMultiple&&m.length%2!==0)return null;for(var b=[],_=[],w=[],O="",E=!1,x=0;x<m.length;x++){var S=o.parse(e,m[x],n,"multiple");E=E||oe(S.value),b.push(S.value),w.push(null!=S.pfValue?S.pfValue:S.value),_.push(S.units),O+=(x>0?" ":"")+S.strValue}return f.validate&&!f.validate(b,_)?null:f.singleEnum&&E?1===b.length&&oe(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:w,strValue:O,bypass:n,units:_}}var P,T,C=function(){for(var r=0;r<f.enums.length;r++){if(f.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(f.number){var k,A="px";if(f.units&&(k=f.units),f.implicitUnits&&(A=f.implicitUnits),!f.unitless)if(s){var j="px|em"+(f.allowPercent?"|\\%":"");k&&(j=k);var R=t.match("^("+Ee+")("+j+")?$");R&&(t=R[1],k=R[2]||A)}else k&&!f.implicitUnits||(k=A);if(t=parseFloat(t),isNaN(t)&&void 0===f.enums)return null;if(isNaN(t)&&void 0!==f.enums)return t=a,C();if(f.integer&&(!se(T=t)||Math.floor(T)!==T))return null;if(void 0!==f.min&&(t<f.min||f.strictMin&&t===f.min)||void 0!==f.max&&(t>f.max||f.strictMax&&t===f.max))return null;var I={name:e,value:t,strValue:""+t+(k||""),units:k,bypass:n};return f.unitless||"px"!==k&&"em"!==k?I.pfValue=t:I.pfValue="px"!==k&&k?this.getEmSizeInPixels()*t:t,"ms"!==k&&"s"!==k||(I.pfValue="ms"===k?t:1e3*t),"deg"!==k&&"rad"!==k||(I.pfValue="rad"===k?t:(P=t,Math.PI*P/180)),"%"===k&&(I.pfValue=t/100),I}if(f.propList){var N=[],M=""+t;if("none"===M);else{for(var D=M.split(/\s*,\s*|\s+/),L=0;L<D.length;L++){var F=D[L].trim();o.properties[F]?N.push(F):gt("`"+F+"` is not a valid property name")}if(0===N.length)return null}return{name:e,value:N,strValue:0===N.length?"none":N.join(" "),bypass:n}}if(f.color){var U=Ae(t);return U?{name:e,value:U,pfValue:U,strValue:"rgb("+U[0]+","+U[1]+","+U[2]+")",bypass:n}:null}if(f.regex||f.regexes){if(f.enums){var B=C();if(B)return B}for(var z=f.regexes?f.regexes:[f.regex],V=0;V<z.length;V++){var W=new RegExp(z[V]).exec(t);if(W)return{name:e,value:f.singleRegexMatchValue?W[1]:W,strValue:""+t,bypass:n}}return null}return f.string?{name:e,value:""+t,strValue:""+t,bypass:n}:f.enums?C():null};var Al=function(e){if(!(this instanceof Al))return new Al(e);he(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):vt("A style must have a core reference")},jl=Al.prototype;jl.instanceString=function(){return"style"},jl.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},jl.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},jl.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},jl.selector=function(e){var t="core"===e?null:new mu(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},jl.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],o=t[r.name];void 0===o&&(o=t[be(r.name)]),void 0!==o&&this.cssRule(r.name,o)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},jl.style=jl.css,jl.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},jl.append=function(e){return pe(e)?e.appendToStyle(this):ae(e)?this.appendFromJson(e):oe(e)&&this.appendFromString(e),this},Al.fromJson=function(e,t){var n=new Al(e);return n.fromJson(t),n},Al.fromString=function(e,t){return new Al(e).fromString(t)},[wl,El,xl,Sl,Pl,Tl,Cl,kl].forEach(function(e){ke(jl,e)}),Al.types=jl.types,Al.properties=jl.properties,Al.propertyGroups=jl.propertyGroups,Al.propertyGroupNames=jl.propertyGroupNames,Al.propertyGroupKeys=jl.propertyGroupKeys;var Rl={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return pe(e)?t.style=e.generateStyle(this):ae(e)?t.style=Al.fromJson(this,e):oe(e)?t.style=Al.fromString(this,e):t.style=Al(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},Il={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,o,i=arguments,a=this._private.pan;switch(i.length){case 0:return a;case 1:if(oe(i[0]))return a[e=i[0]];if(ue(i[0])){if(!this._private.panningEnabled)return this;r=(n=i[0]).x,o=n.y,se(r)&&(a.x=r),se(o)&&(a.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=i[1],"x"!==(e=i[0])&&"y"!==e||!se(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,o,i,a,u=arguments,s=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:ue(e)&&(i=(o=u[0]).x,a=o.y,se(i)&&(s.x+=i),se(a)&&(s.y+=a),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!se(r)||(s[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(se(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(oe(e)){var o=e;e=this.$(o)}else if(ue(r=e)&&se(r.x1)&&se(r.x2)&&se(r.y1)&&se(r.y2)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else ce(e)||(e=this.mutableElements());if(!ce(e)||!e.empty()){n=n||e.boundingBox();var a,u=this.width(),s=this.height();if(t=se(t)?t:0,!isNaN(u)&&!isNaN(s)&&u>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((u-2*t)/n.w,(s-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(u-a*(n.x1+n.x2))/2,y:(s-a*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return se(e)&&se(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):se(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:se(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,o=r.pan,i=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),se(e)?n=e:ue(e)&&(n=e.level,null!=e.position?t=en(e.position,i,o):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!se(n)||n===i||null!=t&&(!se(t.x)||!se(t.y)))return null;if(null!=t){var u=o,s=i,l=n;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/s*(t.x-u.x)+t.x,y:-l/s*(t.y-u.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:o}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,o=[],i=!1,a=!1;if(!e)return this;if(se(e.zoom)||(n=!1),ue(e.pan)||(r=!1),!n&&!r)return this;if(n){var u=e.zoom;u<t.minZoom||u>t.maxZoom||!t.zoomingEnabled?i=!0:(t.zoom=u,o.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&t.panningEnabled){var s=e.pan;se(s.x)&&(t.pan.x=s.x,a=!1),se(s.y)&&(t.pan.y=s.y,a=!1),a||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(oe(e)){var n=e;e=this.mutableElements().filter(n)}else ce(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),o=this.width(),i=this.height();return{x:(o-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(i-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var e=n.window().getComputedStyle(t),r=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-r("padding-left")-r("padding-right"),height:t.clientHeight-r("padding-top")-r("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};Il.centre=Il.center,Il.autolockNodes=Il.autolock,Il.autoungrabifyNodes=Il.autoungrabify;var Nl={data:Na.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Na.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Na.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Na.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Nl.attr=Nl.data,Nl.removeAttr=Nl.removeData;var Ml=function(e){var t=this,n=(e=ke({},e)).container;n&&!le(n)&&le(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var o=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var i=void 0!==E&&void 0!==n&&!e.headless,a=e;a.layout=ke({name:i?"grid":"null"},a.layout),a.renderer=ke({name:i?"canvas":"null"},a.renderer);var u=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},s=this._private={container:n,ready:!1,options:a,elements:new $s(this),listeners:[],aniEles:new $s(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,a.zoomingEnabled),userZoomingEnabled:u(!0,a.userZoomingEnabled),panningEnabled:u(!0,a.panningEnabled),userPanningEnabled:u(!0,a.userPanningEnabled),boxSelectionEnabled:u(!0,a.boxSelectionEnabled),autolock:u(!1,a.autolock,a.autolockNodes),autoungrabify:u(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:u(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?i:a.styleEnabled,zoom:se(a.zoom)?a.zoom:1,pan:{x:ue(a.pan)&&se(a.pan.x)?a.pan.x:0,y:ue(a.pan)&&se(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,a.multiClickDebounceTime)};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom});s.styleEnabled&&t.setStyle([]);var l=ke({},a,a.renderer);t.initRenderer(l);!function(e,t){if(e.some(ye))return uo.all(e).then(t);t(e)}([a.style,a.elements],function(e){var n=e[0],i=e[1];s.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var o=t.mutableElements();o.length>0&&o.remove(),null!=e&&(ue(e)||ae(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var i=ke({},t._private.options.layout);i.eles=t.elements(),t.layout(i).run()}(i,function(){t.startAnimationLoop(),s.ready=!0,ie(a.ready)&&t.on("ready",a.ready);for(var e=0;e<o.length;e++){var n=o[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},a.done)})},Dl=Ml.prototype;ke(Dl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return E;var e=this._private.container.ownerDocument;return void 0===e||null==e?E:e.defaultView||E},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!le(e)&&le(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(ke({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return mt(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(ue(e)){if(t.startBatch(),e.elements){var o={},i=function(e,n){for(var r=[],i=[],a=0;a<e.length;a++){var u=e[a];if(u.data.id){var s=""+u.data.id,l=t.getElementById(s);o[s]=!0,0!==l.length?i.push({ele:l,json:u}):n?(u.group=n,r.push(u)):r.push(u)}else gt("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var c=0;c<i.length;c++){var f=i[c],d=f.ele,h=f.json;d.json(h)}};if(ae(e.elements))i(e.elements);else for(var a=["nodes","edges"],u=0;u<a.length;u++){var s=a[u],l=e.elements[s];ae(l)&&i(l,s)}var c=t.collection();r.filter(function(e){return!o[e.id()]}).forEach(function(e){e.isParent()?c.merge(e):e.remove()}),c.forEach(function(e){return e.children().move({parent:null})}),c.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<f.length;d++){var h=f[d];null!=e[h]&&t[h](e[h])}return t.endBatch(),this}var p={};!!e?p.elements=this.elements().map(function(e){return e.json()}):(p.elements={},r.forEach(function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())})),this._private.styleEnabled&&(p.style=t.style().json()),p.data=mt(t.data());var v=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=mt(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=mt(v.renderer),p.hideEdgesOnViewport=v.hideEdgesOnViewport,p.textureOnViewport=v.textureOnViewport,p.wheelSensitivity=v.wheelSensitivity,p.motionBlur=v.motionBlur,p.multiClickDebounceTime=v.multiClickDebounceTime,p}}),Dl.$id=Dl.getElementById,[Js,fl,pl,vl,yl,gl,bl,_l,Rl,Il,Nl].forEach(function(e){ke(Dl,e)});var Ll={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Fl={maximal:!1,acyclic:!1},Ul=function(e){return e.scratch("breadthfirst")},Bl=function(e,t){return e.scratch("breadthfirst",t)};function zl(e){this.options=ke({},Ll,Fl,e)}zl.prototype.run=function(){var e,t=this.options,n=t.cy,r=t.eles,o=r.nodes().filter(function(e){return e.isChildless()}),i=r,a=t.directed,u=t.acyclic||t.maximal||t.maximalAdjustments>0,s=!!t.boundingBox,l=hn(s?t.boundingBox:structuredClone(n.extent()));if(ce(t.roots))e=t.roots;else if(ae(t.roots)){for(var c=[],f=0;f<t.roots.length;f++){var d=t.roots[f],h=n.getElementById(d);c.push(h)}e=n.collection(c)}else if(oe(t.roots))e=n.$(t.roots);else if(a)e=o.roots();else{var p=r.components();e=n.collection();for(var v=function(){var t=p[y],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});e=e.add(r)},y=0;y<p.length;y++)v()}var g=[],m={},b=function(e,t){null==g[t]&&(g[t]=[]);var n=g[t].length;g[t].push(e),Bl(e,{index:n,depth:t})};i.bfs({roots:e,directed:t.directed,visit:function(e,t,n,r,o){var i=e[0],a=i.id();i.isChildless()&&b(i,o),m[a]=!0}});for(var _=[],w=0;w<o.length;w++){var O=o[w];m[O.id()]||_.push(O)}var E=function(e){for(var t=g[e],n=0;n<t.length;n++){var r=t[n];null!=r?Bl(r,{depth:e,index:n}):(t.splice(n,1),n--)}},x=function(e,n){for(var o=Ul(e),i=e.incomers().filter(function(e){return e.isNode()&&r.has(e)}),a=-1,u=e.id(),s=0;s<i.length;s++){var l=i[s],c=Ul(l);a=Math.max(a,c.depth)}if(o.depth<=a){if(!t.acyclic&&n[u])return null;var f=a+1;return function(e,t){var n=Ul(e),r=n.depth,o=n.index;g[r][o]=null,e.isChildless()&&b(e,t)}(e,f),n[u]=f,!0}return!1};if(a&&u){var S=[],P={},T=function(e){return S.push(e)},C=function(){return S.shift()};for(o.forEach(function(e){return S.push(e)});S.length>0;){var k=C(),A=x(k,P);if(A)k.outgoers().filter(function(e){return e.isNode()&&r.has(e)}).forEach(T);else if(null===A){gt("Detected double maximal shift for node `"+k.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var j=0;if(t.avoidOverlap)for(var R=0;R<o.length;R++){var I=o[R].layoutDimensions(t),N=I.w,M=I.h;j=Math.max(j,N,M)}var D={},L=function(e){if(D[e.id()])return D[e.id()];for(var t=Ul(e).depth,n=e.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var u=n[a];if(!u.isEdge()&&!u.isParent()&&o.has(u)){var s=Ul(u);if(null!=s){var l=s.index,c=s.depth;if(null!=l&&null!=c){var f=g[c].length;c<t&&(r+=l/f,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),D[e.id()]=r,r},F=function(e,t){var n=L(e)-L(t);return 0===n?Ce(e.id(),t.id()):n};void 0!==t.depthSort&&(F=t.depthSort);for(var U=g.length,B=0;B<U;B++)g[B].sort(F),E(B);for(var z=[],V=0;V<_.length;V++)z.push(_[V]);z.length&&(g.unshift(z),U=g.length,function(){for(var e=0;e<U;e++)E(e)}());for(var W=0,H=0;H<U;H++)W=Math.max(g[H].length,W);var q=l.x1+l.w/2,G=l.y1+l.h/2,Y=o.reduce(function(e,n){return r=n.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}),{w:-1===e.w?r.w:(e.w+r.w)/2,h:-1===e.h?r.h:(e.h+r.h)/2};var r},{w:-1,h:-1}),X=Math.max(1===U?0:s?(l.h-2*t.padding-Y.h)/(U-1):(l.h-2*t.padding-Y.h)/(U+1),j),K=g.reduce(function(e,t){return Math.max(e,t.length)},0),Z={downward:0,leftward:90,upward:180,rightward:-90};-1===Object.keys(Z).indexOf(t.direction)&&vt("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Z).join(", ")));return r.nodes().layoutPositions(this,t,function(e){return at(function(e){var n=Ul(e),r=n.depth,o=n.index;if(t.circle){var i=Math.min(l.w/2/U,l.h/2/U),a=(i=Math.max(i,j))*r+i-(U>0&&g[0].length<=3?i/2:0),u=2*Math.PI/g[r].length*o;return 0===r&&1===g[0].length&&(a=1),{x:q+a*Math.cos(u),y:G+a*Math.sin(u)}}var c=g[r].length,f=Math.max(1===c?0:s?(l.w-2*t.padding-Y.w)/((t.grid?K:c)-1):(l.w-2*t.padding-Y.w)/((t.grid?K:c)+1),j);return{x:q+(o+1-(c+1)/2)*f,y:G+(r+1-(U+1)/2)*X}}(e),l,Z[t.direction])}),this};var Vl={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Wl(e){this.options=ke({},Vl,e)}Wl.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var a,u=hn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=u.x1+u.w/2,l=u.y1+u.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/i.length:t.sweep)/Math.max(1,i.length-1),f=0,d=0;d<i.length;d++){var h=i[d].layoutDimensions(t),p=h.w,v=h.h;f=Math.max(f,p,v)}if(a=se(t.radius)?t.radius:i.length<=1?0:Math.min(u.h,u.w)/2-f,i.length>1&&t.avoidOverlap){f*=1.75;var y=Math.cos(c)-Math.cos(0),g=Math.sin(c)-Math.sin(0),m=Math.sqrt(f*f/(y*y+g*g));a=Math.max(m,a)}return r.nodes().layoutPositions(this,t,function(e,n){var r=t.startAngle+n*c*(o?1:-1),i=a*Math.cos(r),u=a*Math.sin(r);return{x:s+i,y:l+u}}),this};var Hl,ql={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Gl(e){this.options=ke({},ql,e)}Gl.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,o=t.eles,i=o.nodes().not(":parent"),a=hn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u=a.x1+a.w/2,s=a.y1+a.h/2,l=[],c=0,f=0;f<i.length;f++){var d,h=i[f];d=t.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var p=0;p<i.length;p++){var v=i[p].layoutDimensions(t);c=Math.max(c,v.w,v.h)}l.sort(function(e,t){return t.value-e.value});for(var y=t.levelWidth(i),g=[[]],m=g[0],b=0;b<l.length;b++){var _=l[b];if(m.length>0)Math.abs(m[0].value-_.value)>=y&&(m=[],g.push(m));m.push(_)}var w=c+t.minNodeSpacing;if(!t.avoidOverlap){var O=g.length>0&&g[0].length>1,E=(Math.min(a.w,a.h)/2-w)/(g.length+O?1:0);w=Math.min(w,E)}for(var x=0,S=0;S<g.length;S++){var P=g[S],T=void 0===t.sweep?2*Math.PI-2*Math.PI/P.length:t.sweep,C=P.dTheta=T/Math.max(1,P.length-1);if(P.length>1&&t.avoidOverlap){var k=Math.cos(C)-Math.cos(0),A=Math.sin(C)-Math.sin(0),j=Math.sqrt(w*w/(k*k+A*A));x=Math.max(j,x)}P.r=x,x+=w}if(t.equidistant){for(var R=0,I=0,N=0;N<g.length;N++){var M=g[N].r-I;R=Math.max(R,M)}I=0;for(var D=0;D<g.length;D++){var L=g[D];0===D&&(I=L.r),L.r=I,I+=R}}for(var F={},U=0;U<g.length;U++)for(var B=g[U],z=B.dTheta,V=B.r,W=0;W<B.length;W++){var H=B[W],q=t.startAngle+(n?1:-1)*z*W,G={x:u+V*Math.cos(q),y:s+V*Math.sin(q)};F[H.node.id()]=G}return o.nodes().layoutPositions(this,t,function(e){var t=e.id();return F[t]}),this};var Yl={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xl(e){this.options=ke({},Yl,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges().filter(function(e){var n=e.source().data("id"),r=e.target().data("id"),o=t.some(function(e){return e.data("id")===n}),i=t.some(function(e){return e.data("id")===r});return!o||!i});this.options.eles=this.options.eles.not(n)}Xl.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Hl=!0===e.debug;var r=Kl(t,n,e);Hl&&undefined(r),e.randomize&&Ql(r);var o=Xe(),i=function(){ec(r,t,e),!0===e.fit&&t.fit(e.padding)},a=function(t){return!(n.stopped||t>=e.numIter)&&(tc(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},u=function(){if(!0===e.animate||!1===e.animate)i(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),o=Jl(r,e,t);t.layoutPositions(n,e,o)}},s=0,l=!0;if(!0===e.animate){var c=function(){for(var t=0;l&&t<e.refresh;)l=a(s),s++,t++;l?(Xe()-o>=e.animationThreshold&&i(),Ye(c)):(hc(r,e),u())};c()}else{for(;l;)l=a(s),s++;hc(r,e),u()}return this},Xl.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Xl.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Kl=function(e,t,n){for(var r=n.eles.edges(),o=n.eles.nodes(),i=hn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},u=n.eles.components(),s={},l=0;l<u.length;l++)for(var c=u[l],f=0;f<c.length;f++){s[c[f].id()]=l}for(l=0;l<a.nodeSize;l++){var d=(g=o[l]).layoutDimensions(n);(I={}).isLocked=g.locked(),I.id=g.data("id"),I.parentId=g.data("parent"),I.cmptId=s[g.id()],I.children=[],I.positionX=g.position("x"),I.positionY=g.position("y"),I.offsetX=0,I.offsetY=0,I.height=d.w,I.width=d.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(g.style("padding")),I.padRight=parseFloat(g.style("padding")),I.padTop=parseFloat(g.style("padding")),I.padBottom=parseFloat(g.style("padding")),I.nodeRepulsion=ie(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,a.layoutNodes.push(I),a.idToIndex[I.id]=l}var h=[],p=0,v=-1,y=[];for(l=0;l<a.nodeSize;l++){var g,m=(g=a.layoutNodes[l]).parentId;null!=m?a.layoutNodes[a.idToIndex[m]].children.push(g.id):(h[++v]=g.id,y.push(g.id))}for(a.graphSet.push(y);p<=v;){var b=h[p++],_=a.idToIndex[b],w=a.layoutNodes[_].children;if(w.length>0){a.graphSet.push(w);for(l=0;l<w.length;l++)h[++v]=w[l]}}for(l=0;l<a.graphSet.length;l++){var O=a.graphSet[l];for(f=0;f<O.length;f++){var E=a.idToIndex[O[f]];a.indexToGraph[E]=l}}for(l=0;l<a.edgeSize;l++){var x=r[l],S={};S.id=x.data("id"),S.sourceId=x.data("source"),S.targetId=x.data("target");var P=ie(n.idealEdgeLength)?n.idealEdgeLength(x):n.idealEdgeLength,T=ie(n.edgeElasticity)?n.edgeElasticity(x):n.edgeElasticity,C=a.idToIndex[S.sourceId],k=a.idToIndex[S.targetId];if(a.indexToGraph[C]!=a.indexToGraph[k]){for(var A=Zl(S.sourceId,S.targetId,a),j=a.graphSet[A],R=0,I=a.layoutNodes[C];-1===j.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],R++;for(I=a.layoutNodes[k];-1===j.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],R++;P*=R*n.nestingFactor}S.idealLength=P,S.elasticity=T,a.layoutEdges.push(S)}return a},Zl=function(e,t,n){var r=$l(e,t,0,n);return 2>r.count?0:r.graph},$l=function(e,t,n,r){var o=r.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:n};for(var i=0,a=0;a<o.length;a++){var u=o[a],s=r.idToIndex[u],l=r.layoutNodes[s].children;if(0!==l.length){var c=r.indexToGraph[r.idToIndex[l[0]]],f=$l(e,t,c,r);if(0!==f.count){if(1!==f.count)return f;if(2===++i)break}}}return{count:i,graph:n}},Ql=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,o=0;o<e.nodeSize;o++){var i=e.layoutNodes[o];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*n,i.positionY=Math.random()*r)}},Jl=function(e,t,n){var r=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(n,i){var a=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var u=0===o.w?.5:(a.positionX-o.x1)/o.w,s=0===o.h?.5:(a.positionY-o.y1)/o.h;return{x:r.x1+u*r.w,y:r.y1+s*r.h}}return{x:a.positionX,y:a.positionY}}},ec=function(e,t,n){var r=n.layout,o=n.eles.nodes(),i=Jl(e,n,o);o.positions(i),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},tc=function(e,t,n){nc(e,t),uc(e),sc(e,t),lc(e),cc(e)},nc=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],o=r.length,i=0;i<o;i++)for(var a=e.layoutNodes[e.idToIndex[r[i]]],u=i+1;u<o;u++){var s=e.layoutNodes[e.idToIndex[r[u]]];oc(a,s,e,t)}},rc=function(e){return 2*e*Math.random()-1},oc=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var o=t.positionX-e.positionX,i=t.positionY-e.positionY;0===o&&0===i&&(o=rc(1),i=rc(1));var a=ic(e,t,o,i);if(a>0)var u=(l=r.nodeOverlap*a)*o/(v=Math.sqrt(o*o+i*i)),s=l*i/v;else{var l,c=ac(e,o,i),f=ac(t,-1*o,-1*i),d=f.x-c.x,h=f.y-c.y,p=d*d+h*h,v=Math.sqrt(p);u=(l=(e.nodeRepulsion+t.nodeRepulsion)/p)*d/v,s=l*h/v}e.isLocked||(e.offsetX-=u,e.offsetY-=s),t.isLocked||(t.offsetX+=u,t.offsetY+=s)}},ic=function(e,t,n,r){if(n>0)var o=e.maxX-t.minX;else o=t.maxX-e.minX;if(r>0)var i=e.maxY-t.minY;else i=t.maxY-e.minY;return o>=0&&i>=0?Math.sqrt(o*o+i*i):0},ac=function(e,t,n){var r=e.positionX,o=e.positionY,i=e.height||1,a=e.width||1,u=n/t,s=i/a,l={};return 0===t&&0<n||0===t&&0>n?(l.x=r,l.y=o+i/2,l):0<t&&-1*s<=u&&u<=s?(l.x=r+a/2,l.y=o+a*n/2/t,l):0>t&&-1*s<=u&&u<=s?(l.x=r-a/2,l.y=o-a*n/2/t,l):0<n&&(u<=-1*s||u>=s)?(l.x=r+i*t/2/n,l.y=o+i/2,l):0>n&&(u<=-1*s||u>=s)?(l.x=r-i*t/2/n,l.y=o-i/2,l):l},uc=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],o=e.idToIndex[r.sourceId],i=e.layoutNodes[o],a=e.idToIndex[r.targetId],u=e.layoutNodes[a],s=u.positionX-i.positionX,l=u.positionY-i.positionY;if(0!==s||0!==l){var c=ac(i,s,l),f=ac(u,-1*s,-1*l),d=f.x-c.x,h=f.y-c.y,p=Math.sqrt(d*d+h*h),v=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var y=v*d/p,g=v*h/p;else y=0,g=0;i.isLocked||(i.offsetX+=y,i.offsetY+=g),u.isLocked||(u.offsetX-=y,u.offsetY-=g)}}},sc=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],o=r.length;if(0===n)var i=e.clientHeight/2,a=e.clientWidth/2;else{var u=e.layoutNodes[e.idToIndex[r[0]]],s=e.layoutNodes[e.idToIndex[u.parentId]];i=s.positionX,a=s.positionY}for(var l=0;l<o;l++){var c=e.layoutNodes[e.idToIndex[r[l]]];if(!c.isLocked){var f=i-c.positionX,d=a-c.positionY,h=Math.sqrt(f*f+d*d);if(h>1){var p=t.gravity*f/h,v=t.gravity*d/h;c.offsetX+=p,c.offsetY+=v}}}}},lc=function(e,t){var n=[],r=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;r<=o;){var i=n[r++],a=e.idToIndex[i],u=e.layoutNodes[a],s=u.children;if(0<s.length&&!u.isLocked){for(var l=u.offsetX,c=u.offsetY,f=0;f<s.length;f++){var d=e.layoutNodes[e.idToIndex[s[f]]];d.offsetX+=l,d.offsetY+=c,n[++o]=s[f]}u.offsetX=0,u.offsetY=0}}},cc=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(o=e.layoutNodes[n]).children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(o=e.layoutNodes[n]).children.length||o.isLocked)){var r=fc(o.offsetX,o.offsetY,e.temperature);o.positionX+=r.x,o.positionY+=r.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,dc(o,e)}}for(n=0;n<e.nodeSize;n++){var o;0<(o=e.layoutNodes[n]).children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},fc=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var o={x:n*e/r,y:n*t/r};else o={x:e,y:t};return o},dc=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],o=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,o=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,o=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,o=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,o=!0),o?dc(r,t):void 0}},hc=function(e,t){for(var n=e.layoutNodes,r=[],o=0;o<n.length;o++){var i=n[o],a=i.cmptId;(r[a]=r[a]||[]).push(i)}var u=0;for(o=0;o<r.length;o++){if(v=r[o]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var s=0;s<v.length;s++){var l=v[s];v.x1=Math.min(v.x1,l.positionX-l.width/2),v.x2=Math.max(v.x2,l.positionX+l.width/2),v.y1=Math.min(v.y1,l.positionY-l.height/2),v.y2=Math.max(v.y2,l.positionY+l.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,u+=v.w*v.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var c=0,f=0,d=0,h=0,p=Math.sqrt(u)*e.clientWidth/e.clientHeight;for(o=0;o<r.length;o++){var v;if(v=r[o]){for(s=0;s<v.length;s++){(l=v[s]).isLocked||(l.positionX+=c-v.x1,l.positionY+=f-v.y1)}c+=v.w+t.componentSpacing,d+=v.w+t.componentSpacing,h=Math.max(h,v.h),d>p&&(f+=h+t.componentSpacing,c=0,d=0,h=0)}}},pc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function vc(e){this.options=ke({},pc,e)}vc.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));var i=hn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.nodes().layoutPositions(this,t,function(e){return{x:i.x1,y:i.y1}});else{var a=o.size(),u=Math.sqrt(a*i.h/i.w),s=Math.round(u),l=Math.round(i.w/i.h*u),c=function(e){if(null==e)return Math.min(s,l);Math.min(s,l)==s?s=e:l=e},f=function(e){if(null==e)return Math.max(s,l);Math.max(s,l)==s?s=e:l=e},d=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=h)s=d,l=h;else if(null!=d&&null==h)s=d,l=Math.ceil(a/s);else if(null==d&&null!=h)l=h,s=Math.ceil(a/l);else if(l*s>a){var p=c(),v=f();(p-1)*v>=a?c(p-1):(v-1)*p>=a&&f(v-1)}else for(;l*s<a;){var y=c(),g=f();(g+1)*y>=a?f(g+1):c(y+1)}var m=i.w/l,b=i.h/s;if(t.condense&&(m=0,b=0),t.avoidOverlap)for(var _=0;_<o.length;_++){var w=o[_],O=w._private.position;null!=O.x&&null!=O.y||(O.x=0,O.y=0);var E=w.layoutDimensions(t),x=t.avoidOverlapPadding,S=E.w+x,P=E.h+x;m=Math.max(m,S),b=Math.max(b,P)}for(var T={},C=function(e,t){return!!T["c-"+e+"-"+t]},k=function(e,t){T["c-"+e+"-"+t]=!0},A=0,j=0,R=function(){++j>=l&&(j=0,A++)},I={},N=0;N<o.length;N++){var M=o[N],D=t.position(M);if(D&&(void 0!==D.row||void 0!==D.col)){var L={row:D.row,col:D.col};if(void 0===L.col)for(L.col=0;C(L.row,L.col);)L.col++;else if(void 0===L.row)for(L.row=0;C(L.row,L.col);)L.row++;I[M.id()]=L,k(L.row,L.col)}}o.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var o=I[e.id()];if(o)n=o.col*m+m/2+i.x1,r=o.row*b+b/2+i.y1;else{for(;C(A,j);)R();n=j*m+m/2+i.x1,r=A*b+b/2+i.y1,k(A,j),R()}return{x:n,y:r}})}return this};var yc={ready:function(){},stop:function(){}};function gc(e){this.options=ke({},yc,e)}gc.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},gc.prototype.stop=function(){return this};var mc={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function bc(e){this.options=ke({},mc,e)}bc.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=ie(e.positions);return t.layoutPositions(this,e,function(t,r){var o=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=o&&o}),this};var _c={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function wc(e){this.options=ke({},_c,e)}wc.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=hn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var Oc=[{name:"breadthfirst",impl:zl},{name:"circle",impl:Wl},{name:"concentric",impl:Gl},{name:"cose",impl:Xl},{name:"grid",impl:vc},{name:"null",impl:gc},{name:"preset",impl:bc},{name:"random",impl:wc}];function Ec(e){this.options=e,this.notifications=0}var xc=function(){},Sc=function(){throw new Error("A headless instance can not render images")};Ec.prototype={recalculateRenderedStyle:xc,notify:function(){this.notifications++},init:xc,isHeadless:function(){return!0},png:Sc,jpg:Sc};var Pc={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,o,i,a){var u=o.x-n/2-a,s=o.x+n/2+a,l=o.y-n/2-a,c=o.y+n/2+a;return u<=e&&e<=s&&l<=t&&t<=c},r=function(e,t,n,r,o){var i=e*Math.cos(r)-t*Math.sin(r),a=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:i*n+o.x,y:a+o.y}},o=function(e,t,n,o){for(var i=[],a=0;a<e.length;a+=2){var u=e[a],s=e[a+1];i.push(r(u,s,t,n,o))}return i},i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},u=function(r,u){oe(u)&&(u=e[u]),e[r]=ke({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,a,u){var s=i(o(this.points,n+2*u,r,a));return An(e,t,s)},roughCollide:n,draw:function(e,n,r,i){var a=o(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},u)};u("none",{collide:dt,roughCollide:dt,draw:pt,spacing:ht,gap:ht}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,i,a,u){var s=o(this.points,n,i,a),l=this.controlPoint,c=r(l[0],l[1],n,i,a);t.arrowShapeImpl(this.name)(e,s,c)},gap:function(e){return.8*a(e)}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,a,u,s){var l=i(o(this.points,n+2*s,r,a)),c=i(o(this.pointsTee,n+2*s,r,a));return An(e,t,l)||An(e,t,c)},draw:function(e,n,r,i,a){var u=o(this.points,n,r,i),s=o(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,u,s)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,a,u,s){var l=a,c=Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((n+2*s)*this.radius,2),f=i(o(this.points,n+2*s,r,a));return An(e,t,f)||c},draw:function(e,n,r,i,a){var u=o(this.pointsTr,n,r,i);t.arrowShapeImpl(this.name)(e,u,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,a,u,s){var l=i(o(this.points,n+2*s,r,a)),c=i(o(this.crossLinePts(n,u),n+2*s,r,a));return An(e,t,l)||An(e,t,c)},draw:function(e,n,r,i,a){var u=o(this.points,n,r,i),s=o(this.crossLinePts(n,a),n,r,i);t.arrowShapeImpl(this.name)(e,u,s)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),u("circle",{radius:.15,collide:function(e,t,n,r,o,i,a){var u=o;return Math.pow(u.x-e,2)+Math.pow(u.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,o,i){t.arrowShapeImpl(this.name)(e,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Tc={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),o=r[0],i=r[1],a=r[4],u=n.pan(),s=n.zoom();return[((e-o)/a-u.x)/s,((t-i)/a-u.y)/s]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},o=r("padding-left"),i=r("padding-right"),a=r("padding-top"),u=r("padding-bottom"),s=r("border-left-width"),l=r("border-right-width"),c=r("border-top-width"),f=(r("border-bottom-width"),e.clientWidth),d=e.clientHeight,h=o+i,p=a+u,v=s+l,y=t.width/(f+v),g=f-h,m=d-p,b=t.left+o+s,_=t.top+a+c;return this.containerBB=[b,_,g,m,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var o,i,a=this,u=this,s=u.getCachedZSortedEles(),l=[],c=u.cy.zoom(),f=u.cy.hasCompoundNodes(),d=(r?24:8)/c,h=(r?8:2)/c,p=(r?8:2)/c,v=1/0;function y(e,t){if(e.isNode()){if(i)return;i=e,l.push(e)}if(e.isEdge()&&(null==t||t<v))if(o){if(o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<l.length;n++)if(l[n].isEdge()){l[n]=e,o=e,v=null!=t?t:v;break}}else l.push(e),o=e,v=null!=t?t:v}function g(n){var r=n.outerWidth()+2*h,o=n.outerHeight()+2*h,i=r/2,s=o/2,l=n.position(),c="auto"===n.pstyle("corner-radius").value?"auto":n.pstyle("corner-radius").pfValue,f=n._private.rscratch;if(l.x-i<=e&&e<=l.x+i&&l.y-s<=t&&t<=l.y+s&&u.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,r,o,l.x,l.y,c,f))return y(n,0),!0}function m(n){var r,o=n._private,i=o.rscratch,s=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,h=s/2+d,p=h*h,v=2*h,m=o.source,b=o.target;if("segments"===i.edgeType||"straight"===i.edgeType||"haystack"===i.edgeType){for(var _=i.allpts,w=0;w+3<_.length;w+=2)if(Pn(e,t,_[w],_[w+1],_[w+2],_[w+3],v)&&p>(r=kn(e,t,_[w],_[w+1],_[w+2],_[w+3])))return y(n,r),!0}else if("bezier"===i.edgeType||"multibezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType)for(_=i.allpts,w=0;w+5<i.allpts.length;w+=4)if(Tn(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],v)&&p>(r=Cn(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return y(n,r),!0;m=m||o.source,b=b||o.target;var O=a.getArrowWidth(s,c),E=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}];for(w=0;w<E.length;w++){var x=E[w],S=u.arrowShapes[n.pstyle(x.name+"-arrow-shape").value],P=n.pstyle("width").pfValue;if(S.roughCollide(e,t,O,x.angle,{x:x.x,y:x.y},P,d)&&S.collide(e,t,O,x.angle,{x:x.x,y:x.y},P,d))return y(n),!0}f&&l.length>0&&(g(m),g(b))}function b(e,t,n){return St(e,t,n)}function _(n,r){var o,i=n._private,a=p;o=r?r+"-":"",n.boundingBox();var u=i.labelBounds[r||"main"],s=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&s){var l=b(i.rscratch,"labelX",r),c=b(i.rscratch,"labelY",r),f=b(i.rscratch,"labelAngle",r),d=n.pstyle(o+"text-margin-x").pfValue,h=n.pstyle(o+"text-margin-y").pfValue,v=u.x1-a-d,g=u.x2+a-d,m=u.y1-a-h,_=u.y2+a-h;if(f){var w=Math.cos(f),O=Math.sin(f),E=function(e,t){return{x:(e-=l)*w-(t-=c)*O+l,y:e*O+t*w+c}},x=E(v,m),S=E(v,_),P=E(g,m),T=E(g,_),C=[x.x+d,x.y+h,P.x+d,P.y+h,T.x+d,T.y+h,S.x+d,S.y+h];if(An(e,t,C))return y(n),!0}else if(_n(u,e,t))return y(n),!0}}n&&(s=s.interactive);for(var w=s.length-1;w>=0;w--){var O=s[w];O.isNode()?g(O)||_(O):m(O)||_(O)||_(O,"source")||_(O,"target")}return l},getAllInBox:function(e,t,n,r){var o=this.getCachedZSortedEles().interactive,i=2/this.cy.zoom(),a=[],u=Math.min(e,n),s=Math.max(e,n),l=Math.min(t,r),c=Math.max(t,r),f=hn({x1:e=u,y1:t=l,x2:n=s,y2:r=c}),d=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],h=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function p(e,t,n){return St(e,t,n)}function v(e,t){var n=e._private,r=i;e.boundingBox();var o=n.labelBounds.main;if(!o)return null;var a=p(n.rscratch,"labelX",t),u=p(n.rscratch,"labelY",t),s=p(n.rscratch,"labelAngle",t),l=e.pstyle("text-margin-x").pfValue,c=e.pstyle("text-margin-y").pfValue,f=o.x1-r-l,d=o.x2+r-l,h=o.y1-r-c,v=o.y2+r-c;if(s){var y=Math.cos(s),g=Math.sin(s),m=function(e,t){return{x:(e-=a)*y-(t-=u)*g+a,y:e*g+t*y+u}};return[m(f,h),m(d,h),m(d,v),m(f,v)]}return[{x:f,y:h},{x:d,y:h},{x:d,y:v},{x:f,y:v}]}function y(e,t,n,r){function o(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}return o(e,n,r)!==o(t,n,r)&&o(e,t,n)!==o(e,t,r)}for(var g=0;g<o.length;g++){var b=o[g];if(b.isNode()){var _=b,w="yes"===_.pstyle("text-events").strValue,O=_.pstyle("box-selection").strValue,E="yes"===_.pstyle("box-select-labels").strValue;if("none"===O)continue;var x=("overlap"===O||E)&&w,S=_.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:x});if("contain"===O){var P=!1;if(E&&w){var T=v(_);T&&Yn(T,d)&&(a.push(_),P=!0)}!P&&On(f,S)&&a.push(_)}else if("overlap"===O&&bn(f,S)){var C=_.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1});if(Yn([{x:C.x1,y:C.y1},{x:C.x2,y:C.y1},{x:C.x2,y:C.y2},{x:C.x1,y:C.y2}],d))a.push(_);else{var k=v(_);k&&Yn(k,d)&&a.push(_)}}}else{var A=b,j=A._private,R=j.rscratch,I=A.pstyle("box-selection").strValue;if("none"===I)continue;if("contain"===I){if(null!=R.startX&&null!=R.startY&&!_n(f,R.startX,R.startY))continue;if(null!=R.endX&&null!=R.endY&&!_n(f,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var N=j.rstyle.bezierPts||j.rstyle.linePts||j.rstyle.haystackPts,M=!0,D=0;D<N.length;D++)if(!wn(f,N[D])){M=!1;break}M&&a.push(A)}else"straight"===R.edgeType&&a.push(A)}else if("overlap"===I){var L=!1;if(null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&(_n(f,R.startX,R.startY)||_n(f,R.endX,R.endY)))a.push(A),L=!0;else if(!L&&"haystack"===R.edgeType)for(var F=j.rstyle.haystackPts,U=0;U<F.length;U++)if(wn(f,F[U])){a.push(A),L=!0;break}if(!L){var B=j.rstyle.bezierPts||j.rstyle.linePts||j.rstyle.haystackPts;if((!B||B.length<2)&&"straight"===R.edgeType&&null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&(B=[{x:R.startX,y:R.startY},{x:R.endX,y:R.endY}]),!B||B.length<2)continue;for(var z=0;z<B.length-1;z++){for(var V=B[z],W=B[z+1],H=0;H<h.length;H++){var q=m(h[H],2);if(y(V,W,q[0],q[1])){a.push(A),L=!0;break}}if(L)break}}}}}return a}},Cc={calculateArrowAngles:function(e){var t,n,r,o,i,a,u=e._private.rscratch,s="haystack"===u.edgeType,l="bezier"===u.edgeType,c="multibezier"===u.edgeType,f="segments"===u.edgeType,d="compound"===u.edgeType,h="self"===u.edgeType;if(s?(r=u.haystackPts[0],o=u.haystackPts[1],i=u.haystackPts[2],a=u.haystackPts[3]):(r=u.arrowStartX,o=u.arrowStartY,i=u.arrowEndX,a=u.arrowEndY),v=u.midX,y=u.midY,f)t=r-u.segpts[0],n=o-u.segpts[1];else if(c||d||h||l){var p=u.allpts;t=r-cn(p[0],p[2],p[4],.1),n=o-cn(p[1],p[3],p[5],.1)}else t=r-v,n=o-y;u.srcArrowAngle=rn(t,n);var v=u.midX,y=u.midY;if(s&&(v=(r+i)/2,y=(o+a)/2),t=i-r,n=a-o,f)if((p=u.allpts).length/2%2===0){var g=(S=p.length/2)-2;t=p[S]-p[g],n=p[S+1]-p[g+1]}else if(u.isRound)t=u.midVector[1],n=-u.midVector[0];else{g=(S=p.length/2-1)-2;t=p[S]-p[g],n=p[S+1]-p[g+1]}else if(c||d||h){var m,b,_,w,p=u.allpts;if(u.ctrlpts.length/2%2===0){var O=(E=(x=p.length/2-1)+2)+2;m=cn(p[x],p[E],p[O],0),b=cn(p[x+1],p[E+1],p[O+1],0),_=cn(p[x],p[E],p[O],1e-4),w=cn(p[x+1],p[E+1],p[O+1],1e-4)}else{var E,x;O=(E=p.length/2-1)+2;m=cn(p[x=E-2],p[E],p[O],.4999),b=cn(p[x+1],p[E+1],p[O+1],.4999),_=cn(p[x],p[E],p[O],.5),w=cn(p[x+1],p[E+1],p[O+1],.5)}t=_-m,n=w-b}if(u.midtgtArrowAngle=rn(t,n),u.midDispX=t,u.midDispY=n,t*=-1,n*=-1,f)if((p=u.allpts).length/2%2===0);else if(!u.isRound){var S,P=(S=p.length/2-1)+2;t=-(p[P]-p[S]),n=-(p[P+1]-p[S+1])}if(u.midsrcArrowAngle=rn(t,n),f)t=i-u.segpts[u.segpts.length-2],n=a-u.segpts[u.segpts.length-1];else if(c||d||h||l){var T=(p=u.allpts).length;t=i-cn(p[T-6],p[T-4],p[T-2],.9),n=a-cn(p[T-5],p[T-3],p[T-1],.9)}else t=i-v,n=a-y;u.tgtArrowAngle=rn(t,n)}};Cc.getArrowWidth=Cc.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var kc,Ac,jc,Rc,Ic,Nc,Mc,Dc,Lc,Fc,Uc,Bc,zc,Vc,Wc,Hc,qc,Gc={},Yc={},Xc=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Kc=function(e,t,n,r,o){var i,a;if(e!==qc?Xc(t,e,Gc):((a=Gc).x=-1*(i=Yc).x,a.y=-1*i.y,a.nx=-1*i.nx,a.ny=-1*i.ny,a.ang=i.ang>0?-(Math.PI-i.ang):Math.PI+i.ang),Xc(t,n,Yc),jc=Gc.nx*Yc.ny-Gc.ny*Yc.nx,Rc=Gc.nx*Yc.nx-Gc.ny*-Yc.ny,Mc=Math.asin(Math.max(-1,Math.min(1,jc))),Math.abs(Mc)<1e-6)return kc=t.x,Ac=t.y,void(Lc=Uc=0);Ic=1,Nc=!1,Rc<0?Mc<0?Mc=Math.PI+Mc:(Mc=Math.PI-Mc,Ic=-1,Nc=!0):Mc>0&&(Ic=-1,Nc=!0),Uc=void 0!==t.radius?t.radius:r,Dc=Mc/2,Bc=Math.min(Gc.len/2,Yc.len/2),o?(Fc=Math.abs(Math.cos(Dc)*Uc/Math.sin(Dc)))>Bc?(Fc=Bc,Lc=Math.abs(Fc*Math.sin(Dc)/Math.cos(Dc))):Lc=Uc:(Fc=Math.min(Bc,Uc),Lc=Math.abs(Fc*Math.sin(Dc)/Math.cos(Dc))),Wc=t.x+Yc.nx*Fc,Hc=t.y+Yc.ny*Fc,kc=Wc-Yc.ny*Lc*Ic,Ac=Hc+Yc.nx*Lc*Ic,zc=t.x+Gc.nx*Fc,Vc=t.y+Gc.ny*Fc,qc=t};function Zc(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function $c(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===r||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Kc(e,t,n,r,o),{cx:kc,cy:Ac,radius:Lc,startX:zc,startY:Vc,stopX:Wc,stopY:Hc,startAngle:Gc.ang+Math.PI/2*Ic,endAngle:Yc.ang-Math.PI/2*Ic,counterClockwise:Nc})}var Qc=.01,Jc=Math.sqrt(.02),ef={};function tf(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t.push({x:r,y:o})}return t}}ef.findMidptPtsEtc=function(e,t){var n,r=t.posPts,o=t.intersectionPts,i=t.vectorNormInverse,a=e.pstyle("source-endpoint"),u=e.pstyle("target-endpoint"),s=null!=a.units&&null!=u.units;switch(e.pstyle("edge-distances").value){case"node-position":n=r;break;case"intersection":n=o;break;case"endpoints":if(s){var l=m(this.manualEndptToPx(e.source()[0],a),2),c=l[0],f=l[1],d=m(this.manualEndptToPx(e.target()[0],u),2),h=d[0],p=d[1],v={x1:c,y1:f,x2:h,y2:p};i=function(e,t,n,r){var o=r-t,i=n-e,a=Math.sqrt(i*i+o*o);return{x:-o/a,y:i/a}}(c,f,h,p),n=v}else gt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),n=o}return{midptPts:n,vectorNormInverse:i}},ef.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,o=r.rscratch;if(!o.haystack){var i=2*Math.random()*Math.PI;o.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,o.target={x:Math.cos(i),y:Math.sin(i)}}var a=r.source,u=r.target,s=a.position(),l=u.position(),c=a.width(),f=u.width(),d=a.height(),h=u.height(),p=n.pstyle("haystack-radius").value/2;o.haystackPts=o.allpts=[o.source.x*c*p+s.x,o.source.y*d*p+s.y,o.target.x*f*p+l.x,o.target.y*h*p+l.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ef.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),o=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),a=e.pstyle("radius-type"),u=Math.min(r.pfValue.length,o.pfValue.length),s=i.pfValue[i.pfValue.length-1],l=a.pfValue[a.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<u;c++){var f=r.pfValue[c],d=o.pfValue[c],h=1-f,p=f,v=this.findMidptPtsEtc(e,t),y=v.midptPts,g=v.vectorNormInverse,m={x:y.x1*h+y.x2*p,y:y.y1*h+y.y2*p};n.segpts.push(m.x+g.x*d,m.y+g.y*d),n.radii.push(void 0!==i.pfValue[c]?i.pfValue[c]:s),n.isArcRadius.push("arc-radius"===(void 0!==a.pfValue[c]?a.pfValue[c]:l))}},ef.findLoopPoints=function(e,t,n,r){var o=e._private.rscratch,i=t.dirCounts,a=t.srcPos,u=e.pstyle("control-point-distances"),s=u?u.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,f=e.pstyle("control-point-step-size").pfValue;o.edgeType="self";var d=n,h=f;r&&(d=0,h=s);var p=l-Math.PI/2,v=p-c/2,y=p+c/2,g=String(l+"_"+c);d=void 0===i[g]?i[g]=0:++i[g],o.ctrlpts=[a.x+1.4*Math.cos(v)*h*(d/3+1),a.y+1.4*Math.sin(v)*h*(d/3+1),a.x+1.4*Math.cos(y)*h*(d/3+1),a.y+1.4*Math.sin(y)*h*(d/3+1)]},ef.findCompoundLoopPoints=function(e,t,n,r){var o=e._private.rscratch;o.edgeType="compound";var i=t.srcPos,a=t.tgtPos,u=t.srcW,s=t.srcH,l=t.tgtW,c=t.tgtH,f=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,p=n,v=f;r&&(p=0,v=h);var y={x:i.x-u/2,y:i.y-s/2},g={x:a.x-l/2,y:a.y-c/2},m={x:Math.min(y.x,g.x),y:Math.min(y.y,g.y)},b=Math.max(.5,Math.log(u*Qc)),_=Math.max(.5,Math.log(l*Qc));o.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*_,m.y]},ef.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},ef.findBezierPoints=function(e,t,n,r,o){var i=e._private.rscratch,a=e.pstyle("control-point-step-size").pfValue,u=e.pstyle("control-point-distances"),s=e.pstyle("control-point-weights"),l=u&&s?Math.min(u.value.length,s.value.length):1,c=u?u.pfValue[0]:void 0,f=s.value[0],d=r;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<l;h++){var p=(.5-t.eles.length/2+n)*a*(o?-1:1),v=void 0,y=an(p);d&&(c=u?u.pfValue[h]:a,f=s.value[h]);var g=void 0!==(v=r?c:void 0!==c?y*c:void 0)?v:p,m=1-f,b=f,_=this.findMidptPtsEtc(e,t),w=_.midptPts,O=_.vectorNormInverse,E={x:w.x1*m+w.x2*b,y:w.y1*m+w.y2*b};i.ctrlpts.push(E.x+O.x*g,E.y+O.y*g)}},ef.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",o="horizontal",i="leftward",a="rightward",u="downward",s="upward",l=t.posPts,c=t.srcW,f=t.srcH,d=t.tgtW,h=t.tgtH,p="node-position"!==e.pstyle("edge-distances").value,v=e.pstyle("taxi-direction").value,y=v,g=e.pstyle("taxi-turn"),m="%"===g.units,b=g.pfValue,_=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,O=p?(c+d)/2:0,E=p?(f+h)/2:0,x=l.x2-l.x1,S=l.y2-l.y1,P=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},T=P(x,O),C=P(S,E),k=!1;"auto"===y?v=Math.abs(T)>Math.abs(C)?o:r:y===s||y===u?(v=r,k=!0):y!==i&&y!==a||(v=o,k=!0);var A,j=v===r,R=j?C:T,I=j?S:x,N=an(I),M=!1;(k&&(m||_)||!(y===u&&I<0||y===s&&I>0||y===i&&I>0||y===a&&I<0)||(R=(N*=-1)*Math.abs(R),M=!0),m)?A=(b<0?1+b:b)*R:A=(b<0?R:0)+b*N;var D=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(R)},L=D(A),F=D(Math.abs(R)-Math.abs(A));if((L||F)&&!M)if(j){var U=Math.abs(I)<=f/2,B=Math.abs(x)<=d/2;if(U){var z=(l.x1+l.x2)/2,V=l.y1,W=l.y2;n.segpts=[z,V,z,W]}else if(B){var H=(l.y1+l.y2)/2,q=l.x1,G=l.x2;n.segpts=[q,H,G,H]}else n.segpts=[l.x1,l.y2]}else{var Y=Math.abs(I)<=c/2,X=Math.abs(S)<=h/2;if(Y){var K=(l.y1+l.y2)/2,Z=l.x1,$=l.x2;n.segpts=[Z,K,$,K]}else if(X){var Q=(l.x1+l.x2)/2,J=l.y1,ee=l.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[l.x2,l.y1]}else if(j){var te=l.y1+A+(p?f/2*N:0),ne=l.x1,re=l.x2;n.segpts=[ne,te,re,te]}else{var oe=l.x1+A+(p?c/2*N:0),ie=l.y1,ae=l.y2;n.segpts=[oe,ie,oe,ae]}if(n.isRound){var ue=e.pstyle("taxi-radius").value,se="arc-radius"===e.pstyle("radius-type").value[0];n.radii=new Array(n.segpts.length/2).fill(ue),n.isArcRadius=new Array(n.segpts.length/2).fill(se)}},ef.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,o=t.tgtPos,i=t.srcW,a=t.srcH,u=t.tgtW,s=t.tgtH,l=t.srcShape,c=t.tgtShape,f=t.srcCornerRadius,d=t.tgtCornerRadius,h=t.srcRs,p=t.tgtRs,v=!se(n.startX)||!se(n.startY),y=!se(n.arrowStartX)||!se(n.arrowStartY),g=!se(n.endX)||!se(n.endY),m=!se(n.arrowEndX)||!se(n.arrowEndY),b=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),_=un({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),w=_<b,O=un({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),E=O<b,x=!1;if(v||y||w){x=!0;var S={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},P=Math.sqrt(S.x*S.x+S.y*S.y),T={x:S.x/P,y:S.y/P},C=Math.max(i,a),k={x:n.ctrlpts[0]+2*T.x*C,y:n.ctrlpts[1]+2*T.y*C},A=l.intersectLine(r.x,r.y,i,a,k.x,k.y,0,f,h);w?(n.ctrlpts[0]=n.ctrlpts[0]+T.x*(b-_),n.ctrlpts[1]=n.ctrlpts[1]+T.y*(b-_)):(n.ctrlpts[0]=A[0]+T.x*b,n.ctrlpts[1]=A[1]+T.y*b)}if(g||m||E){x=!0;var j={x:n.ctrlpts[0]-o.x,y:n.ctrlpts[1]-o.y},R=Math.sqrt(j.x*j.x+j.y*j.y),I={x:j.x/R,y:j.y/R},N=Math.max(i,a),M={x:n.ctrlpts[0]+2*I.x*N,y:n.ctrlpts[1]+2*I.y*N},D=c.intersectLine(o.x,o.y,u,s,M.x,M.y,0,d,p);E?(n.ctrlpts[0]=n.ctrlpts[0]+I.x*(b-O),n.ctrlpts[1]=n.ctrlpts[1]+I.y*(b-O)):(n.ctrlpts[0]=D[0]+I.x*b,n.ctrlpts[1]=D[1]+I.y*b)}x&&this.findEndpoints(e)}},ef.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=cn(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=cn(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var o=2;o+3<t.allpts.length;o+=2){var i=t.radii[o/2-1],a=t.isArcRadius[o/2-1];t.roundCorners.push($c({x:t.allpts[o-2],y:t.allpts[o-1]},{x:t.allpts[o],y:t.allpts[o+1],radius:i},{x:t.allpts[o+2],y:t.allpts[o+3]},i,a))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,s=u-2;t.midX=(t.segpts[s]+t.segpts[u])/2,t.midY=(t.segpts[s+1]+t.segpts[u+1])/2}else{var l=t.segpts.length/2-1;if(t.isRound){var c={x:t.segpts[l],y:t.segpts[l+1]},f=t.roundCorners[l/2];if(0===f.radius){var d={x:t.segpts[l+2],y:t.segpts[l+3]};t.midX=c.x,t.midY=c.y,t.midVector=[c.y-d.y,d.x-c.x]}else{var h=[c.x-f.cx,c.y-f.cy],p=f.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(e){return e*p}),t.midX=f.cx+h[0],t.midY=f.cy+h[1],t.midVector=h}}else t.midX=t.segpts[l],t.midY=t.segpts[l+1]}}},ef.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||se(t.startX)&&se(t.startY)&&se(t.endX)&&se(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,gt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ef.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),o=new Tt,i=function(e,t){return[].concat(b(e),[t?1:0]).join("-")},a=[],u=[],s=0;s<e.length;s++){var l=e[s],c=l._private,f=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==f){var d="unbundled-bezier"===f||Oe(f,"segments")||"straight"===f||"straight-triangle"===f||Oe(f,"taxi"),h="unbundled-bezier"===f||"bezier"===f,p=c.source,v=c.target,y=[p.poolIndex(),v.poolIndex()].sort(),g=i(y,d),m=o.get(g);null==m&&(m={eles:[]},a.push({pairId:y,edgeIsUnbundled:d}),o.set(g,m)),m.eles.push(l),d&&(m.hasUnbundled=!0),h&&(m.hasBezier=!0)}else u.push(l)}for(var _=function(){var e,u=a[w],s=u.pairId,l=u.edgeIsUnbundled,c=i(s,l),f=o.get(c);if(!f.hasUnbundled){var d=f.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});xt(f.eles),d.forEach(function(e){return f.eles.push(e)}),f.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var h=f.eles[0],p=h.source(),v=h.target();if(p.poolIndex()>v.poolIndex()){var y=p;p=v,v=y}var g=f.srcPos=p.position(),m=f.tgtPos=v.position(),b=f.srcW=p.outerWidth(),_=f.srcH=p.outerHeight(),O=f.tgtW=v.outerWidth(),E=f.tgtH=v.outerHeight(),x=f.srcShape=n.nodeShapes[t.getNodeShape(p)],S=f.tgtShape=n.nodeShapes[t.getNodeShape(v)],P=f.srcCornerRadius="auto"===p.pstyle("corner-radius").value?"auto":p.pstyle("corner-radius").pfValue,T=f.tgtCornerRadius="auto"===v.pstyle("corner-radius").value?"auto":v.pstyle("corner-radius").pfValue,C=f.tgtRs=v._private.rscratch,k=f.srcRs=p._private.rscratch;f.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var A=0;A<f.eles.length;A++){var j=f.eles[A],R=j[0]._private.rscratch,I=j.pstyle("curve-style").value,N="unbundled-bezier"===I||Oe(I,"segments")||Oe(I,"taxi"),M=!p.same(j.source());if(!f.calculatedIntersection&&p!==v&&(f.hasBezier||f.hasUnbundled)){f.calculatedIntersection=!0;var D=x.intersectLine(g.x,g.y,b,_,m.x,m.y,0,P,k),L=f.srcIntn=D,F=S.intersectLine(m.x,m.y,O,E,g.x,g.y,0,T,C),U=f.tgtIntn=F,B=f.intersectionPts={x1:D[0],x2:F[0],y1:D[1],y2:F[1]},z=f.posPts={x1:g.x,x2:m.x,y1:g.y,y2:m.y},V=F[1]-D[1],W=F[0]-D[0],H=Math.sqrt(W*W+V*V);se(H)&&H>=Jc||(H=Math.sqrt(Math.max(W*W,Qc)+Math.max(V*V,Qc)));var q=f.vector={x:W,y:V},G=f.vectorNorm={x:q.x/H,y:q.y/H},Y={x:-G.y,y:G.x};f.nodesOverlap=!se(H)||S.checkPoint(D[0],D[1],0,O,E,m.x,m.y,T,C)||x.checkPoint(F[0],F[1],0,b,_,g.x,g.y,P,k),f.vectorNormInverse=Y,e={nodesOverlap:f.nodesOverlap,dirCounts:f.dirCounts,calculatedIntersection:!0,hasBezier:f.hasBezier,hasUnbundled:f.hasUnbundled,eles:f.eles,srcPos:m,srcRs:C,tgtPos:g,tgtRs:k,srcW:O,srcH:E,tgtW:b,tgtH:_,srcIntn:U,tgtIntn:L,srcShape:S,tgtShape:x,posPts:{x1:z.x2,y1:z.y2,x2:z.x1,y2:z.y1},intersectionPts:{x1:B.x2,y1:B.y2,x2:B.x1,y2:B.y1},vector:{x:-q.x,y:-q.y},vectorNorm:{x:-G.x,y:-G.y},vectorNormInverse:{x:-Y.x,y:-Y.y}}}var X=M?e:f;R.nodesOverlap=X.nodesOverlap,R.srcIntn=X.srcIntn,R.tgtIntn=X.tgtIntn,R.isRound=I.startsWith("round"),r&&(p.isParent()||p.isChild()||v.isParent()||v.isChild())&&(p.parents().anySame(v)||v.parents().anySame(p)||p.same(v)&&p.isParent())?t.findCompoundLoopPoints(j,X,A,N):p===v?t.findLoopPoints(j,X,A,N):I.endsWith("segments")?t.findSegmentsPoints(j,X):I.endsWith("taxi")?t.findTaxiPoints(j,X):"straight"===I||!N&&f.eles.length%2===1&&A===Math.floor(f.eles.length/2)?t.findStraightEdgePoints(j):t.findBezierPoints(j,X,A,N,M),t.findEndpoints(j),t.tryToCorrectInvalidPoints(j,X),t.checkForInvalidEdgeWarning(j),t.storeAllpts(j),t.storeEdgeProjections(j),t.calculateArrowAngles(j),t.recalculateEdgeLabelProjections(j),t.calculateLabelAngles(j)}},w=0;w<a.length;w++)_();this.findHaystackPoints(u)}},ef.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return tf(t.segpts)},ef.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return tf(t.ctrlpts)},ef.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var nf={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),o=e.outerHeight(),i=e._private.rscratch;if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*o),a[0]+=n.x,a[1]+=n.y,a}var u=t.pfValue[0];u=-Math.PI/2+u;var s=2*Math.max(r,o),l=[n.x+Math.cos(u)*s,n.y+Math.sin(u)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,o,l[0],l[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,i)},findEndpoints:function(e){var t,n,r,o,i,a,u,s,l,c=this,f=e.source()[0],d=e.target()[0],h=f.position(),p=d.position(),v=e.pstyle("target-arrow-shape").value,y=e.pstyle("source-arrow-shape").value,g=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,b=f._private.rscratch,_=d._private.rscratch,w=e.pstyle("curve-style").value,O=e._private.rscratch,E=O.edgeType,x=Oe(w,"taxi"),S="self"===E||"compound"===E,P="bezier"===E||"multibezier"===E||S,T="bezier"!==E,C="straight"===E||"segments"===E,k="segments"===E,A=P||T||C,j=S||x,R=e.pstyle("source-endpoint"),I=j?"outside-to-node":R.value,N="auto"===f.pstyle("corner-radius").value?"auto":f.pstyle("corner-radius").pfValue,M=e.pstyle("target-endpoint"),D=j?"outside-to-node":M.value,L="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue;O.srcManEndpt=R,O.tgtManEndpt=M;var F=null!==(t=2===(null===M||void 0===M||null===(n=M.pfValue)||void 0===n?void 0:n.length)?M.pfValue:null)&&void 0!==t?t:[0,0],U=null!==(r=2===(null===R||void 0===R||null===(o=R.pfValue)||void 0===o?void 0:o.length)?R.pfValue:null)&&void 0!==r?r:[0,0];if(P){var B=[O.ctrlpts[0],O.ctrlpts[1]];a=T?[O.ctrlpts[O.ctrlpts.length-2],O.ctrlpts[O.ctrlpts.length-1]]:B,u=B}else if(C){var z=k?O.segpts.slice(0,2):[p.x+F[0],p.y+F[1]];a=k?O.segpts.slice(O.segpts.length-2):[h.x+U[0],h.y+U[1]],u=z}if("inside-to-node"===D)i=[p.x,p.y];else if(M.units)i=this.manualEndptToPx(d,M);else if("outside-to-line"===D)i=O.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?s=a:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(s=[h.x,h.y]),i=c.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),s[0],s[1],0,L,_),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var V=d._private.rscratch,W=V.labelWidth,H=V.labelHeight,q=V.labelX,G=V.labelY,Y=W/2,X=H/2,K=d.pstyle("text-valign").value;"top"===K?G-=X:"bottom"===K&&(G+=X);var Z=d.pstyle("text-halign").value;"left"===Z?q-=Y:"right"===Z&&(q+=Y);var $=Un(s[0],s[1],[q-Y,G-X,q+Y,G-X,q+Y,G+X,q-Y,G+X],p.x,p.y);if($.length>0){var Q=h,J=sn(Q,nn(i)),ee=sn(Q,nn($)),te=J;if(ee<J&&(i=$,te=ee),$.length>2)sn(Q,{x:$[2],y:$[3]})<te&&(i=[$[2],$[3]])}}var ne=Bn(i,a,c.arrowShapes[v].spacing(e)+g),re=Bn(i,a,c.arrowShapes[v].gap(e)+g);if(O.endX=re[0],O.endY=re[1],O.arrowEndX=ne[0],O.arrowEndY=ne[1],"inside-to-node"===I)i=[h.x,h.y];else if(R.units)i=this.manualEndptToPx(f,R);else if("outside-to-line"===I)i=O.srcIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?l=u:"outside-to-line"!==I&&"outside-to-line-or-label"!==I||(l=[p.x,p.y]),i=c.nodeShapes[this.getNodeShape(f)].intersectLine(h.x,h.y,f.outerWidth(),f.outerHeight(),l[0],l[1],0,N,b),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var oe=f._private.rscratch,ie=oe.labelWidth,ae=oe.labelHeight,ue=oe.labelX,le=oe.labelY,ce=ie/2,fe=ae/2,de=f.pstyle("text-valign").value;"top"===de?le-=fe:"bottom"===de&&(le+=fe);var he=f.pstyle("text-halign").value;"left"===he?ue-=ce:"right"===he&&(ue+=ce);var pe=Un(l[0],l[1],[ue-ce,le-fe,ue+ce,le-fe,ue+ce,le+fe,ue-ce,le+fe],h.x,h.y);if(pe.length>0){var ve=p,ye=sn(ve,nn(i)),ge=sn(ve,nn(pe)),me=ye;if(ge<ye&&(i=[pe[0],pe[1]],me=ge),pe.length>2)sn(ve,{x:pe[2],y:pe[3]})<me&&(i=[pe[2],pe[3]])}}var be=Bn(i,u,c.arrowShapes[y].spacing(e)+m),_e=Bn(i,u,c.arrowShapes[y].gap(e)+m);O.startX=_e[0],O.startY=_e[1],O.arrowStartX=be[0],O.arrowStartY=be[1],A&&(se(O.startX)&&se(O.startY)&&se(O.endX)&&se(O.endY)?O.badLine=!1:O.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},rf={};function of(e,t,n){for(var r=function(e,t,n,r){return cn(e,t,n,r)},o=t._private.rstyle.bezierPts,i=0;i<e.bezierProjPcts.length;i++){var a=e.bezierProjPcts[i];o.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}rf.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var o=0;o+5<n.allpts.length;o+=4)of(this,e,n.allpts.slice(o,o+6))}else if("segments"===r){var i=t.rstyle.linePts=[];for(o=0;o+1<n.allpts.length;o+=2)i.push({x:n.allpts[o],y:n.allpts[o+1]})}else if("haystack"===r){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},rf.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var af={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!ve(t)){var n,r,o=e._private,i=e.width(),a=e.height(),u=e.padding(),s=e.position(),l=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,f=o.rscratch,d=o.rstyle;switch(l){case"left":n=s.x-i/2-u;break;case"right":n=s.x+i/2+u;break;default:n=s.x}switch(c){case"top":r=s.y-a/2-u;break;case"bottom":r=s.y+a/2+u;break;default:r=s.y}f.labelX=n,f.labelY=r,d.labelX=n,d.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},uf=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},sf=function(e,t){var n=t.x-e.x,r=t.y-e.y;return uf(n,r)};af.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,o=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:r.midX,y:r.midY};var a=function(e,t,r){Pt(n.rscratch,e,t,r),Pt(n.rstyle,e,t,r)};a("labelX",null,t.x),a("labelY",null,t.y);var u=uf(r.midDispX,r.midDispY);a("labelAutoAngle",null,u);var s=function(){if(s.cache)return s.cache;for(var e=[],t=0;t+5<r.allpts.length;t+=4){var i={x:r.allpts[t],y:r.allpts[t+1]},a={x:r.allpts[t+2],y:r.allpts[t+3]},u={x:r.allpts[t+4],y:r.allpts[t+5]};e.push({p0:i,p1:a,p2:u,startDist:0,length:0,segments:[]})}var l=n.rstyle.bezierPts,c=o.bezierProjPcts.length;function f(e,t,n,r,o){var i=un(t,n),a=e.segments[e.segments.length-1],u={p0:t,p1:n,t0:r,t1:o,startDist:a?a.startDist+a.length:0,length:i};e.segments.push(u),e.length+=i}for(var d=0;d<e.length;d++){var h=e[d],p=e[d-1];p&&(h.startDist=p.startDist+p.length),f(h,h.p0,l[d*c],0,o.bezierProjPcts[0]);for(var v=0;v<c-1;v++)f(h,l[d*c+v],l[d*c+v+1],o.bezierProjPcts[v],o.bezierProjPcts[v+1]);f(h,l[d*c+c-1],h.p2,o.bezierProjPcts[c-1],1)}return s.cache=e},l=function(n){var o,u="source"===n;if(i[n]){var l=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,f=s(),d=0,h=0,p=0;p<f.length;p++){for(var v=f[u?p:f.length-1-p],y=0;y<v.segments.length;y++){var g=v.segments[u?y:v.segments.length-1-y],m=p===f.length-1&&y===v.segments.length-1;if(d=h,(h+=g.length)>=l||m){c={cp:v,segment:g};break}}if(c)break}var b=c.cp,_=c.segment,w=(l-d)/_.length,O=_.t1-_.t0,E=u?_.t0+O*w:_.t1-O*w;E=dn(0,E,1),t=fn(b.p0,b.p1,b.p2,E),o=function(e,t,n,r){var o=dn(0,r-.001,1),i=dn(0,r+.001,1),a=fn(e,t,n,o),u=fn(e,t,n,i);return sf(a,u)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var x,S,P,T,C=0,k=r.allpts.length,A=0;A+3<k&&(u?(P={x:r.allpts[A],y:r.allpts[A+1]},T={x:r.allpts[A+2],y:r.allpts[A+3]}):(P={x:r.allpts[k-2-A],y:r.allpts[k-1-A]},T={x:r.allpts[k-4-A],y:r.allpts[k-3-A]}),S=C,!((C+=x=un(P,T))>=l));A+=2);var j=(l-S)/x;j=dn(0,j,1),t=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=un(e,t),u=o/a,s=i/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:e.x+u*r,y:e.y+s*r}}(P,T,j),o=sf(P,T)}a("labelX",n,t.x),a("labelY",n,t.y),a("labelAutoAngle",n,o)}};l("source"),l("target"),this.applyLabelDimensions(e)}},af.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},af.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),o=rt(r,e._private.labelDimsKey);if(St(n.rscratch,"prefixedLabelDimsKey",t)!==o){Pt(n.rscratch,"prefixedLabelDimsKey",t,o);var i=this.calculateLabelDimensions(e,r),a=e.pstyle("line-height").pfValue,u=e.pstyle("text-wrap").strValue,s=St(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==u?1:Math.max(s.length,1),c=i.height/l,f=c*a,d=i.width,h=i.height+(l-1)*(a-1)*c;Pt(n.rstyle,"labelWidth",t,d),Pt(n.rscratch,"labelWidth",t,d),Pt(n.rstyle,"labelHeight",t,h),Pt(n.rscratch,"labelHeight",t,h),Pt(n.rscratch,"labelLineHeight",t,f)}},af.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",o=e.pstyle(r+"label").strValue,i=e.pstyle("text-transform").value,a=function(e,r){return r?(Pt(n.rscratch,e,t,r),r):St(n.rscratch,e,t)};if(!o)return"";"none"==i||("uppercase"==i?o=o.toUpperCase():"lowercase"==i&&(o=o.toLowerCase()));var u=e.pstyle("text-wrap").value;if("wrap"===u){var s=a("labelKey");if(null!=s&&a("labelWrapKey")===s)return a("labelWrapCachedText");for(var l=o.split("\n"),c=e.pstyle("text-max-width").pfValue,f="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],h=/[\s\u200b]+|$/g,p=0;p<l.length;p++){var v=l[p],g=this.calculateLabelDimensions(e,v).width;if(f){var m=v.split("").join("\u200b");v=m}if(g>c){var b,_="",w=0,O=y(v.matchAll(h));try{for(O.s();!(b=O.n()).done;){var E=b.value,x=E[0],S=v.substring(w,E.index);w=E.index+x.length;var P=0===_.length?S:_+S+x;this.calculateLabelDimensions(e,P).width<=c?_+=S+x:(_&&d.push(_),_=S+x)}}catch(j){O.e(j)}finally{O.f()}_.match(/^[\s\u200b]+$/)||d.push(_)}else d.push(v)}a("labelWrapCachedLines",d),o=a("labelWrapCachedText",d.join("\n")),a("labelWrapKey",s)}else if("ellipsis"===u){var T=e.pstyle("text-max-width").pfValue,C="",k=!1;if(this.calculateLabelDimensions(e,o).width<T)return o;for(var A=0;A<o.length;A++){if(this.calculateLabelDimensions(e,C+o[A]+"\u2026").width>T)break;C+=o[A],A===o.length-1&&(k=!0)}return k||(C+="\u2026"),C}return o},af.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},af.calculateLabelDimensions=function(e,t){var n=this.cy.window().document,r=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,i=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,u=this.labelCalcCanvas,s=this.labelCalcCanvasContext;if(!u){u=this.labelCalcCanvas=n.createElement("canvas"),s=this.labelCalcCanvasContext=u.getContext("2d");var l=u.style;l.position="absolute",l.left="-9999px",l.top="-9999px",l.zIndex="-1",l.visibility="hidden",l.pointerEvents="none"}s.font="".concat(r," ").concat(a," ").concat(o,"px ").concat(i);for(var c=0,f=0,d=t.split("\n"),h=0;h<d.length;h++){var p=d[h],v=s.measureText(p),y=Math.ceil(v.width),g=o;c=Math.max(y,c),f+=g}return{width:c+=0,height:f+=0}},af.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),o=t?t+"-":"",i=e.pstyle(o+"text-rotation"),a=i.strValue;return"none"===a?0:r&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:i.pfValue},af.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var lf={},cf=!1;lf.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return cf||(gt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),cf=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var ff={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var o=e[r]._private.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var o=function(o){if(o){var i=n.onUpdateEleCalcsFns;t.cleanStyle();for(var a=0;a<t.length;a++){var u=t[a],s=u._private.rstyle;u.isNode()&&!s.cleanConnected&&(r(u.connectedEdges()),s.cleanConnected=!0)}if(i)for(var l=0;l<i.length;l++){(0,i[l])(o,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){o(!0)},n.beforeRender(o,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected};if(0!==e.length){var r=[],o=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=e[i],u=a._private,s=u.rstyle;!a.isEdge()||n(a.source())&&n(a.target())||(s.clean=!1),a.isEdge()&&a.isBundledBezier()&&a.parallelEdges().some(function(e){return!e._private.rstyle.clean&&e.isBundledBezier()})&&(s.clean=!1),t&&s.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===u.group?o.push(a):r.push(a),s.clean=!0)}for(var l=0;l<o.length;l++){var c=o[l],f=c._private.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=d.x,f.nodeY=d.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var h=0;h<r.length;h++){var p=r[h]._private,v=p.rstyle,y=p.rscratch;v.srcX=y.arrowStartX,v.srcY=y.arrowStartY,v.tgtX=y.arrowEndX,v.tgtY=y.arrowEndY,v.midX=y.midX,v.midY=y.midY,v.labelAngle=y.labelAngle,v.sourceLabelAngle=y.sourceLabelAngle,v.targetLabelAngle=y.targetLabelAngle}}}}},df={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(o=e[n])._private.rscratch;o.grabbed()&&!o.isParent()?t.push(o):r.inDragLayer?e.drag.push(o):e.nondrag.push(o)}for(n=0;n<t.length;n++){var o=t[n];e.drag.push(o)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Ps),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},hf={};[Tc,Cc,ef,nf,rf,af,lf,ff,df].forEach(function(e){ke(hf,e)});var pf={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},o=r[e];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;var i=(o=r[e]=r[e]||{}).image=new Image;i.addEventListener("load",n),i.addEventListener("error",function(){i.error=!0});var a="data:";return e.substring(0,5).toLowerCase()===a||(t="null"===t?null:t,i.crossOrigin=t),i.src=e,i}},vf={registerBinding:function(e,t,n,r){var o=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],a=0;a<e.length;a++){var u=e[a];if(void 0!==u){var s=this.binder(u);i.push(s.on.apply(s,o))}}return i}return(s=this.binder(e)).on.apply(s,o)}};vf.binder=function(e){var t,n=this,r=n.cy.window(),o=e===r||e===r.document||e===r.document.body||(t=e,"undefined"!==typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch(s){}n.supportsPassiveEvents=i}var u=function(t,r,i){var a=Array.prototype.slice.call(arguments);return o&&n.supportsPassiveEvents&&(a[2]={capture:null!=i&&i,passive:!1,once:!1}),n.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:u,addEventListener:u,addListener:u,bind:u}},vf.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},vf.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},vf.load=function(){var e=this,t=e.cy.window(),n=function(e){return e.selected()},r=function(t,n,r,o){null==t&&(t=e.cy);for(var i=0;i<n.length;i++){var a=n[i];t.emit({originalEvent:r,type:a,position:o})}},o=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var o=0;n&&o<n.length;o++){if((t=n[o]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},a=function(e){e[0]._private.rscratch.inDragLayer=!0},u=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(a),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(a)),n.addToList&&t.forEach(function(e){s(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&s(n,t)}}(t,n),d(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=l,f=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),o=r.connectedEdges();t.inDragLayer&&(o.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){s(e,t)})}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!==typeof MutationObserver,v="undefined"!==typeof ResizeObserver;p?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var o=0;o<r.length;o++){if(r[o]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var y=We(function(){e.cy.resize()},100);p&&(e.styleObserver=new MutationObserver(y),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",y),v&&(e.resizeObserver=new ResizeObserver(y),e.resizeObserver.observe(e.container));var g=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",g),e.registerBinding(t,"animationend",g),e.registerBinding(t,"scroll",g)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var m=function(t){for(var n=e.findContainerClientCoords(),r=n[0],o=n[1],i=n[2],a=n[3],u=t.touches?t.touches:[t],s=!1,l=0;l<u.length;l++){var c=u[l];if(r<=c.clientX&&c.clientX<=r+i&&o<=c.clientY&&c.clientY<=o+a){s=!0;break}}if(!s)return!1;for(var f=e.container,d=t.target.parentNode,h=!1;d;){if(d===f){h=!0;break}d=d.parentNode}return!!h};e.registerBinding(e.container,"mousedown",function(t){if(m(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),h(),e.hoverData.capture=!0,e.hoverData.which=t.which;var n=e.cy,o=[t.clientX,t.clientY],i=e.projectIntoViewport(o[0],o[1]),a=e.selection,s=e.findNearestElements(i[0],i[1],!0,!1),f=s[0],d=e.dragData.possibleDragElements;e.hoverData.mdownPos=i,e.hoverData.mdownGPos=o;var p=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(3==t.which){e.hoverData.cxtStarted=!0;var v={originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}};f?(f.activate(),f.emit(v),e.hoverData.down=f):n.emit(v),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(f&&f.activate(),null!=f&&e.nodeIsGrabbable(f)){if(u(f),f.selected()){d=e.dragData.possibleDragElements=n.collection();var y=n.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});l(y,{addToList:d}),f.emit(p("grabon")),y.forEach(function(e){e.emit(p("grab"))})}else d=e.dragData.possibleDragElements=n.collection(),c(f,{addToList:d}),f.emit(p("grabon")).emit(p("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=f,e.hoverData.downs=s,e.hoverData.downTime=(new Date).getTime(),r(f,["mousedown","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==f?(a[4]=1,e.data.bgActivePosistion={x:i[0],y:i[1]},e.redrawHint("select",!0),e.redraw()):f.pannable()&&(a[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit(p("taphold")):n.emit(p("taphold"))}},e.tapholdDuration)}a[0]=a[2]=i[0],a[1]=a[3]=i[1]}},!1);var b,_,w,O=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,O],"mousemove",function(t){if(e.hoverData.capture||m(t)){var n=!1,a=e.cy,u=a.zoom(),s=[t.clientX,t.clientY],c=e.projectIntoViewport(s[0],s[1]),d=e.hoverData.mdownPos,h=e.hoverData.mdownGPos,p=e.selection,v=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(v=e.findNearestElement(c[0],c[1],!0,!1));var y,g=e.hoverData.last,b=e.hoverData.down,_=[c[0]-p[2],c[1]-p[3]],w=e.dragData.possibleDragElements;if(h){var O=s[0]-h[0],E=O*O,x=s[1]-h[1],S=E+x*x;e.hoverData.isOverThresholdDrag=y=S>=e.desktopTapThreshold2}var P=o(t);y&&(e.hoverData.tapholdCancelled=!0);n=!0,r(v,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var T=function(e){return{originalEvent:t,type:e,position:{x:c[0],y:c[1]}}},C=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit(T("boxstart")),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(y){var k=T("cxtdrag");b?b.emit(k):a.emit(k),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&v===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(T("cxtdragout")),e.hoverData.cxtOver=v,v&&v.emit(T("cxtdragover")))}}else if(e.hoverData.dragging){if(n=!0,a.panningEnabled()&&a.userPanningEnabled()){var A;if(e.hoverData.justStartedPan){var j=e.hoverData.mdownPos;A={x:(c[0]-j[0])*u,y:(c[1]-j[1])*u},e.hoverData.justStartedPan=!1}else A={x:_[0]*u,y:_[1]*u};a.panBy(A),a.emit(T("dragpan")),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||v==g||(g&&r(g,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),v&&r(v,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=v),b)if(y){if(a.boxSelectionEnabled()&&P)b&&b.grabbed()&&(f(w),b.emit(T("freeon")),w.emit(T("free")),e.dragData.didDrag&&(b.emit(T("dragfreeon")),w.emit(T("dragfree")))),C();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var R=!e.dragData.didDrag;R&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||l(w,{inDragLayer:!0});var I={x:0,y:0};if(se(_[0])&&se(_[1])&&(I.x+=_[0],I.y+=_[1],R)){var N=e.hoverData.dragDelta;N&&se(N[0])&&se(N[1])&&(I.x+=N[0],I.y+=N[1])}e.hoverData.draggingEles=!0,w.silentShift(I).emit(T("position")).emit(T("drag")),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(_[0]),t.push(_[1])):(t[0]+=_[0],t[1]+=_[1])}();n=!0}else if(y){if(e.hoverData.dragging||!a.boxSelectionEnabled()||!P&&a.panningEnabled()&&a.userPanningEnabled()){if(!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){i(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=nn(d),e.redrawHint("select",!0),e.redraw())}}else C();b&&b.pannable()&&b.active()&&b.unactivate()}return p[2]=c[0],p[3]=c[1],n?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(t,"mouseup",function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,a=e.projectIntoViewport(t.clientX,t.clientY),u=e.selection,s=e.findNearestElement(a[0],a[1],!0,!1),l=e.dragData.possibleDragElements,c=e.hoverData.down,d=o(t);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate();var h=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(3===e.hoverData.which){var p=h("cxttapend");if(c?c.emit(p):i.emit(p),!e.hoverData.cxtDragged){var v=h("cxttap");c?c.emit(v):i.emit(v)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(r(s,["mouseup","tapend","vmouseup"],t,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(r(c,["click","tap","vclick"],t,{x:a[0],y:a[1]}),_=!1,t.timeStamp-w<=i.multiClickDebounceTime()?(b&&clearTimeout(b),_=!0,w=null,r(c,["dblclick","dbltap","vdblclick"],t,{x:a[0],y:a[1]})):(b=setTimeout(function(){_||r(c,["oneclick","onetap","voneclick"],t,{x:a[0],y:a[1]})},i.multiClickDebounceTime()),w=t.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||o(t)||(i.$(n).unselect(["tapunselect"]),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=i.collection()),s!=c||e.dragData.didDrag||e.hoverData.selecting||null!=s&&s._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||d?s.selected()?s.unselect(["tapunselect"]):s.select(["tapselect"]):d||(i.$(n).unmerge(s).unselect(["tapunselect"]),s.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var y=i.collection(e.getAllInBox(u[0],u[1],u[2],u[3]));e.redrawHint("select",!0),y.length>0&&e.redrawHint("eles",!0),i.emit(h("boxend"));var g=function(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()||d||i.$(n).unmerge(y).unselect(),y.emit(h("box")).stdFilter(g).select().emit(h("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!u[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=c&&c.grabbed();f(l),m&&(c.emit(h("freeon")),l.emit(h("free")),e.dragData.didDrag&&(c.emit(h("dragfreeon")),l.emit(h("dragfree"))))}}u[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},!1);var E,x,S,P,T,C,k,A,j,R,I,N,M,D,L=[],F=1e5,U=function(t){var n=!1,r=t.deltaY;if(null==r&&(null!=t.wheelDeltaY?r=t.wheelDeltaY/4:null!=t.wheelDelta&&(r=t.wheelDelta/4)),0!==r){if(null==E)if(L.length>=4){var o=L;if(E=function(e,t){for(var n=0;n<e.length;n++)if(e[n]%t!==0)return!1;return!0}(o,5),!E){var i=Math.abs(o[0]);E=function(e){for(var t=Math.abs(e[0]),n=1;n<e.length;n++)if(Math.abs(e[n])!==t)return!1;return!0}(o)&&i>5}if(E)for(var a=0;a<o.length;a++)F=Math.min(Math.abs(o[a]),F)}else L.push(r),n=!0;else E&&(F=Math.min(Math.abs(r),F));if(!e.scrollingPage){var u=e.cy,s=u.zoom(),l=u.pan(),c=e.projectIntoViewport(t.clientX,t.clientY),f=[c[0]*s+l.x,c[1]*s+l.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(u.panningEnabled()&&u.userPanningEnabled()&&u.zoomingEnabled()&&u.userZoomingEnabled()){var d;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n&&Math.abs(r)>5&&(r=5*an(r)),d=r/-250,E&&(d/=F,d*=3),d*=e.wheelSensitivity,1===t.deltaMode&&(d*=33);var h=u.zoom()*Math.pow(10,d);"gesturechange"===t.type&&(h=e.gestureStartZoom*t.scale),u.zoom({level:h,renderedPosition:{x:f[0],y:f[1]}}),u.emit({type:"gesturechange"===t.type?"pinchzoom":"scrollzoom",originalEvent:t,position:{x:c[0],y:c[1]}})}}}};e.registerBinding(e.container,"wheel",U,!0),e.registerBinding(t,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||U(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var B,z,V,W,H,q,G,Y=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},X=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",B=function(t){if(e.hasTouchStarted=!0,m(t)){h(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var n=e.cy,o=e.touchData.now,i=e.touchData.earlier;if(t.touches[0]){var a=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);o[0]=a[0],o[1]=a[1]}if(t.touches[1]){a=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);o[2]=a[0],o[3]=a[1]}if(t.touches[2]){a=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);o[4]=a[0],o[5]=a[1]}var s=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(t.touches[1]){e.touchData.singleTouchMoved=!0,f(e.dragData.touchDragEles);var d=e.findContainerClientCoords();R=d[0],I=d[1],N=d[2],M=d[3],x=t.touches[0].clientX-R,S=t.touches[0].clientY-I,P=t.touches[1].clientX-R,T=t.touches[1].clientY-I,D=0<=x&&x<=N&&0<=P&&P<=N&&0<=S&&S<=M&&0<=T&&T<=M;var p=n.pan(),v=n.zoom();C=Y(x,S,P,T),k=X(x,S,P,T),j=[((A=[(x+P)/2,(S+T)/2])[0]-p.x)/v,(A[1]-p.y)/v];if(k<4e4&&!t.touches[2]){var y=e.findNearestElement(o[0],o[1],!0,!0),g=e.findNearestElement(o[2],o[3],!0,!0);return y&&y.isNode()?(y.activate().emit(s("cxttapstart")),e.touchData.start=y):g&&g.isNode()?(g.activate().emit(s("cxttapstart")),e.touchData.start=g):n.emit(s("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])n.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var b=e.findNearestElements(o[0],o[1],!0,!0),_=b[0];if(null!=_&&(_.activate(),e.touchData.start=_,e.touchData.starts=b,e.nodeIsGrabbable(_))){var w=e.dragData.touchDragEles=n.collection(),O=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),_.selected()?(O=n.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),l(O,{addToList:w})):c(_,{addToList:w}),u(_),_.emit(s("grabon")),O?O.forEach(function(e){e.emit(s("grab"))}):_.emit(s("grab"))}r(_,["touchstart","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==_&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||r(e.touchData.start,["taphold"],t,{x:o[0],y:o[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var E=e.touchData.startPosition=[null,null,null,null,null,null],L=0;L<o.length;L++)E[L]=i[L]=o[L];var F=t.touches[0];e.touchData.startGPosition=[F.clientX,F.clientY]}}},!1),e.registerBinding(t,"touchmove",z=function(t){var n=e.touchData.capture;if(n||m(t)){var o=e.selection,a=e.cy,u=e.touchData.now,s=e.touchData.earlier,c=a.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);u[2]=d[0],u[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);u[4]=d[0],u[5]=d[1]}var h,p=function(e){return{originalEvent:t,type:e,position:{x:u[0],y:u[1]}}},v=e.touchData.startGPosition;if(n&&t.touches[0]&&v){for(var y=[],g=0;g<u.length;g++)y[g]=u[g]-s[g];var b=t.touches[0].clientX-v[0],_=b*b,w=t.touches[0].clientY-v[1];h=_+w*w>=e.touchTapThreshold2}if(n&&e.touchData.cxt){t.preventDefault();var O=t.touches[0].clientX-R,E=t.touches[0].clientY-I,A=t.touches[1].clientX-R,N=t.touches[1].clientY-I,M=X(O,E,A,N);if(M/k>=2.25||M>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var L=p("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(L),e.touchData.start=null):a.emit(L)}}if(n&&e.touchData.cxt){L=p("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(L):a.emit(L),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var F=e.findNearestElement(u[0],u[1],!0,!0);e.touchData.cxtOver&&F===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit(p("cxtdragout")),e.touchData.cxtOver=F,F&&F.emit(p("cxtdragover")))}else if(n&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit(p("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(u[0]+u[2]+u[4])/3,o[3]=(u[1]+u[3]+u[5])/3):(o[0]=(u[0]+u[2]+u[4])/3,o[1]=(u[1]+u[3]+u[5])/3,o[2]=(u[0]+u[2]+u[4])/3+1,o[3]=(u[1]+u[3]+u[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(n&&t.touches[1]&&!e.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var U=0;U<ee.length;U++){var B=ee[U]._private;B.grabbed=!1,B.rscratch.inDragLayer=!1}}var z=e.touchData.start,V=(O=t.touches[0].clientX-R,E=t.touches[0].clientY-I,A=t.touches[1].clientX-R,N=t.touches[1].clientY-I,Y(O,E,A,N)),W=V/C;if(D){var H=(O-x+(A-P))/2,q=(E-S+(N-T))/2,G=a.zoom(),K=G*W,Z=a.pan(),$=j[0]*G+Z.x,Q=j[1]*G+Z.y,J={x:-K/G*($-Z.x-H)+$,y:-K/G*(Q-Z.y-q)+Q};if(z&&z.active()){var ee=e.dragData.touchDragEles;f(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),z.unactivate().emit(p("freeon")),ee.emit(p("free")),e.dragData.didDrag&&(z.emit(p("dragfreeon")),ee.emit(p("dragfree")))}a.viewport({zoom:K,pan:J,cancelOnFailedZoom:!0}),a.emit(p("pinchzoom")),C=V,x=O,S=E,P=A,T=N,e.pinching=!0}if(t.touches[0]){d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);u[2]=d[0],u[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);u[4]=d[0],u[5]=d[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(F=e.findNearestElement(u[0],u[1],!0,!0)),n&&null!=te&&t.preventDefault(),n&&null!=te&&e.nodeIsDraggable(te))if(h){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var oe={x:0,y:0};if(se(y[0])&&se(y[1]))if(oe.x+=y[0],oe.y+=y[1],re)e.redrawHint("eles",!0),(ie=e.touchData.dragDelta)&&se(ie[0])&&se(ie[1])&&(oe.x+=ie[0],oe.y+=ie[1]);e.hoverData.draggingEles=!0,ee.silentShift(oe).emit(p("position")).emit(p("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==s[0]&&e.touchData.startPosition[1]==s[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ie;0===(ie=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ie.push(y[0]),ie.push(y[1])):(ie[0]+=y[0],ie[1]+=y[1])}if(r(te||F,["touchmove","tapdrag","vmousemove"],t,{x:u[0],y:u[1]}),te&&te.grabbed()||F==ne||(ne&&ne.emit(p("tapdragout")),F&&F.emit(p("tapdragover"))),e.touchData.last=F,n)for(U=0;U<u.length;U++)u[U]&&e.touchData.startPosition[U]&&h&&(e.touchData.singleTouchMoved=!0);if(n&&(null==te||te.pannable())&&a.panningEnabled()&&a.userPanningEnabled()){i(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=nn(e.touchData.startPosition)),e.swipePanning?(a.panBy({x:y[0]*c,y:y[1]*c}),a.emit(p("dragpan"))):h&&(e.swipePanning=!0,a.panBy({x:b*c,y:w*c}),a.emit(p("dragpan")),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);u[0]=d[0],u[1]=d[1]}}for(g=0;g<u.length;g++)s[g]=u[g];n&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",V=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(t,"touchend",W=function(t){var o=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a=e.cy,u=a.zoom(),s=e.touchData.now,l=e.touchData.earlier;if(t.touches[0]){var c=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=c[0],s[1]=c[1]}if(t.touches[1]){c=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=c[0],s[3]=c[1]}if(t.touches[2]){c=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=c[0],s[5]=c[1]}var d,h=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}};if(o&&o.unactivate(),e.touchData.cxt){if(d=h("cxttapend"),o?o.emit(d):a.emit(d),!e.touchData.cxtDragged){var p=h("cxttap");o?o.emit(p):a.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var v=a.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),a.emit(h("boxend"));v.emit(h("box")).stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit(h("boxselect")),v.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=o&&o.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var y=e.dragData.touchDragEles;if(null!=o){var g=o._private.grabbed;f(y),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&(o.emit(h("freeon")),y.emit(h("free")),e.dragData.didDrag&&(o.emit(h("dragfreeon")),y.emit(h("dragfree")))),r(o,["touchend","tapend","vmouseup","tapdragout"],t,{x:s[0],y:s[1]}),o.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(s[0],s[1],!0,!0);r(m,["touchend","tapend","vmouseup","tapdragout"],t,{x:s[0],y:s[1]})}var b=e.touchData.startPosition[0]-s[0],_=b*b,w=e.touchData.startPosition[1]-s[1],O=(_+w*w)*u*u;e.touchData.singleTouchMoved||(o||a.$(":selected").unselect(["tapunselect"]),r(o,["tap","vclick"],t,{x:s[0],y:s[1]}),H=!1,t.timeStamp-G<=a.multiClickDebounceTime()?(q&&clearTimeout(q),H=!0,G=null,r(o,["dbltap","vdblclick"],t,{x:s[0],y:s[1]})):(q=setTimeout(function(){H||r(o,["onetap","voneclick"],t,{x:s[0],y:s[1]})},a.multiClickDebounceTime()),G=t.timeStamp)),null!=o&&!e.dragData.didDrag&&o._private.selectable&&O<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(n).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var E=0;E<s.length;E++)l[E]=s[E];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"===typeof TouchEvent){var K=[],Z=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},$=function(e){K.push(function(e){return{event:e,touch:Z(e)}}(e))},Q=function(e){for(var t=0;t<K.length;t++){if(K[t].event.pointerId===e.pointerId)return void K.splice(t,1)}},J=function(e){e.touches=K.map(function(e){return e.touch})},ee=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){ee(e)||(e.preventDefault(),$(e),J(e),B(e))}),e.registerBinding(e.container,"pointerup",function(e){ee(e)||(Q(e),J(e),W(e))}),e.registerBinding(e.container,"pointercancel",function(e){ee(e)||(Q(e),J(e),V())}),e.registerBinding(e.container,"pointermove",function(e){ee(e)||(e.preventDefault(),function(e){var t=K.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=Z(e)}(e),J(e),z(e))})}};var yf={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,o,this.points)},intersectLine:function(e,t,n,r,o,i,a,u){return Un(o,i,this.points,e,t,n/2,r/2,a)},checkPoint:function(e,t,n,r,o,i,a,u){return jn(e,t,this.points,i,a,r,o,[0,-1],n)},hasMiterBounds:"rectangle"!==e,miterBounds:function(e,t,n,r,o,i){return xn(this.points,e,t,n,r,o)}}}};yf.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a,u){return function(e,t,n,r,o,i){var a=n-e,u=r-t;a/=o,u/=i;var s=Math.sqrt(a*a+u*u),l=s-1;if(l<0)return[];var c=l/s;return[(n-e)*c+e,(r-t)*c+t]}(o,i,e,t,n/2+a,r/2+a)},checkPoint:function(e,t,n,r,o,i,a,u){return Nn(e,t,r,o,i,a,n)}}},yf.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,n,r,o,i,a,u){if(void 0!==a[u]&&a[u+"-cx"]===e&&a[u+"-cy"]===n)return a[u];a[u]=new Array(t.length/2),a[u+"-cx"]=e,a[u+"-cy"]=n;var s=r/2,l=o/2;i="auto"===i?qn(r,o):i;for(var c=new Array(t.length/2),f=0;f<t.length/2;f++)c[f]={x:e+s*t[2*f],y:n+l*t[2*f+1]};var d,h,p,v,y=c.length;for(h=c[y-1],d=0;d<y;d++)p=c[d%y],v=c[(d+1)%y],a[u][d]=$c(h,p,v,i),h=p,p=v;return a[u]},draw:function(e,t,n,r,o,i,a){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,o,this.points,this.getOrCreateCorners(t,n,r,o,i,a,"drawCorners"))},intersectLine:function(e,t,n,r,o,i,a,u,s){return function(e,t,n,r,o,i,a,u,s){var l,c=[],f=new Array(2*n.length);s.forEach(function(n,i){0===i?(f[f.length-2]=n.startX,f[f.length-1]=n.startY):(f[4*i-2]=n.startX,f[4*i-1]=n.startY),f[4*i]=n.stopX,f[4*i+1]=n.stopY,0!==(l=Mn(e,t,r,o,n.cx,n.cy,n.radius)).length&&c.push(l[0],l[1])});for(var d=0;d<f.length/4;d++)0!==(l=Ln(e,t,r,o,f[4*d],f[4*d+1],f[4*d+2],f[4*d+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var h=[c[0],c[1]],p=Math.pow(h[0]-e,2)+Math.pow(h[1]-t,2),v=1;v<c.length/2;v++){var y=Math.pow(c[2*v]-e,2)+Math.pow(c[2*v+1]-t,2);y<=p&&(h[0]=c[2*v],h[1]=c[2*v+1],p=y)}return h}return c}(o,i,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,n,r,u,s,"corners"))},checkPoint:function(e,t,n,r,o,i,a,u,s){return function(e,t,n,r,o,i,a,u){for(var s=new Array(2*n.length),l=0;l<u.length;l++){var c=u[l];if(s[4*l+0]=c.startX,s[4*l+1]=c.startY,s[4*l+2]=c.stopX,s[4*l+3]=c.stopY,Math.pow(c.cx-e,2)+Math.pow(c.cy-t,2)<=Math.pow(c.radius,2))return!0}return An(e,t,s)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(i,a,r,o,u,s,"corners"))}}},yf.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:zn(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,this.points,i)},intersectLine:function(e,t,n,r,o,i,a,u){return Sn(o,i,e,t,n,r,a,u)},checkPoint:function(e,t,n,r,o,i,a,u){var s=r/2,l=o/2;u="auto"===u?Hn(r,o):u;var c=2*(u=Math.min(s,l,u));return!!jn(e,t,this.points,i,a,r,o-c,[0,-1],n)||(!!jn(e,t,this.points,i,a,r-c,o,[0,-1],n)||(!!Nn(e,t,c,c,i-s+u,a-l+u,n)||(!!Nn(e,t,c,c,i+s-u,a-l+u,n)||(!!Nn(e,t,c,c,i+s-u,a+l-u,n)||!!Nn(e,t,c,c,i-s+u,a+l-u,n)))))}}},yf.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:zn(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,null,i)},generateCutTrianglePts:function(e,t,n,r,o){var i="auto"===o?this.cornerLength:o,a=t/2,u=e/2,s=n-u,l=n+u,c=r-a,f=r+a;return{topLeft:[s,c+i,s+i,c,s+i,c+i],topRight:[l-i,c,l,c+i,l-i,c+i],bottomRight:[l,f-i,l-i,f,l-i,f-i],bottomLeft:[s+i,f,s,f-i,s+i,f-i]}},intersectLine:function(e,t,n,r,o,i,a,u){var s=this.generateCutTrianglePts(n+2*a,r+2*a,e,t,u),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Un(o,i,l,e,t)},checkPoint:function(e,t,n,r,o,i,a,u){var s="auto"===u?this.cornerLength:u;if(jn(e,t,this.points,i,a,r,o-2*s,[0,-1],n))return!0;if(jn(e,t,this.points,i,a,r-2*s,o,[0,-1],n))return!0;var l=this.generateCutTrianglePts(r,o,i,a);return An(e,t,l.topLeft)||An(e,t,l.topRight)||An(e,t,l.bottomRight)||An(e,t,l.bottomLeft)}}},yf.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:zn(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o)},intersectLine:function(e,t,n,r,o,i,a,u){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,e,t),l=function(e){var t=fn({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=fn({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=fn({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},c=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Un(o,i,c,e,t)},generateBarrelBezierPts:function(e,t,n,r){var o=t/2,i=e/2,a=n-i,u=n+i,s=r-o,l=r+o,c=Gn(e,t),f=c.heightOffset,d=c.widthOffset,h=c.ctrlPtOffsetPct*e,p={topLeft:[a,s+f,a+h,s,a+d,s],topRight:[u-d,s,u-h,s,u,s+f],bottomRight:[u,l-f,u-h,l,u-d,l],bottomLeft:[a+d,l,a+h,l,a,l-f]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,o,i,a,u){var s=Gn(r,o),l=s.heightOffset,c=s.widthOffset;if(jn(e,t,this.points,i,a,r,o-2*l,[0,-1],n))return!0;if(jn(e,t,this.points,i,a,r-2*c,o,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(r,o,i,a),d=function(e,t,n){var r,o,i=n[4],a=n[2],u=n[0],s=n[5],l=n[1],c=Math.min(i,u),f=Math.max(i,u),d=Math.min(s,l),h=Math.max(s,l);if(c<=e&&e<=f&&d<=t&&t<=h){var p=[(r=i)-2*(o=a)+u,2*(o-r),r],v=function(e,t,n,r){var o=t*t-4*e*(n-=r);if(o<0)return[];var i=Math.sqrt(o),a=2*e;return[(-t+i)/a,(-t-i)/a]}(p[0],p[1],p[2],e),y=v.filter(function(e){return 0<=e&&e<=1});if(y.length>0)return y[0]}return null},h=Object.keys(f),p=0;p<h.length;p++){var v=f[h[p]],y=d(e,t,v);if(null!=y){var g=v[5],m=v[3],b=v[1],_=cn(g,m,b,y);if(v.isTop&&_<=t)return!0;if(v.isBottom&&t<=_)return!0}}return!1}}},yf.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:zn(4,0),draw:function(e,t,n,r,o,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,o,this.points,i)},intersectLine:function(e,t,n,r,o,i,a,u){var s=t-(r/2+a),l=Ln(o,i,e,t,e-(n/2+a),s,e+(n/2+a),s,!1);return l.length>0?l:Sn(o,i,e,t,n,r,a,u)},checkPoint:function(e,t,n,r,o,i,a,u){var s=2*(u="auto"===u?Hn(r,o):u);if(jn(e,t,this.points,i,a,r,o-s,[0,-1],n))return!0;if(jn(e,t,this.points,i,a,r-s,o,[0,-1],n))return!0;var l=r/2+2*n,c=o/2+2*n;return!!An(e,t,[i-l,a-c,i-l,a,i+l,a,i+l,a-c])||(!!Nn(e,t,s,s,i+r/2-u,a+o/2-u,n)||!!Nn(e,t,s,s,i-r/2+u,a+o/2-u,n))}}},yf.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",zn(3,0)),this.generateRoundPolygon("round-triangle",zn(3,0)),this.generatePolygon("rectangle",zn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",zn(5,0)),this.generateRoundPolygon("round-pentagon",zn(5,0)),this.generatePolygon("hexagon",zn(6,0)),this.generateRoundPolygon("round-hexagon",zn(6,0)),this.generatePolygon("heptagon",zn(7,0)),this.generateRoundPolygon("round-heptagon",zn(7,0)),this.generatePolygon("octagon",zn(8,0)),this.generateRoundPolygon("round-octagon",zn(8,0));var r=new Array(20),o=Wn(5,0),i=Wn(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var u=0;u<i.length/2;u++)i[2*u]*=a,i[2*u+1]*=a;for(u=0;u<5;u++)r[4*u]=o[2*u],r[4*u+1]=o[2*u+1],r[4*u+2]=i[2*u],r[4*u+3]=i[2*u+1];r=Vn(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var s=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",s),this.generateRoundPolygon("round-tag",s),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var gf={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||wt();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&vt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},mf=function(e,t,n){for(var r=e.beforeRenderCallbacks,o=0;o<r.length;o++)r[o].fn(t,n)};gf.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){mf(e,!0,r);var o=Xe();e.render(e.renderOptions);var i=e.lastDrawTime=Xe();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-o),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=i-o;e.redrawTotalTime+=a,e.lastRedrawTime=a,e.averageRedrawTime=e.averageRedrawTime/2+a/2,e.requestedFrame=!1}else mf(e,!1,r);e.skipFrame=!1,Ye(n)}};Ye(n)}};var bf=function(e){this.init(e)},_f=bf.prototype;_f.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],_f.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var o=r.document,i=o.head,a="__________cytoscape_stylesheet",u="__________cytoscape_container",s=null!=o.getElementById(a);if(n.className.indexOf(u)<0&&(n.className=(n.className||"")+" "+u),!s){var l=o.createElement("style");l.id=a,l.textContent="."+u+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===r.getComputedStyle(n).getPropertyValue("position")&&gt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=se(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},_f.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"gc"===e&&n.redrawHint("gc",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},_f.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(om){}},_f.isHeadless=function(){return!1},[Pc,hf,pf,vf,yf,gf].forEach(function(e){ke(_f,e)});var wf=1e3/60,Of=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=We(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=e.priority||pt;n.beforeRender(function(o,i){var a=Xe(),u=n.averageRedrawTime,s=n.lastRedrawTime,l=[],c=n.cy.extent(),f=n.getPixelRatio();for(o||n.flushRenderedStyleQueue();;){var d=Xe(),h=d-a,p=d-i;if(s<wf){var v=wf-(o?u:0);if(p>=e.deqFastCost*v)break}else if(o){if(h>=e.deqCost*s||h>=e.deqAvgCost*u)break}else if(p>=e.deqNoDrawCost*wf)break;var y=e.deq(t,f,c);if(!(y.length>0))break;for(var g=0;g<y.length;g++)l.push(y[g])}l.length>0&&(e.onDeqd(t,l),!o&&e.shouldRedraw(t,l,f,c)&&r())},o(t))}}},Ef=function(){return v(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt;p(this,e),this.idsByKey=new Tt,this.keyForId=new Tt,this.cachesByLvl=new Tt,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n},[{key:"getIdsFor",value:function(e){null==e&&vt("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new kt,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new Tt,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}])}(),xf=7.99,Sf={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Pf=Ot({getKey:null,doesEleInvalidateKey:dt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ft,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Tf=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=Pf(t);ke(n,r),n.lookup=new Ef(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Cf=Tf.prototype;Cf.reasons=Sf,Cf.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Cf.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Cf.getElementQueue=function(){var e=this.eleCacheQueue=this.eleCacheQueue||new Bt(function(e,t){return t.reqs-e.reqs});return e},Cf.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Cf.getElement=function(e,t,n,r,o){var i=this,a=this.renderer,u=a.cy.zoom(),s=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(on(u*n))),r<-4)r=-4;else if(u>=7.99||r>3)return null;var l=Math.pow(2,r),c=t.h*l,f=t.w*l,d=a.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,d))return null;var h,p=s.get(e,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(h=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||f>1024)return null;var v=i.getTextureQueue(h),y=v[v.length-2],g=function(){return i.recycleTexture(h,f)||i.addTexture(h,f)};y||(y=v[v.length-1]),y||(y=g()),y.width-y.usedWidth<f&&(y=g());for(var m,b=function(e){return e&&e.scaledLabelShown===d},_=o&&o===Sf.dequeue,w=o&&o===Sf.highQuality,O=o&&o===Sf.downscale,E=r+1;E<=3;E++){var x=s.get(e,E);if(x){m=x;break}}var S=m&&m.level===r+1?m:null,P=function(){y.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,y.usedWidth,0,f,c)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,f,h),b(S))P();else if(b(m)){if(!w)return i.queueElement(e,m.level-1),m;for(var T=m.level;T>r;T--)S=i.getElement(e,t,n,T,Sf.downscale);P()}else{var C;if(!_&&!w&&!O)for(var k=r-1;k>=-4;k--){var A=s.get(e,k);if(A){C=A;break}}if(b(C))return i.queueElement(e,r),C;y.context.translate(y.usedWidth,0),y.context.scale(l,l),this.drawElement(y.context,e,t,d,!1),y.context.scale(1/l,1/l),y.context.translate(-y.usedWidth,0)}return p={x:y.usedWidth,texture:y,level:r,scale:l,width:f,height:c,scaledLabelShown:d},y.usedWidth+=Math.ceil(f+8),y.eleCaches.push(p),s.set(e,r,p),i.checkTextureFullness(y),p},Cf.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Cf.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var o=-4;o<=3;o++){var i=n.getForCachedKey(e,o);i&&r.push(i)}if(n.invalidate(e))for(var a=0;a<r.length;a++){var u=r[a],s=u.texture;s.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(s)}t.removeFromQueue(e)}},Cf.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Cf.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Et(t,e):e.fullnessChecks++},Cf.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Et(n,e),e.retired=!0;for(var o=e.eleCaches,i=0;i<o.length;i++){var a=o[i];r.deleteCache(a.key,a.level)}xt(o),this.getRetiredTextureQueue(t).push(e)},Cf.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Cf.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),o=0;o<r.length;o++){var i=r[o];if(i.width>=t)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,xt(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),Et(r,i),n.push(i),i}},Cf.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),o=this.getKey(e),i=r[o];if(i)i.level=Math.max(i.level,t),i.eles.merge(e),i.reqs++,n.updateItem(i);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:o};n.push(a),r[o]=a}},Cf.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),o=[],i=t.lookup,a=0;a<1&&n.size()>0;a++){var u=n.pop(),s=u.key,l=u.eles[0],c=i.hasCache(l,u.level);if(r[s]=null,!c){o.push(u);var f=t.getBoundingBox(l);t.getElement(l,f,e,u.level,Sf.dequeue)}}return o},Cf.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),o=n[r];null!=o&&(1===o.eles.length?(o.reqs=ct,t.updateItem(o),t.pop(),n[r]=null):o.eles.unmerge(e))},Cf.onDequeue=function(e){this.onDequeues.push(e)},Cf.offDequeue=function(e){Et(this.onDequeues,e)},Cf.setupDequeueing=Of({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var o=0;o<t.length;o++)for(var i=t[o].eles,a=0;a<i.length;a++){var u=i[a].boundingBox();if(bn(u,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var kf=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Xe()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=We(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new Bt(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},Af=kf.prototype,jf=0,Rf=Math.pow(2,53)-1;Af.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),o=Math.ceil(e.h*n),i=this.renderer.makeOffscreenCanvas(r,o),a={id:jf=++jf%Rf,bb:e,level:t,width:r,height:o,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=a.context,s=-a.bb.x1,l=-a.bb.y1;return u.scale(n,n),u.translate(s,l),a},Af.getLayers=function(e,t,n){var r=this,o=r.renderer.cy.zoom(),i=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(on(o*t)))<-4)n=-4;else if(o>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var a,u,s=r.layersByLevel,l=Math.pow(2,n),c=s[n]=s[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return u=s[t],!0},o=function(e){if(!u)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};o(1),o(-1);for(var i=c.length-1;i>=0;i--){var a=c[i];a.invalid&&Et(c,a)}}();var f=function(t){var o=(t=t||{}).after;!function(){if(!a){a=hn();for(var t=0;t<e.length;t++)pn(a,e[t].boundingBox())}}();var i=Math.ceil(a.w*l),u=Math.ceil(a.h*l);if(i>32767||u>32767)return null;if(i*u>16e6)return null;var s=r.makeLayer(a,n);if(null!=o){var f=c.indexOf(o)+1;c.splice(f,0,s)}else(void 0===t.insert||t.insert)&&c.unshift(s);return s};if(r.skipping&&!i)return null;for(var d=null,h=e.length/1,p=!i,v=0;v<e.length;v++){var y=e[v],g=y._private.rscratch,m=g.imgLayerCaches=g.imgLayerCaches||{},b=m[n];if(b)d=b;else{if((!d||d.eles.length>=h||!On(d.bb,y.boundingBox()))&&!(d=f({insert:!0,after:d})))return null;u||p?r.queueLayer(d,y):r.drawEleInLayer(d,y,n,t),d.eles.push(y),m[n]=d}}return u||(p?null:c)},Af.getEleLevelForLayerLevel=function(e,t){return e},Af.drawEleInLayer=function(e,t,n,r){var o=this.renderer,i=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(i,!1),o.drawCachedElement(i,t,null,null,n,true),o.setImgSmoothing(i,!0))},Af.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,o=0;o<n.length;o++){var i=n[o];if(i.reqs>0)return!1;if(i.invalid)return!1;r+=i.eles.length}return r===t.length},Af.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var o=n[r],i=-1,a=0;a<t.length;a++)if(o.eles[0]===t[a]){i=a;break}if(i<0)this.invalidateLayer(o);else{var u=i;for(a=0;a<o.eles.length;a++)if(o.eles[a]!==t[u+a]){this.invalidateLayer(o);break}}}},Af.updateElementsInLayers=function(e,t){for(var n=fe(e[0]),r=0;r<e.length;r++)for(var o=n?null:e[r],i=n?e[r]:e[r].ele,a=i._private.rscratch,u=a.imgLayerCaches=a.imgLayerCaches||{},s=-4;s<=2;s++){var l=u[s];l&&(o&&this.getEleLevelForLayerLevel(l.level)!==o.level||t(l,i,o))}},Af.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Af.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=Xe(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},Af.invalidateLayer=function(e){if(this.lastInvalidationTime=Xe(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Et(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var o=0;o<n.length;o++){var i=n[o]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}},Af.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var o=e.replacement;if(o||((o=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,o.eles=e.eles),!o.reqs)for(var i=0;i<o.eles.length;i++)t.queueLayer(o,o.eles[i])})},Af.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Af.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,o=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;r.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Af.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],o=0;o<1&&0!==n.size();){var i=n.peek();if(i.replacement)n.pop();else if(i.replaces&&i!==i.replaces.replacement)n.pop();else if(i.invalid)n.pop();else{var a=i.elesQueue.shift();a&&(t.drawEleInLayer(i,a,i.level,e),o++),0===r.length&&r.push(!0),0===i.elesQueue.length&&(n.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}}return r},Af.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var o=0;o<e.eles.length;o++){var i=e.eles[o]._private,a=i.imgLayerCaches=i.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},Af.requestRedraw=We(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Af.setupDequeueing=Of({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:pt,shouldRedraw:ft,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var If,Nf={};function Mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function Df(e,t,n){for(var r,o=0;o<t.length;o++){var i=t[o];0===o&&(r=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Lf(e,t,n){e.beginPath&&e.beginPath();for(var r=t,o=0;o<r.length;o++){var i=r[o];e.lineTo(i.x,i.y)}var a=n,u=n[0];e.moveTo(u.x,u.y);for(o=1;o<a.length;o++){i=a[o];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function Ff(e,t,n,r,o){e.beginPath&&e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1);var i=t,a=i[0];e.moveTo(a.x,a.y);for(var u=0;u<i.length;u++){var s=i[u];e.lineTo(s.x,s.y)}e.closePath&&e.closePath()}function Uf(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}Nf.arrowShapeImpl=function(e){return(If||(If={polygon:Mf,"triangle-backcurve":Df,"triangle-tee":Lf,"circle-triangle":Ff,"triangle-cross":Lf,circle:Uf}))[e]};var Bf={drawElement:function(e,t,n,r,o,i){t.isNode()?this.drawNode(e,t,n,r,o,i):this.drawEdge(e,t,n,r,o,i)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,o,i,a,u){var s=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var c=n.getElement(t,l,r,o,i);if(null!=c){var f=u(s,t);if(0===f)return;var d,h,p,v,y,g,m=a(s,t),b=l.x1,_=l.y1,w=l.w,O=l.h;if(0!==m){var E=n.getRotationPoint(t);p=E.x,v=E.y,e.translate(p,v),e.rotate(m),(y=s.getImgSmoothing(e))||s.setImgSmoothing(e,!0);var x=n.getRotationOffset(t);d=x.x,h=x.y}else d=b,h=_;1!==f&&(g=e.globalAlpha,e.globalAlpha=g*f),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,d,h,w,O),1!==f&&(e.globalAlpha=g),0!==m&&(e.rotate(-m),e.translate(-p,-v),y||s.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},zf=function(){return 0},Vf=function(e,t){return e.getTextAngle(t,null)},Wf=function(e,t){return e.getTextAngle(t,"source")},Hf=function(e,t){return e.getTextAngle(t,"target")},qf=function(e,t){return t.effectiveOpacity()},Gf=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Bf.drawCachedElement=function(e,t,n,r,o,i){var a=this,u=a.data,s=u.eleTxrCache,l=u.lblTxrCache,c=u.slbTxrCache,f=u.tlbTxrCache,d=t.boundingBox(),h=!0===i?s.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!r||bn(d,r))){var p=t.isEdge(),v=t.element()._private.rscratch.badLine;a.drawElementUnderlay(e,t),a.drawCachedElementPortion(e,t,s,n,o,h,zf,qf),p&&v||a.drawCachedElementPortion(e,t,l,n,o,h,Vf,Gf),p&&!v&&(a.drawCachedElementPortion(e,t,c,n,o,h,Wf,Gf),a.drawCachedElementPortion(e,t,f,n,o,h,Hf,Gf)),a.drawElementOverlay(e,t)}},Bf.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},Bf.drawCachedElements=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];this.drawCachedElement(e,i,n,r)}},Bf.drawCachedNodes=function(e,t,n,r){for(var o=0;o<t.length;o++){var i=t[o];i.isNode()&&this.drawCachedElement(e,i,n,r)}},Bf.drawLayeredElements=function(e,t,n,r){var o=this.data.lyrTxrCache.getLayers(t,n);if(o)for(var i=0;i<o.length;i++){var a=o[i],u=a.bb;0!==u.w&&0!==u.h&&e.drawImage(a.canvas,u.x1,u.y1,u.w,u.h)}else this.drawCachedElements(e,t,n,r)};var Yf={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,u=t._private.rscratch;if((!i||t.visible())&&!u.badLine&&null!=u.allpts&&!isNaN(u.allpts[0])){var s;n&&(s=n,e.translate(-s.x1,-s.y1));var l=i?t.pstyle("opacity").value:1,c=i?t.pstyle("line-opacity").value:1,f=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,v=t.pstyle("line-outline-width").value,y=t.pstyle("line-outline-color").value,g=l*c,m=l*c,b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;"straight-triangle"===f?(a.eleStrokeStyle(e,t,n),a.drawEdgeTrianglePath(t,e,u.allpts)):(e.lineWidth=h,e.lineCap=p,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,u.allpts,d),e.lineCap="butt")},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;a.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var w=t.pstyle("ghost-offset-x").pfValue,O=t.pstyle("ghost-offset-y").pfValue,E=t.pstyle("ghost-opacity").value,x=g*E;e.translate(w,O),b(x),_(x),e.translate(-w,-O)}else!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;e.lineWidth=h+v,e.lineCap=p,v>0?(a.colorStrokeStyle(e,y[0],y[1],y[2],n),"straight-triangle"===f?a.drawEdgeTrianglePath(t,e,u.allpts):(a.drawEdgePath(t,e,u.allpts,d),e.lineCap="butt")):e.lineCap="butt"}();o&&a.drawEdgeUnderlay(e,t),b(),_(),o&&a.drawEdgeOverlay(e,t),a.drawElementText(e,t,null,r),n&&e.translate(s.x1,s.y1)}}},Xf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var o=this,i=o.usePaths(),a=n._private.rscratch,u=2*n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-color")).value;t.lineWidth=u,"self"!==a.edgeType||i?t.lineCap="round":t.lineCap="butt",o.colorStrokeStyle(t,s[0],s[1],s[2],r),o.drawEdgePath(n,t,a.allpts,"solid")}}}};Yf.drawEdgeOverlay=Xf("overlay"),Yf.drawEdgeUnderlay=Xf("underlay"),Yf.drawEdgePath=function(e,t,n,r){var o,i=e._private.rscratch,a=t,u=!1,s=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(s){var f=n.join("$");i.pathCacheKey&&i.pathCacheKey===f?(o=t=i.pathCache,u=!0):(o=t=new Path2D,i.pathCacheKey=f,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!u&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"haystack":for(var h=2;h+1<n.length;h+=2)t.lineTo(n[h],n[h+1]);break;case"segments":if(i.isRound){var p,v=y(i.roundCorners);try{for(v.s();!(p=v.n()).done;){Zc(t,p.value)}}catch(m){v.e(m)}finally{v.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var g=2;g+1<n.length;g+=2)t.lineTo(n[g],n[g+1])}t=a,s?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},Yf.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,o=0;o+1<n.length;o+=2){var i=[n[o+2]-n[o],n[o+3]-n[o+1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),u=[i[1]/a,-i[0]/a],s=[u[0]*r/2,u[1]*r/2];t.beginPath(),t.moveTo(n[o]-s[0],n[o+1]-s[1]),t.lineTo(n[o]+s[0],n[o+1]+s[1]),t.lineTo(n[o+2],n[o+3]),t.closePath(),t.fill()}},Yf.drawArrowheads=function(e,t,n){var r=t._private.rscratch,o="haystack"===r.edgeType;o||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),o||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},Yf.drawArrowhead=function(e,t,n,r,o,i,a){if(!(isNaN(r)||null==r||isNaN(o)||null==o||isNaN(i)||null==i)){var u=this,s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,f=t.pstyle("width").pfValue,d=t.pstyle(n+"-arrow-width"),h="match-line"===d.value?f:d.pfValue;"%"===d.units&&(h*=f);var p=t.pstyle("opacity").value;void 0===a&&(a=p);var v=e.globalCompositeOperation;1===a&&"hollow"!==c||(e.globalCompositeOperation="destination-out",u.colorFillStyle(e,255,255,255,1),u.colorStrokeStyle(e,255,255,255,1),u.drawArrowShape(t,e,l,f,s,h,r,o,i),e.globalCompositeOperation=v);var y=t.pstyle(n+"-arrow-color").value;u.colorFillStyle(e,y[0],y[1],y[2],a),u.colorStrokeStyle(e,y[0],y[1],y[2],a),u.drawArrowShape(t,e,c,f,s,h,r,o,i)}}},Yf.drawArrowShape=function(e,t,n,r,o,i,a,u,s){var l,c=this,f=this.usePaths()&&"triangle-cross"!==o,d=!1,h=t,p={x:a,y:u},v=e.pstyle("arrow-scale").value,y=this.getArrowWidth(r,v),g=c.arrowShapes[o];if(f){var m=c.arrowPathCache=c.arrowPathCache||[],b=rt(o),_=m[b];null!=_?(l=t=_,d=!0):(l=t=new Path2D,m[b]=l)}d||(t.beginPath&&t.beginPath(),f?g.draw(t,1,0,{x:0,y:0},1):g.draw(t,y,s,p,r),t.closePath&&t.closePath()),t=h,f&&(t.translate(a,u),t.rotate(s),t.scale(y,y)),"filled"!==n&&"both"!==n||(f?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=i/(f?y:1),t.lineJoin="miter",f?t.stroke(l):t.stroke()),f&&(t.scale(1/y,1/y),t.rotate(-s),t.translate(-a,-u))};var Kf={safeDrawImage:function(e,t,n,r,o,i,a,u,s,l){if(!(o<=0||i<=0||s<=0||l<=0))try{e.drawImage(t,n,r,o,i,a,u,s,l)}catch(om){gt(om)}},drawInscribedImage:function(e,t,n,r,o){var i=this,a=n.position(),u=a.x,s=a.y,l=n.cy().style(),c=l.getIndexedStyle.bind(l),f=c(n,"background-fit","value",r),d=c(n,"background-repeat","value",r),h=n.width(),p=n.height(),v=2*n.padding(),y=h+("inner"===c(n,"background-width-relative-to","value",r)?0:v),g=p+("inner"===c(n,"background-height-relative-to","value",r)?0:v),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),_=c(n,"background-image-opacity","value",r)*o,w=c(n,"background-image-smoothing","value",r),O=n.pstyle("corner-radius").value;"auto"!==O&&(O=n.pstyle("corner-radius").pfValue);var E=t.width||t.cachedW,x=t.height||t.cachedH;null!=E&&null!=x||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,x=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var S=E,P=x;if("auto"!==c(n,"background-width","value",r)&&(S="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*y:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(P="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*g:c(n,"background-height","pfValue",r)),0!==S&&0!==P){if("contain"===f)S*=T=Math.min(y/S,g/P),P*=T;else if("cover"===f){var T;S*=T=Math.max(y/S,g/P),P*=T}var C=u-y/2,k=c(n,"background-position-x","units",r),A=c(n,"background-position-x","pfValue",r);C+="%"===k?(y-S)*A:A;var j=c(n,"background-offset-x","units",r),R=c(n,"background-offset-x","pfValue",r);C+="%"===j?(y-S)*R:R;var I=s-g/2,N=c(n,"background-position-y","units",r),M=c(n,"background-position-y","pfValue",r);I+="%"===N?(g-P)*M:M;var D=c(n,"background-offset-y","units",r),L=c(n,"background-offset-y","pfValue",r);I+="%"===D?(g-P)*L:L,m.pathCache&&(C-=u,I-=s,u=0,s=0);var F=e.globalAlpha;e.globalAlpha=_;var U=i.getImgSmoothing(e),B=!1;if("no"===w&&U?(i.setImgSmoothing(e,!1),B=!0):"yes"!==w||U||(i.setImgSmoothing(e,!0),B=!0),"no-repeat"===d)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(i.nodeShapes[i.getNodeShape(n)].draw(e,u,s,y,g,O,m),e.clip())),i.safeDrawImage(e,t,0,0,E,x,C,I,S,P),b&&e.restore();else{var z=e.createPattern(t,d);e.fillStyle=z,i.nodeShapes[i.getNodeShape(n)].draw(e,u,s,y,g,O,m),e.translate(C,I),e.fill(),e.translate(-C,-I)}e.globalAlpha=F,B&&i.setImgSmoothing(e,U)}}},Zf={};function $f(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=Math.min(i,r/2,o/2);e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+o-a),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()}Zf.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),o=Math.ceil(on(n*r));t=Math.pow(2,o)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Zf.drawElementText=function(e,t,n,r,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(i&&!a.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var u=t.pstyle("label");if(!u||!u.value)return;var s=a.getLabelJustification(t);e.textAlign=s,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,c=t.pstyle("label"),f=t.pstyle("source-label"),d=t.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var h,p=!n;n&&(h=n,e.translate(-h.x1,-h.y1)),null==o?(a.drawText(e,t,null,p,i),t.isEdge()&&(a.drawText(e,t,"source",p,i),a.drawText(e,t,"target",p,i))):a.drawText(e,t,o,p,i),n&&e.translate(h.x1,h.y1)},Zf.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Zf.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,u=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,s=t.pstyle("text-outline-opacity").value*u,l=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+a+" "+o+" "+i,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],u),this.colorStrokeStyle(e,c[0],c[1],c[2],s)},Zf.getTextAngle=function(e,t){var n,r=e._private.rscratch,o=t?t+"-":"",i=e.pstyle(o+"text-rotation");if("autorotate"===i.strValue){var a=St(r,"labelAngle",t);n=e.isEdge()?a:0}else n="none"===i.strValue?0:i.pfValue;return n},Zf.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t._private.rscratch,a=o?t.effectiveOpacity():1;if(!o||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var u,s,l=St(i,"labelX",n),c=St(i,"labelY",n),f=this.getLabelText(t,n);if(null!=f&&""!==f&&!isNaN(l)&&!isNaN(c)){this.setupTextStyle(e,t,o);var d,h=n?n+"-":"",p=St(i,"labelWidth",n),v=St(i,"labelHeight",n),y=t.pstyle(h+"text-margin-x").pfValue,g=t.pstyle(h+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle("text-halign").value,_=t.pstyle("text-valign").value;switch(m&&(b="center",_="center"),l+=y,c+=g,0!==(d=r?this.getTextAngle(t,n):0)&&(u=l,s=c,e.translate(u,s),e.rotate(d),l=0,c=0),_){case"top":break;case"center":c+=v/2;break;case"bottom":c+=v}var w=t.pstyle("text-background-opacity").value,O=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,x=t.pstyle("text-background-padding").pfValue,S=t.pstyle("text-background-shape").strValue,P="round-rectangle"===S||"roundrectangle"===S,T="circle"===S;if(w>0||E>0&&O>0){var C=e.fillStyle,k=e.strokeStyle,A=e.lineWidth,j=t.pstyle("text-background-color").value,R=t.pstyle("text-border-color").value,I=t.pstyle("text-border-style").value,N=w>0,M=E>0&&O>0,D=l-x;switch(b){case"left":D-=p;break;case"center":D-=p/2}var L=c-v-x,F=p+2*x,U=v+2*x;if(N&&(e.fillStyle="rgba(".concat(j[0],",").concat(j[1],",").concat(j[2],",").concat(w*a,")")),M&&(e.strokeStyle="rgba(".concat(R[0],",").concat(R[1],",").concat(R[2],",").concat(O*a,")"),e.lineWidth=E,e.setLineDash))switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;default:e.setLineDash([])}if(P?(e.beginPath(),$f(e,D,L,F,U,2)):T?(e.beginPath(),function(e,t,n,r,o){var i=Math.min(r,o)/2,a=t+r/2,u=n+o/2;e.beginPath(),e.arc(a,u,i,0,2*Math.PI),e.closePath()}(e,D,L,F,U)):(e.beginPath(),e.rect(D,L,F,U)),N&&e.fill(),M&&e.stroke(),M&&"double"===I){var B=E/2;e.beginPath(),P?$f(e,D+B,L+B,F-2*B,U-2*B,2):e.rect(D+B,L+B,F-2*B,U-2*B),e.stroke()}e.fillStyle=C,e.strokeStyle=k,e.lineWidth=A,e.setLineDash&&e.setLineDash([])}var z=2*t.pstyle("text-outline-width").pfValue;if(z>0&&(e.lineWidth=z),"wrap"===t.pstyle("text-wrap").value){var V=St(i,"labelWrapCachedLines",n),W=St(i,"labelLineHeight",n),H=p/2,q=this.getLabelJustification(t);switch("auto"===q||("left"===b?"left"===q?l+=-p:"center"===q&&(l+=-H):"center"===b?"left"===q?l+=-H:"right"===q&&(l+=H):"right"===b&&("center"===q?l+=H:"right"===q&&(l+=p))),_){case"top":case"center":case"bottom":c-=(V.length-1)*W}for(var G=0;G<V.length;G++)z>0&&e.strokeText(V[G],l,c),e.fillText(V[G],l,c),c+=W}else z>0&&e.strokeText(f,l,c),e.fillText(f,l,c);0!==d&&(e.rotate(-d),e.translate(-u,-s))}}};var Qf={drawNode:function(e,t,n){var r,o,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,l=t._private,c=l.rscratch,f=t.position();if(se(f.x)&&se(f.y)&&(!u||t.visible())){var d,h,p=u?t.effectiveOpacity():1,v=s.usePaths(),y=!1,g=t.padding();r=t.width()+2*g,o=t.height()+2*g,n&&(h=n,e.translate(-h.x1,-h.y1));for(var m=t.pstyle("background-image").value,b=new Array(m.length),_=new Array(m.length),w=0,O=0;O<m.length;O++){var E=m[O];if(b[O]=null!=E&&"none"!==E){var x=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",O);w++,_[O]=s.getCachedImage(E,x,function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var S=t.pstyle("background-blacken").value,P=t.pstyle("border-width").pfValue,T=t.pstyle("background-opacity").value*p,C=t.pstyle("border-color").value,k=t.pstyle("border-style").value,A=t.pstyle("border-join").value,j=t.pstyle("border-cap").value,R=t.pstyle("border-position").value,I=t.pstyle("border-dash-pattern").pfValue,N=t.pstyle("border-dash-offset").pfValue,M=t.pstyle("border-opacity").value*p,D=t.pstyle("outline-width").pfValue,L=t.pstyle("outline-color").value,F=t.pstyle("outline-style").value,U=t.pstyle("outline-opacity").value*p,B=t.pstyle("outline-offset").value,z=t.pstyle("corner-radius").value;"auto"!==z&&(z=t.pstyle("corner-radius").pfValue);var V=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;s.eleFillStyle(e,t,n)},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;s.colorStrokeStyle(e,C[0],C[1],C[2],t)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;s.colorStrokeStyle(e,L[0],L[1],L[2],t)},q=function(e,t,n,r){var o,i=s.nodePathCache=s.nodePathCache||[],a=ot("polygon"===n?n+","+r.join(","):n,""+t,""+e,""+z),u=i[a],l=!1;return null!=u?(o=u,l=!0,c.pathCache=o):(o=new Path2D,i[a]=c.pathCache=o),{path:o,cacheHit:l}},G=t.pstyle("shape").strValue,Y=t.pstyle("shape-polygon-points").pfValue;if(v){e.translate(f.x,f.y);var X=q(r,o,G,Y);d=X.path,y=X.cacheHit}var K=function(){if(!y){var n=f;v&&(n={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(d||e,n.x,n.y,r,o,z,c)}v?e.fill(d):e.fill()},Z=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=l.backgrounding,i=0,a=0;a<_.length;a++){var u=t.cy().style().getIndexedStyle(t,"background-image-containment","value",a);r&&"over"===u||!r&&"inside"===u?i++:b[a]&&_[a].complete&&!_[a].error&&(i++,s.drawInscribedImage(e,_[a],t,a,n))}l.backgrounding=!(i===w),o!==l.backgrounding&&t.updateStyle(!1)},$=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;s.hasPie(t)&&(s.drawPie(e,t,i),n&&(v||s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c)))},Q=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;s.hasStripe(t)&&(e.save(),v?e.clip(c.pathCache):(s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c),e.clip()),s.drawStripe(e,t,i),e.restore(),n&&(v||s.nodeShapes[s.getNodeShape(t)].draw(e,f.x,f.y,r,o,z,c)))},J=function(){var t=(S>0?S:-S)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p),n=S>0?0:255;0!==S&&(s.colorFillStyle(e,n,n,n,t),v?e.fill(d):e.fill())},ee=function(){if(P>0){if(e.lineWidth=P,e.lineCap=j,e.lineJoin=A,e.setLineDash)switch(k){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(I),e.lineDashOffset=N;break;case"solid":case"double":e.setLineDash([])}if("center"!==R){if(e.save(),e.lineWidth*=2,"inside"===R)v?e.clip(d):e.clip();else{var t=new Path2D;t.rect(-r/2-P,-o/2-P,r+2*P,o+2*P),t.addPath(d),e.clip(t,"evenodd")}v?e.stroke(d):e.stroke(),e.restore()}else v?e.stroke(d):e.stroke();if("double"===k){e.lineWidth=P/3;var n=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(d):e.stroke(),e.globalCompositeOperation=n}e.setLineDash&&e.setLineDash([])}},te=function(){if(D>0){if(e.lineWidth=D,e.lineCap="butt",e.setLineDash)switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var n=f;v&&(n={x:0,y:0});var i=s.getNodeShape(t),a=P;"inside"===R&&(a=0),"outside"===R&&(a*=2);var u,l=(r+a+(D+B))/r,c=(o+a+(D+B))/o,d=r*l,h=o*c,p=s.nodeShapes[i].points;if(v)u=q(d,h,i,p).path;if("ellipse"===i)s.drawEllipsePath(u||e,n.x,n.y,d,h);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(i)){var y=0,g=0,m=0;"round-diamond"===i?y=1.4*(a+B+D):"round-heptagon"===i?(y=1.075*(a+B+D),m=-(a/2+B+D)/35):"round-hexagon"===i?y=1.12*(a+B+D):"round-pentagon"===i?(y=1.13*(a+B+D),m=-(a/2+B+D)/15):"round-tag"===i?(y=1.12*(a+B+D),g=.07*(a/2+D+B)):"round-triangle"===i&&(y=(a+B+D)*(Math.PI/2),m=-(a+B/2+D)/Math.PI),0!==y&&(d=r*(l=(r+y)/r),["round-hexagon","round-tag"].includes(i)||(h=o*(c=(o+y)/o)));for(var b=d/2,_=h/2,w=(z="auto"===z?qn(d,h):z)+(a+D+B)/2,O=new Array(p.length/2),E=new Array(p.length/2),x=0;x<p.length/2;x++)O[x]={x:n.x+g+b*p[2*x],y:n.y+m+_*p[2*x+1]};var S,T,C,k,A=O.length;for(T=O[A-1],S=0;S<A;S++)C=O[S%A],k=O[(S+1)%A],E[S]=$c(T,C,k,w),T=C,C=k;s.drawRoundPolygonPath(u||e,n.x+g,n.y+m,r*l,o*c,p,E)}else if(["roundrectangle","round-rectangle"].includes(i))z="auto"===z?Hn(d,h):z,s.drawRoundRectanglePath(u||e,n.x,n.y,d,h,z+(a+D+B)/2);else if(["cutrectangle","cut-rectangle"].includes(i))z="auto"===z?8:z,s.drawCutRectanglePath(u||e,n.x,n.y,d,h,null,z+(a+D+B)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(i))z="auto"===z?Hn(d,h):z,s.drawBottomRoundRectanglePath(u||e,n.x,n.y,d,h,z+(a+D+B)/2);else if("barrel"===i)s.drawBarrelPath(u||e,n.x,n.y,d,h);else if(i.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(i)){p=Rn(In(p,(a+D+B)/r)),s.drawPolygonPath(u||e,n.x,n.y,r,o,p)}else{p=Rn(In(p,-((a+D+B)/r))),s.drawPolygonPath(u||e,n.x,n.y,r,o,p)}if(v?e.stroke(u):e.stroke(),"double"===F){e.lineWidth=a/3;var j=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(u):e.stroke(),e.globalCompositeOperation=j}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var ne=t.pstyle("ghost-offset-x").pfValue,re=t.pstyle("ghost-offset-y").pfValue,oe=t.pstyle("ghost-opacity").value,ie=oe*p;e.translate(ne,re),H(),te(),V(oe*T),K(),Z(ie,!0),W(oe*M),ee(),$(0!==S||0!==P),Q(0!==S||0!==P),Z(ie,!1),J(ie),e.translate(-ne,-re)}v&&e.translate(-f.x,-f.y),a&&s.drawNodeUnderlay(e,t,f,r,o),v&&e.translate(f.x,f.y),H(),te(),V(),K(),Z(p,!0),W(),ee(),$(0!==S||0!==P),Q(0!==S||0!==P),Z(p,!1),J(),v&&e.translate(-f.x,-f.y),s.drawElementText(e,t,null,i),a&&s.drawNodeOverlay(e,t,f,r,o),n&&e.translate(h.x1,h.y1)}}},Jf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,o,i){if(n.visible()){var a=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,s=n.pstyle("".concat(e,"-color")).value,l=n.pstyle("".concat(e,"-shape")).value,c=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(r=r||n.position(),null==o||null==i){var f=n.padding();o=n.width()+2*f,i=n.height()+2*f}this.colorFillStyle(t,s[0],s[1],s[2],u),this.nodeShapes[l].draw(t,r.x,r.y,o+2*a,i+2*a,c),t.fill()}}}};Qf.drawNodeOverlay=Jf("overlay"),Qf.drawNodeUnderlay=Jf("underlay"),Qf.hasPie=function(e){return(e=e[0])._private.hasPie},Qf.hasStripe=function(e){return(e=e[0])._private.hasStripe},Qf.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var o,i=t.cy().style(),a=t.pstyle("pie-size"),u=t.pstyle("pie-hole"),s=t.pstyle("pie-start-angle").pfValue,l=r.x,c=r.y,f=t.width(),d=t.height(),h=Math.min(f,d)/2,p=0;if(this.usePaths()&&(l=0,c=0),"%"===a.units?h*=a.pfValue:void 0!==a.pfValue&&(h=a.pfValue/2),"%"===u.units?o=h*u.pfValue:void 0!==u.pfValue&&(o=u.pfValue/2),!(o>=h))for(var v=1;v<=i.pieBackgroundN;v++){var y=t.pstyle("pie-"+v+"-background-size").value,g=t.pstyle("pie-"+v+"-background-color").value,m=t.pstyle("pie-"+v+"-background-opacity").value*n,b=y/100;b+p>1&&(b=1-p);var _=1.5*Math.PI+2*Math.PI*p,w=(_+=s)+2*Math.PI*b;0===y||p>=1||p+b>1||(0===o?(e.beginPath(),e.moveTo(l,c),e.arc(l,c,h,_,w),e.closePath()):(e.beginPath(),e.arc(l,c,h,_,w),e.arc(l,c,o,w,_,!0),e.closePath()),this.colorFillStyle(e,g[0],g[1],g[2],m),e.fill(),p+=b)}},Qf.drawStripe=function(e,t,n,r){t=t[0],r=r||t.position();var o=t.cy().style(),i=r.x,a=r.y,u=t.width(),s=t.height(),l=0,c=this.usePaths();e.save();var f=t.pstyle("stripe-direction").value,d=t.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":e.rotate(-Math.PI/2)}var h=u,p=s;"%"===d.units?(h*=d.pfValue,p*=d.pfValue):void 0!==d.pfValue&&(h=d.pfValue,p=d.pfValue),c&&(i=0,a=0),a-=h/2,i-=p/2;for(var v=1;v<=o.stripeBackgroundN;v++){var y=t.pstyle("stripe-"+v+"-background-size").value,g=t.pstyle("stripe-"+v+"-background-color").value,m=t.pstyle("stripe-"+v+"-background-opacity").value*n,b=y/100;b+l>1&&(b=1-l),0===y||l>=1||l+b>1||(e.beginPath(),e.rect(i,a+p*l,h,p*b),e.closePath(),this.colorFillStyle(e,g[0],g[1],g[2],m),e.fill(),l+=b)}e.restore()};var ed,td={};function nd(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function rd(e,t,n){void 0===n&&(n=t);var r=e.makeOffscreenCanvas(t,n),o=r.context=r.getContext("2d");return r.clear=function(){return o.clearRect(0,0,r.width,r.height)},r.clear(),r}function od(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function id(e){return"solid"===e.pstyle("background-fill").value&&("none"===e.pstyle("background-image").strValue&&(0===e.pstyle("border-width").value||(0===e.pstyle("border-opacity").value||"solid"===e.pstyle("border-style").value)))}function ad(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ud(e,t,n){var r=e[0]/255,o=e[1]/255,i=e[2]/255,a=t,u=n||new Array(4);return u[0]=r*a,u[1]=o*a,u[2]=i*a,u[3]=a,u}function sd(e,t){var n=t||new Array(4);return n[0]=(255&e)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function ld(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function cd(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function fd(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function dd(e,t,n,r,o,i){switch(t){case e.FLOAT:return new Float32Array(n.buffer,i*r,o);case e.INT:return new Int32Array(n.buffer,i*r,o)}}function hd(e,t,n,r){var o=m(cd(e,n),3),i=o[0],a=o[1],u=o[2],s=fd(e,a,t*i),l=i*u,c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,t*l,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),a===e.FLOAT?e.vertexAttribPointer(r,i,a,!1,l,0):a===e.INT&&e.vertexAttribIPointer(r,i,a,l,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var f=new Array(t),d=0;d<t;d++)f[d]=dd(e,a,s,l,i,d);return c.dataArray=s,c.stride=l,c.size=i,c.getView=function(e){return f[e]},c.setPoint=function(e,t,n){var r=f[e];r[0]=t,r[1]=n},c.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,c),t?e.bufferSubData(e.ARRAY_BUFFER,0,s,0,t*i):e.bufferSubData(e.ARRAY_BUFFER,0,s)},c}td.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n},td.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,o=0;o<n.length;o++)if((t=n[o]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},td.createGradientStyleFor=function(e,t,n,r,o){var i,a=this.usePaths(),u=n.pstyle(t+"-gradient-stop-colors").value,s=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var l=n.sourceEndpoint(),c=n.targetEndpoint(),f=n.midpoint(),d=un(l,f),h=un(c,f);i=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,h))}else{var p=a?{x:0,y:0}:n.position(),v=n.paddedWidth(),y=n.paddedHeight();i=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,y))}else if(n.isEdge()){var g=n.sourceEndpoint(),m=n.targetEndpoint();i=e.createLinearGradient(g.x,g.y,m.x,m.y)}else{var b=a?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":i=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":i=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":i=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":i=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!i)return null;for(var O=s.length===u.length,E=u.length,x=0;x<E;x++)i.addColorStop(O?s[x]:x/(E-1),"rgba("+u[x][0]+","+u[x][1]+","+u[x][2]+","+o+")");return i},td.gradientFillStyle=function(e,t,n,r){var o=this.createGradientStyleFor(e,"background",t,n,r);if(!o)return null;e.fillStyle=o},td.colorFillStyle=function(e,t,n,r,o){e.fillStyle="rgba("+t+","+n+","+r+","+o+")"},td.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var o=t.pstyle("background-color").value;this.colorFillStyle(e,o[0],o[1],o[2],n)}},td.gradientStrokeStyle=function(e,t,n,r){var o=this.createGradientStyleFor(e,"line",t,n,r);if(!o)return null;e.strokeStyle=o},td.colorStrokeStyle=function(e,t,n,r,o){e.strokeStyle="rgba("+t+","+n+","+r+","+o+")"},td.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var o=t.pstyle("line-color").value;this.colorStrokeStyle(e,o[0],o[1],o[2],n)}},td.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),o=r[2],i=r[3],a=t.getPixelRatio(),u=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=u);var s,l=o*a,c=i*a;if(l!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var f=n.canvasContainer;f.style.width=o+"px",f.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(s=n.canvases[d]).width=l,s.height=c,s.style.width=o+"px",s.style.height=i+"px";for(d=0;d<t.BUFFER_COUNT;d++)(s=n.bufferCanvases[d]).width=l,s.height=c,s.style.width=o+"px",s.style.height=i+"px";t.textureMult=1,a<=1&&(s=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,s.width=l*t.textureMult,s.height=c*t.textureMult),t.canvasWidth=l,t.canvasHeight=c,t.pixelRatio=a}},td.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},td.clearCanvas=function(){var e=this,t=e.data;function n(t){t.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])},td.render=function(e){var t=this;e=e||wt();var n=t.cy,r=e.forcedContext,o=e.drawAllLayers,i=e.drawOnlyNodeLayer,a=e.forcedZoom,u=e.forcedPan,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=t.data,c=l.canvasNeedsRedraw,f=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:t.motionBlur,h=t.motionBlurPxRatio,p=n.hasCompoundNodes(),v=t.hoverData.draggingEles,y=!(!t.hoverData.selecting&&!t.touchData.selecting),g=d=d&&!r&&t.motionBlurEnabled&&!y;r||(t.prevPxRatio!==s&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=s),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),d&&(null==t.mbFrames&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(g=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!f&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var m=n.style(),b=n.zoom(),_=void 0!==a?a:b,w=n.pan(),O={x:w.x,y:w.y},E={zoom:b,pan:{x:w.x,y:w.y}},x=t.prevViewport;void 0===x||E.zoom!==x.zoom||E.pan.x!==x.pan.x||E.pan.y!==x.pan.y||v&&!p||(t.motionBlurPxRatio=1),u&&(O=u),_*=s,O.x*=s,O.y*=s;var S=t.getCachedZSortedEles();function P(e,n,r,o,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",t.colorFillStyle(e,255,255,255,t.motionBlurTransparency),e.fillRect(n,r,o,i),e.globalCompositeOperation=a}function T(e,n){var i,s,c,f;t.clearingMotionBlur||e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]&&e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]?(i=O,s=_,c=t.canvasWidth,f=t.canvasHeight):(i={x:w.x*h,y:w.y*h},s=b*h,c=t.canvasWidth*h,f=t.canvasHeight*h),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?P(e,0,0,c,f):r||void 0!==n&&!n||e.clearRect(0,0,c,f),o||(e.translate(i.x,i.y),e.scale(s,s)),u&&e.translate(u.x,u.y),a&&e.scale(a,a)}if(f||(t.textureDrawLastFrame=!1),f){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var C=t.data.bufferContexts[t.TEXTURE_BUFFER];C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:C,drawOnlyNodeLayer:!0,forcedPxRatio:s*t.textureMult}),(E=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var k=l.contexts[t.NODE],A=t.textureCache.texture;E=t.textureCache.viewport;k.setTransform(1,0,0,1,0,0),d?P(k,0,0,E.width,E.height):k.clearRect(0,0,E.width,E.height);var j=m.core("outside-texture-bg-color").value,R=m.core("outside-texture-bg-opacity").value;t.colorFillStyle(k,j[0],j[1],j[2],R),k.fillRect(0,0,E.width,E.height);b=n.zoom();T(k,!1),k.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s),k.drawImage(A,E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s)}else t.textureOnViewport&&!r&&(t.textureCache=null);var I=n.extent(),N=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),M=t.hideEdgesOnViewport&&N,D=[];if(D[t.NODE]=!c[t.NODE]&&d&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,D[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),D[t.DRAG]=!c[t.DRAG]&&d&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,D[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||o||i||D[t.NODE]){var L=d&&!D[t.NODE]&&1!==h;T(k=r||(L?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:l.contexts[t.NODE]),d&&!L?"motionBlur":void 0),M?t.drawCachedNodes(k,S.nondrag,s,I):t.drawLayeredElements(k,S.nondrag,s,I),t.debug&&t.drawDebugPoints(k,S.nondrag),o||d||(c[t.NODE]=!1)}if(!i&&(c[t.DRAG]||o||D[t.DRAG])){L=d&&!D[t.DRAG]&&1!==h;T(k=r||(L?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:l.contexts[t.DRAG]),d&&!L?"motionBlur":void 0),M?t.drawCachedNodes(k,S.drag,s,I):t.drawCachedElements(k,S.drag,s,I),t.debug&&t.drawDebugPoints(k,S.drag),o||d||(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,T),d&&1!==h){var F=l.contexts[t.NODE],U=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],B=l.contexts[t.DRAG],z=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],V=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!g?e.clearRect(0,0,t.canvasWidth,t.canvasHeight):P(e,0,0,t.canvasWidth,t.canvasHeight);var o=h;e.drawImage(n,0,0,t.canvasWidth*o,t.canvasHeight*o,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||D[t.NODE])&&(V(F,U,D[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||D[t.DRAG])&&(V(B,z,D[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=E,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),d&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!f,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},100)),r||n.emit("render")},td.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,o=n.data,i=r.style(),a=e.drawOnlyNodeLayer,u=e.drawAllLayers,s=o.canvasNeedsRedraw,l=e.forcedContext;if(n.showFps||!a&&s[n.SELECT_BOX]&&!u){var c=l||o.contexts[n.SELECT_BOX];if(t(c),1==n.selection[4]&&(n.hoverData.selecting||n.touchData.selecting)){var f=n.cy.zoom(),d=i.core("selection-box-border-width").value/f;c.lineWidth=d,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),d>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(o.bgActivePosistion&&!n.hoverData.selecting){f=n.cy.zoom();var h=o.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(h.x,h.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var p=n.lastRedrawTime;if(n.showFps&&p){p=Math.round(p);var v=Math.round(1e3/p),y="1 frame = "+p+" ms = "+v+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!ed){var g=c.measureText(y);ed=g.actualBoundingBoxAscent}c.fillText(y,0,ed);c.strokeRect(0,ed+10,250,20),c.fillRect(0,ed+10,250*Math.min(v/60,1),20)}u||(s[n.SELECT_BOX]=!1)}};var pd="undefined"!==typeof Float32Array?Float32Array:Array;function vd(){var e=new pd(9);return pd!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function yd(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function gd(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=u,e[5]=s,e[6]=d*r+h*a+l,e[7]=d*o+h*u+c,e[8]=d*i+h*s+f,e}function md(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*o+d*u,e[2]=h*i+d*s,e[3]=h*a-d*r,e[4]=h*u-d*o,e[5]=h*s-d*i,e[6]=l,e[7]=c,e[8]=f,e}function bd(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var _d=function(){return v(function e(t,n,r,o){p(this,e),this.debugID=Math.floor(1e4*Math.random()),this.r=t,this.texSize=n,this.texRows=r,this.texHeight=Math.floor(n/r),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=o(t,n,n),this.scratch=o(t,n,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var t=e.w,n=e.h,r=this.texHeight,o=this.texSize,i=r/n,a=t*i,u=n*i;return a>o&&(a=t*(i=o/t),u=n*i),{scale:i,texW:a,texH:u}}},{key:"draw",value:function(e,t,n){var r=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,i=this.texRows,a=this.texHeight,u=this.getScale(t),s=u.scale,l=u.texW,c=u.texH,f=function(e,r){if(n&&r){var o=r.context,i=e.x,u=e.row,l=i,c=a*u;o.save(),o.translate(l,c),o.scale(s,s),n(o,t),o.restore()}},d=[null,null],h=function(){f(r.freePointer,r.canvas),d[0]={x:r.freePointer.x,y:r.freePointer.row*a,w:l,h:c},d[1]={x:r.freePointer.x+l,y:r.freePointer.row*a,w:0,h:c},r.freePointer.x+=l,r.freePointer.x==o&&(r.freePointer.x=0,r.freePointer.row++)},p=function(){r.freePointer.x=0,r.freePointer.row++};if(this.freePointer.x+l<=o)h();else{if(this.freePointer.row>=i-1)return!1;this.freePointer.x===o?(p(),h()):this.enableWrapping?function(){var e=r.scratch,t=r.canvas;e.clear(),f({x:0,row:0},e);var n=o-r.freePointer.x,i=l-n,u=a,s=r.freePointer.x,h=r.freePointer.row*a,p=n;t.context.drawImage(e,0,0,p,u,s,h,p,u),d[0]={x:s,y:h,w:p,h:c};var v=n,y=(r.freePointer.row+1)*a,g=i;t&&t.context.drawImage(e,v,0,g,u,0,y,g,u),d[1]={x:0,y:y,w:g,h:c},r.freePointer.x=i,r.freePointer.row++}():(p(),h())}return this.keyToLocation.set(e,d),this.needsBuffer=!0,d}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(e){if(this.locked)return!1;var t=this.texSize,n=this.texRows,r=this.getScale(e).texW;return!(this.freePointer.x+r>t)||this.freePointer.row<n-1}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=function(e){var t=e.createTexture();return t.buffer=function(n){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),wd=function(){return v(function e(t,n,r,o){p(this,e),this.r=t,this.texSize=n,this.texRows=r,this.createTextureCanvas=o,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas;return new _d(e,t,n,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas,o=Math.floor(t/n);this.scratch=r(e,t,o,"scratch")}return this.scratch}},{key:"draw",value:function(e,t,n){var r=this.styleKeyToAtlas.get(e);return r||((r=this.atlases[this.atlases.length-1])&&r.canFit(t)||(r&&r.lock(),r=this._createAtlas(),this.atlases.push(r)),r.draw(e,t,n),this.styleKeyToAtlas.set(e,r)),r}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,t=this.markedKeys;if(0!==t.size){var n,r=[],o=new Map,i=null,a=y(this.atlases);try{var u=function(){var a,u,s=n.value,l=s.getKeys(),c=(u=l,(a=t).intersection?a.intersection(u):new Set(b(a).filter(function(e){return u.has(e)})));if(0===c.size)return r.push(s),l.forEach(function(e){return o.set(e,s)}),1;i||(i=e._createAtlas(),r.push(i));var f,d=y(l);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(!c.has(h)){var p=m(s.getOffsets(h),2),v=p[0],g=p[1];i.canFit({w:v.w+g.w,h:v.h})||(i.lock(),i=e._createAtlas(),r.push(i)),s.canvas&&(e._copyTextureToNewAtlas(h,s,i),o.set(h,i))}}}catch(_){d.e(_)}finally{d.f()}s.dispose()};for(a.s();!(n=a.n()).done;)u()}catch(s){a.e(s)}finally{a.f()}this.atlases=r,this.styleKeyToAtlas=o,this.markedKeys=new Set}else console.log("nothing to garbage collect")}},{key:"_copyTextureToNewAtlas",value:function(e,t,n){var r=m(t.getOffsets(e),2),o=r[0],i=r[1];if(0===i.w)n.draw(e,o,function(e){e.drawImage(t.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var a=this._getScratchCanvas();a.clear(),a.context.drawImage(t.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),a.context.drawImage(t.canvas,i.x,i.y,i.w,i.h,o.w,0,i.w,i.h);var u=o.w+i.w,s=o.h;n.draw(e,{w:u,h:s},function(e){e.drawImage(a,0,0,u,s,0,0,u,s)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();var Od=function(){return v(function e(t,n){p(this,e),this.r=t,this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(e,t){var n=this.globalOptions,r=n.webglTexSize,o=n.createTextureCanvas,i=t.texRows,a=this._cacheScratchCanvas(o),u=new wd(this.r,r,i,a);this.collections.set(e,u)}},{key:"addRenderType",value:function(e,t){var n=t.collection;if(!this.collections.has(n))throw new Error("invalid atlas collection name '".concat(n,"'"));var r=this.collections.get(n),o=ke({type:e,atlasCollection:r},t);this.renderTypes.set(e,o)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var t=-1,n=-1,r=null;return function(o,i,a,u){return u?(r&&i==t&&a==n||(t=i,n=a,r=e(o,i,a)),r):e(o,i,a)}}},{key:"_key",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"invalidate",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.forceRedraw,i=void 0!==o&&o,a=r.filterEle,u=void 0===a?function(){return!0}:a,s=r.filterType,l=void 0===s?function(){return!0}:s,c=!1,f=!1,d=y(e);try{for(d.s();!(t=d.n()).done;){var h=t.value;if(u(h)){var p,v=y(this.renderTypes.values());try{var g=function(){var e=p.value,t=e.type;if(l(t)){var r=n.collections.get(e.collection),o=e.getKey(h),a=Array.isArray(o)?o:[o];if(i)a.forEach(function(e){return r.markKeyForGC(e)}),f=!0;else{var u=e.getID?e.getID(h):h.id(),s=n._key(t,u),d=n.typeAndIdToKey.get(s);void 0===d||ad(a,d)||(c=!0,n.typeAndIdToKey.delete(s),d.forEach(function(e){return r.markKeyForGC(e)}))}}};for(v.s();!(p=v.n()).done;)g()}catch(m){v.e(m)}finally{v.f()}}}}catch(m){d.e(m)}finally{d.f()}return f&&(this.gc(),c=!1),c}},{key:"gc",value:function(){var e,t=y(this.collections.values());try{for(t.s();!(e=t.n()).done;){e.value.gc()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(e,t,n,r){var o=this.renderTypes.get(t),i=this.collections.get(o.collection),a=!1,u=i.draw(r,n,function(t){o.drawClipped?(t.save(),t.beginPath(),t.rect(0,0,n.w,n.h),t.clip(),o.drawElement(t,e,n,!0,!0),t.restore()):o.drawElement(t,e,n,!0,!0),a=!0});if(a){var s=o.getID?o.getID(e):e.id(),l=this._key(t,s);this.typeAndIdToKey.has(l)?this.typeAndIdToKey.get(l).push(r):this.typeAndIdToKey.set(l,[r])}return u}},{key:"getAtlasInfo",value:function(e,t){var n=this,r=this.renderTypes.get(t),o=r.getKey(e);return(Array.isArray(o)?o:[o]).map(function(o){var i=r.getBoundingBox(e,o),a=n.getOrCreateAtlas(e,t,i,o),u=m(a.getOffsets(o),2),s=u[0];return{atlas:a,tex:s,tex1:s,tex2:u[1],bb:i}})}},{key:"getDebugInfo",value:function(){var e,t=[],n=y(this.collections);try{for(n.s();!(e=n.n()).done;){var r=m(e.value,2),o=r[0],i=r[1].getCounts(),a=i.keyCount,u=i.atlasCount;t.push({type:o,keyCount:a,atlasCount:u})}}catch(s){n.e(s)}finally{n.f()}return t}}])}(),Ed=function(){return v(function e(t){p(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,t){return t})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(e)}},{key:"getAtlasIndexForBatch",value:function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t}}])}(),xd={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Sd=1,Pd=2,Td=function(){return v(function e(t,n,r){p(this,e),this.r=t,this.gl=n,this.maxInstances=r.webglBatchSize,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,this.debug=r.webglDebug,this.batchDebugInfo=[],r.enableWrapping=!0,r.createTextureCanvas=rd,this.atlasManager=new Od(t,r),this.batchManager=new Ed(r),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(xd.SCREEN),this.pickingProgram=this._createShaderProgram(xd.PICKING),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(e,t){this.atlasManager.addAtlasCollection(e,t)}},{key:"addTextureAtlasRenderType",value:function(e,t){this.atlasManager.addRenderType(e,t)}},{key:"addSimpleShapeRenderType",value:function(e,t){this.simpleShapeOptions.set(e,t)}},{key:"invalidate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,n=this.atlasManager;return t?n.invalidate(e,{filterType:function(e){return e===t},forceRedraw:!0}):n.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(e){var t=this.gl,n="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),r=this.batchManager.getIndexArray(),o="#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(r.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join("\n\t"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(r.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join("\n\telse "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(e.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "),i=function(e,t,n){var r=nd(e,e.VERTEX_SHADER,t),o=nd(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}(t,n,o);i.aPosition=t.getAttribLocation(i,"aPosition"),i.aIndex=t.getAttribLocation(i,"aIndex"),i.aVertType=t.getAttribLocation(i,"aVertType"),i.aTransform=t.getAttribLocation(i,"aTransform"),i.aAtlasId=t.getAttribLocation(i,"aAtlasId"),i.aTex=t.getAttribLocation(i,"aTex"),i.aPointAPointB=t.getAttribLocation(i,"aPointAPointB"),i.aPointCPointD=t.getAttribLocation(i,"aPointCPointD"),i.aLineWidth=t.getAttribLocation(i,"aLineWidth"),i.aColor=t.getAttribLocation(i,"aColor"),i.aCornerRadius=t.getAttribLocation(i,"aCornerRadius"),i.aBorderColor=t.getAttribLocation(i,"aBorderColor"),i.uPanZoomMatrix=t.getUniformLocation(i,"uPanZoomMatrix"),i.uAtlasSize=t.getUniformLocation(i,"uAtlasSize"),i.uBGColor=t.getUniformLocation(i,"uBGColor"),i.uZoom=t.getUniformLocation(i,"uZoom"),i.uTextures=[];for(var a=0;a<this.batchManager.getMaxAtlasesPerBatch();a++)i.uTextures.push(t.getUniformLocation(i,"uTexture".concat(a)));return i}},{key:"_createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var t=this.maxInstances,n=this.gl,r=this.program,o=n.createVertexArray();return n.bindVertexArray(o),function(e,t,n,r){var o=m(cd(e,t),2),i=o[0],a=o[1],u=fd(e,a,r),s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),a===e.FLOAT?e.vertexAttribPointer(n,i,a,!1,0,0):a===e.INT&&e.vertexAttribIPointer(n,i,a,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null)}(n,"vec2",r.aPosition,e),this.transformBuffer=function(e,t,n){for(var r=new Float32Array(9*t),o=new Array(t),i=0;i<t;i++){var a=9*i*4;o[i]=new Float32Array(r.buffer,a,9)}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,r.byteLength,e.DYNAMIC_DRAW);for(var s=0;s<3;s++){var l=n+s;e.enableVertexAttribArray(l),e.vertexAttribPointer(l,3,e.FLOAT,!1,36,12*s),e.vertexAttribDivisor(l,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),u.getMatrixView=function(e){return o[e]},u.setData=function(e,t){o[t].set(e,0)},u.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferSubData(e.ARRAY_BUFFER,0,r)},u}(n,t,r.aTransform),this.indexBuffer=hd(n,t,"vec4",r.aIndex),this.vertTypeBuffer=hd(n,t,"int",r.aVertType),this.atlasIdBuffer=hd(n,t,"int",r.aAtlasId),this.texBuffer=hd(n,t,"vec4",r.aTex),this.pointAPointBBuffer=hd(n,t,"vec4",r.aPointAPointB),this.pointCPointDBuffer=hd(n,t,"vec4",r.aPointCPointD),this.lineWidthBuffer=hd(n,t,"vec2",r.aLineWidth),this.colorBuffer=hd(n,t,"vec4",r.aColor),this.cornerRadiusBuffer=hd(n,t,"vec4",r.aCornerRadius),this.borderColorBuffer=hd(n,t,"vec4",r.aBorderColor),n.bindVertexArray(null),o}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return Oe(e,"Buffer")}).map(function(t){return e[t]})),this._buffers}},{key:"startFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xd.SCREEN;this.panZoomMatrix=e,this.renderTarget=t,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(e,t){return!!e.visible()&&(!t||!t.isVisible||t.isVisible(e))}},{key:"drawTexture",value:function(e,t,n){var r=this.atlasManager,o=this.batchManager,i=r.getRenderTypeOpts(n);if(this._isVisible(e,i)&&(!e.isEdge()||this._isValidEdge(e))){if(this.renderTarget.picking&&i.getTexPickingMode){var a=i.getTexPickingMode(e);if(a===Sd)return;if(a==Pd)return void this.drawPickingRectangle(e,t,n)}var u,s=y(r.getAtlasInfo(e,n));try{for(s.s();!(u=s.n()).done;){var l=u.value,c=l.atlas,f=l.tex1,d=l.tex2;o.canAddToCurrentBatch(c)||this.endBatch();for(var h=o.getAtlasIndexForBatch(c),p=0,v=[[f,!0],[d,!1]];p<v.length;p++){var g=m(v[p],2),b=g[0],_=g[1];if(0!=b.w){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=0,sd(t,this.indexBuffer.getView(w)),this.atlasIdBuffer.getView(w)[0]=h;var O=this.texBuffer.getView(w);O[0]=b.x,O[1]=b.y,O[2]=b.w,O[3]=b.h;var E=this.transformBuffer.getMatrixView(w);this.setTransformMatrix(e,E,i,l,_),this.instanceCount++,_||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(x){s.e(x)}finally{s.f()}}}},{key:"setTransformMatrix",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=0;if(n.shapeProps&&n.shapeProps.padding&&(i=e.pstyle(n.shapeProps.padding).pfValue),r){var a=r.bb,u=r.tex1,s=r.tex2,l=u.w/(u.w+s.w);o||(l=1-l);var c=this._getAdjustedBB(a,i,o,l);this._applyTransformMatrix(t,c,n,e)}else{var f=n.getBoundingBox(e),d=this._getAdjustedBB(f,i,!0,1);this._applyTransformMatrix(t,d,n,e)}}},{key:"_applyTransformMatrix",value:function(e,t,n,r){var o,i;yd(e);var a=n.getRotation?n.getRotation(r):0;if(0!==a){var u=n.getRotationPoint(r);gd(e,e,[u.x,u.y]),md(e,e,a);var s=n.getRotationOffset(r);o=s.x+(t.xOffset||0),i=s.y+(t.yOffset||0)}else o=t.x1,i=t.y1;gd(e,e,[o,i]),bd(e,e,[t.w,t.h])}},{key:"_getAdjustedBB",value:function(e,t,n,r){var o=e.x1,i=e.y1,a=e.w,u=e.h;t&&(o-=t,i-=t,a+=2*t,u+=2*t);var s=0,l=a*r;return n&&r<1?a=l:!n&&r<1&&(o+=s=a-l,a=l),{x1:o,y1:i,w:a,h:u,xOffset:s,yOffset:e.yOffset}}},{key:"drawPickingRectangle",value:function(e,t,n){var r=this.atlasManager.getRenderTypeOpts(n),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=4,sd(t,this.indexBuffer.getView(o)),ud([0,0,0],1,this.colorBuffer.getView(o));var i=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(e,i,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(e,t,n){var r=this.simpleShapeOptions.get(n);if(this._isVisible(e,r)){var o=r.shapeProps,i=this._getVertTypeForShape(e,o.shape);if(void 0===i||r.isSimple&&!r.isSimple(e))this.drawTexture(e,t,n);else{var a=this.instanceCount;if(this.vertTypeBuffer.getView(a)[0]=i,5===i||6===i){var u=r.getBoundingBox(e),s=this._getCornerRadius(e,o.radius,u),l=this.cornerRadiusBuffer.getView(a);l[0]=s,l[1]=s,l[2]=s,l[3]=s,6===i&&(l[0]=0,l[2]=0)}sd(t,this.indexBuffer.getView(a)),ud(e.pstyle(o.color).value,e.pstyle(o.opacity).value,this.colorBuffer.getView(a));var c=this.lineWidthBuffer.getView(a);if(c[0]=0,c[1]=0,o.border){var f=e.pstyle("border-width").value;if(f>0){ud(e.pstyle("border-color").value,e.pstyle("border-opacity").value,this.borderColorBuffer.getView(a));var d=e.pstyle("border-position").value;if("inside"===d)c[0]=0,c[1]=-f;else if("outside"===d)c[0]=f,c[1]=0;else{var h=f/2;c[0]=h,c[1]=-h}}}var p=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(e,p,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"_getVertTypeForShape",value:function(e,t){switch(e.pstyle(t).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(e,t,n){var r=n.w,o=n.h;if("auto"===e.pstyle(t).value)return Hn(r,o);var i=e.pstyle(t).pfValue,a=r/2,u=o/2;return Math.min(i,u,a)}},{key:"drawEdgeArrow",value:function(e,t,n){if(e.visible()){var r,o,i,a=e._private.rscratch;if("source"===n?(r=a.arrowStartX,o=a.arrowStartY,i=a.srcArrowAngle):(r=a.arrowEndX,o=a.arrowEndY,i=a.tgtArrowAngle),!(isNaN(r)||null==r||isNaN(o)||null==o||isNaN(i)||null==i))if("none"!==e.pstyle(n+"-arrow-shape").value){var u=e.pstyle(n+"-arrow-color").value,s=e.pstyle("opacity").value*e.pstyle("line-opacity").value,l=e.pstyle("width").pfValue,c=e.pstyle("arrow-scale").value,f=this.r.getArrowWidth(l,c),d=this.instanceCount,h=this.transformBuffer.getMatrixView(d);yd(h),gd(h,h,[r,o]),bd(h,h,[f,f]),md(h,h,i),this.vertTypeBuffer.getView(d)[0]=3,sd(t,this.indexBuffer.getView(d)),ud(u,s,this.colorBuffer.getView(d)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(e,t){if(e.visible()){var n=this._getEdgePoints(e);if(n){var r=e.pstyle("opacity").value,o=e.pstyle("line-opacity").value,i=e.pstyle("width").pfValue,a=e.pstyle("line-color").value,u=r*o;if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==n.length){var s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=1,sd(t,this.indexBuffer.getView(s)),ud(a,u,this.colorBuffer.getView(s)),this.lineWidthBuffer.getView(s)[0]=i;var l=this.pointAPointBBuffer.getView(s);l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var c=0;c<n.length-2;c+=2){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=2,sd(t,this.indexBuffer.getView(f)),ud(a,u,this.colorBuffer.getView(f)),this.lineWidthBuffer.getView(f)[0]=i;var d=n[c-2],h=n[c-1],p=n[c],v=n[c+1],y=n[c+2],g=n[c+3],m=n[c+4],b=n[c+5];0==c&&(d=2*p-y+.001,h=2*v-g+.001),c==n.length-4&&(m=2*y-p+.001,b=2*g-v+.001);var _=this.pointAPointBBuffer.getView(f);_[0]=d,_[1]=h,_[2]=p,_[3]=v;var w=this.pointCPointDBuffer.getView(f);w[0]=y,w[1]=g,w[2]=m,w[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(e){var t=e._private.rscratch;return!t.badLine&&null!=t.allpts&&!isNaN(t.allpts[0])}},{key:"_getEdgePoints",value:function(e){var t=e._private.rscratch;if(this._isValidEdge(e)){var n=t.allpts;if(4==n.length)return n;var r=this._getNumSegments(e);return this._getCurveSegmentPoints(n,r)}}},{key:"_getNumSegments",value:function(e){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(e,t){if(4==e.length)return e;for(var n=Array(2*(t+1)),r=0;r<=t;r++)if(0==r)n[0]=e[0],n[1]=e[1];else if(r==t)n[2*r]=e[e.length-2],n[2*r+1]=e[e.length-1];else{var o=r/t;this._setCurvePoint(e,o,n,2*r)}return n}},{key:"_setCurvePoint",value:function(e,t,n,r){if(!(e.length<=2)){for(var o=Array(e.length-2),i=0;i<o.length;i+=2){var a=(1-t)*e[i]+t*e[i+2],u=(1-t)*e[i+1]+t*e[i+3];o[i]=a,o[i+1]=u}return this._setCurvePoint(o,t,n,r)}n[r]=e[0],n[r+1]=e[1]}},{key:"endBatch",value:function(){var e=this.gl,t=this.vao,n=this.vertexCount,r=this.instanceCount;if(0!==r){var o=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(o),e.bindVertexArray(t);var i,a=y(this.buffers);try{for(a.s();!(i=a.n()).done;){i.value.bufferSubData(r)}}catch(f){a.e(f)}finally{a.f()}for(var u=this.batchManager.getAtlases(),s=0;s<u.length;s++)u[s].bufferIfNeeded(e);for(var l=0;l<u.length;l++)e.activeTexture(e.TEXTURE0+l),e.bindTexture(e.TEXTURE_2D,u[l].texture),e.uniform1i(o.uTextures[l],l);e.uniform1f(o.uZoom,function(e){var t=e.pixelRatio;return e.cy.zoom()*t}(this.r)),e.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var c=ud(this.bgColor,1);e.uniform4fv(o.uBGColor,c),e.drawArraysInstanced(e.TRIANGLES,0,n,r),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:r,atlasCount:u.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),t=e.reduce(function(e,t){return e+t.atlasCount},0),n=this.batchDebugInfo,r=n.reduce(function(e,t){return e+t.count},0);return{atlasInfo:e,totalAtlases:t,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:n.length,batchInfo:n,totalInstances:r}}}])}(),Cd={};function kd(e,t){var n=e._private.rscratch;return St(n,"labelWrapCachedLines",t)||[]}Cd.initWebgl=function(e,t){var n=this,r=n.data.contexts[n.WEBGL];e.bgColor=function(e){var t=e.cy.container(),n=t&&t.style&&t.style.backgroundColor||"white";return Ae(n)}(n),e.webglTexSize=Math.min(e.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,n.pickingFrameBuffer=function(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(t,r){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}(r),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new Td(n,r,e);var o=function(e){return function(t){return n.getTextAngle(t,e)}},i=function(e){return function(t){var n=t.pstyle(e);return n&&n.value}},a=function(e){return function(t){return t.pstyle("".concat(e,"-opacity")).value>0}},u=function(e){return"yes"===e.pstyle("text-events").strValue?Pd:Sd},s=function(e){var t=e.position(),n=t.x,r=t.y,o=e.outerWidth(),i=e.outerHeight();return{w:o,h:i,x1:n-o/2,y1:r-i/2}};n.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:s,isSimple:id,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:s,isVisible:a("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:s,isVisible:a("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:Ad(t.getLabelKey,null),getBoundingBox:jd(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:o(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:i("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:Ad(t.getSourceLabelKey,"source"),getBoundingBox:jd(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:o("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:i("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:Ad(t.getTargetLabelKey,"target"),getBoundingBox:jd(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:o("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:i("target-label")});var l=We(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(e,t){var r=!1;t&&t.length>0&&(r|=n.drawing.invalidate(t)),r&&l()}),function(e){var t=e.render;e.render=function(n){n=n||{};var r=e.cy;e.webgl&&(r.zoom()>xf?(!function(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e),t.call(e,n)):(!function(e){var t=function(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.canvasWidth,e.canvasHeight),t.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}(e),Nd(e,n,xd.SCREEN)))};var n=e.matchCanvasSize;e.matchCanvasSize=function(t){n.call(e,t),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,n,r,o){return function(e,t,n){var r,o,i,a=function(e,t,n){var r,o,i,a,u=od(e),s=u.pan,l=u.zoom,c=function(e,t,n,r,o){var i=r*n+t.x,a=o*n+t.y;return[i,a=Math.round(e.canvasHeight-a)]}(e,s,l,t,n),f=m(c,2),d=f[0],h=f[1],p=6;if(r=d-p/2,o=h-p/2,i=p,a=p,0===i||0===a)return[];var v=e.data.contexts[e.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),Nd(e,null,xd.PICKING),e.pickingFrameBuffer.needsDraw=!1);var y=i*a,g=new Uint8Array(4*y);v.readPixels(r,o,i,a,v.RGBA,v.UNSIGNED_BYTE,g),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var b=new Set,_=0;_<y;_++){var w=ld(g.slice(4*_,4*_+4))-1;w>=0&&b.add(w)}return b}(e,t,n),u=e.getCachedZSortedEles(),s=y(a);try{for(s.s();!(i=s.n()).done;){var l=u[i.value];if(!r&&l.isNode()&&(r=l),!o&&l.isEdge()&&(o=l),r&&o)break}}catch(c){s.e(c)}finally{s.f()}return[r,o].filter(Boolean)}(e,t,n)};var r=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){r.call(e),e.pickingFrameBuffer.needsDraw=!0};var o=e.notify;e.notify=function(t,n){o.call(e,t,n),"viewport"===t||"bounds"===t?e.pickingFrameBuffer.needsDraw=!0:"background"===t&&e.drawing.invalidate(n,{type:"node-body"})}}(n)};var Ad=function(e,t){return function(n){var r=e(n),o=kd(n,t);return o.length>1?o.map(function(e,t){return"".concat(r,"_").concat(t)}):r}},jd=function(e,t){return function(n,r){var o=e(n);if("string"===typeof r){var i=r.indexOf("_");if(i>0){var a=Number(r.substring(i+1)),u=kd(n,t),s=o.h/u.length,l=s*a,c=o.y1+l;return{x1:o.x1,w:o.w,y1:c,h:s,yOffset:l}}}return o}};function Rd(e,t){var n=e.canvasWidth,r=e.canvasHeight,o=od(e),i=o.pan,a=o.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(i.x,i.y),t.scale(a,a)}function Id(e,t,n){var r=e.drawing;t+=1,n.isNode()?(r.drawNode(n,t,"node-underlay"),r.drawNode(n,t,"node-body"),r.drawTexture(n,t,"label"),r.drawNode(n,t,"node-overlay")):(r.drawEdgeLine(n,t),r.drawEdgeArrow(n,t,"source"),r.drawEdgeArrow(n,t,"target"),r.drawTexture(n,t,"label"),r.drawTexture(n,t,"edge-source-label"),r.drawTexture(n,t,"edge-target-label"))}function Nd(e,t,n){var r;e.webglDebug&&(r=performance.now());var o=e.drawing,i=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&function(e,t){e.drawSelectionRectangle(t,function(t){return Rd(e,t)})}(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var a=e.data.contexts[e.WEBGL];n.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var u=function(e){var t=e.canvasWidth,n=e.canvasHeight,r=od(e),o=r.pan,i=r.zoom,a=vd();gd(a,a,[o.x,o.y]),bd(a,a,[i,i]);var u=vd();!function(e,t,n){e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1}(u,t,n);var s=vd();return function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],y=n[4],g=n[5],m=n[6],b=n[7],_=n[8];e[0]=d*r+h*a+p*l,e[1]=d*o+h*u+p*c,e[2]=d*i+h*s+p*f,e[3]=v*r+y*a+g*l,e[4]=v*o+y*u+g*c,e[5]=v*i+y*s+g*f,e[6]=m*r+b*a+_*l,e[7]=m*o+b*u+_*c,e[8]=m*i+b*s+_*f}(s,u,a),s}(e),s=e.getCachedZSortedEles();if(i=s.length,o.startFrame(u,n),n.screen){for(var l=0;l<s.nondrag.length;l++)Id(e,l,s.nondrag[l]);for(var c=0;c<s.drag.length;c++)Id(e,c,s.drag[c])}else if(n.picking)for(var f=0;f<s.length;f++)Id(e,f,s[f]);o.endFrame(),n.screen&&e.webglDebugShowAtlases&&(function(e){var t=e.data.contexts[e.NODE];t.save(),Rd(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}(e),function(e){var t=function(t,n,r){for(var o=t.atlasManager.getAtlasCollection(n),i=e.data.contexts[e.NODE],a=o.atlases,u=0;u<a.length;u++){var s=a[u].canvas;if(s){var l=s.width,c=s.height,f=l*u,d=s.height*r;i.save(),i.scale(.4,.4),i.drawImage(s,f,d),i.strokeStyle="black",i.rect(f,d,l,c),i.stroke(),i.restore()}}},n=0;t(e.drawing,"node",n++),t(e.drawing,"label",n++)}(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var d=performance.now(),h=Math.ceil(d-r),p=o.getDebugInfo(),v=["".concat(i," elements"),"".concat(p.totalInstances," instances"),"".concat(p.batchCount," batches"),"".concat(p.totalAtlases," atlases"),"".concat(p.wrappedCount," wrapped textures"),"".concat(p.simpleCount," simple shapes")].join(", ");console.log("WebGL (".concat(n.name,") - frame time ").concat(h,"ms")),console.log("Totals:"),console.log("  ".concat(v)),console.log("Texture Atlases Used:");var g,m=y(p.atlasInfo);try{for(m.s();!(g=m.n()).done;){var b=g.value;console.log("  ".concat(b.type,": ").concat(b.keyCount," keys, ").concat(b.atlasCount," atlases"))}}catch(_){m.e(_)}finally{m.f()}console.log("")}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,o.gc())}for(var Md={drawPolygonPath:function(e,t,n,r,o,i){var a=r/2,u=o/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*i[0],n+u*i[1]);for(var s=1;s<i.length/2;s++)e.lineTo(t+a*i[2*s],n+u*i[2*s+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,o,i,a){a.forEach(function(t){return Zc(e,t)}),e.closePath()},drawRoundRectanglePath:function(e,t,n,r,o,i){var a=r/2,u=o/2,s="auto"===i?Hn(r,o):Math.min(i,u,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.arcTo(t+a,n-u,t+a,n,s),e.arcTo(t+a,n+u,t,n+u,s),e.arcTo(t-a,n+u,t-a,n,s),e.arcTo(t-a,n-u,t,n-u,s),e.lineTo(t,n-u),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,o,i){var a=r/2,u=o/2,s="auto"===i?Hn(r,o):i;e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.lineTo(t+a,n-u),e.lineTo(t+a,n),e.arcTo(t+a,n+u,t,n+u,s),e.arcTo(t-a,n+u,t-a,n,s),e.lineTo(t-a,n-u),e.lineTo(t,n-u),e.closePath()},drawCutRectanglePath:function(e,t,n,r,o,i,a){var u=r/2,s=o/2,l="auto"===a?8:a;e.beginPath&&e.beginPath(),e.moveTo(t-u+l,n-s),e.lineTo(t+u-l,n-s),e.lineTo(t+u,n-s+l),e.lineTo(t+u,n+s-l),e.lineTo(t+u-l,n+s),e.lineTo(t-u+l,n+s),e.lineTo(t-u,n+s-l),e.lineTo(t-u,n-s+l),e.closePath()},drawBarrelPath:function(e,t,n,r,o){var i=r/2,a=o/2,u=t-i,s=t+i,l=n-a,c=n+a,f=Gn(r,o),d=f.widthOffset,h=f.heightOffset,p=f.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(u,l+h),e.lineTo(u,c-h),e.quadraticCurveTo(u+p,c,u+d,c),e.lineTo(s-d,c),e.quadraticCurveTo(s-p,c,s,c-h),e.lineTo(s,l+h),e.quadraticCurveTo(s-p,l,s-d,l),e.lineTo(u+d,l),e.quadraticCurveTo(u+p,l,u,l+h),e.closePath()}},Dd=Math.sin(0),Ld=Math.cos(0),Fd={},Ud={},Bd=Math.PI/40,zd=0*Math.PI;zd<2*Math.PI;zd+=Bd)Fd[zd]=Math.sin(zd),Ud[zd]=Math.cos(zd);Md.drawEllipsePath=function(e,t,n,r,o){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,o/2,0,0,2*Math.PI);else for(var i,a,u=r/2,s=o/2,l=0*Math.PI;l<2*Math.PI;l+=Bd)i=t-u*Fd[l]*Dd+u*Ud[l]*Ld,a=n+s*Ud[l]*Dd+s*Fd[l]*Ld,0===l?e.moveTo(i,a):e.lineTo(i,a);e.closePath()};var Vd={};function Wd(e){var t=e.indexOf(",");return e.substr(t+1)}function Hd(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new uo(function(r,o){try{t.toBlob(function(e){null!=e?r(e):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(i){o(i)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return new Blob([r],{type:t})}(Wd(r()),n);case"base64":return Wd(r());default:return r()}}Vd.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Vd.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),o=e.full?Math.ceil(n.w):r[2],i=e.full?Math.ceil(n.h):r[3],a=se(e.maxWidth)||se(e.maxHeight),u=this.getPixelRatio(),s=1;if(void 0!==e.scale)o*=e.scale,i*=e.scale,s=e.scale;else if(a){var l=1/0,c=1/0;se(e.maxWidth)&&(l=s*e.maxWidth/o),se(e.maxHeight)&&(c=s*e.maxHeight/i),o*=s=Math.min(l,c),i*=s}a||(o*=u,i*=u,s*=u);var f=document.createElement("canvas");f.width=o,f.height=i,f.style.width=o+"px",f.style.height=i+"px";var d=f.getContext("2d");if(o>0&&i>0){d.clearRect(0,0,o,i),d.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*s,-n.y1*s),d.scale(s,s),this.drawElements(d,h),d.scale(1/s,1/s),d.translate(n.x1*s,n.y1*s);else{var p=t.pan(),v={x:p.x*s,y:p.y*s};s*=t.zoom(),d.translate(v.x,v.y),d.scale(s,s),this.drawElements(d,h),d.scale(1/s,1/s),d.translate(-v.x,-v.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,o,i),d.fill())}return f},Vd.png=function(e){return Hd(e,this.bufferCanvasImage(e),"image/png")},Vd.jpg=function(e){return Hd(e,this.bufferCanvasImage(e),"image/jpeg")};var qd={nodeShapeImpl:function(e,t,n,r,o,i,a,u){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,o,i);case"polygon":return this.drawPolygonPath(t,n,r,o,i,a);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,o,i,a,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,o,i,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,o,i,a,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,o,i,u);case"barrel":return this.drawBarrelPath(t,n,r,o,i)}}},Gd=Xd,Yd=Xd.prototype;function Xd(e){var t=this,n=t.cy.window().document;e.webgl&&(Yd.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Yd.CANVAS_LAYERS),contexts:new Array(Yd.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Yd.CANVAS_LAYERS),bufferCanvases:new Array(Yd.BUFFER_COUNT),bufferContexts:new Array(Yd.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[r]=o,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=e.cy.container();a.appendChild(t.data.canvasContainer),a.style[r]=o;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};x&&x.userAgent.match(/msie|trident|edge/i)&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var s=0;s<Yd.CANVAS_LAYERS;s++){var l=t.data.canvases[s]=n.createElement("canvas"),c=Yd.CANVAS_TYPES[s];t.data.contexts[s]=l.getContext(c),t.data.contexts[s]||vt("Could not create canvas of type "+c),Object.keys(u).forEach(function(e){l.style[e]=u[e]}),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(Yd.CANVAS_LAYERS-s),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[s]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Yd.NODE].setAttribute("data-id","layer"+Yd.NODE+"-node"),t.data.canvases[Yd.SELECT_BOX].setAttribute("data-id","layer"+Yd.SELECT_BOX+"-selectbox"),t.data.canvases[Yd.DRAG].setAttribute("data-id","layer"+Yd.DRAG+"-drag"),t.data.canvases[Yd.WEBGL]&&t.data.canvases[Yd.WEBGL].setAttribute("data-id","layer"+Yd.WEBGL+"-webgl");for(s=0;s<Yd.BUFFER_COUNT;s++)t.data.bufferCanvases[s]=n.createElement("canvas"),t.data.bufferContexts[s]=t.data.bufferCanvases[s].getContext("2d"),t.data.bufferCanvases[s].style.position="absolute",t.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),t.data.bufferCanvases[s].style.zIndex=String(-s-1),t.data.bufferCanvases[s].style.visibility="hidden";t.pathsEnabled=!0;var f=hn(),d=function(e){return{x:-e.w/2,y:-e.h/2}},h=function(e){return e[0]._private.nodeKey},p=function(e){return e[0]._private.labelStyleKey},v=function(e){return e[0]._private.sourceLabelStyleKey},y=function(e){return e[0]._private.targetLabelStyleKey},g=function(e,n,r,o,i){return t.drawElement(e,n,r,!1,!1,i)},m=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"main",i)},b=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"source",i)},_=function(e,n,r,o,i){return t.drawElementText(e,n,r,o,"target",i)},w=function(e){return e.boundingBox(),e[0]._private.bodyBounds},O=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||f},E=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||f},S=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||f},P=function(e,t){return t},T=function(e){return{x:((t=w(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},C=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},k=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},A=function(e){return C("",k(e,"labelX","labelY"),e)},j=function(e){return C("source",k(e,"sourceLabelX","sourceLabelY"),e)},R=function(e){return C("target",k(e,"targetLabelX","targetLabelY"),e)},I=function(e){return d(w(e))},N=function(e){return d(E(e))},M=function(e){return d(S(e))},D=function(e){var t=O(e),n=d(O(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0)}}return n},L=t.data.eleTxrCache=new Tf(t,{getKey:h,doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:g,getBoundingBox:w,getRotationPoint:T,getRotationOffset:I,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),F=t.data.lblTxrCache=new Tf(t,{getKey:p,drawElement:m,getBoundingBox:O,getRotationPoint:A,getRotationOffset:D,isVisible:P}),U=t.data.slbTxrCache=new Tf(t,{getKey:v,drawElement:b,getBoundingBox:E,getRotationPoint:j,getRotationOffset:N,isVisible:P}),B=t.data.tlbTxrCache=new Tf(t,{getKey:y,drawElement:_,getBoundingBox:S,getRotationPoint:R,getRotationOffset:M,isVisible:P}),z=t.data.lyrTxrCache=new kf(t);t.onUpdateEleCalcs(function(e,t){L.invalidateElements(t),F.invalidateElements(t),U.invalidateElements(t),B.invalidateElements(t),z.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var V=function(e){for(var t=0;t<e.length;t++)z.enqueueElementRefinement(e[t].ele)};L.onDequeue(V),F.onDequeue(V),U.onDequeue(V),B.onDequeue(V),e.webgl&&t.initWebgl(e,{getStyleKey:h,getLabelKey:p,getSourceLabelKey:v,getTargetLabelKey:y,drawElement:g,drawLabel:m,drawSourceLabel:b,drawTargetLabel:_,getElementBox:w,getLabelBox:O,getSourceLabelBox:E,getTargetLabelBox:S,getElementRotationPoint:T,getElementRotationOffset:I,getLabelRotationPoint:A,getSourceLabelRotationPoint:j,getTargetLabelRotationPoint:R,getLabelRotationOffset:D,getSourceLabelRotationOffset:N,getTargetLabelRotationOffset:M})}Yd.CANVAS_LAYERS=3,Yd.SELECT_BOX=0,Yd.DRAG=1,Yd.NODE=2,Yd.WEBGL=3,Yd.CANVAS_TYPES=["2d","2d","2d","webgl2"],Yd.BUFFER_COUNT=3,Yd.TEXTURE_BUFFER=0,Yd.MOTIONBLUR_BUFFER_NODE=1,Yd.MOTIONBLUR_BUFFER_DRAG=2,Yd.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Yd.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Yd.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Yd.SELECT_BOX]=t;break;case"gc":n.data.gc=!0}};var Kd="undefined"!==typeof Path2D;Yd.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Yd.usePaths=function(){return Kd&&this.pathsEnabled},Yd.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Yd.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Yd.makeOffscreenCanvas=function(e,t){var n;"undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":w(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=this.cy.window().document.createElement("canvas")).width=e,n.height=t);return n},[Nf,Bf,Yf,Kf,Zf,Qf,td,Cd,Md,Vd,qd].forEach(function(e){ke(Yd,e)});var Zd=[{type:"layout",extensions:Oc},{type:"renderer",extensions:[{name:"null",impl:Ec},{name:"base",impl:bf},{name:"canvas",impl:Gd}]}],$d={},Qd={};function Jd(e,t,n){var r=n,o=function(n){gt("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(Ml.prototype[t])return o(t);Ml.prototype[t]=n}else if("collection"===e){if($s.prototype[t])return o(t);$s.prototype[t]=n}else if("layout"===e){for(var i=function(e){this.options=e,n.call(this,e),ue(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=i.prototype=Object.create(n.prototype),u=[],s=0;s<u.length;s++){var l=u[s];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var f=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=f(e),t.target=e},bubble:function(){return!0},parent:function(e){return f(e)}};ke(a,{createEmitter:function(){return this._private.emitter=new ys(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),Na.eventAliasesOn(a),r=i}else if("renderer"===e&&"null"!==t&&"base"!==t){var h=eh("renderer","base"),p=h.prototype,v=n,y=n.prototype,g=function(){h.apply(this,arguments),v.apply(this,arguments)},m=g.prototype;for(var b in p){var _=p[b];if(null!=y[b])return o(b);m[b]=_}for(var w in y)m[w]=y[w];p.clientFunctions.forEach(function(e){m[e]=m[e]||function(){vt("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=g}else if("__proto__"===e||"constructor"===e||"prototype"===e)return vt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return Re({map:$d,keys:[e,t],value:r})}function eh(e,t){return Ie({map:$d,keys:[e,t]})}function th(e,t,n,r,o){return Re({map:Qd,keys:[e,t,n,r],value:o})}function nh(e,t,n,r){return Ie({map:Qd,keys:[e,t,n,r]})}var rh=function(){return 2===arguments.length?eh.apply(null,arguments):3===arguments.length?Jd.apply(null,arguments):4===arguments.length?nh.apply(null,arguments):5===arguments.length?th.apply(null,arguments):void vt("Invalid extension access syntax")};Ml.prototype.extension=rh,Zd.forEach(function(e){e.extensions.forEach(function(t){Jd(e.type,t.name,t.impl)})});var oh=function(){if(!(this instanceof oh))return new oh;this.length=0},ih=oh.prototype;ih.instanceString=function(){return"stylesheet"},ih.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},ih.css=function(e,t){var n=this.length-1;if(oe(e))this[n].properties.push({name:e,value:t});else if(ue(e))for(var r=e,o=Object.keys(r),i=0;i<o.length;i++){var a=o[i],u=r[a];if(null!=u){var s=Al.properties[a]||Al.properties[be(a)];if(null!=s){var l=s.name,c=u;this[n].properties.push({name:l,value:c})}}}return this},ih.style=ih.css,ih.generateStyle=function(e){var t=new Al(e);return this.appendToStyle(t)},ih.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,o=n.properties;e.selector(r);for(var i=0;i<o.length;i++){var a=o[i];e.css(a.name,a.value)}}return e};var ah=function(e){return void 0===e&&(e={}),ue(e)?new Ml(e):oe(e)?rh.apply(rh,arguments):void 0};ah.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(ah),e.apply(null,t),this},ah.warnings=function(e){return yt(e)},ah.version="3.33.1",ah.stylesheet=ah.Stylesheet=oh;var uh=n(25262);ah.use(uh);const sh={port:new class{start(){}postMessage(e){const{elements:t,spacingFactor:n}=e,r=((e,t)=>{const n=ah({headless:!0,styleEnabled:!1});n.add(e);const r={},o=n.layout({name:"cose-bilkent",animate:!1,spacingFactor:t,quality:"default",tile:!1,randomize:!0,stop:()=>{n.nodes().forEach(e=>{r[e.id()]=s({},e.position())})}});return o.run(),{positions:r}})(t,n);this.onmessage({data:r})}onmessage(){}close(){}}},lh=()=>new SharedWorker(new URL(n.p+n.u(574),n.b),{type:void 0,name:"CoseBilkentLayout"});var ch=n(16504),fh=n(23941),dh=n(79207);const hh=100,ph="up",vh="down",yh="left",gh="right",mh={[ph]:"BT",[vh]:"TB",[yh]:"RL",[gh]:"LR"},bh=1/.38,_h=["width","height"],wh=["width","height"],Oh=e=>{let t=null,n=null,r=null,o=null,i=null,a=null,u=null,s=null;for(const l of e.nodes()){const c=e.node(l);(null===i||c.x<i)&&(i=c.x),(null===a||c.y<a)&&(a=c.y),(null===u||c.x>u)&&(u=c.x),(null===s||c.y>s)&&(s=c.y);const f=Math.ceil(c.width/2);(null===t||c.x-f<t)&&(t=c.x-f),(null===n||c.y-f<n)&&(n=c.y-f),(null===r||c.x+f>r)&&(r=c.x+f),(null===o||c.y+f>o)&&(o=c.y+f)}return{minX:t,minY:n,maxX:r,maxY:o,minCenterX:i,minCenterY:a,maxCenterX:u,maxCenterY:s,width:r-t,height:o-n,xOffset:i-t,yOffset:a-n}},Eh=e=>{const t=new ch.graphlib.Graph;return t.setGraph({}),t.setDefaultEdgeLabel(()=>({})),t.graph().nodesep=75*e,t.graph().ranksep=75*e,t},xh=(e,t,n)=>{const{rank:r}=n.node(e);let o=null,i=null;for(const a of t){const{rank:t}=n.node(a);if(!(a===e||t>=r)){if(t===r-1){o=t,i=a;break}(null===o&&null===i||t>o)&&(o=t,i=a)}}return i},Sh=(e,t)=>{let n=xh(e,t.predecessors(e),t);return null===n&&(n=xh(e,t.successors(e),t)),n},Ph=(e,t,n)=>{e.graph().ranker="tight-tree",e.graph().rankdir=mh[t];const r=ch.layout(e);for(const o of r.nodes()){const e=Sh(o,r);null!==e&&(n[o]=e)}},Th=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),Ch=e=>{const t=[e[0]];let n={p1:e[0],p2:e[1]},r=Th(n.p1,n.p2);for(let o=2;o<e.length;o++){let i={p1:e[o-1],p2:e[o]},a=Th(i.p1,i.p2);const u={p1:n.p1,p2:i.p2},s=Th(u.p1,u.p2);a+r-s<.1&&(t.pop(),i=u,a=s),t.push(i.p1),n=i,r=a}return t.push(e[e.length-1]),t},kh=function(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;const u=Eh(a),l={},c={x:0,y:0},d=e.length;for(const s of e){const e=n[s.id];c.x+=(null===e||void 0===e?void 0:e.x)||0,c.y+=(null===e||void 0===e?void 0:e.y)||0;const t=(s.size||25)*bh*a;u.setNode(s.id,{width:t,height:t})}const h=d?[c.x/d,c.y/d]:[0,0],p={};for(const s of r)if(t[s.from]&&t[s.to]&&s.from!==s.to){const e=s.from<s.to?"".concat(s.from,"-").concat(s.to):"".concat(s.to,"-").concat(s.from);p[e]||(p[e]=1,u.setEdge(s.from,s.to))}const v=((e,t)=>{const n=[],r=dh.alg.components(e);if(r.length>1)for(const o of r){const r=Eh(t);for(const t of o){const n=e.node(t);r.setNode(t,{width:n.width,height:n.height});const o=e.outEdges(t);if(o)for(const e of o)r.setEdge(e.v,e.w)}n.push(r)}else n.push(e);return n})(u,a);if(v.length>1){v.forEach(e=>Ph(e,o,l));const e=(e=>"up"===e||e===vh)(o),t=(e=>e===vh||e===gh)(o),n=v.filter(e=>1===e.nodeCount()),r=v.filter(e=>1!==e.nodeCount());if("bin"===i){r.sort((e,t)=>t.nodeCount()-e.nodeCount());const o=e?e=>{let{width:t,height:n}=e;return s(s({},f(e,_h)),{},{width:t+hh,height:n+hh})}:e=>{let{width:t,height:n}=e;return s(s({},f(e,wh)),{},{width:n+hh,height:t+hh})},i=r.map(Oh).map(o),a=n.map(Oh).map(o),l=i.concat(a);fh(l,{inPlace:!0});const c=Math.floor(50),d=e?"x":"y",h=e?"y":"x";if(!t){const t=e?"y":"x",n=e?"height":"width",r=l.reduce((e,r)=>null===e?r[t]:Math.min(r[t],e[n]||0),null),o=l.reduce((e,r)=>null===e?r[t]+r[n]:Math.max(r[t]+r[n],e[n]||0),null);l.forEach(e=>{e[t]=r+(o-(e[t]+e[n]))})}const p=(e,t)=>{for(const n of e.nodes()){const r=e.node(n),o=u.node(n);o.x=r.x-t.xOffset+t[d]+c,o.y=r.y-t.yOffset+t[h]+c}};for(let e=0;e<r.length;e++){p(r[e],i[e])}for(let e=0;e<n.length;e++){p(n[e],a[e])}}else{r.sort(t?(e,t)=>t.nodeCount()-e.nodeCount():(e,t)=>e.nodeCount()-t.nodeCount());const o=r.map(Oh),i=n.reduce((e,t)=>e+u.node(t.nodes()[0]).width,0),a=n.reduce((e,t)=>Math.max(e,u.node(t.nodes()[0]).width),0),s=n.length>0?i+(n.length-1)*hh:0,l=o.reduce((e,t)=>{let{width:n}=t;return Math.max(e,n)},0),c=Math.max(l,s),f=o.reduce((e,t)=>{let{height:n}=t;return Math.max(e,n)},0),d=Math.max(f,s);let h=0;const p=()=>{for(let t=0;t<r.length;t++){const n=r[t],i=o[t],a=e?Math.floor((c-i.width)/2):Math.floor((d-i.height)/2);for(const t of n.nodes()){const r=n.node(t),o=u.node(t);e?(o.x=r.x-i.minX+a,o.y=r.y-i.minY+h):(o.x=r.x-i.minX+h,o.y=r.y-i.minY+a)}for(const t of n.edges()){const r=n.edge(t),o=u.edge(t);r.points&&r.points.length>3&&(o.points=r.points.map(t=>{let{x:n,y:r}=t;return{x:n-i.minX+(e?a:h),y:r-i.minY+(e?h:a)}}))}h+=(e?i.height:i.width)+hh}},v=()=>{const t=Math.floor(((e?c:d)-s)/2);h+=Math.floor(a/2);let r=t;for(const o of n){const t=o.nodes()[0],n=u.node(t);e?(n.x=r+Math.floor(n.width/2),n.y=h):(n.x=h,n.y=r+Math.floor(n.width/2)),r+=hh+n.width}h=a+hh};t?(p(),v()):(v(),p())}}else Ph(u,o,l);c.x=0,c.y=0;const y={};for(const s of u.nodes()){const e=u.node(s);c.x+=e.x||0,c.y+=e.y||0,y[s]={x:e.x,y:e.y}}const g=d?[c.x/d,c.y/d]:[0,0],m=h[0]-g[0],b=h[1]-g[1];for(const s in y)y[s].x+=m,y[s].y+=b;const _={};for(const s of u.edges()){const e=u.edge(s);if(e.points&&e.points.length>3){const t=Ch(e.points);for(const e of t)e.x+=m,e.y+=b;_["".concat(s.v,"-").concat(s.w)]={points:[...t],from:{x:y[s.v].x,y:y[s.v].y},to:{x:y[s.w].x,y:y[s.w].y}},_["".concat(s.w,"-").concat(s.v)]={points:t.reverse(),from:{x:y[s.w].x,y:y[s.w].y},to:{x:y[s.v].x,y:y[s.v].y}}}}return{positions:y,parents:l,waypoints:_}};const Ah={port:new class{start(){}postMessage(e){const{nodes:t,nodeIds:n,idToPosition:r,rels:o,direction:i,packing:a,pixelRatio:u,forcedDelay:s=0}=e,l=kh(t,n,r,o,i,a,u);s?setTimeout(()=>{this.onmessage({data:l})},s):this.onmessage({data:l})}onmessage(){}close(){}}},jh=()=>new SharedWorker(new URL(n.p+n.u(654),n.b),{type:void 0,name:"HierarchicalLayout"});var Rh=n(6326);function Ih(){return"undefined"===typeof process?{}:{NODE_ENV:"production",PUBLIC_URL:"/PKP-graphs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NEO4J_PASSWORD:"ygU9xdc1Qyxhv5UEDl1FhKiydrmvhFMt4xylEvB1xgo",REACT_APP_NEO4J_URI:"neo4j+s://ee107cd1.databases.neo4j.io",REACT_APP_NEO4J_USERNAME:"neo4j"}}var Nh=n(34029),Mh=n(88718);function Dh(e,t,n,r){var o,i=[e,t,n,r],a=(0,Mh.Qd)(e)?e.event:e;if(!a||!(0,Mh.Kg)(a))throw new Error("Event missing");var u=(0,Mh.Qd)(e)?null!==(o=e.properties)&&void 0!==o?o:{}:(0,Mh.Qd)(t)?t:{},s={};return(0,Mh.Tn)(n)||(s=null!==n&&void 0!==n?n:{}),(0,Mh.Qd)(e)&&!(0,Mh.Tn)(t)&&(s=null!==t&&void 0!==t?t:{}),[a,u,s,i.find(Mh.Tn)]}function Lh(e,t,n,r,o){var i,a,u=null,s=null,l=[e,t,n,r,o],c=l.filter(Mh.Kg);1===c.length?(0,Mh.Kg)(l[1])?(s=l[1],u=null):(s=c[0],u=null):2===c.length&&("string"===typeof l[0]&&(u=l[0]),"string"===typeof l[1]&&(s=l[1]));var f=l.find(Mh.Tn),d=l.filter(Mh.Qd);return 1===d.length?(0,Mh.Qd)(l[2])?(a={},i=l[2]):(0,Mh.Qd)(l[3])?(i={},a=l[3]):(i=d[0],a={}):2===d.length&&(i=d[0],a=d[1]),[u,s,null!==i&&void 0!==i?i:i={},null!==a&&void 0!==a?a:a={},f]}var Fh=function(e){return function(){for(var t,n,r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];for(var a={},u=["callback","options","traits","id"],s=0,l=o;s<l.length;s++){var c=l[s],f=u.pop();if("id"===f){if((0,Mh.Kg)(c)||(0,Mh.Et)(c)){a.id=c.toString();continue}if(null===c||void 0===c)continue;f=u.pop()}if("traits"!==f&&"options"!==f||null!==c&&void 0!==c&&!(0,Mh.Qd)(c)||(a[f]=c),(0,Mh.Tn)(c)){a.callback=c;break}}return[null!==(t=a.id)&&void 0!==t?t:e.id(),null!==(n=a.traits)&&void 0!==n?n:{},null!==(r=a.options)&&void 0!==r?r:{},a.callback]}};function Uh(e,t,n,r){(0,Mh.Et)(e)&&(e=e.toString()),(0,Mh.Et)(t)&&(t=t.toString());var o=[e,t,n,r],i=o.filter(Mh.Kg),a=i[0],u=void 0===a?e:a,s=i[1],l=void 0===s?null:s,c=o.filter(Mh.Qd)[0];return[u,l,void 0===c?{}:c,o.find(Mh.Tn)]}var Bh=n(76551),zh=n(25814),Vh=n(29799),Wh=function(e,t){var n=Date.now()-e;return Math.max((null!==t&&void 0!==t?t:300)-n,0)};function Hh(e,t,n,r){return(0,Rh.sH)(this,void 0,void 0,function(){var o,i;return(0,Rh.YH)(this,function(a){switch(a.label){case 0:return n.emit("dispatch_start",e),o=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return i=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:i=a.sent(),a.label=4;case 4:return(null===r||void 0===r?void 0:r.callback)?[4,(0,Vh.w_)(i,r.callback,Wh(o,r.timeout))]:[3,6];case 5:i=a.sent(),a.label=6;case 6:return(null===r||void 0===r?void 0:r.debug)&&i.flush(),[2,i]}})})}var qh=n(16336),Gh=n(4937);var Yh=function(e,t,n,r,o,i){return{__t:"bpc",c:t,p:r,u:e,s:n,t:o,r:i}},Xh=Object.keys(Yh("","","","","",""));function Kh(e){if(t=e,"object"!==Object.prototype.toString.call(t).slice(8,-1).toLowerCase())return!1;var t;if("bpc"!==e.__t)return!1;for(var n in e)if(!Xh.includes(n))return!1;return!0}var Zh=function(e){var t=e.c,n=e.p,r=e.s,o=e.u,i=e.r,a=e.t,u=t?function(e){try{return new URL(e).pathname}catch(tg){return"/"===e[0]?e:"/"+e}}(t):n,s=t?function(e,t){return e.indexOf("?")>-1?e:e+t}(t,r):function(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}(o);return{path:u,referrer:i,search:r,title:a,url:s}},$h=function(){var e=document.querySelector("link[rel='canonical']");return Yh(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},Qh=function(e,t){void 0===t&&(t=Zh($h()));var n,r=e.context;"page"===e.type&&(n=e.properties&&function(e,t){return Object.assign.apply(Object,(0,Rh.fX)([{}],t.map(function(t){var n;if(e&&Object.prototype.hasOwnProperty.call(e,t))return(n={})[t]=e[t],n}),!1))}(e.properties,Object.keys(t)),e.properties=(0,Rh.Cl)((0,Rh.Cl)((0,Rh.Cl)({},t),e.properties),e.name?{name:e.name}:{})),r.page=(0,Rh.Cl)((0,Rh.Cl)((0,Rh.Cl)({},t),n),r.page)},Jh=n(23333),ep=function(e){function t(t,n){var r=e.call(this,"".concat(t," ").concat(n))||this;return r.field=t,r}return(0,Rh.C6)(t,e),t}(Error),tp="is not a string",np="is not an object",rp="is nil";function op(e){!function(e){if(!(0,Mh.t2)(e))throw new ep("Event",rp);if("object"!==typeof e)throw new ep("Event",np)}(e),function(e){if(!(0,Mh.Kg)(e.type))throw new ep(".type",tp)}(e),function(e){if(!(0,Mh.Kg)(e.messageId))throw new ep(".messageId",tp)}(e),"track"===e.type&&(function(e){if(!(0,Mh.Kg)(e.event))throw new ep(".event",tp)}(e),function(e){if(!(0,Mh.Qd)(e.properties))throw new ep(".properties",np)}(e)),["group","identify"].includes(e.type)&&function(e){if(!(0,Mh.Qd)(e.traits))throw new ep(".traits",np)}(e)}var ip=function(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(n=e.onFinishedEvent)&&void 0!==n?n:function(){}},ap=function(){function e(e){this.settings=new ip(e)}return e.prototype.track=function(e,t,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),{event:e,type:"track",properties:null!==t&&void 0!==t?t:{},options:(0,Rh.Cl)({},n),integrations:(0,Rh.Cl)({},r)}))},e.prototype.page=function(e,t,n,r,o){var i;this.settings.onEventMethodCall({type:"page",options:r});var a={type:"page",properties:(0,Rh.Cl)({},n),options:(0,Rh.Cl)({},r),integrations:(0,Rh.Cl)({},o)};return null!==e&&(a.category=e,a.properties=null!==(i=a.properties)&&void 0!==i?i:{},a.properties.category=e),null!==t&&(a.name=t),this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),a))},e.prototype.screen=function(e,t,n,r,o){this.settings.onEventMethodCall({type:"screen",options:r});var i={type:"screen",properties:(0,Rh.Cl)({},n),options:(0,Rh.Cl)({},r),integrations:(0,Rh.Cl)({},o)};return null!==e&&(i.category=e),null!==t&&(i.name=t),this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),i))},e.prototype.identify=function(e,t,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),{type:"identify",userId:e,traits:null!==t&&void 0!==t?t:{},options:(0,Rh.Cl)({},n),integrations:r}))},e.prototype.group=function(e,t,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),{type:"group",traits:null!==t&&void 0!==t?t:{},options:(0,Rh.Cl)({},n),integrations:(0,Rh.Cl)({},r),groupId:e}))},e.prototype.alias=function(e,t,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:(0,Rh.Cl)({},n),integrations:(0,Rh.Cl)({},r)};return null!==t&&(o.previousId=t),void 0===e?this.normalize((0,Rh.Cl)((0,Rh.Cl)({},o),this.baseEvent())):this.normalize((0,Rh.Cl)((0,Rh.Cl)({},this.baseEvent()),o))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var r=Object.keys(e),o=null!==(t=e.context)&&void 0!==t?t:{},i={};return r.forEach(function(t){"context"!==t&&(n.includes(t)?(0,Jh.J)(i,t,e[t]):(0,Jh.J)(o,t,e[t]))}),[o,i]},e.prototype.normalize=function(e){var t,n,r=Object.keys(null!==(t=e.integrations)&&void 0!==t?t:{}).reduce(function(t,n){var r,o;return(0,Rh.Cl)((0,Rh.Cl)({},t),((r={})[n]=Boolean(null===(o=e.integrations)||void 0===o?void 0:o[n]),r))},{});e.options=function(e,t){return Object.keys(e).filter(function(n){return t(n,e[n])}).reduce(function(t,n){return t[n]=e[n],t},{})}(e.options||{},function(e,t){return void 0!==t});var o=(0,Rh.Cl)((0,Rh.Cl)({},r),null===(n=e.options)||void 0===n?void 0:n.integrations),i=e.options?this.context(e.options):[],a=i[0],u=i[1],s=e.options,l=(0,Rh.Tt)(e,["options"]),c=(0,Rh.Cl)((0,Rh.Cl)((0,Rh.Cl)((0,Rh.Cl)({timestamp:new Date},l),{context:a,integrations:o}),u),{messageId:s.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(c),op(c),c},e}(),up=function(e){function t(t){var n=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,Gh.v4)())},onEventMethodCall:function(e){var t=e.options;n.maybeUpdateAnonId(t)},onFinishedEvent:function(e){return n.addIdentity(e),e}})||this;return n.user=t,n}return(0,Rh.C6)(t,e),t.prototype.maybeUpdateAnonId=function(e){(null===e||void 0===e?void 0:e.anonymousId)&&this.user.anonymousId(e.anonymousId)},t.prototype.addIdentity=function(e){this.user.id()&&(e.userId=this.user.id()),this.user.anonymousId()&&(e.anonymousId=this.user.anonymousId())},t.prototype.track=function(t,n,r,o,i){var a=e.prototype.track.call(this,t,n,r,o);return Qh(a,i),a},t.prototype.page=function(t,n,r,o,i,a){var u=e.prototype.page.call(this,t,n,r,o,i);return Qh(u,a),u},t.prototype.screen=function(t,n,r,o,i,a){var u=e.prototype.screen.call(this,t,n,r,o,i);return Qh(u,a),u},t.prototype.identify=function(t,n,r,o,i){var a=e.prototype.identify.call(this,t,n,r,o);return Qh(a,i),a},t.prototype.group=function(t,n,r,o,i){var a=e.prototype.group.call(this,t,n,r,o);return Qh(a,i),a},t.prototype.alias=function(t,n,r,o,i){var a=e.prototype.alias.call(this,t,n,r,o);return Qh(a,i),a},t}(ap),sp=function(e){return"addMiddleware"in e&&"destination"===e.type},lp=n(99738);var cp=n(6655),fp=n(55591),dp=n(15159),hp=function(e){function t(t){var n=e.call(this)||this;return n.criticalTasks=function(){var e,t,n=0;return{done:function(){return e},run:function(r){var o,i=r();return"object"===typeof(o=i)&&null!==o&&"then"in o&&"function"===typeof o.then&&(1===++n&&(e=new Promise(function(e){return t=e})),i.finally(function(){return 0===--n&&t()})),i}}}(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=t,n.queue.on(cp.g,function(){n.scheduleFlush(0)}),n}return(0,Rh.C6)(t,e),t.prototype.register=function(e,t,n){return(0,Rh.sH)(this,void 0,void 0,function(){var r,o,i=this;return(0,Rh.YH)(this,function(a){switch(a.label){case 0:return this.plugins.push(t),r=function(n){i.failedInitializations.push(t.name),i.emit("initialization_failure",t),console.warn(t.name,n),e.log("warn","Failed to load destination",{plugin:t.name,error:n}),i.plugins=i.plugins.filter(function(e){return e!==t})},"destination"!==t.type||"Segment.io"===t.name?[3,1]:(t.load(e,n).catch(r),[3,4]);case 1:return a.trys.push([1,3,,4]),[4,t.load(e,n)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(o),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(e,t,n){return(0,Rh.sH)(this,void 0,void 0,function(){var r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t.unload?[4,Promise.resolve(t.unload(e,n))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(e){return e.name!==t.name}),[3,4];case 3:return r=o.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:r}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t;return(0,Rh.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]})})},t.prototype.subscribeToDelivery=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t=this;return(0,Rh.YH)(this,function(n){return[2,new Promise(function(n){var r=function(o,i){o.isSame(e)&&(t.off("flush",r),n(o))};t.on("flush",r)})]})})},t.prototype.dispatchSingle=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t=this;return(0,Rh.YH)(this,function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch(function(n){return t.enqueuRetry(n,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:n}),e)})]})})},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout(function(){t.flush().then(function(){setTimeout(function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)},0)})},e))},t.prototype.deliver=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:return[4,this.criticalTasks.done()];case 1:i.sent(),t=Date.now(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=i.sent(),n=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",n),e.log("debug","Delivered",e.event),[2,e];case 4:throw r=i.sent(),o=r,e.log("error","Failed to deliver",o),this.emit("delivery_failure",e,o),e.stats.increment("delivery_failed"),r;case 5:return[2]}})})},t.prototype.enqueuRetry=function(e,t){return!(e instanceof fp.d&&!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return(0,Rh.sH)(this,void 0,void 0,function(){var e,t;return(0,Rh.YH)(this,function(n){switch(n.label){case 0:if(0===this.queue.length)return[2,[]];if(!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=n.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=n.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t=this.plugins.filter(function(t){var n,r,o;if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var i=void 0;return null===(n=t.alternativeNames)||void 0===n||n.forEach(function(t){void 0!==e[t]&&(i=e[t])}),null!==(o=null!==(r=e[t.name])&&void 0!==r?r:i)&&void 0!==o?o:!1!==("Segment.io"===t.name||e.All)}),n=function(e,t){var n={};return e.forEach(function(e){var r,o=void 0;if("string"===typeof t){var i=e[t];o="string"!==typeof i?JSON.stringify(i):i}else t instanceof Function&&(o=t(e));void 0!==o&&(n[o]=(0,Rh.fX)((0,Rh.fX)([],null!==(r=n[o])&&void 0!==r?r:[],!0),[e],!1))}),n}(t,"type"),r=n.before,o=void 0===r?[]:r,i=n.enrichment,a=void 0===i?[]:i,u=n.destination,s=void 0===u?[]:u,l=n.after;return{before:o,enrichment:a,destinations:s,after:void 0===l?[]:l}},t.prototype.flushOne=function(e){var t,n;return(0,Rh.sH)(this,void 0,void 0,function(){var r,o,i,a,u,s,l,c,f,d,h,p,v,y;return(0,Rh.YH)(this,function(g){switch(g.label){case 0:if(!this.isReady())throw new Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),r=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{}),o=r.before,i=r.enrichment,a=0,u=o,g.label=1;case 1:return a<u.length?(s=u[a],[4,(0,dp.D)(e,s)]):[3,4];case 2:(d=g.sent())instanceof fp.j&&(e=d),this.emit("message_enriched",e,s),g.label=3;case 3:return a++,[3,1];case 4:l=0,c=i,g.label=5;case 5:return l<c.length?(f=c[l],[4,(0,dp.C)(e,f)]):[3,8];case 6:(d=g.sent())instanceof fp.j&&(e=d),this.emit("message_enriched",e,f),g.label=7;case 7:return l++,[3,5];case 8:return h=this.availableExtensions(null!==(n=e.event.integrations)&&void 0!==n?n:{}),p=h.destinations,v=h.after,[4,new Promise(function(t,n){setTimeout(function(){var r=p.map(function(t){return(0,dp.C)(e,t)});Promise.all(r).then(t).catch(n)},0)})];case 9:return g.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),y=v.map(function(t){return(0,dp.C)(e,t)}),[4,Promise.all(y)];case 10:return g.sent(),[2,e]}})})},t}(qh.v),pp=function(e){function t(t){return e.call(this,"string"===typeof t?new lp.x(4,t):t)||this}return(0,Rh.C6)(t,e),t.prototype.flush=function(){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(t){return(0,Bh.a)()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(hp);function vp(e){for(var t=e.constructor.prototype,n=0,r=Object.getOwnPropertyNames(t);n<r.length;n++){var o=r[n];if("constructor"!==o){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,o);i&&"function"===typeof i.value&&(e[o]=e[o].bind(e))}}return e}var yp={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},gp=function(e,t,n,r){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(n,'" | Err: ').concat(r))},mp=function(){function e(e){this.stores=e}return e.prototype.get=function(e){for(var t=null,n=0,r=this.stores;n<r.length;n++){var o=r[n];try{if(void 0!==(t=o.get(e))&&null!==t)return t}catch(om){gp(o,"get",e,om)}}return null},e.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(om){gp(n,"set",e,om)}})},e.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(om){gp(t,"remove",e,om)}})},e.prototype.getAndSync=function(e){var t=this.get(e),n="number"===typeof t?t.toString():t;return this.set(e,n),n},e}(),bp=function(){function e(){this.cache={}}return e.prototype.get=function(e){var t;return null!==(t=this.cache[e])&&void 0!==t?t:null},e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.remove=function(e){delete this.cache[e]},e}();function _p(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(e){return Object.values(yp).includes(e)})}function wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Op=function e(t,n){function r(e,r,o){if("undefined"!==typeof document){"number"===typeof(o=wp({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(r[u]=t.read(a,u),e===u)break}catch(om){}}return e?r[e]:r}},remove:function(e,t){r(e,"",wp({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,wp({},this.attributes,t))},withConverter:function(t){return e(wp({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Ep=Op;function xp(e){var t=function(e){try{return new URL(e)}catch(_v){return}}(e);if(t)for(var n=function(e){var t=e.hostname.split("."),n=t[t.length-1],r=[];if(4===t.length&&parseInt(n,10)>0)return r;if(t.length<=1)return r;for(var o=t.length-2;o>=0;--o)r.push(t.slice(o).join("."));return r}(t),r=0;r<n.length;++r){var o="__tld__",i=n[r],a={domain:"."+i};try{if(Ep.set(o,"1",a),Ep.get(o))return Ep.remove(o,a),i}catch(ty){return}}}var Sp=function(){function e(t){void 0===t&&(t=e.defaults),this.options=(0,Rh.Cl)((0,Rh.Cl)({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:365,domain:xp(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(e){var t;try{var n=Ep.get(e);if(void 0===n||null===n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(om){return null!==n&&void 0!==n?n:null}}catch(om){return null}},e.prototype.set=function(e,t){"string"===typeof t?Ep.set(e,t,this.opts()):null===t?Ep.remove(e,this.opts()):Ep.set(e,JSON.stringify(t),this.opts())},e.prototype.remove=function(e){return Ep.remove(e,this.opts())},e}(),Pp=function(){function e(){}return e.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},e.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(null===n)return null;try{return null!==(t=JSON.parse(n))&&void 0!==t?t:null}catch(om){return null!==n&&void 0!==n?n:null}}catch(r){return this.localStorageWarning(e,"unavailable"),null}},e.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(_v){this.localStorageWarning(e,"full")}},e.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch(t){this.localStorageWarning(e,"unavailable")}},e}();function Tp(e){var t=e.map(function(e){var t,n;switch(!function(e){return"object"===typeof e&&void 0!==e.name}(e)?t=e:(t=e.name,n=e.settings),t){case yp.Cookie:return new Sp(n);case yp.LocalStorage:return new Pp;case yp.Memory:return new bp;default:throw new Error("Unknown Store Type: ".concat(e))}});return t}function Cp(e,t){return e.map(function(e){return t&&e===yp.Cookie?{name:e,settings:t}:e})}var kp={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Ap=function(){function e(e,t){void 0===e&&(e=kp);var n,r,o,i,a=this;this.options={},this.id=function(e){if(a.options.disable)return null;var t=a.identityStore.getAndSync(a.idKey);void 0!==e&&(a.identityStore.set(a.idKey,e),e!==t&&null!==t&&null!==e&&a.anonymousId(null));var n=a.identityStore.getAndSync(a.idKey);if(n)return n;var r=a.legacyUserStore.get(kp.cookie.oldKey);return r?"object"===typeof r?r.id:r:null},this.anonymousId=function(e){var t,n;if(a.options.disable)return null;if(void 0===e){var r=null!==(t=a.identityStore.getAndSync(a.anonKey))&&void 0!==t?t:null===(n=a.legacySIO())||void 0===n?void 0:n[0];if(r)return r}return null===e?(a.identityStore.set(a.anonKey,null),a.identityStore.getAndSync(a.anonKey)):(a.identityStore.set(a.anonKey,null!==e&&void 0!==e?e:(0,Gh.v4)()),a.identityStore.getAndSync(a.anonKey))},this.traits=function(e){var t;if(!a.options.disable)return null===e&&(e={}),e&&a.traitsStore.set(a.traitsKey,null!==e&&void 0!==e?e:{}),null!==(t=a.traitsStore.get(a.traitsKey))&&void 0!==t?t:{}},this.options=(0,Rh.Cl)((0,Rh.Cl)({},kp),e),this.cookieOptions=t,this.idKey=null!==(r=null===(n=e.cookie)||void 0===n?void 0:n.key)&&void 0!==r?r:kp.cookie.key,this.traitsKey=null!==(i=null===(o=e.localStorage)||void 0===o?void 0:o.key)&&void 0!==i?i:kp.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(e){return e===yp.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(e){return e!==yp.Cookie});var u=this.legacyUserStore.get(kp.cookie.oldKey);u&&"object"===typeof u&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),vp(this)}return e.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----");return[t[0],t[1]]},e.prototype.identify=function(e,t){if(!this.options.disable){t=null!==t&&void 0!==t?t:{};var n=this.id();null!==n&&n!==e||(t=(0,Rh.Cl)((0,Rh.Cl)({},this.traits()),t)),e&&this.id(e),this.traits(t)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(e,t,n){var r=[yp.LocalStorage,yp.Cookie,yp.Memory];return e.disable?new mp([]):e.persist?(void 0!==e.storage&&null!==e.storage&&_p(e.storage)&&(r=e.storage.stores),e.localStorageFallbackDisabled&&(r=r.filter(function(e){return e!==yp.LocalStorage})),n&&(r=r.filter(n)),new mp(Tp(Cp(r,t)))):new mp([new bp])},e.defaults=kp,e}(),jp={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Rp=function(e){function t(t,n){void 0===t&&(t=jp);var r=e.call(this,(0,Rh.Cl)((0,Rh.Cl)({},jp),t),n)||this;return r.anonymousId=function(e){},vp(r),r}return(0,Rh.C6)(t,e),t}(Ap),Ip=n(5242),Np=n(95198),Mp=n(24145),Dp=n(5797),Lp=function(e,t,n){n.getAndRemove(e).forEach(function(e){Gp(t,e).catch(console.error)})},Fp=function(e,t){return(0,Rh.sH)(void 0,void 0,void 0,function(){var n,r,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:n=0,r=t.getAndRemove("addSourceMiddleware"),i.label=1;case 1:return n<r.length?(o=r[n],[4,Gp(e,o).catch(console.error)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Up=function(e,t){return(0,Rh.sH)(void 0,void 0,void 0,function(){var n,r,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:n=0,r=t.getAndRemove("register"),i.label=1;case 1:return n<r.length?(o=r[n],[4,Gp(e,o).catch(console.error)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Bp=Lp.bind(void 0,"on"),zp=Lp.bind(void 0,"setAnonymousId"),Vp=function(e){if(Wp(e)){var t=e.pop();return Zh(t)}},Wp=function(e){return Kh(e[e.length-1])},Hp=function(e,t,n,r){void 0===n&&(n=function(){}),void 0===r&&(r=console.error),this.method=e,this.resolve=n,this.reject=r,this.called=!1,this.args=t},qp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t;return null!==(t=this.calls[e])&&void 0!==t?t:[]},e.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},e.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){["track","screen","alias","group","page","identify"].includes(t.method)&&!Wp(t.args)&&(t.args=(0,Rh.fX)((0,Rh.fX)([],t.args,!0),[$h()],!1)),e.calls[t.method]?e.calls[t.method].push(t):e.calls[t.method]=[t]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,Dp.X)()){var e=(0,Mp.kJ)();if(Array.isArray(e)){var t=e.splice(0,e.length).map(function(e){var t=e[0],n=e.slice(1);return new Hp(t,n)});this.add.apply(this,t)}}},e}();function Gp(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){var n,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,n=e[t.method].apply(e,t.args),"object"===typeof(i=n)&&null!==i&&"then"in i&&"function"===typeof i.then?[4,n]:[3,2]);case 1:o.sent(),o.label=2;case 2:return t.resolve(n),[3,4];case 3:return r=o.sent(),t.reject(r),[3,4];case 4:return[2]}var i})})}var Yp=function(){function e(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ip.r,this._preInitBuffer=new qp,this._promise=e(this._preInitBuffer),this._promise.then(function(e){var n=e[0],r=e[1];t.instance=n,t.ctx=r}).catch(function(){})}return e.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},e.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},e.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},e.prototype._createMethod=function(e){var t=this;return function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t.instance){var i=(n=t.instance)[e].apply(n,r);return Promise.resolve(i)}return new Promise(function(n,o){t._preInitBuffer.add(new Hp(e,r,n,o))})}},e.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.instance?((n=t.instance)[e].apply(n,r),t):(t._preInitBuffer.add(new Hp(e,r)),t)}},e}(),Xp=n(57390),Kp=n(30447),Zp=function(e){function t(t,n){var r=e.call(this,t)||this;return r.retryTimeout=n,r.name="RateLimitError",r}return(0,Rh.C6)(t,e),t}(Error),$p=function(e){return(0,Rh.Cl)({"Content-Type":"text/plain"},"function"===typeof e?e():e)};function Qp(e){return(encodeURI(JSON.stringify(e)).split(/%..|./).length-1)/1024}function Jp(e,t){var n,r,o,i=[],a=!1,u=null!==(n=null===t||void 0===t?void 0:t.size)&&void 0!==n?n:10,s=null!==(r=null===t||void 0===t?void 0:t.timeout)&&void 0!==r?r:5e3,l=0;function c(n){var r;if(0!==n.length){var o=null===(r=n[0])||void 0===r?void 0:r.writeKey,i=n.map(function(e){var t=e;t.sentAt;return(0,Rh.Tt)(t,["sentAt"])});return(0,Kp.h)("https://".concat(e,"/b"),{credentials:null===t||void 0===t?void 0:t.credentials,keepalive:(null===t||void 0===t?void 0:t.keepalive)||a,headers:$p(null===t||void 0===t?void 0:t.headers),method:"post",body:JSON.stringify({writeKey:o,batch:i,sentAt:(new Date).toISOString()}),priority:null===t||void 0===t?void 0:t.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r="string"==typeof n?1e3*parseInt(n):s;throw new Zp("Rate limit exceeded: ".concat(e.status),r)}})}}function f(e){var n;return void 0===e&&(e=1),(0,Rh.sH)(this,void 0,void 0,function(){var r;return(0,Rh.YH)(this,function(o){return i.length?(r=i,i=[],[2,null===(n=c(r))||void 0===n?void 0:n.catch(function(n){var o;zh.o.system().log("error","Error sending batch",n),e<=(null!==(o=null===t||void 0===t?void 0:t.maxRetries)&&void 0!==o?o:10)&&("RateLimitError"===n.name&&(l=n.retryTimeout),i.push.apply(i,r),i.map(function(t){if("_metadata"in t){var n=t;n._metadata=(0,Rh.Cl)((0,Rh.Cl)({},n._metadata),{retryCount:e})}}),d(e+1))})]):[2]})})}function d(e){void 0===e&&(e=1),o||(o=setTimeout(function(){o=void 0,f(e).catch(console.error)},l||s),l=0)}return function(e){var t=!1;window.addEventListener("pagehide",function(){t||e(t=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(t)return;t=!0}else t=!1;e(t)})}(function(e){if((a=e)&&i.length){var t=function(e){var t=[],n=0;return e.forEach(function(e){Qp(t[n])>=64&&n++,t[n]?t[n].push(e):t[n]=[e]}),t}(i).map(c);Promise.all(t).catch(console.error)}}),{dispatch:function(e,n){return(0,Rh.sH)(this,void 0,void 0,function(){var e;return(0,Rh.YH)(this,function(r){return i.push(n),e=i.length>=u||function(e){return Qp(e)>=450}(i)||(null===t||void 0===t?void 0:t.keepalive)&&function(e){return Qp(e)>=54}(i),[2,e||a?f():d()]})})}}}function ev(e,t,n,r,o){var i,a=e.user();delete t.options,t.writeKey=null===n||void 0===n?void 0:n.apiKey,t.userId=t.userId||a.id(),t.anonymousId=t.anonymousId||a.anonymousId(),t.sentAt=new Date;var u=e.queue.failedInitializations||[];u.length>0&&(t._metadata={failedInitializations:u}),null!=o&&(o.attempts>1&&(t._metadata=(0,Rh.Cl)((0,Rh.Cl)({},t._metadata),{retryCount:o.attempts})),o.attempts++);var s=[],l=[];for(var c in r){var f=r[c];"Segment.io"===c&&s.push(c),"bundled"===f.bundlingStatus&&s.push(c),"unbundled"===f.bundlingStatus&&l.push(c)}for(var d=0,h=(null===n||void 0===n?void 0:n.unbundledIntegrations)||[];d<h.length;d++){var p=h[d];l.includes(p)||l.push(p)}var v=null!==(i=null===n||void 0===n?void 0:n.maybeBundledConfigIds)&&void 0!==i?i:{},y=[];return s.sort().forEach(function(e){var t;(null!==(t=v[e])&&void 0!==t?t:[]).forEach(function(e){y.push(e)})}),!1!==(null===n||void 0===n?void 0:n.addBundledMetadata)&&(t._metadata=(0,Rh.Cl)((0,Rh.Cl)({},t._metadata),{bundled:s.sort(),unbundled:l.sort(),bundledIds:y})),t}var tv=n(80428);function nv(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){var n,r=this;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return n=[],(0,Bh.a)()?[2,t]:[4,(0,tv._)(function(){return t.length>0&&!(0,Bh.a)()},function(){return(0,Rh.sH)(r,void 0,void 0,function(){var r,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:return(r=t.pop())?[4,(0,dp.C)(r,e)]:[2];case 1:return o=i.sent(),o instanceof zh.o||n.push(r),[2]}})})})];case 1:return o.sent(),n.map(function(e){return t.pushWithBackoff(e)}),[2,t]}})})}function rv(e,t,n,r){var o=this;e||setTimeout(function(){return(0,Rh.sH)(o,void 0,void 0,function(){var e,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:return e=!0,[4,nv(n,t)];case 1:return o=i.sent(),e=!1,t.todo>0&&r(e,o,n,r),[2]}})})},5e3*Math.random())}var ov=n(94268);var iv=function(e){return"Segment.io"===e.name};function av(e,t,n){var r,o,i;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(l)),l.clear()});var a,u=null!==(r=null===t||void 0===t?void 0:t.apiKey)&&void 0!==r?r:"",s=e.options.disableClientPersistence?new cp.M(e.queue.queue.maxAttempts,[]):new lp.x(e.queue.queue.maxAttempts,"".concat(u,":dest-Segment.io")),l=new Set,c=!1,f=null!==(o=null===t||void 0===t?void 0:t.apiHost)&&void 0!==o?o:ov.a,d=null!==(i=null===t||void 0===t?void 0:t.protocol)&&void 0!==i?i:"https",h="".concat(d,"://").concat(f),p=null===t||void 0===t?void 0:t.deliveryStrategy,v=p&&"strategy"in p&&"batching"===p.strategy?Jp(f,p.config):(a=null===p||void 0===p?void 0:p.config,{dispatch:function(e,t){return(0,Kp.h)(e,{credentials:null===a||void 0===a?void 0:a.credentials,keepalive:null===a||void 0===a?void 0:a.keepalive,headers:$p(null===a||void 0===a?void 0:a.headers),method:"post",body:JSON.stringify(t),priority:null===a||void 0===a?void 0:a.priority}).then(function(e){var t;if(e.status>=500)throw new Error("Bad response from server: ".concat(e.status));if(429===e.status){var n=null===(t=e.headers)||void 0===t?void 0:t.get("x-ratelimit-reset"),r=n?1e3*parseInt(n):5e3;throw new Zp("Rate limit exceeded: ".concat(e.status),r)}})}});function y(r){return(0,Rh.sH)(this,void 0,void 0,function(){var o,i;return(0,Rh.YH)(this,function(a){return(0,Bh.a)()?(s.push(r),rv(c,s,g,rv),[2,r]):(l.add(r),o=r.event.type.charAt(0),i=(0,Xp.W)(r.event).json(),"track"===r.event.type&&delete i.traits,"alias"===r.event.type&&(i=function(e,t){var n,r,o,i,a=e.user();return t.previousId=null!==(o=null!==(r=null!==(n=t.previousId)&&void 0!==n?n:t.from)&&void 0!==r?r:a.id())&&void 0!==o?o:a.anonymousId(),t.userId=null!==(i=t.userId)&&void 0!==i?i:t.to,delete t.from,delete t.to,t}(e,i)),s.getAttempts(r)>=s.maxAttempts?(l.delete(r),[2,r]):[2,v.dispatch("".concat(h,"/").concat(o),ev(e,i,t,n,r)).then(function(){return r}).catch(function(e){if(r.log("error","Error sending event",e),"RateLimitError"===e.name){var t=e.retryTimeout;s.pushWithBackoff(r,t)}else s.pushWithBackoff(r);return rv(c,s,g,rv),r}).finally(function(){l.delete(r)})])})})}var g={metadata:{writeKey:u,apiHost:f,protocol:d},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return s.todo&&rv(c,s,g,rv),g}var uv="This is being deprecated and will be not be available in future releases of Analytics JS",sv=(0,Np.m)(),lv=null===sv||void 0===sv?void 0:sv.analytics;var cv=function(){function e(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var e;return null===(e=t.plugins.find(iv))||void 0===e?void 0:e.metadata},this.writeKey=e.writeKey;this.cdnSettings=null!==(n=e.cdnSettings)&&void 0!==n?n:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=e.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var e,t;return null===(t=null===(e=this._getSegmentPluginMetadata)||void 0===e?void 0:e.call(this))||void 0===t?void 0:t.apiHost},enumerable:!1,configurable:!0}),e}();function fv(){console.warn(uv)}var dv,hv=function(e){function t(t,n,r,o,i){var a,u,s=this;(s=e.call(this)||this)._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=fv,s.addIntegrationMiddleware=fv,s.listeners=fv,s.addEventListener=fv,s.removeAllListeners=fv,s.removeListener=fv,s.removeEventListener=fv,s.hasListeners=fv,s.add=fv,s.addIntegration=fv;var l=null===n||void 0===n?void 0:n.cookie,c=null!==(a=null===n||void 0===n?void 0:n.disableClientPersistence)&&void 0!==a&&a;s.queue=null!==r&&void 0!==r?r:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=t?10:1,o=n?new cp.M(r,[]):new lp.x(r,e);return new pp(o)}("".concat(t.writeKey,":event-queue"),null===n||void 0===n?void 0:n.retryQueue,c),s.settings=new cv(t,s.queue);var f=null===n||void 0===n?void 0:n.storage;return s._universalStorage=s.createStore(c,f,l),s._user=null!==o&&void 0!==o?o:new Ap((0,Rh.Cl)({persist:!c,storage:null===n||void 0===n?void 0:n.storage},null===n||void 0===n?void 0:n.user),l).load(),s._group=null!==i&&void 0!==i?i:new Rp((0,Rh.Cl)({persist:!c,storage:null===n||void 0===n?void 0:n.storage},null===n||void 0===n?void 0:n.group),l).load(),s.eventFactory=new up(s._user),s.integrations=null!==(u=null===n||void 0===n?void 0:n.integrations)&&void 0!==u?u:{},s.options=null!==n&&void 0!==n?n:{},vp(s),s}return(0,Rh.C6)(t,e),t.prototype.createStore=function(e,t,n){return e?new mp([new bp]):t&&_p(t)?new mp(Tp(Cp(t.stores,n))):new mp(Tp([yp.LocalStorage,{name:yp.Cookie,settings:n},yp.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,u,s=this;return(0,Rh.YH)(this,function(l){return t=Vp(e),n=Dh.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],u=this.eventFactory.track(r,o,i,this.integrations,t),[2,this._dispatch(u,a).then(function(e){return s.emit("track",r,e.event.properties,e.event.options),e})]})})},t.prototype.page=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,u,s,l=this;return(0,Rh.YH)(this,function(c){return t=Vp(e),n=Lh.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=this.eventFactory.page(r,o,i,a,this.integrations,t),[2,this._dispatch(s,u).then(function(e){return l.emit("page",r,o,e.event.properties,e.event.options),e})]})})},t.prototype.identify=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,u,s=this;return(0,Rh.YH)(this,function(l){return t=Vp(e),n=Fh(this._user).apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],this._user.identify(r,o),u=this.eventFactory.identify(this._user.id(),this._user.traits(),i,this.integrations,t),[2,this._dispatch(u,a).then(function(e){return s.emit("identify",e.event.userId,e.event.traits,e.event.options),e})]})})},t.prototype.group=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Vp(t);if(0===t.length)return this._group;var o=Fh(this._group).apply(void 0,t),i=o[0],a=o[1],u=o[2],s=o[3];this._group.identify(i,a);var l=this._group.id(),c=this._group.traits(),f=this.eventFactory.group(l,c,u,this.integrations,r);return this._dispatch(f,s).then(function(t){return e.emit("group",t.event.groupId,t.event.traits,t.event.options),t})},t.prototype.alias=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,u,s=this;return(0,Rh.YH)(this,function(l){return t=Vp(e),n=Uh.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],u=this.eventFactory.alias(r,o,i,this.integrations,t),[2,this._dispatch(u,a).then(function(e){return s.emit("alias",r,o,e.event.options),e})]})})},t.prototype.screen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r,o,i,a,u,s,l=this;return(0,Rh.YH)(this,function(c){return t=Vp(e),n=Lh.apply(void 0,e),r=n[0],o=n[1],i=n[2],a=n[3],u=n[4],s=this.eventFactory.screen(r,o,i,a,this.integrations,t),[2,this._dispatch(s,u).then(function(e){return l.emit("screen",r,o,e.event.properties,e.event.options),e})]})})},t.prototype.trackClick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,82001))];case 1:return t=o.sent(),[2,(r=t.link).call.apply(r,(0,Rh.fX)([this],e,!1))]}})})},t.prototype.trackLink=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,82001))];case 1:return t=o.sent(),[2,(r=t.link).call.apply(r,(0,Rh.fX)([this],e,!1))]}})})},t.prototype.trackSubmit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,82001))];case 1:return t=o.sent(),[2,(r=t.form).call.apply(r,(0,Rh.fX)([this],e,!1))]}})})},t.prototype.trackForm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return[4,n.e(248).then(n.bind(n,82001))];case 1:return t=o.sent(),[2,(r=t.form).call.apply(r,(0,Rh.fX)([this],e,!1))]}})})},t.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return t=zh.o.system(),n=e.map(function(e){return r.queue.register(t,e,r)}),[4,Promise.all(n)];case 1:return o.sent(),[2,t]}})})},t.prototype.deregister=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Rh.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return t=zh.o.system(),n=e.map(function(e){var n=r.queue.plugins.find(function(t){return t.name===e});if(n)return r.queue.deregister(t,n,r);t.log("warn","plugin ".concat(e," not found"))}),[4,Promise.all(n)];case 1:return o.sent(),[2,t]}})})},t.prototype.debug=function(e){return!1===e&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=e,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(e){this.settings.timeout=e},t.prototype._dispatch=function(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){var n;return(0,Rh.YH)(this,function(r){return(n=new zh.o(e)).stats.increment("analytics_js.invoke",1,[e.type]),(0,Bh.a)()&&!this.options.retryQueue?[2,n]:[2,Hh(n,this.queue,this,{callback:t,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t=this;return(0,Rh.YH)(this,function(r){switch(r.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,Rh.sH)(t,void 0,void 0,function(){var t,r,o;return(0,Rh.YH)(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,89892))];case 1:return t=i.sent().sourceMiddlewarePlugin,r={},this.queue.plugins.forEach(function(e){if("destination"===e.type)return r[e.name]=!0}),o=t(e,r),[4,this.register(o)];case 2:return i.sent(),[2]}})})})];case 1:return r.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.queue.plugins.filter(sp).forEach(function(n){"*"!==e&&n.name.toLowerCase()!==e.toLowerCase()||n.addMiddleware.apply(n,t)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(e){return this._user.anonymousId(e)},t.prototype.queryString=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(t){switch(t.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,n.e(538).then(n.bind(n,59045))];case 1:return[2,(0,t.sent().queryString)(this,e)]}})})},t.prototype.use=function(e){return e(this),this},t.prototype.ready=function(e){return void 0===e&&(e=function(e){return e}),(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(t){return[2,Promise.all(this.queue.plugins.map(function(e){return e.ready?e.ready():Promise.resolve()})).then(function(t){return e(t),t})]})})},t.prototype.noConflict=function(){return console.warn(uv),(0,Mp.Ud)(null!==lv&&void 0!==lv?lv:this),this},t.prototype.normalize=function(e){return console.warn(uv),this.eventFactory.normalize(e)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(uv),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return Ip.r},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(e){return console.warn(uv),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(t){switch(t.label){case 0:return console.warn(uv),[4,this.page({path:e})];case 1:return t.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var e;return console.warn(uv),null!==(e=this._plugins)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){return console.warn(uv),this.queue.plugins.filter(function(e){return"destination"===e.type}).reduce(function(e,t){var n="".concat(t.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),r=window[n];if(!r)return e;var o=r.Integration;return o?(e[t.name]=o,e):(e[t.name]=r,e)},{})},enumerable:!1,configurable:!0}),t.prototype.push=function(e){var t=e.shift();t&&!this[t]||this[t].apply(this,e)},t}(qh.v),pv=function(e){function t(){var t=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return(0,Rh.C6)(t,e),t}(hv),vv=n(52145),yv=n(34228),gv=n(27801);function mv(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t;return(0,Rh.YH)(this,function(n){return(t=navigator.userAgentData)?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}function bv(){if(dv)return dv;var e=xp(window.location.href);return dv={expires:31536e6,secure:!1,path:"/"},e&&(dv.domain=e),dv}var _v,wv,Ov=function(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return(0,Rh.sH)(e,void 0,void 0,function(){var e;return(0,Rh.YH)(this,function(t){switch(t.label){case 0:this.instance=n,t.label=1;case 1:return t.trys.push([1,3,,4]),e=this,[4,mv(this.instance.options.highEntropyValuesClientHints)];case 2:return e.userAgentData=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,r,o=t.event.context,i=o.page.search||"",a="object"===typeof i?function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];Array.isArray(r)?r.forEach(function(e){return t.append(n,e)}):t.append(n,r)}),t.toString()}catch(n){return""}}(i):i;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var u=navigator.userLanguage||navigator.language;"undefined"===typeof o.locale&&"undefined"!==typeof u&&(o.locale=u),null!==(n=o.library)&&void 0!==n||(o.library={name:"analytics.js",version:"".concat("web"===(0,Dp.X)()?"next":"npm:next","-").concat(Ip.r)}),a&&!o.campaign&&(o.campaign=function(e){return e.startsWith("?")&&(e=e.substring(1)),(e=e.replace(/\?/g,"&")).split("&").reduce(function(e,t){var n=t.split("="),r=n[0],o=n[1],i=void 0===o?"":o;if(r.includes("utm_")&&r.length>4){var a=r.slice(4);"campaign"===a&&(a="name"),e[a]=(0,gv.p)(i)}return e},{})}(a));var s=function(){var e=Ep.get("_ga");if(e&&e.startsWith("amp"))return e}();s&&(o.amp={id:s}),function(e,t,n){var r,o=new mp(n?[]:[new Sp(bv())]),i=o.get("s:context.referrer"),a=null!==(r=function(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1));for(var n=0,r=(e=e.replace(/\?/g,"&")).split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],a=o[1];if(t[i])return{id:a,type:t[i]}}}(e))&&void 0!==r?r:i;a&&(t&&(t.referrer=(0,Rh.Cl)((0,Rh.Cl)({},t.referrer),a)),o.set("s:context.referrer",a))}(a,o,null!==(r=e.instance.options.disableClientPersistence)&&void 0!==r&&r);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(ty){}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},Ev=new Ov,xv=n(85408),Sv=n(89892),Pv=n(68584),Tv=function(){function e(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,yv.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return e.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];"destination"===this.type&&(e=this.middleware).push.apply(e,t)},e.prototype.transform=function(e){return(0,Rh.sH)(this,void 0,void 0,function(){var t;return(0,Rh.YH)(this,function(n){switch(n.label){case 0:return[4,(0,Sv.applyDestinationMiddleware)(this.name,e.event,this.middleware)];case 1:return null===(t=n.sent())&&e.cancel(new fp.d({retry:!1,reason:"dropped by destination middleware"})),[2,new zh.o(t)]}})})},e.prototype._createMethod=function(e){var t=this;return function(n){return(0,Rh.sH)(t,void 0,void 0,function(){var t,r;return(0,Rh.YH)(this,function(o){switch(o.label){case 0:return this.action[e]?(t=n,"destination"!==this.type?[3,2]:[4,this.transform(n)]):[2,n];case 1:t=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return(0,Pv.y)(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](t)];case 4:return o.sent(),[3,6];case 5:throw r=o.sent(),(0,Pv.y)(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),r;case 6:return[2,n]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){var n,r,o,i;return(0,Rh.YH)(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),(0,Pv.y)(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),o=(r=this.loadPromise).resolve,[4,n];case 2:return o.apply(r,[a.sent()]),[2,n];case 3:throw i=a.sent(),(0,Pv.y)(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(i),i;case 4:return[2]}})})},e.prototype.unload=function(e,t){var n,r;return null===(r=(n=this.action).unload)||void 0===r?void 0:r.call(n,e,t)},e}();function Cv(e,t){return(0,Rh.sH)(this,void 0,void 0,function(){var n,r,o,i,a,u;return(0,Rh.YH)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=(0,Nh.I2)(),!t)return[3,6];o=e.url.split("/"),i=o[o.length-2],a=e.url.replace(i,btoa(i).replace(/=/g,"")),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(0,xv.k)(a.replace(n,r))];case 2:return s.sent(),[3,5];case 3:return s.sent(),[4,(0,xv.k)(e.url.replace(n,r))];case 4:return s.sent(),[3,5];case 5:return[3,8];case 6:return[4,(0,xv.k)(e.url.replace(n,r))];case 7:s.sent(),s.label=8;case 8:return"function"===typeof window[e.libraryName]?[2,window[e.libraryName]]:[3,10];case 9:throw u=s.sent(),console.error("Failed to create PluginFactory",e),u;case 10:return[2]}})})}function kv(e,t,n,r,o,i){var a,u,s;return(0,Rh.sH)(this,void 0,void 0,function(){var l,c,f,d=this;return(0,Rh.YH)(this,function(h){switch(h.label){case 0:return l=[],c=null!==(u=null===(a=e.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==u?u:[],f=(null!==(s=e.remotePlugins)&&void 0!==s?s:[]).map(function(e){return(0,Rh.sH)(d,void 0,void 0,function(){var a,u,s,f,d,h,p;return(0,Rh.YH)(this,function(v){switch(v.label){case 0:if(function(e,t){var n=e[t.creationName],r=e[t.name];return!1===e.All&&!n&&!r||!1===n||!1===r}(t,e))return[2];v.label=1;case 1:return v.trys.push([1,6,,7]),(u=null===i||void 0===i?void 0:i.find(function(t){return t.pluginName===e.name}))?[3,3]:[4,Cv(e,null===r||void 0===r?void 0:r.obfuscate)];case 2:u=v.sent(),v.label=3;case 3:return(a=u)?(s=n[e.name],[4,a((0,Rh.Cl)((0,Rh.Cl)({},e.settings),s))]):[3,5];case 4:f=v.sent(),function(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];e.forEach(function(e){t.forEach(function(t){var n;if(void 0===e[t])throw new Error("Plugin: ".concat(null!==(n=e.name)&&void 0!==n?n:"unknown"," missing required function ").concat(t))})})}(d=Array.isArray(f)?f:[f]),h=c.filter(function(t){return t.destinationName===e.creationName}),d.forEach(function(t){var n=new Tv(e.creationName,t);h.length&&o&&n.addMiddleware(o),l.push(n)}),v.label=5;case 5:return[3,7];case 6:return p=v.sent(),console.warn("Failed to load Remote Plugin",p),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return h.sent(),[2,l.filter(Boolean)]}})})}var Av=null!==(_v=(wv=(0,Np.m)()).__SEGMENT_INSPECTOR__)&&void 0!==_v?_v:wv.__SEGMENT_INSPECTOR__={},jv=n(64387);function Rv(e,t,n){return(0,Rh.sH)(this,void 0,void 0,function(){return(0,Rh.YH)(this,function(r){switch(r.label){case 0:return[4,Iv(e,t)];case 1:return r.sent(),function(e,t){Object.keys(t.calls).forEach(function(n){t.getAndRemove(n).forEach(function(t){setTimeout(function(){Gp(e,t).catch(console.error)},0)})})}(e,n),[2]}})})}var Iv=function(e,t){return(0,Rh.sH)(void 0,void 0,void 0,function(){return(0,Rh.YH)(this,function(n){switch(n.label){case 0:return t.includes("ajs_")?[4,e.queryString(t).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function Nv(e,t,r,o,i,a,u){var s,l,c;return void 0===i&&(i=[]),(0,Rh.sH)(this,void 0,void 0,function(){var f,d,h,p,v,y,g,m,b,_,w,O,E,x,S=this;return(0,Rh.YH)(this,function(P){switch(P.label){case 0:return function(e,t){zp(e,t),Bp(e,t)}(r,u),f=null===i||void 0===i?void 0:i.filter(function(e){return"object"===typeof e}),d=null===i||void 0===i?void 0:i.filter(function(e){return"function"===typeof e&&"string"===typeof e.pluginName}),function(e){var t,n,r;return"test"!==Ih().NODE_ENV&&(null!==(r=null===(n=null===(t=e.middlewareSettings)||void 0===t?void 0:t.routingRules)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}(t)?[4,n.e(10).then(n.bind(n,81229)).then(function(e){return e.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return p=P.sent(),[3,3];case 2:p=void 0,P.label=3;case 3:return h=p,T=t,"test"!==Ih().NODE_ENV&&Object.keys(T.integrations).length>1||a.length>0?[4,n.e(50).then(n.bind(n,74775)).then(function(n){return n.ajsDestinations(e,t,r.integrations,o,h,a)})]:[3,5];case 4:return y=P.sent(),[3,6];case 5:y=[],P.label=6;case 6:return v=y,t.legacyVideoPluginsEnabled?[4,n.e(694).then(n.bind(n,34508)).then(function(e){return e.loadLegacyVideoPlugins(r)})]:[3,8];case 7:P.sent(),P.label=8;case 8:return(null===(s=o.plan)||void 0===s?void 0:s.track)?[4,n.e(104).then(n.bind(n,22056)).then(function(e){var n;return e.schemaFilter(null===(n=o.plan)||void 0===n?void 0:n.track,t)})]:[3,10];case 9:return m=P.sent(),[3,11];case 10:m=void 0,P.label=11;case 11:return g=m,b=(0,vv.J)(t,o),[4,kv(t,r.integrations,b,o,h,d).catch(function(){return[]})];case 12:return _=P.sent(),w=(0,Rh.fX)((0,Rh.fX)([Ev],v,!0),_,!0),g&&w.push(g),!1===(null===(l=o.integrations)||void 0===l?void 0:l.All)&&!o.integrations["Segment.io"]||o.integrations&&!1===o.integrations["Segment.io"]?[3,14]:(E=(O=w).push,[4,av(r,b["Segment.io"],t.integrations)]);case 13:E.apply(O,[P.sent()]),P.label=14;case 14:return[4,r.register.apply(r,(0,Rh.fX)((0,Rh.fX)([],w,!1),f,!1))];case 15:return x=P.sent(),[4,Up(r,u)];case 16:return P.sent(),Object.entries(null!==(c=t.enabledMiddleware)&&void 0!==c?c:{}).some(function(e){return e[1]})?[4,n.e(521).then(n.bind(n,33437)).then(function(e){var n=e.remoteMiddlewares;return(0,Rh.sH)(S,void 0,void 0,function(){var e,i;return(0,Rh.YH)(this,function(a){switch(a.label){case 0:return[4,n(x,t,o.obfuscate)];case 1:return e=a.sent(),i=e.map(function(e){return r.addSourceMiddleware(e)}),[2,Promise.all(i)]}})})})]:[3,18];case 17:P.sent(),P.label=18;case 18:return[4,Fp(r,u)];case 19:return P.sent(),[2,x]}var T})})}function Mv(e,t,n){var r,o,i,a,u,s,l,c,f;return void 0===t&&(t={}),(0,Rh.sH)(this,void 0,void 0,function(){var d,h,p,v,y,g,m,b,_,w;return(0,Rh.YH)(this,function(O){switch(O.label){case 0:return!0===t.disable?[2,[new pv,zh.o.system()]]:(t.globalAnalyticsKey&&(0,Mp.rY)(t.globalAnalyticsKey),e.cdnURL&&(0,Nh.qQ)(e.cdnURL),t.initialPageview&&n.add(new Hp("page",[])),d=function(){var e,t,n=null!==(e=window.location.hash)&&void 0!==e?e:"",r=null!==(t=window.location.search)&&void 0!==t?t:"";return r.length?r:n.replace(/(?=#).*(?=\?)/,"")}(),h=null!==(r=e.cdnURL)&&void 0!==r?r:(0,Nh.I2)(),null===(o=e.cdnSettings)||void 0===o?[3,1]:(v=o,[3,3]));case 1:return[4,(E=e.writeKey,x=h,(0,Kp.h)("".concat(x,"/v1/projects/").concat(E,"/settings")).then(function(e){return e.ok?e.json():e.text().then(function(e){throw new Error(e)})}).catch(function(e){throw console.error(e.message),e}))];case 2:v=O.sent(),O.label=3;case 3:return p=v,t.updateCDNSettings&&(p=t.updateCDNSettings(p)),"function"!==typeof t.disable?[3,5]:[4,t.disable(p)];case 4:if(O.sent())return[2,[new pv,zh.o.system()]];O.label=5;case 5:return y=null===(a=null===(i=p.integrations["Segment.io"])||void 0===i?void 0:i.retryQueue)||void 0===a||a,t=(0,Rh.Cl)({retryQueue:y},t),function(e){var t;null===(t=Av.attach)||void 0===t||t.call(Av,e)}(g=new hv((0,Rh.Cl)((0,Rh.Cl)({},e),{cdnSettings:p,cdnURL:h}),t)),m=null!==(u=e.plugins)&&void 0!==u?u:[],b=null!==(s=e.classicIntegrations)&&void 0!==s?s:[],_=null===(l=t.integrations)||void 0===l?void 0:l["Segment.io"],jv.U.initRemoteMetrics((0,Rh.Cl)((0,Rh.Cl)({},p.metrics),{host:null!==(c=null===_||void 0===_?void 0:_.apiHost)&&void 0!==c?c:null===(f=p.metrics)||void 0===f?void 0:f.host,protocol:null===_||void 0===_?void 0:_.protocol})),[4,Nv(e.writeKey,p,g,t,m,b,n)];case 6:return w=O.sent(),g.initialized=!0,g.emit("initialize",e,t),[4,Rv(g,d,n)];case 7:return O.sent(),[2,[g,w]]}var E,x})})}var Dv=function(e){function t(){var t=this,n=(0,yv.u)(),r=n.promise,o=n.resolve;return t=e.call(this,function(e){return r.then(function(t){return Mv(t[0],t[1],e)})})||this,t._resolveLoadStart=function(e,t){return o([e,t])},t}return(0,Rh.C6)(t,e),t.prototype.load=function(e,t){return void 0===t&&(t={}),this._resolveLoadStart(e,t),this},t.load=function(e,n){return void 0===n&&(n={}),(new t).load(e,n)},t.standalone=function(e,n){return t.load({writeKey:e},n).then(function(e){return e[0]})},t}(Yp),Lv={5:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var o=n(1018),i=n(8014),a=n(3413),u=n(7315),s=n(1342),l=n(9052),c=n(9155),f=n(9223),d=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,i.isSubscription(n)&&n.add(r)):r.destination=t.EMPTY_OBSERVER,r}return r(n,e),n.create=function(e,t,n){return new y(e,t,n)},n.prototype.next=function(e){this.isStopped?m(l.nextNotification(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?m(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(i.Subscription);t.Subscriber=d;var h=Function.prototype.bind;function p(e,t){return h.call(e,t)}var v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){g(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){g(e)}else g(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){g(e)}},e}(),y=function(e){function t(t,n,r){var i,u,s=e.call(this)||this;return o.isFunction(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&a.config.useDeprecatedNextContext?((u=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&p(t.next,u),error:t.error&&p(t.error,u),complete:t.complete&&p(t.complete,u)}):i=t,s.destination=new v(i),s}return r(t,e),t}(d);function g(e){a.config.useDeprecatedSynchronousErrorHandling?f.captureError(e):u.reportUnhandledError(e)}function m(e,t){var n=a.config.onStoppedNotification;n&&c.timeoutProvider.setTimeout(function(){return n(e,t)})}t.SafeSubscriber=y,t.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(e){throw e},complete:s.noop}},45:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.position=0,this.length=e}return e.prototype.getUInt8=function(e){throw new Error("Not implemented")},e.prototype.getInt8=function(e){throw new Error("Not implemented")},e.prototype.getFloat64=function(e){throw new Error("Not implemented")},e.prototype.getVarInt=function(e){throw new Error("Not implemented")},e.prototype.putUInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putFloat64=function(e,t){throw new Error("Not implemented")},e.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},e.prototype.getSlice=function(e,t){return new o(e,t,this)},e.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},e.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},e.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},e.prototype.putVarInt=function(e,t){for(var n=0;t>1;){var r=t%128;t>=128&&(r+=128),t/=128,this.putUInt8(e+n,r),n+=1}return n},e.prototype.putBytes=function(e,t){for(var n=0,r=t.remaining();n<r;n++)this.putUInt8(e+n,t.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.readVarInt=function(){var e=this.getVarInt(this.position);return this._updatePos(e.length),e.value},e.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},e.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},e.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},e.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},e.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},e.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},e.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},e.prototype.writeVarInt=function(e){var t=this.putVarInt(this.position,e);this._updatePos(t)},e.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},e.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},e.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},e.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var n=this.getUInt8(t).toString(16);1===n.length&&(n="0"+n),e+=n,t!==this.length-1&&(e+=" ")}return e},e}();t.default=r;var o=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o._start=t,o._inner=r,o}return n(t,e),t.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},t.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(r)},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBrokenObjectReason=t.isBrokenObject=t.createBrokenObject=void 0;var n="__isBrokenObject__",r="__reason__";t.createBrokenObject=function(e,t){void 0===t&&(t={});var o=function(){throw e};return new Proxy(t,{get:function(t,i){return i===n||(i===r?e:void("toJSON"!==i&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},t.isBrokenObject=function(e){return null!==e&&"object"==typeof e&&!0===e[n]},t.getBrokenObjectReason=function(e){return e[r]}},95:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return r(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,a=t.isStopped,u=t._isComplete;n?e.error(i):(a||u)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(2483).Subject);t.AsyncSubject=o},137:e=>{e.exports=class{constructor(e,t,n,r){let o;if("object"==typeof e){let i=e;e=i.k_p,t=i.k_i,n=i.k_d,r=i.dt,o=i.i_max}this.k_p="number"==typeof e?e:1,this.k_i=t||0,this.k_d=n||0,this.dt=r||0,this.i_max=o||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let e=Date.now();t=0===this.lastTime?0:(e-this.lastTime)/1e3,this.lastTime=e}"number"==typeof t&&0!==t||(t=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let e=this.sumError>0?1:-1;this.sumError=e*this.i_max}let r=(n-this.lastError)/t;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*r}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},182:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var o=n(5267),i=n(8014),a=function(e){function t(t,n){void 0===t&&(t=u),void 0===n&&(n=1/0);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(5648).AsyncScheduler);t.VirtualTimeScheduler=a;var u=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return r(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return i.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);t.VirtualAction=u},187:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=n(7286),o=n(3638);t.zipAll=function(e){return o.joinAllInternals(r.zip,e)}},206:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingTable=t.Rediscovery=void 0;var o=r(n(4151));t.Rediscovery=o.default;var i=r(n(9018));t.RoutingTable=i.default,t.default=o.default},245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(n,r){return!e.call(t,n,r)}}},269:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=n(3865),o=n(1107),i=n(7843);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.popScheduler(e);return i.operate(function(t,o){(n?r.concat(e,t,n):r.concat(e,t)).subscribe(o)})}},326:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_APIS=t.BOLT_PROTOCOL_V5_8=t.BOLT_PROTOCOL_V5_7=t.BOLT_PROTOCOL_V5_6=t.BOLT_PROTOCOL_V5_5=t.BOLT_PROTOCOL_V5_4=t.BOLT_PROTOCOL_V5_3=t.BOLT_PROTOCOL_V5_2=t.BOLT_PROTOCOL_V5_1=t.BOLT_PROTOCOL_V5_0=t.BOLT_PROTOCOL_V4_4=t.BOLT_PROTOCOL_V4_3=t.BOLT_PROTOCOL_V4_2=t.BOLT_PROTOCOL_V4_1=t.BOLT_PROTOCOL_V4_0=t.BOLT_PROTOCOL_V3=t.BOLT_PROTOCOL_V2=t.BOLT_PROTOCOL_V1=t.DEFAULT_POOL_MAX_SIZE=t.DEFAULT_POOL_ACQUISITION_TIMEOUT=t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=t.FETCH_ALL=void 0,t.FETCH_ALL=-1,t.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,t.DEFAULT_POOL_MAX_SIZE=100,t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,t.ACCESS_MODE_READ="READ",t.ACCESS_MODE_WRITE="WRITE",t.BOLT_PROTOCOL_V1=1,t.BOLT_PROTOCOL_V2=2,t.BOLT_PROTOCOL_V3=3,t.BOLT_PROTOCOL_V4_0=4,t.BOLT_PROTOCOL_V4_1=4.1,t.BOLT_PROTOCOL_V4_2=4.2,t.BOLT_PROTOCOL_V4_3=4.3,t.BOLT_PROTOCOL_V4_4=4.4,t.BOLT_PROTOCOL_V5_0=5,t.BOLT_PROTOCOL_V5_1=5.1,t.BOLT_PROTOCOL_V5_2=5.2,t.BOLT_PROTOCOL_V5_3=5.3,t.BOLT_PROTOCOL_V5_4=5.4,t.BOLT_PROTOCOL_V5_5=5.5,t.BOLT_PROTOCOL_V5_6=5.6,t.BOLT_PROTOCOL_V5_7=5.7,t.BOLT_PROTOCOL_V5_8=5.8,t.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var r=n(4662),o=n(1018),i=n(1251);t.fromEventPattern=function e(t,n,a){return a?e(t,n).pipe(i.mapOneOrManyArgs(a)):new r.Observable(function(e){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)},i=t(r);return o.isFunction(n)?function(){return n(r,i)}:void 0})}},361:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=n(7843),a=n(7302),u=n(1107),s=n(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e),l=u.popNumber(e,1/0);return i.operate(function(t,i){a.mergeAll(l)(s.from(o([t],r(e)),n)).subscribe(i)})}},373:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var i=o(n(45)),a=n(5319),u=o(n(5553)),s=function(e){function t(t,n){var r=e.call(this,0)||this;return r._bufferSize=n||1400,r._ch=t,r._buffer=(0,a.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}return r(t,e),t.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},t.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},t.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},t.prototype.putBytes=function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,a.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},t.prototype._ensure=function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(i.default);t.Chunker=s;var l=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))},e.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(e){},e.prototype._onHeader=function(e){if(0===e){var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK}return this._chunkSize=e,this.IN_CHUNK},e.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},e}();t.Dechunker=l},378:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=n(7843),o=n(3111);t.defaultIfEmpty=function(e){return r.operate(function(t,n){var r=!1;t.subscribe(o.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}},397:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assertNotificationFilterIsEmpty=t.assertImpersonatedUserIsEmpty=t.assertTxConfigIsEmpty=t.assertDatabaseIsEmpty=void 0;var r=n(9305);n(9014),t.assertTxConfigIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e&&!e.isEmpty()){var o=(0,r.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertDatabaseIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e){var o=(0,r.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(o.message),n.onError(o),o}},t.assertImpersonatedUserIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),e){var o=(0,r.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(o.message),n.onError(o),o}},t.assertNotificationFilterIsEmpty=function(e,t,n){if(void 0===t&&(t=function(){}),void 0!==e){var o=(0,r.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(r.json.stringify(e),"."));throw t(o.message),n.onError(o),o}}},407:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Url=t.formatIPv6Address=t.formatIPv4Address=t.defaultPortForScheme=t.parseDatabaseUrl=void 0;var i=n(6587),a=function(e,t,n,r,o){this.scheme=e,this.host=t,this.port=n,this.hostAndPort=r,this.query=o};function u(e,t,n){if(""===(e=(null!=e?e:"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(n,"'"));return e}function s(e){var t="["===e.charAt(0),n="]"===e.charAt(e.length-1);if(t||n){if(t&&n)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function l(e){return"http"===e?7474:"https"===e?7473:7687}t.Url=a,t.parseDatabaseUrl=function(e){var t;(0,i.assertString)(e,"URL");var n,c=function(e){return(e=e.trim()).includes("://")?{schemeMissing:!1,url:e}:{schemeMissing:!0,url:"none://".concat(e)}}(e),f=function(e){function t(e,t){var n=e.indexOf(t);return n>=0?[e.substring(0,n),e[n],e.substring(n+1)]:[e,"",""]}var n,i={};return":"===(n=t(e,":"))[1]&&(i.scheme=decodeURIComponent(n[0]),e=n[2]),"#"===(n=t(e,"#"))[1]&&(i.fragment=decodeURIComponent(n[2]),e=n[0]),"?"===(n=t(e,"?"))[1]&&(i.query=n[2],e=n[0]),e.startsWith("//")?(n=t(e.substr(2),"/"),(i=r(r({},i),function(e){var n,r={};"@"===(n=function(e){var t=e.lastIndexOf("@");return t>=0?[e.substring(0,t),e[t],e.substring(t+1)]:["","",e]}(e))[1]&&(r.userInfo=decodeURIComponent(n[0]),e=n[2]);var i=o(function(e){var n=t(e,"["),r=t(n[2],"]");return[r[0],r[2]]}(e),2),a=i[0],u=i[1];return""!==a?(r.host=a,n=t(u,":")):(n=t(e,":"),r.host=n[0]),":"===n[1]&&(r.port=n[2]),r}(n[0]))).path=n[1]+n[2]):i.path=e,i}(c.url),d=c.schemeMissing?null:function(e){return null!=e?(":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e):null}(f.scheme),h=function(e){if(null==e)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}(f.host),p=function(e){if(""===e||null==e)throw new Error("Illegal host ".concat(e));return e.includes(":")?s(e):e}(h),v=function(e,t){var n="string"==typeof e?parseInt(e,10):e;return null==n||isNaN(n)?l(t):n}(f.port,d),y="".concat(p,":").concat(v),g=function(e,t){var n=null!=e?function(e){return"?"===(null==(e=(null!=e?e:"").trim())?void 0:e.charAt(0))&&(e=e.substring(1,e.length)),e}(e):null,r={};return null!=n&&n.split("&").forEach(function(e){var n=e.split("=");if(2!==n.length)throw new Error("Invalid parameters: '".concat(n.toString(),"' in URL '").concat(t,"'."));var o=u(n[0],"key",t),i=u(n[1],"value",t);if(void 0!==r[o])throw new Error("Duplicated query parameters with key '".concat(o,"' in URL '").concat(t,"'"));r[o]=i}),r}(null!==(t=f.query)&&void 0!==t?t:"string"!=typeof(n=f.resourceName)?null:o(n.split("?"),2)[1],e);return new a(d,h,v,y,g)},t.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},t.formatIPv6Address=function(e,t){var n=s(e);return"".concat(n,":").concat(t)},t.defaultPortForScheme=l},481:(e,t,n)=>{e.exports=n(137)},489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=n(7961),o=n(7843),i=n(3111);t.timeInterval=function(e){return void 0===e&&(e=r.asyncScheduler),o.operate(function(t,n){var r=e.now();t.subscribe(i.createOperatorSubscriber(n,function(t){var o=e.now(),i=o-r;r=o,n.next(new a(t,i))}))})};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},490:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=n(7843),o=n(3111),i=n(1342);t.ignoreElements=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))})}},582:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=n(7843),o=n(3111),i=n(9445);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),r.operate(function(n,r){var a={buffer:[],complete:!1},u={buffer:[],complete:!1},s=function(e){r.next(e),r.complete()},l=function(e,n){var i=o.createOperatorSubscriber(r,function(r){var o=n.buffer,i=n.complete;0===o.length?i?s(!1):e.buffer.push(r):!t(r,o.shift())&&s(!1)},function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&s(0===r.length),null==i||i.unsubscribe()});return i};n.subscribe(l(a,u)),i.innerFrom(e).subscribe(l(u,a))})}},614:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={load:function(e){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,e]})})}}},715:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._offset=e||0}return e.prototype.next=function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},e}();t.default=n},754:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxConfig=void 0;var a=i(n(6587)),u=n(9691),s=n(3371),l=function(){function e(e,t){!function(e){null!=e&&a.assertObject(e,"Transaction config")}(e),this.timeout=function(e,t){if(a.isObject(e)&&null!=e.timeout){a.assertNumberOrInteger(e.timeout,"Transaction timeout"),function(e){return"number"==typeof e.timeout&&!Number.isInteger(e.timeout)}(e)&&!0===(null==t?void 0:t.isInfoEnabled())&&(null==t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up.")));var n=(0,s.int)(e.timeout,{ceilFloat:!0});if(n.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return n}return null}(e,t),this.metadata=function(e){if(a.isObject(e)&&null!=e.metadata){var t=e.metadata;if(a.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return Object.values(this).every(function(e){return null==e})},e}();t.TxConfig=l;var c=new l({})},766:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=n(2483),o=n(9247),i=n(1483);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new r.Subject)(e)}}},783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=n(7843),o=n(3111);t.filter=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}},827:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(5648).AsyncScheduler);t.AsapScheduler=o},844:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1711)),a=n(397),u=o(n(7449)),s=o(n(3321)),l=o(n(7021)),c=n(9014),f=n(9305).internal.constants.BOLT_PROTOCOL_V5_0,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,u=n.onError,s=n.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return t._onLoginCompleted(e,o,s)}});return(0,a.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(l.default.hello(r,o,this._serversideRouting),f,!0),f},t}(i.default);t.default=d},846:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=n(8616),o=n(7843),i=n(3111);t.take=function(e){return e<=0?function(){return r.EMPTY}:o.operate(function(t,n){var r=0;t.subscribe(i.createOperatorSubscriber(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},854:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=n(4662),o=n(7110);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable(function(n){o.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();o.executeSchedule(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}},914:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=n(7961),o=n(8766),i=n(4092);t.delay=function(e,t){void 0===t&&(t=r.asyncScheduler);var n=i.timer(e,t);return o.delayWhen(function(){return n})}},934:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(6345)),u=i(n(3019)),s=i(n(3321)),l=i(n(7021)),c=n(9014),f=n(9305).internal.constants,d=f.BOLT_PROTOCOL_V5_2,h=f.FETCH_ALL,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=(n.boltAgent,n.authToken),a=n.notificationFilter,u=n.onError,s=n.onComplete,f={},d=new c.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return f.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x2(r,a,this._serversideRouting),d,!1),this.logon({authToken:i,onComplete:function(e){return s(o(o({},e),f.metadata))},onError:u,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,f=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new c.ResultStreamObserver({server:this._server,beforeError:s,afterError:f,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(l.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,f=r.notificationFilter,d=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?h:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=new c.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C}),A=O;return this.write(l.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:f}),k,A&&_),O||this.write(l.default.pull({n:x}),k,_),k},t}(a.default);t.default=p},983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=n(5471),o=n(9445),i=n(7843),a=n(1983),u=n(1018);t.mergeMap=function e(t,n,s){return void 0===s&&(s=1/0),u.isFunction(n)?e(function(e,i){return r.map(function(t,r){return n(e,t,i,r)})(o.innerFrom(t(e,i)))},s):("number"==typeof n&&(s=n),i.operate(function(e,n){return a.mergeInternals(e,n,t,s)}))}},1004:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=n(1107),o=n(4917);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.popScheduler(e);return o.from(e,n)}},1018:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},1038:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=n(9139);t.count=function(e){return r.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}},1048:(e,t,n)=>{const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=u(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);const o=function(e){if(s.isBuffer(e)){const t=0|p(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?u(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),u(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=u(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<u;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===s)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){let n=!0;for(let r=0;r<s;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function _(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function O(e,t,n,r){return X(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return X(Y(t),e,n,r)}function x(e,t,n,r){return X(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,u,s;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(s=(31&t)<<6|63&n,s>127&&(i=s));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(s=(15&t)<<12|(63&n)<<6|63&r,s>2047&&(s<55296||s>57343)&&(i=s));break;case 4:n=e[o+1],r=e[o+2],u=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&u)&&(s=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&u,s>65535&&s<1114112&&(i=s))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}(e,t,n)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=s.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))o+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,o){if(K(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const u=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n);for(let s=0;s<u;++s)if(l[s]!==c[s]){i=l[s],a=c[s];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return O(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=$[e[i]];return o}function j(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),s.prototype.readBigUInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),s.prototype.readBigInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Q(function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Q(function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Q(function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=s.isBuffer(e)?e:s.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const U={};function B(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(i+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(i+1)-1).concat(r,") and < 2 ** ").concat(8*(i+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=z(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),r+=" It must be ".concat(t,". Received ").concat(o),r},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const $=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},1053:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rawPolyfilledDiagnosticRecord=void 0,t.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(t.rawPolyfilledDiagnosticRecord)},1074:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},1092:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(6377)),a=o(n(6161)),u=o(n(3321)),s=o(n(7021)),l=n(9014),c=n(9305).internal.constants,f=c.BOLT_PROTOCOL_V5_8,d=c.FETCH_ALL,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(a.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,c=r.impersonatedUser,f=r.notificationFilter,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?d:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=r.onDb,A=new l.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata,onDb:k}),j=O;return this.write(s.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:c,notificationFilter:f}),A,j&&_),O||this.write(s.default.pull({n:x}),A,_),A},t}(i.default);t.default=h},1103:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=n(4662),o=n(1018);t.throwError=function(e,t){var n=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},1107:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=n(1018),o=n(8613);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return r.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},1116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=n(3327),o=n(1018);t.isInteropObservable=function(e){return o.isFunction(e[r.observable])}},1141:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=n(2483),o=n(7843),i=n(3111),a=n(9445);t.windowWhen=function(e){return o.operate(function(t,n){var o,u,s=function(e){o.error(e),n.error(e)},l=function(){var t;null==u||u.unsubscribe(),null==o||o.complete(),o=new r.Subject,n.next(o.asObservable());try{t=a.innerFrom(e())}catch(e){return void s(e)}t.subscribe(u=i.createOperatorSubscriber(n,l,l,s))};l(),t.subscribe(i.createOperatorSubscriber(n,function(e){return o.next(e)},function(){o.complete(),n.complete()},s,function(){null==u||u.unsubscribe(),o=null}))})}},1175:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3448));t.default=r({},i.default)},1187:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundRelationship=t.Relationship=t.Node=t.Record=t.ServerInfo=t.GqlStatusObject=t.Notification=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ResultSummary=t.RxResult=t.RxManagedTransaction=t.RxTransaction=t.RxSession=t.EagerResult=t.Result=t.ManagedTransaction=t.Transaction=t.Session=t.Driver=t.temporal=t.spatial=t.graph=t.error=t.routing=t.session=t.types=t.logging=t.auth=t.isRetryableError=t.Neo4jError=t.integer=t.isUnboundRelationship=t.isRelationship=t.isPathSegment=t.isPath=t.isNode=t.isDateTime=t.isLocalDateTime=t.isDate=t.isTime=t.isLocalTime=t.isDuration=t.isPoint=t.isInt=t.int=t.hasReachableServer=t.driver=t.authTokenManagers=void 0,t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.bookmarkManager=t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=t.Integer=t.Point=t.PathSegment=t.Path=void 0;var a=n(7857);Object.defineProperty(t,"Driver",{enumerable:!0,get:function(){return a.Driver}});var u=i(n(3659)),s=n(9305);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return s.authTokenManagers}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return s.isRetryableError}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return s.Integer}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return s.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(t,"Record",{enumerable:!0,get:function(){return s.Record}}),Object.defineProperty(t,"ResultSummary",{enumerable:!0,get:function(){return s.ResultSummary}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return s.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return s.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return s.QueryStatistics}}),Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return s.Notification}}),Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return s.GqlStatusObject}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return s.ServerInfo}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}}),Object.defineProperty(t,"EagerResult",{enumerable:!0,get:function(){return s.EagerResult}}),Object.defineProperty(t,"auth",{enumerable:!0,get:function(){return s.auth}}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return s.Session}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return s.Transaction}}),Object.defineProperty(t,"ManagedTransaction",{enumerable:!0,get:function(){return s.ManagedTransaction}}),Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return s.bookmarkManager}}),Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return s.routing}}),Object.defineProperty(t,"resultTransformers",{enumerable:!0,get:function(){return s.resultTransformers}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return s.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return s.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return s.notificationSeverityLevel}}),Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return s.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return s.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return s.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return s.clientCertificateProviders}});var l=n(6672),c=i(n(3466));t.RxSession=c.default;var f=i(n(5742));t.RxTransaction=f.default;var d=i(n(1530));t.RxManagedTransaction=d.default;var h=i(n(3057));t.RxResult=h.default;var p=s.internal.util,v=p.ENCRYPTION_ON,y=p.assertString,g=p.isEmptyObjectOrNull,m=s.internal.serverAddress.ServerAddress,b=s.internal.urlUtil,_="neo4j-javascript/"+u.default;function w(e,t,n){void 0===n&&(n={}),y(e,"Bolt URL");var r,o=b.parseDatabaseUrl(e),i=!1,c=!1;switch(o.scheme){case"bolt":break;case"bolt+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":c=!0,r="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":c=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":c=!0,r="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(o.scheme))}if(c){if("encrypted"in n||"trust"in n)throw new Error("Encryption/trust can only be configured either through URL or config, not both");n.encrypted=v,n.trust=r,n.clientCertificate=(0,s.resolveCertificateProvider)(n.clientCertificate)}var f=function(e){if("object"==typeof(t=e)&&null!=t&&"getToken"in t&&"handleSecurityException"in t&&"function"==typeof t.getToken&&"function"==typeof t.handleSecurityException)return e;var t,n=e;return(n=n||{}).scheme=n.scheme||"none",(0,s.staticAuthTokenManager)({authToken:n})}(t);n.userAgent=n.userAgent||_,n.boltAgent=s.internal.boltAgent.fromVersion(u.default);var d=m.fromUrl(o.hostAndPort),h={address:d,typename:i?"Routing":"Direct",routing:i};return new a.Driver(h,n,function(){if(i)return function(e,t,n,r){return new l.RoutingConnectionProvider({id:e,config:t,log:n,hostNameResolver:r,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:o.query})};if(!g(o.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"));return function(e,t,n){return new l.DirectConnectionProvider({id:e,config:t,log:n,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent})}}())}function O(e,t){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:n=w(e,{scheme:"none",principal:"",credentials:""},t),r.label=1;case 1:return r.trys.push([1,,3,5]),[4,n.getNegotiatedProtocolVersion()];case 2:return r.sent(),[2,!0];case 3:return[4,n.close()];case 4:return r.sent(),[7];case 5:return[2]}})})}t.driver=w,t.hasReachableServer=O;var E={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(n.g.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}};t.logging=E;var x={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,EagerResult:s.EagerResult,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer};t.types=x;var S={READ:a.READ,WRITE:a.WRITE};t.session=S;var P={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange};t.integer=P;var T={isPoint:s.isPoint};t.spatial=T;var C={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};t.temporal=C;var k={isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship};t.graph=k;var A={authTokenManagers:s.authTokenManagers,driver:w,hasReachableServer:O,int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship,integer:P,Neo4jError:s.Neo4jError,isRetryableError:s.isRetryableError,auth:s.auth,logging:E,types:x,session:S,routing:s.routing,error:s.error,graph:k,spatial:T,temporal:C,Driver:a.Driver,Session:s.Session,Transaction:s.Transaction,ManagedTransaction:s.ManagedTransaction,Result:s.Result,EagerResult:s.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:d.default,RxResult:h.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,GqlStatusObject:s.GqlStatusObject,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime,bookmarkManager:s.bookmarkManager,resultTransformers:s.resultTransformers,notificationCategory:s.notificationCategory,notificationSeverityLevel:s.notificationSeverityLevel,notificationFilterDisabledCategory:s.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:s.notificationFilterMinimumSeverityLevel,clientCertificateProviders:s.clientCertificateProviders};t.default=A},1226:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var i=n(8535),a=n(6102);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,o([e],r(n)))}}t.onErrorResumeNextWith=u,t.onErrorResumeNext=u},1242:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var o=n(2483),i=n(9568),a=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return r(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),u=0,s=1;s<r.length&&r[s]<=a;s+=2)u=s;u&&r.splice(0,u+1)}},t}(o.Subject);t.ReplaySubject=a},1251:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=n(5471),a=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map(function(t){return function(e,t){return a(t)?e.apply(void 0,o([],r(t))):e(t)}(e,t)})}},1293:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(5648).AsyncScheduler);t.QueueScheduler=o},1342:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},1358:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=n(1018);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&r.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1409:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.beginTransaction=function(e){throw new Error("Not implemented")},e.prototype.run=function(e,t,n){throw new Error("Not implemented")},e.prototype.commitTransaction=function(e){throw new Error("Not implemented")},e.prototype.rollbackTransaction=function(e){throw new Error("Not implemented")},e.prototype.resetAndFlush=function(){throw new Error("Not implemented")},e.prototype.isOpen=function(){throw new Error("Not implemented")},e.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},e}();t.default=n},1415:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=n(9139),o=n(1018);t.max=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},1439:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var i=n(8613),a=n(4662),u=n(8960),s=n(1251),l=n(5184),c=n(95);t.bindCallbackInternals=function e(t,n,f,d){if(f){if(!i.isScheduler(f))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n,d).apply(this,r).pipe(s.mapOneOrManyArgs(f))};d=f}return d?function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,n).apply(this,r).pipe(u.subscribeOn(d),l.observeOn(d))}:function(){for(var e=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var s=new c.AsyncSubject,l=!0;return new a.Observable(function(a){var u=s.subscribe(a);if(l){l=!1;var c=!1,f=!1;n.apply(e,o(o([],r(i)),[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=e.shift();if(null!=r)return void s.error(r)}s.next(1<e.length?e:e[0]),f=!0,c&&s.complete()}])),f&&s.complete(),c=!0}return u})}}},1483:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=n(2483),o=n(9445),i=n(7843),a=n(6824),u={connector:function(){return new r.Subject}};t.connect=function(e,t){void 0===t&&(t=u);var n=t.connector;return i.operate(function(t,r){var i=n();o.innerFrom(e(a.fromSubscribable(i))).subscribe(r),r.add(t.subscribe(i))})}},1505:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=n(5568);t.SequenceError=r.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})},1517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=void 0;var r=n(4027),o={value:!0,enumerable:!1,configurable:!1,writable:!1},i="__isNode__",a="__isRelationship__",u="__isUnboundRelationship__",s="__isPath__",l="__isPathSegment__";function c(e,t){return null!=e&&!0===e[t]}var f=function(){function e(e,t,n,r){this.identity=e,this.labels=t,this.properties=n,this.elementId=y(r,function(){return e.toString()})}return e.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var n=Object.keys(this.properties);if(n.length>0){for(e+=" {",t=0;t<n.length;t++)t>0&&(e+=","),e+=n[t]+":"+(0,r.stringify)(this.properties[n[t]]);e+="}"}return e+")"},e}();t.Node=f,Object.defineProperty(f.prototype,i,o),t.isNode=function(e){return c(e,i)};var d=function(){function e(e,t,n,r,o,i,a,u){this.identity=e,this.start=t,this.end=n,this.type=r,this.properties=o,this.elementId=y(i,function(){return e.toString()}),this.startNodeElementId=y(a,function(){return t.toString()}),this.endNodeElementId=y(u,function(){return n.toString()})}return e.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+"]->("+this.endNodeElementId+")"},e}();t.Relationship=d,Object.defineProperty(d.prototype,a,o),t.isRelationship=function(e){return c(e,a)};var h=function(){function e(e,t,n,r){this.identity=e,this.type=t,this.properties=n,this.elementId=y(r,function(){return e.toString()})}return e.prototype.bind=function(e,t){return new d(this.identity,e,t,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(e,t){return new d(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},e.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var n=0;n<t.length;n++)n>0&&(e+=","),e+=t[n]+":"+(0,r.stringify)(this.properties[t[n]]);e+="}"}return e+"]->"},e}();t.UnboundRelationship=h,Object.defineProperty(h.prototype,u,o),t.isUnboundRelationship=function(e){return c(e,u)};var p=function(e,t,n){this.start=e,this.relationship=t,this.end=n};t.PathSegment=p,Object.defineProperty(p.prototype,l,o),t.isPathSegment=function(e){return c(e,l)};var v=function(e,t,n){this.start=e,this.end=t,this.segments=n,this.length=n.length};function y(e,t){return null==e?t():e}t.Path=v,Object.defineProperty(v.prototype,s,o),t.isPath=function(e){return c(e,s)}},1518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=n(7843),o=n(3111);t.pairwise=function(){return r.operate(function(e,t){var n,r=!1;e.subscribe(o.createOperatorSubscriber(t,function(e){var o=n;n=e,r&&t.next([o,e]),r=!0}))})}},1530:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3057)),r(n(5742));var o=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=o},1551:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=n(2752);t.exhaust=r.exhaustAll},1554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=n(7961),o=n(1074),i=n(7843),a=n(9445),u=n(5568),s=n(3111),l=n(7110);function c(e){throw new t.TimeoutError(e)}t.TimeoutError=u.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),t.timeout=function(e,t){var n=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,u=n.first,f=n.each,d=n.with,h=void 0===d?c:d,p=n.scheduler,v=void 0===p?null!=t?t:r.asyncScheduler:p,y=n.meta,g=void 0===y?null:y;if(null==u&&null==f)throw new TypeError("No timeout provided.");return i.operate(function(e,t){var n,r,o=null,i=0,c=function(e){r=l.executeSchedule(t,v,function(){try{n.unsubscribe(),a.innerFrom(h({meta:g,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe(s.createOperatorSubscriber(t,function(e){null==r||r.unsubscribe(),i++,t.next(o=e),f>0&&c(f)},void 0,void 0,function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null})),!i&&c(null!=u?"number"==typeof u?u:+u-v.now():f)})}},1573:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(8917)),u=n(9691),s=new(function(){function e(){}return e.prototype.eagerResultTransformer=function(){return l},e.prototype.eager=function(){return l},e.prototype.mappedResultTransformer=function(e){return c(e)},e.prototype.mapped=function(e){return c(e)},e.prototype.first=function(){return f},e.prototype.summary=function(){return d},e}());function l(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,e];case 1:return t=o.sent(),n=t.summary,r=t.records,[4,e.keys()];case 2:return i=o.sent(),[2,new a.default(i,r,n)]}})})}function c(e){var t=this;if(null==e||null==e.collect&&null==e.map)throw(0,u.newError)("Requires a map or/and a collect functions.");return function(n){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){var o={records:[],keys:[]};n.subscribe({onKeys:function(e){o.keys=e},onNext:function(t){if(null!=e.map){var n=e.map(t);void 0!==n&&o.records.push(n)}else o.records.push(t)},onCompleted:function(n){if(null!=e.collect)t(e.collect(o.records,n,o.keys));else{var r={records:o.records,summary:n,keys:o.keys};t(r)}},onError:function(e){r(e)}})})];case 1:return[2,t.sent()]}})})}}function f(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,(t=e[Symbol.asyncIterator]()).next()];case 1:n=o.sent(),r=n.value,i=n.done,o.label=2;case 2:return o.trys.push([2,,3,6]),!0===i?[2,void 0]:[2,r];case 3:return null==t.return?[3,5]:[4,t.return()];case 4:o.sent(),o.label=5;case 5:return[7];case 6:return[2]}})})}function d(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e.summary()];case 1:return[2,t.sent()]}})})}Object.freeze(s),t.default=s},1637:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var o=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(2483).Subject);t.BehaviorSubject=o},1656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=n(9567),o=n(9589),i=n(6985),a=n(8808),u=n(854),s=n(1116),l=n(7629),c=n(8046),f=n(6368),d=n(1358),h=n(7614),p=n(9137),v=n(4953);t.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return r.scheduleObservable(e,t);if(c.isArrayLike(e))return i.scheduleArray(e,t);if(l.isPromise(e))return o.schedulePromise(e,t);if(d.isAsyncIterable(e))return u.scheduleAsyncIterable(e,t);if(f.isIterable(e))return a.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw h.createInvalidObservableTypeError(e)}},1699:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(245),o=n(783),i=n(9445);t.partition=function(e,t,n){return[o.filter(t,n)(i.innerFrom(e)),o.filter(r.not(t,n))(i.innerFrom(e))]}},1711:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(9054)),u=n(9305),s=i(n(7021)),l=n(9014),c=n(397),f=i(n(7518)),d=i(n(5045)),h=i(n(3321)),p=u.internal.constants,v=p.BOLT_PROTOCOL_V4_4,y=p.FETCH_ALL,g=u.internal.bookmarks.Bookmarks,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.impersonatedUser,a=void 0===i?null:i,u=e.sessionContext,c=void 0===u?{}:u,f=e.onError,d=e.onCompleted,h=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:f,onCompleted:d}),p=c.bookmarks||g.empty();return this.write(s.default.routeV4x4(n,p.values(),{databaseName:o,impersonatedUser:a}),h,!0),h},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,f=r.impersonatedUser,d=r.notificationFilter,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,g=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,O=r.reactive,E=void 0!==O&&O,x=r.fetchSize,S=void 0===x?y:x,P=r.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:v,afterError:g,beforeComplete:m,afterComplete:b,highRecordWatermark:T,lowRecordWatermark:k});(0,c.assertNotificationFilterIsEmpty)(d,this._onProtocolError,A);var j=E;return this.write(s.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:f}),A,j&&w),E||this.write(s.default.pull({n:S}),A,w),A},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,c.assertNotificationFilterIsEmpty)(u,this._onProtocolError,v),this.write(s.default.begin({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a}),v,!0),v},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new h.default(Object.values(o(o({},f.default),d.default)).map(function(t){return t(e._config,e._log)}))},t}(a.default);t.default=m},1731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=n(9445),o=n(7843),i=n(1342),a=n(3111);t.sample=function(e){return o.operate(function(t,n){var o=!1,u=null;t.subscribe(a.createOperatorSubscriber(n,function(e){o=!0,u=e})),r.innerFrom(e).subscribe(a.createOperatorSubscriber(n,function(){if(o){o=!1;var e=u;u=null,n.next(e)}},i.noop))})}},1751:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var r=n(4662),o=n(1018);t.isObservable=function(e){return!!e&&(e instanceof r.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},1759:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=n(5568);t.NotFoundError=r.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})},1776:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=n(3865),a=n(1004);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,a.of.apply(void 0,o([],r(e))))}}},1803:e=>{var t,n,r=document.attachEvent,o=!1;function i(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function a(e){var t=this;i(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=u(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}if(!r){var u=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return n(e)}),s=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)}),l=!1,c="",f="animationstart",d="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(l=!0),!1===l)for(var v=0;v<d.length;v++)if(void 0!==p.style[d[v]+"AnimationName"]){c="-"+d[v].toLowerCase()+"-",f=h[v],l=!0;break}var y="resizeanim",g="@"+c+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",m=c+"animation: 1ms "+y+"; "}e.exports=function(e,t){return r?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!o){var e=(g||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),o=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",a,!0),f&&e.__resizeTriggers__.addEventListener(f,function(t){t.animationName==y&&i(e)})),e.__resizeListeners__.push(t)),function(){r?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",a),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}},1839:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9305),a=n(6781),u=function(){function e(e){var t=e.authTokenManager,n=e.userAgent,r=e.boltAgent;this._authTokenManager=t||(0,i.staticAuthTokenManager)({}),this._userAgent=n,this._boltAgent=r}return e.prototype.authenticate=function(e){var t=e.connection,n=e.auth,i=e.skipReAuth,u=e.waitReAuth,s=e.forceReAuth;return r(this,void 0,void 0,function(){var e,r;return o(this,function(o){switch(o.label){case 0:return null==n?[3,3]:(e=!0===t.supportsReAuth&&(!a.object.equals(t.authToken,n)&&!0!==i||!0===s),null==t.authToken||e?[4,t.connect(this._userAgent,this._boltAgent,n,u||!1)]:[3,2]);case 1:case 5:return[2,o.sent()];case 2:case 6:return[2,t];case 3:return[4,this._authTokenManager.getToken()];case 4:return r=o.sent(),a.object.equals(r,t.authToken)?[3,6]:[4,t.connect(this._userAgent,this._boltAgent,r,!1)]}})})},e.prototype.handleError=function(e){var t=e.connection,n=e.code;return!(!t||!n.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,n)},e}();t.default=u},1866:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNotificationsFromMetadata=t.buildGqlStatusObjectFromMetadata=t.polyfillNotification=t.polyfillGqlStatusObject=t.GqlStatusObject=t.Notification=t.notificationClassification=t.notificationCategory=t.notificationSeverityLevel=void 0;var l=a(n(4027)),c=n(6995),f=n(1053),d={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},h={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};t.notificationSeverityLevel=h,Object.freeze(h);var p=Object.values(h),v={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};t.notificationCategory=v,Object.freeze(v);var y=Object.values(v),g=v;t.notificationClassification=g;var m=function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=S(e.position),this.severityLevel=P(e.severity),this.rawSeverityLevel=e.severity,this.category=T(e.category),this.rawCategory=e.category};t.Notification=m;var b=function(){function e(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!==(t=e.diagnostic_record)&&void 0!==t?t:{},this.position=null!=this.diagnosticRecord._position?S(this.diagnosticRecord._position):void 0,this.severity=P(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=T(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}return Object.defineProperty(e.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),e}();function _(e){var t,n,r;if(null!=e.neo4j_code)return new m({code:e.neo4j_code,title:e.title,description:e.description,severity:null===(t=e.diagnostic_record)||void 0===t?void 0:t._severity,category:null===(n=e.diagnostic_record)||void 0===n?void 0:n._classification,position:null===(r=e.diagnostic_record)||void 0===r?void 0:r._position})}function w(e){var t,n=e.severity===h.WARNING?d.WARNING:d.INFORMATION,o={gql_status:n.gql_status,status_description:null!==(t=e.description)&&void 0!==t?t:n.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:r({},f.rawPolyfilledDiagnosticRecord)};return null!=e.severity&&(o.diagnostic_record._severity=e.severity),null!=e.category&&(o.diagnostic_record._classification=e.category),null!=e.position&&(o.diagnostic_record._position=e.position),new b(o)}t.GqlStatusObject=b,t.polyfillNotification=_,t.polyfillGqlStatusObject=w;var O={SUCCESS:new b({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new b({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new b(r(r({},d.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new b({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(O),t.buildGqlStatusObjectFromMetadata=function(e){var t,n;if(null!=e.statuses)return e.statuses.map(function(e){return new b(e)});var r,o=!0===(null==(r=e.stream_summary)?void 0:r.have_records_streamed)?O.SUCCESS:!1===(null==r?void 0:r.has_keys)?O.OMITTED_RESULT:!0===(null==r?void 0:r.pulled)?O.NO_DATA:O.NO_DATA_UNKNOWN_SUBCONDITION;return s([o],u(null!==(n=null===(t=e.notifications)||void 0===t?void 0:t.map(w))&&void 0!==n?n:[]),!1).sort(function(e,t){return x(e)-x(t)})};var E=Object.freeze({"02":0,"01":1,"00":2});function x(e){var t,n,r=null===(t=e.gqlStatus)||void 0===t?void 0:t.slice(0,2);return null!==(n=E[r])&&void 0!==n?n:9999}function S(e){return null==e?{}:{offset:c.util.toNumber(e.offset),line:c.util.toNumber(e.line),column:c.util.toNumber(e.column)}}function P(e){return p.includes(e)?e:h.UNKNOWN}function T(e){return y.includes(e)?e:g.UNKNOWN}t.buildNotificationsFromMetadata=function(e){return null!=e.notifications?e.notifications.map(function(e){return new m(e)}):null!=e.statuses?e.statuses.map(_).filter(function(e){return null!=e}):[]},t.default=m},1964:(e,t)=>{function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=n,t.iterator=n()},1967:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9691),o=n(4027),i={basic:function(e,t,n){return null!=n?{scheme:"basic",principal:e,credentials:t,realm:n}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,n,i,u){var s={scheme:i,principal:e};if(a(t)&&(s.credentials=t),a(n)&&(s.realm=n),a(u)){try{(0,o.stringify)(u)}catch(e){throw(0,r.newError)("Circular references in custom auth token parameters",void 0,e)}s.parameters=u}return s}};function a(e){return!(null==e||""===e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.keys(e).length)}t.default=i},1983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=n(9445),o=n(7110),i=n(3111);t.mergeInternals=function(e,t,n,a,u,s,l,c){var f=[],d=0,h=0,p=!1,v=function(){!p||f.length||d||t.complete()},y=function(e){return d<a?g(e):f.push(e)},g=function(e){s&&t.next(e),d++;var c=!1;r.innerFrom(n(e,h++)).subscribe(i.createOperatorSubscriber(t,function(e){null==u||u(e),s?y(e):t.next(e)},function(){c=!0},void 0,function(){if(c)try{d--;for(var e=function(){var e=f.shift();l?o.executeSchedule(t,l,function(){return g(e)}):g(e)};f.length&&d<a;)e();v()}catch(e){t.error(e)}}))};return e.subscribe(i.createOperatorSubscriber(t,y,function(){p=!0,v()})),function(){null==c||c()}}},1985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationFilterMinimumSeverityLevel=void 0;var n={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};t.notificationFilterMinimumSeverityLevel=n,Object.freeze(n);var r={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};t.notificationFilterDisabledCategory=r,Object.freeze(r);var o=r;t.notificationFilterDisabledClassification=o,t.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},2007:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=void 0;var n=function(){function e(){}return e.prototype.release=function(){throw new Error("Not implemented")},e}();t.Releasable=n;var r=function(){function e(){}return e.prototype.acquireConnection=function(e){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},e.prototype.SSREnabled=function(){return!1},e.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},e.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();t.default=r},2063:e=>{e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},2066:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1175));t.default=r({},i.default)},2069:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.staticAuthTokenManager=t.authTokenManagers=t.AuthTokenAndExpiration=void 0;var a=i(n(1967)),u=n(6995),s=function(){function e(){}return e.prototype.getToken=function(){throw new Error("Not Implemented")},e.prototype.handleSecurityException=function(e,t){throw new Error("Not implemented")},e}();t.default=s,t.AuthTokenAndExpiration=function(){this.token=a.default.none(),this.expiration=void 0};var l=new(function(){function e(){}return e.prototype.bearer=function(e){var t=e.tokenProvider;if("function"!=typeof t)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof t));return new f(t,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},e.prototype.basic=function(e){var t=this,n=e.tokenProvider;if("function"!=typeof n)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof n));return new f(function(){return r(t,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e={},[4,n()];case 1:return[2,(e.token=t.sent(),e)]}})})},["Neo.ClientError.Security.Unauthorized"])},e}());t.authTokenManagers=l,Object.freeze(l),t.staticAuthTokenManager=function(e){var t=e.authToken;return new d(t)};var c=function(){function e(e){void 0===e&&(e=[]),this._subscribers=e}return e.prototype.subscribe=function(e){this._subscribers.push(e)},e.prototype.onCompleted=function(e){this._subscribers.forEach(function(t){return t.onCompleted(e)})},e.prototype.onError=function(e){this._subscribers.forEach(function(t){return t.onError(e)})},e}(),f=function(){function e(e,t,n,r){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=n,this._refreshObservable=r}return e.prototype.getToken=function(){var e;return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,null===(e=this._currentAuthData)||void 0===e?void 0:e.token]}})})},e.prototype.handleSecurityException=function(e,t){var n;return!!this._handledSecurityCodes.includes(t)&&(u.util.equals(e,null===(n=this._currentAuthData)||void 0===n?void 0:n.token)&&this._scheduleRefreshAuthToken(),!0)},e.prototype._scheduleRefreshAuthToken=function(e){var t=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(e){var n;t._currentAuthData=e,null===(n=t._refreshObservable)||void 0===n||n.onCompleted(e)}).catch(function(e){var n;null===(n=t._refreshObservable)||void 0===n||n.onError(e)}).finally(function(){t._refreshObservable=void 0})),void 0!==e&&this._refreshObservable.subscribe(e)},e.prototype._refreshAuthToken=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){e._scheduleRefreshAuthToken({onCompleted:t,onError:n})})];case 1:return[2,t.sent()]}})})},e}(),d=function(){function e(e){this._authToken=e}return e.prototype.getToken=function(){return this._authToken},e.prototype.handleSecurityException=function(e,t){return!1},e}()},2072:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var u=a(n(5361)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t}(u.Packer);t.Packer=s;var l=function(e){function t(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),e.call(this,t,n)||this}return r(t,e),t}(u.Unpacker);t.Unpacker=l},2129:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=n(7843),o=n(3111);t.takeWhile=function(e,t){return void 0===t&&(t=!1),r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()}))})}},2171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=n(245),o=n(783);t.partition=function(e,t){return function(n){return[o.filter(e,t)(n),o.filter(r.not(e,t))(n)]}}},2199:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.resolve=function(e){return this._resolveToItself(e)},t}(n(9305).internal.resolver.BaseHostNameResolver);t.default=o},2204:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3019));t.default=r({},i.default)},2343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=n(9139),o=n(7843),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate(function(e,t){r.reduce(i,[])(e).subscribe(t)})}},2360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=n(7800),o=n(7843),i=n(3111);t.materialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){t.next(r.Notification.createNext(e))},function(){t.next(r.Notification.createComplete()),t.complete()},function(e){t.next(r.Notification.createError(e)),t.complete()}))})}},2363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=r.error.SERVICE_UNAVAILABLE,i=r.error.SESSION_EXPIRED,a=function(){function e(e,t,n,r){this._errorCode=e,this._handleUnavailability=t||u,this._handleWriteFailure=n||u,this._handleSecurityError=r||u}return e.create=function(t){return new e(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleSecurityError)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(e,t,n){return function(e){return null!=e&&null!=e.code&&e.code.startsWith("Neo.ClientError.Security.")}(e)?this._handleSecurityError(e,t,n):function(e){return!!e&&(e.code===i||e.code===o||"Neo.TransientError.General.DatabaseUnavailable"===e.code)}(e)?this._handleUnavailability(e,t,n):function(e){return!!e&&("Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code)}(e)?this._handleWriteFailure(e,t,n):e},e}();function u(e){return e}t.default=a},2481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=r.internal.util,i=o.ENCRYPTION_OFF,a=o.ENCRYPTION_ON,u=r.error.SERVICE_UNAVAILABLE,s=[null,void 0,!0,!1,a,i],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];t.default=function(e,t,n,o){this.address=e,this.encrypted=function(e){var t=e.encrypted;if(-1===s.indexOf(t))throw(0,r.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(s));return t}(t),this.trust=function(e){var t=e.trust;if(-1===l.indexOf(t))throw(0,r.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(l));return t}(t),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(t),this.knownHostsPath=function(e){return e.knownHosts||null}(t),this.connectionErrorCode=n||u,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=o}},2483:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var i=n(4662),a=n(8014),u=n(9686),s=n(7479),l=n(9223),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=o(t.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;l.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;l.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new a.Subscription(function(){t.currentObservers=null,s.arrRemove(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=c;var f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.EMPTY_SUBSCRIPTION},t}(c);t.AnonymousSubject=f},2533:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(715)),a=function(e){function t(t){var n=e.call(this)||this;return n._readersIndex=new i.default,n._writersIndex=new i.default,n._connectionPool=t,n}return r(t,e),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,t){var n=e.length;if(0===n)return null;var r=t.next(n),o=r,i=null,a=Number.MAX_SAFE_INTEGER;do{var u=e[o],s=this._connectionPool.activeResourceCount(u);s<a&&(i=u,a=s),o===n-1?o=0:o++}while(o!==r);return i},t}(o(n(4311)).default);t.default=a},2539:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(5642)),u=i(n(7021)),s=n(397),l=n(9014),c=i(n(2066)),f=i(n(3321)),d=n(9305),h=(d.internal.bookmarks.Bookmarks,d.internal.constants),p=h.BOLT_PROTOCOL_V4_0,v=h.FETCH_ALL,y=d.internal.txConfig.TxConfig,g="context",m="database",b="CALL dbms.routing.getRoutingTable($".concat(g,", $").concat(m,")"),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,c=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,s.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,s.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,database:o,mode:c}),v,!0),v},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,c=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,y=r.beforeError,g=r.afterError,m=r.beforeComplete,b=r.afterComplete,_=r.flush,w=void 0===_||_,O=r.reactive,E=void 0!==O&&O,x=r.fetchSize,S=void 0===x?v:x,P=r.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,C=r.lowRecordWatermark,k=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:y,afterError:g,beforeComplete:m,afterComplete:b,highRecordWatermark:T,lowRecordWatermark:k});(0,s.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,A),(0,s.assertNotificationFilterIsEmpty)(f,this._onProtocolError,A);var j=E;return this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:d}),A,j&&w),E||this.write(u.default.pull({n:S}),A,w),A},t.prototype._requestMore=function(e,t,n){this.write(u.default.pull({stmtId:e,n:t}),n,!0)},t.prototype._requestDiscard=function(e,t){this.write(u.default.discard({stmtId:e}),t,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,i=e.databaseName,a=void 0===i?null:i,u=e.sessionContext,s=void 0===u?{}:u,c=e.onError,f=e.onCompleted,d=this.run(b,((t={})[g]=r,t[m]=a,t),o(o({},s),{txConfig:y.empty()}));return new l.ProcedureRouteObserver({resultObserver:d,onProtocolError:this._onProtocolError,onError:c,onCompleted:f})},t}(a.default);t.default=_},2551:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=n(3247),a=n(7843),u=n(8535),s=n(1251),l=n(2706),c=n(1107);t.combineLatest=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var f=c.popResultSelector(t);return f?l.pipe(e.apply(void 0,o([],r(t))),s.mapOneOrManyArgs(f)):a.operate(function(e,n){i.combineLatestInit(o([e],r(u.argsOrArgArray(t))))(n)})}},2578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305);function o(){}function i(e){return e}var a={onNext:o,onCompleted:o,onError:o},u=function(){function e(e){var t=void 0===e?{}:e,n=t.transformMetadata,r=t.enrichErrorMetadata,a=t.log,u=t.observer;this._pendingObservers=[],this._log=a,this._transformMetadata=n||i,this._enrichErrorMetadata=r||i,this._observer=Object.assign({onObserversCountChange:o,onError:o,onFailure:o,onErrorApplyTransformation:i},u)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(r.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(r.json.stringify(e)));try{var n=this._transformMetadata(t);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(r.json.stringify(e)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(t)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(r.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,r.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,r.newError)("Unknown Bolt protocol message: "+e))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(e.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),e.prototype._queueObserver=function(e){return(e=e||a).onCompleted=e.onCompleted||o,e.onError=e.onError||o,e.onNext=e.onNext||o,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},e.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},e.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e.prototype._handleErrorPayload=function(e){var t,n="Neo.TransientError.Transaction.Terminated"===(t=e.code)?"Neo.ClientError.Transaction.Terminated":"Neo.TransientError.Transaction.LockClientStopped"===t?"Neo.ClientError.Transaction.LockClientStopped":t,o=null!=e.cause?this._handleErrorCause(e.cause):void 0,i=(0,r.newError)(e.message,n,o,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(i)},e.prototype._handleErrorCause=function(e){var t=null!=e.cause?this._handleErrorCause(e.cause):void 0,n=(0,r.newGQLError)(e.message,t,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(n)},e}();t.default=u},2628:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var o=n(5267),i=n(9507),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=i.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var a=t.actions;null!=n&&n===t._scheduled&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==n&&(i.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},t}(o.AsyncAction);t.AnimationFrameAction=a},2669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=n(9139),o=n(1018);t.min=function(e){return r.reduce(o.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},2696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FailedObserver=t.CompletedObserver=void 0;var n=function(){function e(){}return e.prototype.subscribe=function(e){o(e,e.onKeys,[]),o(e,e.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(e){throw new Error("CompletedObserver not supposed to call onError",{cause:e})},e}();t.CompletedObserver=n;var r=function(){function e(e){var t=e.error,n=e.onError;this._error=t,this._beforeError=n,this._observers=[],this.onError(t)}return e.prototype.subscribe=function(e){o(e,e.onError,this._error),this._observers.push(e)},e.prototype.onError=function(e){o(this,this._beforeError,e),this._observers.forEach(function(t){return o(t,t.onError,e)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();function o(e,t,n){null!=t&&t.bind(e)(n)}t.FailedObserver=r},2706:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=n(6640);function o(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},2713:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var r=n(1439);t.bindCallback=function(e,t,n){return r.bindCallbackInternals(!1,e,t,n)}},2752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=n(4753),o=n(6640);t.exhaustAll=function(){return r.exhaustMap(o.identity)}},2823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=n(5568);t.EmptyError=r.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})},2833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var r=n(7302),o=n(9445),i=n(8616),a=n(1107),u=n(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popScheduler(e),s=a.popNumber(e,1/0),l=e;return l.length?1===l.length?o.innerFrom(l[0]):r.mergeAll(s)(u.from(l,n)):i.EMPTY}},2857:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(8320)),a=o(n(7168)),u=n(9305),s=o(n(3448)),l=o(n(3321)),c=u.internal.constants.BOLT_PROTOCOL_V2,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._createPacker=function(e){return new a.default.Packer(e)},t.prototype._createUnpacker=function(e,t){return new a.default.Unpacker(e,t)},Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),t}(i.default);t.default=f},2886:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var r=n(4212),o=n(1293);t.queueScheduler=new o.QueueScheduler(r.QueueAction),t.queue=t.queueScheduler},2906:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_SIZE=t.DEFAULT_ACQUISITION_TIMEOUT=t.PoolConfig=t.Pool=void 0;var u=i(n(7589));t.PoolConfig=u.default,Object.defineProperty(t,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var s=a(n(6842));t.Pool=s.default,t.default=s.default},3001:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.maxSize=e,this.pruneCount=Math.max(Math.round(.01*e*Math.log(e)),1),this.map=new Map}return e.prototype.set=function(e,t){this.map.set(e,{database:t,lastUsed:Date.now()}),this._pruneCache()},e.prototype.get=function(e){var t=this.map.get(e);if(void 0!==t)return t.lastUsed=Date.now(),t.database},e.prototype.delete=function(e){this.map.delete(e)},e.prototype._pruneCache=function(){if(this.map.size>this.maxSize)for(var e=Array.from(this.map.entries()).sort(function(e,t){return e[1].lastUsed-t[1].lastUsed}),t=0;t<this.pruneCount;t++)this.map.delete(e[t][0])},e}();t.default=n},3019:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9994));t.default=r({},i.default)},3057:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9305),a=n(8813),u=n(9419),s=function(){function e(e,t){var n=e.pipe((0,u.publishReplay)(1),(0,u.refCount)());this._result=n,this._keys=n.pipe((0,u.mergeMap)(function(e){return(0,a.from)(e.keys())}),(0,u.publishReplay)(1),(0,u.refCount)()),this._records=void 0,this._controls=new l,this._summary=new a.ReplaySubject,this._state=t||0}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var e=this,t=this._result.pipe((0,u.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,recordsObserver:n})})}));return t.push=function(){return e._push()},t},e.prototype.consume=function(){var e=this;return this._result.pipe((0,u.mergeMap)(function(t){return new a.Observable(function(n){return e._startStreaming({result:t,summaryObserver:n})})}))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(e){var t=void 0===e?{}:e,n=t.result,r=t.recordsObserver,o=void 0===r?null:r,a=t.summaryObserver,u=void 0===a?null:a,s=[];return u&&s.push(this._summary.subscribe(u)),this._state<1?(this._state=1,this._setupRecordsStream(n),o?s.push(this._records.subscribe(o)):n._cancel(),s.push({unsubscribe:function(){n._cancel&&n._cancel()}})):o&&o.error((0,i.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){s.forEach(function(e){return e.unsubscribe()})}},e.prototype._toObservable=function(){var t=this;return new a.Observable(function(n){t._result.subscribe({complete:function(){return n.complete()},next:function(r){return n.next(new e(function(e){return new a.Observable(function(t){t.next(e),t.complete()})}(r)),t._state)},error:function(e){return n.error(e)}})})},e.prototype._setupRecordsStream=function(e){var t=this;return this._records||(this._records=function(e,t,n){var i=this;void 0===n&&(n=new l);var u=new a.Subject,s=function(a){return r(i,void 0,void 0,function(){var r,i,l,c;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),n.pushing=!0,[4,a];case 1:return r=o.sent(),i=r.done,l=r.value,i?(u.complete(),t.complete()):(u.next(l),n.paused||s(e.next()).catch(function(){})),[3,4];case 2:return c=o.sent(),u.error(c),t.error(c),[3,4];case 3:return n.pushing=!1,[7];case 4:return[2]}})})};function c(t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,s(e.next(t))];case 1:return n.sent(),[2]}})})}return n.pusher=c,c(),u}(e[Symbol.asyncIterator](),{complete:function(){return r(t,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return this._state=2,n=(t=this._summary).next,[4,e.summary()];case 1:return n.apply(t,[r.sent()]),this._summary.complete(),[2]}})})},error:function(e){t._state=2,t._summary.error(e)}},this._controls)),this._records},e}();t.default=s;var l=function(){function e(e){void 0===e&&(e=function(){return r(t,void 0,void 0,function(){return o(this,function(e){return[2]})})});var t=this;this._paused=!1,this._pushing=!1,this._push=e}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=this._paused,this._paused=!1,!e||this._pushing?[3,2]:[4,this._push()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.push=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0}),e}()},3110:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var r=n(4662),o=n(4746),i=n(9507);function a(e){return new r.Observable(function(t){var n=e||o.performanceTimestampProvider,r=n.now(),a=0,u=function(){t.closed||(a=i.animationFrameProvider.requestAnimationFrame(function(o){a=0;var i=n.now();t.next({timestamp:e?i:o,elapsed:i-r}),u()}))};return u(),function(){a&&i.animationFrameProvider.cancelAnimationFrame(a)}})}t.animationFrames=function(e){return e?a(e):u};var u=a()},3111:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var o=n(5);t.createOperatorSubscriber=function(e,t,n,r,o){return new i(e,t,n,r,o)};var i=function(e){function t(t,n,r,o,i,a){var u=e.call(this,t)||this;return u.onFinalize=i,u.shouldUnsubscribe=a,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return r(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(o.Subscriber);t.OperatorSubscriber=i},3133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=n(1242),o=n(8977);t.shareReplay=function(e,t,n){var i,a,u,s,l=!1;return e&&"object"==typeof e?(i=e.bufferSize,s=void 0===i?1/0:i,a=e.windowTime,t=void 0===a?1/0:a,l=void 0!==(u=e.refCount)&&u,n=e.scheduler):s=null!=e?e:1/0,o.share({connector:function(){return new r.ReplaySubject(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},3146:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=n(7843),o=n(9445),i=n(3111);t.audit=function(e){return r.operate(function(t,n){var r=!1,a=null,u=null,s=!1,l=function(){if(null==u||u.unsubscribe(),u=null,r){r=!1;var e=a;a=null,n.next(e)}s&&n.complete()},c=function(){u=null,s&&n.complete()};t.subscribe(i.createOperatorSubscriber(n,function(t){r=!0,a=t,u||o.innerFrom(e(t)).subscribe(u=i.createOperatorSubscriber(n,l,c))},function(){s=!0,(!r||!u||u.closed)&&n.complete()}))})}},3206:(e,t,n)=>{e.exports=function(e){var t,n,E,x=0,S=0,P=s,T=[],C=[],k=1,A=0,j=0,R=!1,I=!1,N="",M=i,D=r;"300 es"===(e=e||{}).version&&(M=u,D=a);var L={},F={};for(x=0;x<M.length;x++)L[M[x]]=!0;for(x=0;x<D.length;x++)F[D[x]]=!0;return function(e){return C=[],null!==e?function(e){var n;for(x=0,e.toString&&(e=e.toString()),N+=e.replace(/\r\n/g,"\n"),E=N.length;t=N[x],x<E;){switch(n=x,P){case c:x=H();break;case f:x=W();break;case d:x=V();break;case h:x=q();break;case p:x=X();break;case w:x=Y();break;case v:x=K();break;case l:x=Z();break;case b:x=z();break;case s:x=B()}n!==x&&("\n"===N[n]?(A=0,++k):++A)}return S+=x,N=N.slice(x),C}(e):(T.length&&U(T.join("")),P=_,U("(eof)"),C)};function U(e){e.length&&C.push({type:O[P],data:e,position:j,line:k,column:A})}function B(){return T=T.length?[]:T,"/"===n&&"*"===t?(j=S+x-1,P=c,n=t,x+1):"/"===n&&"/"===t?(j=S+x-1,P=f,n=t,x+1):"#"===t?(P=d,j=S+x,x):/\s/.test(t)?(P=b,j=S+x,x):(R=/\d/.test(t),I=/[^\w_]/.test(t),j=S+x,P=R?p:I?h:l,x)}function z(){return/[^\s]/g.test(t)?(U(T.join("")),P=s,x):(T.push(t),n=t,x+1)}function V(){return"\r"!==t&&"\n"!==t||"\\"===n?(T.push(t),n=t,x+1):(U(T.join("")),P=s,x)}function W(){return V()}function H(){return"/"===t&&"*"===n?(T.push(t),U(T.join("")),P=s,x+1):(T.push(t),n=t,x+1)}function q(){if("."===n&&/\d/.test(t))return P=v,x;if("/"===n&&"*"===t)return P=c,x;if("/"===n&&"/"===t)return P=f,x;if("."===t&&T.length){for(;G(T););return P=v,x}if(";"===t||")"===t||"("===t){if(T.length)for(;G(T););return U(t),P=s,x+1}var e=2===T.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;G(T););return P=s,x}return T.push(t),n=t,x+1}function G(e){for(var t,n,r=0;;){if(t=o.indexOf(e.slice(0,e.length+r).join("")),n=o[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return U(n),j+=n.length,(T=T.slice(n.length)).length}}function Y(){return/[^a-fA-F0-9]/.test(t)?(U(T.join("")),P=s,x):(T.push(t),n=t,x+1)}function X(){return"."===t||/[eE]/.test(t)?(T.push(t),P=v,n=t,x+1):"x"===t&&1===T.length&&"0"===T[0]?(P=w,T.push(t),n=t,x+1):/[^\d]/.test(t)?(U(T.join("")),P=s,x):(T.push(t),n=t,x+1)}function K(){return"f"===t&&(T.push(t),n=t,x+=1),/[eE]/.test(t)?(T.push(t),n=t,x+1):("-"!==t&&"+"!==t||!/[eE]/.test(n))&&/[^\d]/.test(t)?(U(T.join("")),P=s,x):(T.push(t),n=t,x+1)}function Z(){if(/[^\d\w_]/.test(t)){var e=T.join("");return P=F[e]?m:L[e]?g:y,U(T.join("")),P=s,x}return T.push(t),n=t,x+1}};var r=n(4704),o=n(2063),i=n(7192),a=n(8784),u=n(5592),s=999,l=9999,c=0,f=1,d=2,h=3,p=4,v=5,y=6,g=7,m=8,b=9,_=10,w=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=n(5471);t.mapTo=function(e){return r.map(function(){return e})}},3229:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.flush=function(e){var t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(n(5648).AsyncScheduler);t.AnimationFrameScheduler=o},3231:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=n(7961),o=n(3146),i=n(4092);t.auditTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.audit(function(){return i.timer(e,t)})}},3247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=n(4662),o=n(7360),i=n(4917),a=n(6640),u=n(1251),s=n(1107),l=n(6013),c=n(3111),f=n(7110);function d(e,t,n){return void 0===n&&(n=a.identity),function(r){h(t,function(){for(var o=e.length,a=new Array(o),u=o,s=o,l=function(o){h(t,function(){var l=i.from(e[o],t),f=!1;l.subscribe(c.createOperatorSubscriber(r,function(e){a[o]=e,f||(f=!0,s--),s||r.next(n(a.slice()))},function(){--u||r.complete()}))},r)},f=0;f<o;f++)l(f)},r)}}function h(e,t,n){e?f.executeSchedule(n,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.popScheduler(e),c=s.popResultSelector(e),f=o.argsArgArrayOrObject(e),h=f.args,p=f.keys;if(0===h.length)return i.from([],n);var v=new r.Observable(d(h,n,p?function(e){return l.createObject(p,e)}:a.identity));return c?v.pipe(u.mapOneOrManyArgs(c)):v},t.combineLatestInit=d},3269:(e,t,n)=>{var r=n(6931),o=n(9975),i=Object.hasOwnProperty,a=Object.create(null);for(var u in r)i.call(r,u)&&(a[r[u]]=u);var s=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var u=2*n;a[n]=parseInt(t.slice(u,u+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return a[e.slice(0,3)]}},3274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=n(3879),o=n(1018);t.switchMapTo=function(e,t){return o.isFunction(t)?r.switchMap(function(){return e},t):r.switchMap(function(){return e})}},3321:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeTransformer=void 0;var r=n(7168),o=n(9305).internal.objectUtil,i=function(){function e(e){this._transformers=e,this._transformersPerSignature=new Map(e.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(e){try{return e instanceof r.structure.Structure&&this._transformersPerSignature.has(e.signature)?(0,this._transformersPerSignature.get(e.signature).fromStructure)(e):e}catch(e){return o.createBrokenObject(e)}},e.prototype.toStructure=function(e){var t=this._transformers.find(function(t){return(0,t.isTypeInstance)(e)});return void 0!==t?t.toStructure(e):e},e}();t.default=i;var a=function(){function e(e){var t=e.signature,n=e.fromStructure,r=e.toStructure,o=e.isTypeInstance;this.signature=t,this.isTypeInstance=o,this.fromStructure=n,this.toStructure=r,Object.freeze(this)}return e.prototype.extendsWith=function(t){var n=t.signature,r=t.fromStructure,o=t.toStructure,i=t.isTypeInstance;return new e({signature:n||this.signature,fromStructure:r||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:i||this.isTypeInstance})},e}();t.TypeTransformer=a},3327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},3371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var r=n(9691),o=new Map,i=function(){function e(e,t){this.low=null!=e?e:0,this.high=null!=t?t:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*u+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(u)+BigInt(this.low>>>0);var e=this.negate();return BigInt(-1)*(BigInt(e.high>>>0)*BigInt(u)+BigInt(e.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if((t=null!=t?t:10)<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var r=e.fromNumber(t),o=this.div(r);return n=o.multiply(r).subtract(this),o.toString(t)+n.toInt().toString(t)}return"-"+this.negate().toString(t)}var i=e.fromNumber(Math.pow(t,6));n=this;for(var a="";;){var u=n.div(i),s=(n.subtract(u.multiply(i)).toInt()>>>0).toString(t);if((n=u).isZero())return s+a;for(;s.length<6;)s="0"+s;a=""+s+a}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=0!==this.high?this.high:this.low,n=0;for(n=31;n>0&&!(t&1<<n);n--);return 0!==this.high?n+33:n+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return!(1&~this.low)},e.prototype.isEven=function(){return!(1&this.low)},e.prototype.equals=function(t){var n=e.fromValue(t);return this.high===n.high&&this.low===n.low},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.lessThan=function(e){return this.compare(e)<0},e.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.compare=function(t){var n=e.fromValue(t);if(this.equals(n))return 0;var r=this.isNegative(),o=n.isNegative();return r&&!o?-1:!r&&o?1:this.subtract(n).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var n=e.fromValue(t),r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=n.high>>>16,s=65535&n.high,l=n.low>>>16,c=0,f=0,d=0,h=0;return d+=(h+=a+(65535&n.low))>>>16,h&=65535,f+=(d+=i+l)>>>16,d&=65535,c+=(f+=o+s)>>>16,f&=65535,c+=r+u,c&=65535,e.fromBits(d<<16|h,c<<16|f)},e.prototype.subtract=function(t){var n=e.fromValue(t);return this.add(n.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var n=e.fromValue(t);if(n.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return n.isOdd()?e.MIN_VALUE:e.ZERO;if(n.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return n.isNegative()?this.negate().multiply(n.negate()):this.negate().multiply(n).negate();if(n.isNegative())return this.multiply(n.negate()).negate();if(this.lessThan(l)&&n.lessThan(l))return e.fromNumber(this.toNumber()*n.toNumber());var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=n.high>>>16,s=65535&n.high,c=n.low>>>16,f=65535&n.low,d=0,h=0,p=0,v=0;return p+=(v+=a*f)>>>16,v&=65535,h+=(p+=i*f)>>>16,p&=65535,h+=(p+=a*c)>>>16,p&=65535,d+=(h+=o*f)>>>16,h&=65535,d+=(h+=i*c)>>>16,h&=65535,d+=(h+=a*s)>>>16,h&=65535,d+=r*f+o*c+i*s+a*u,d&=65535,e.fromBits(p<<16|v,d<<16|h)},e.prototype.div=function(t){var n,o,i,a=e.fromValue(t);if(a.isZero())throw(0,r.newError)("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.equals(e.ONE)||a.equals(e.NEG_ONE)?e.MIN_VALUE:a.equals(e.MIN_VALUE)?e.ONE:(n=this.shiftRight(1).div(a).shiftLeft(1)).equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(a.multiply(n)),i=n.add(o.div(a)));if(a.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(i=e.ZERO,o=this;o.greaterThanOrEqual(a);){n=Math.max(1,Math.floor(o.toNumber()/a.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),s=u<=48?1:Math.pow(2,u-48),l=e.fromNumber(n),c=l.multiply(a);c.isNegative()||c.greaterThan(o);)n-=s,c=(l=e.fromNumber(n)).multiply(a);l.isZero()&&(l=e.ONE),i=i.add(l),o=o.subtract(c)}return i},e.prototype.modulo=function(t){var n=e.fromValue(t);return this.subtract(this.div(n).multiply(n))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var n=e.fromValue(t);return e.fromBits(this.low&n.low,this.high&n.high)},e.prototype.or=function(t){var n=e.fromValue(t);return e.fromBits(this.low|n.low,this.high|n.high)},e.prototype.xor=function(t){var n=e.fromValue(t);return e.fromBits(this.low^n.low,this.high^n.high)},e.prototype.shiftLeft=function(t){var n=e.toNumber(t);return 0==(n&=63)?e.ZERO:n<32?e.fromBits(this.low<<n,this.high<<n|this.low>>>32-n):e.fromBits(0,this.low<<n-32)},e.prototype.shiftRight=function(t){var n=e.toNumber(t),r=e.toNumber(t);return 0==(n&=63)?e.ZERO:r<32?e.fromBits(this.low>>>n|this.high<<32-n,this.high>>n):e.fromBits(this.high>>n-32,this.high>=0?0:-1)},e.isInteger=function(e){return!0===(null==e?void 0:e.__isInteger__)},e.fromInt=function(t){var n;if((t|=0)>=-128&&t<128&&null!=(n=o.get(t)))return n;var r=new e(t,t<0?-1:0);return t>=-128&&t<128&&o.set(t,r),r},e.fromBits=function(t,n){return new e(t,n)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-s?e.MIN_VALUE:t+1>=s?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%u|0,t/u|0)},e.fromString=function(t,n,o){var i,u=(void 0===o?{}:o).strictStringValidation;if(0===t.length)throw(0,r.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if((n=null!=n?n:10)<2||n>36)throw(0,r.newError)("radix out of range: "+n.toString());if((i=t.indexOf("-"))>0)throw(0,r.newError)('number format error: interior "-" character: '+t);if(0===i)return e.fromString(t.substring(1),n).negate();for(var s=e.fromNumber(Math.pow(n,8)),l=e.ZERO,c=0;c<t.length;c+=8){var f=Math.min(8,t.length-c),d=t.substring(c,c+f),h=parseInt(d,n);if(!0===u&&!a(d,h,n))throw(0,r.newError)('number format error: "'.concat(d,'" is NaN in radix ').concat(n,": ").concat(t));if(f<8){var p=e.fromNumber(Math.pow(n,f));l=l.multiply(p).add(e.fromNumber(h))}else l=(l=l.multiply(s)).add(e.fromNumber(h))}return l},e.fromValue=function(t,n){return void 0===n&&(n={}),t instanceof e?t:"number"==typeof t?(!0===n.ceilFloat&&(t=Math.ceil(t)),e.fromNumber(t)):"string"==typeof t?e.fromString(t,void 0,n):"bigint"==typeof t?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,n){return e.fromValue(t).toString(n)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function a(e,t,n){return!Number.isNaN(e)&&!Number.isNaN(t)&&function(e,t,n){var r=e.toString(t),o=Math.max(n-r.length,0),i="0".repeat(o);return"".concat(i).concat(r)}(t,n,e.length)===e.toLowerCase()}Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var u=4294967296,s=u*u/2,l=i.fromInt(1<<24),c=i.fromValue;t.int=c;var f=i.isInteger;t.isInt=f;var d=i.inSafeRange;t.inSafeRange=d;var h=i.toNumber;t.toNumber=h;var p=i.toString;t.toString=p,t.default=i},3389:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(e){return Promise.resolve([e])},e}();t.default=n},3399:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9238));t.default=r({},i.default)},3413:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3448:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9305),u=n(7168),s=n(3321),l=n(5973),c=i(n(6661)),f=a.internal.temporalUtil,d=f.dateToEpochDay,h=f.localDateTimeToEpochSecond,p=f.localTimeToNanoOfDay;function v(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?r(u):u}return Object.freeze(o),o}t.default=r(r({},c.default),{createPoint2DTransformer:function(){return new s.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,a.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new u.structure.Structure(88,[(0,a.int)(e.srid),e.x,e.y])},fromStructure:function(e){u.structure.verifyStructSize("Point2D",3,e.size);var t=o(e.fields,3),n=t[0],r=t[1],i=t[2];return new a.Point(n,r,i,void 0)}})},createPoint3DTransformer:function(){return new s.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,a.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new u.structure.Structure(89,[(0,a.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){u.structure.verifyStructSize("Point3D",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new a.Point(n,r,i,s)}})},createDurationTransformer:function(){return new s.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(e){var t=(0,a.int)(e.months),n=(0,a.int)(e.days),r=(0,a.int)(e.seconds),o=(0,a.int)(e.nanoseconds);return new u.structure.Structure(69,[t,n,r,o])},fromStructure:function(e){u.structure.verifyStructSize("Duration",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new a.Duration(n,r,i,s)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond);return new u.structure.Structure(116,[t])},fromStructure:function(e){u.structure.verifyStructSize("LocalTime",1,e.size);var r=o(e.fields,1)[0];return v((0,l.nanoOfDayToLocalTime)(r),t,n)}})},createTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(84,[t,n])},fromStructure:function(e){u.structure.verifyStructSize("Time",2,e.size);var r=o(e.fields,2),i=r[0],s=r[1],c=(0,l.nanoOfDayToLocalTime)(i);return v(new a.Time(c.hour,c.minute,c.second,c.nanosecond,s),t,n)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(e){var t=d(e.year,e.month,e.day);return new u.structure.Structure(68,[t])},fromStructure:function(e){u.structure.verifyStructSize("Date",1,e.size);var r=o(e.fields,1)[0];return v((0,l.epochDayToDate)(r),t,n)}})},createLocalDateTimeTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond);return new u.structure.Structure(100,[t,n])},fromStructure:function(e){u.structure.verifyStructSize("LocalDateTime",2,e.size);var r=o(e.fields,2),i=r[0],a=r[1];return v((0,l.epochSecondAndNanoToLocalDateTime)(i,a),t,n)}})},createDateTimeWithZoneIdTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=e.timeZoneId;return new u.structure.Structure(102,[t,n,r])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var r=o(e.fields,3),i=r[0],s=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,null,c),t,n)}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return new s.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=h(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(70,[t,n,r])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var r=o(e.fields,3),i=r[0],s=r[1],c=r[2],f=(0,l.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,c,null),t,n)}})}})},3466:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8813),i=n(9419),a=r(n(3057)),u=n(9305),s=r(n(5742)),l=r(n(1530)),c=r(n(9823)),f=u.internal.constants,d=f.ACCESS_MODE_READ,h=f.ACCESS_MODE_WRITE,p=f.TELEMETRY_APIS,v=u.internal.txConfig.TxConfig,y=function(){function e(e){var t=void 0===e?{}:e,n=t.session,r=t.config,o=t.log;this._session=n,this._retryLogic=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:t})}(r),this._log=o}return e.prototype.run=function(e,t,n){var r=this;return new a.default(new o.Observable(function(o){try{o.next(r._session.run(e,t,n)),o.complete()}catch(e){o.error(e)}return function(){}}))},e.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:p.UNMANAGED_TRANSACTION})},e.prototype.readTransaction=function(e,t){return this._runTransaction(d,e,t)},e.prototype.writeTransaction=function(e,t){return this._runTransaction(h,e,t)},e.prototype.executeRead=function(e,t){return this._executeInTransaction(d,e,t)},e.prototype.executeWrite=function(e,t){return this._executeInTransaction(h,e,t)},e.prototype._executeInTransaction=function(e,t,n){return this._runTransaction(e,t,n,function(e){return new l.default({run:e.run.bind(e)})})},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._session.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(e,t,n){var r=this,i=v.empty();return t&&(i=new v(t,this._log)),new o.Observable(function(t){try{r._session._beginTransaction(e,i,n).then(function(e){t.next(new s.default(e)),t.complete()}).catch(function(e){return t.error(e)})}catch(e){t.error(e)}return function(){}})},e.prototype._runTransaction=function(e,t,n,r){var a=this;void 0===r&&(r=function(e){return e});var u=v.empty();n&&(u=new v(n));var s={apiTelemetryConfig:{api:p.MANAGED_TRANSACTION,onTelemetrySuccess:function(){s.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,o.of)(1).pipe((0,i.mergeMap)(function(){return a._beginTransaction(e,u,s.apiTelemetryConfig)}),(0,i.mergeMap)(function(e){return(0,o.defer)(function(){try{return t(r(e))}catch(e){return(0,o.throwError)(function(){return e})}}).pipe((0,i.catchError)(function(t){return e.rollback().pipe((0,i.concatWith)((0,o.throwError)(function(){return t})))}),(0,i.concatWith)(e.commit()))})))},e}();t.default=y},3473:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5319)),i=n(9305),a=r(n(1048)),u=new(n(8888).StringDecoder)("utf8");t.default={encode:function(e){return new o.default(function(e){return"function"==typeof a.default.Buffer.from?a.default.Buffer.from(e,"utf8"):new a.default.Buffer(e,"utf8")}(e))},decode:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return function(e,t){var n=e.position,r=n+t;return e.position=Math.min(r,e.length),e._buffer.toString("utf8",n,r)}(e,t);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return function(e,t){return function(e,t){var n=t,r=e.position;return e._updatePos(Math.min(t,e.length-r)),e._buffers.reduce(function(e,t){if(n<=0)return e;if(r>=t.length)return r-=t.length,"";t._updatePos(r-t.position);var o=Math.min(t.length-r,n),i=t.readSlice(o);return t._updatePos(o),n=Math.max(n-i.length,0),r=0,e+function(e){return u.write(e._buffer)}(i)},"")+u.end()}(e,t)}(e,t);throw(0,i.newError)("Don't know how to decode strings from '".concat(e,"'"))}}},3488:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5837),t)},3545:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(8987)),s=n(7721),l=n(9305),c=l.internal.constants,f=c.BOLT_PROTOCOL_V3,d=c.BOLT_PROTOCOL_V4_0,h=c.BOLT_PROTOCOL_V4_4,p=c.BOLT_PROTOCOL_V5_1,v=l.error.SERVICE_UNAVAILABLE,y=function(e){function t(t){var n=t.id,r=t.config,o=t.log,i=t.address,a=t.userAgent,u=t.boltAgent,s=t.authTokenManager,l=t.newPool,c=e.call(this,{id:n,config:r,log:o,userAgent:a,boltAgent:u,authTokenManager:s,newPool:l})||this;return c._address=i,c}return r(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=(t.accessMode,t.database),r=(t.bookmarks,t.auth),a=t.forceReAuth;return o(this,void 0,void 0,function(){var e,t,o=this;return i(this,function(i){switch(i.label){case 0:return e=s.ConnectionErrorHandler.create({errorCode:v,handleSecurityError:function(e,t,r){return o._handleSecurityError(e,t,r,n)}}),[4,this._connectionPool.acquire({auth:r,forceReAuth:a},this._address)];case 1:return t=i.sent(),r?[4,this._verifyStickyConnection({auth:r,connection:t,address:this._address})]:[3,3];case 2:return i.sent(),[2,t];case 3:return[2,new s.DelegateConnection(t,e)]}})})},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r)},t.prototype._hasProtocolVersion=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return t=r.sent(),n=t.protocol()?t.protocol().version:null,[4,t.close()];case 2:return r.sent(),n?[2,e(n)]:[2,!1]}})})},t.prototype.supportsMultiDb=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=d})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.supportsTransactionConfig=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=f})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=h})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=p})];case 1:return[2,e.sent()]}})})},t.prototype.verifyAuthentication=function(e){var t=e.auth;return o(this,void 0,void 0,function(){var e=this;return i(this,function(n){return[2,this._verifyAuthentication({auth:t,getAddress:function(){return e._address}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},t}(u.default);t.default=y},3555:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=n(7843);t.finalize=function(e){return r.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}},3618:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.ReadOnlyConnectionHolder=t.ConnectionHolder=void 0;var a=n(9691),u=n(6587),s=n(326),l=n(9730),c=n(4883),f=function(){function e(e){var t=e.mode,n=e.database,r=void 0===n?"":n,o=e.bookmarks,i=e.connectionProvider,a=e.impersonatedUser,c=e.onDatabaseNameResolved,f=e.getConnectionAcquistionBookmarks,d=e.auth,h=e.log;this._mode=null!=t?t:s.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=r?(0,u.assertString)(r,"database"):"",this._bookmarks=null!=o?o:l.Bookmarks.empty(),this._connectionProvider=i,this._impersonatedUser=a,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=c,this._auth=d,this._log=h,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!=f?f:function(){return Promise.resolve(l.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(e){this._database=e},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(e){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider,e),this._referenceCount++,!0)},e.prototype._createConnectionPromise=function(e,t){return o(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:return r=(n=e).acquireConnection,o={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,r.apply(n,[(o.bookmarks=i.sent(),o.impersonatedUser=this._impersonatedUser,o.onDatabaseNameResolved=this._onDatabaseNameResolved,o.auth=this._auth,o.homeDb=t,o)])];case 2:return[2,i.sent()]}})})},e.prototype._getBookmarks=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(e){return this._closed=!0,0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},e.prototype.log=function(){return this._log},e.prototype._releaseConnection=function(e){return this._connectionPromise=this._connectionPromise.then(function(t){return null!=t?t.isOpen()&&(t.hasOngoingObservableRequests()||!0===e)?t.resetAndFlush().catch(p).then(function(){return t.release().then(function(){return null})}):t.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},e.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},e}();t.ConnectionHolder=f;var d=function(e){function t(t){var n=e.call(this,{mode:t.mode(),database:t.database(),bookmarks:t.bookmarks(),getConnectionAcquistionBookmarks:t._getConnectionAcquistionBookmarks,connectionProvider:t.connectionProvider(),log:t.log()})||this;return n._connectionHolder=t,n}return r(t,e),t.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t}(f);t.ReadOnlyConnectionHolder=d,t.default=d;var h=new(function(e){function t(){return e.call(this,{log:c.Logger.create({})})||this}return r(t,e),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,a.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},t.prototype.releaseConnection=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t}(f));function p(e){return null}t.EMPTY_CONNECTION_HOLDER=h},3638:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=n(6640),o=n(1251),i=n(2706),a=n(983),u=n(2343);t.joinAllInternals=function(e,t){return i.pipe(u.toArray(),a.mergeMap(function(t){return e(t)}),t?o.mapOneOrManyArgs(t):r.identity)}},3659:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default="5.28.1"},3692:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var r=n(5006),o=n(827);t.asapScheduler=new o.AsapScheduler(r.AsapAction),t.asap=t.asapScheduler},3862:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var r=n(2628),o=n(3229);t.animationFrameScheduler=new o.AnimationFrameScheduler(r.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},3865:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=n(8158),o=n(1107),i=n(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.concatAll()(i.from(e,o.popScheduler(e)))}},3879:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=n(9445),o=n(7843),i=n(3111);t.switchMap=function(e,t){return o.operate(function(n,o){var a=null,u=0,s=!1,l=function(){return s&&!a&&o.complete()};n.subscribe(i.createOperatorSubscriber(o,function(n){null==a||a.unsubscribe();var s=0,c=u++;r.innerFrom(e(n,c)).subscribe(a=i.createOperatorSubscriber(o,function(e){return o.next(t?t(n,e,c,s++):e)},function(){a=null,l()}))},function(){s=!0,l()}))})}},3951:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificatesLoader=t.HostNameResolver=t.Channel=void 0;var o=r(n(6245)),i=r(n(2199)),a=r(n(614));t.Channel=o.default,t.HostNameResolver=i.default,t.ClientCertificatesLoader=a.default},3964:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=n(1018),o=n(7843),i=n(3111),a=n(6640);t.tap=function(e,t,n){var u=r.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return u?o.operate(function(e,t){var n;null===(n=u.subscribe)||void 0===n||n.call(u);var r=!0;e.subscribe(i.createOperatorSubscriber(t,function(e){var n;null===(n=u.next)||void 0===n||n.call(u,e),t.next(e)},function(){var e;r=!1,null===(e=u.complete)||void 0===e||e.call(u),t.complete()},function(e){var n;r=!1,null===(n=u.error)||void 0===n||n.call(u,e),t.error(e)},function(){var e,t;r&&(null===(e=u.unsubscribe)||void 0===e||e.call(u)),null===(t=u.finalize)||void 0===t||t.call(u)}))}):a.identity}},3982:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=n(783);t.skip=function(e){return r.filter(function(t,n){return e<=n})}},4027:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var r=n(93);t.stringify=function(e,t){return JSON.stringify(e,function(e,n){return(0,r.isBrokenObject)(n)?{__isBrokenObject__:!0,__reason__:(0,r.getBrokenObjectReason)(n)}:"bigint"==typeof n?"".concat(n,"n"):!0!==(null==t?void 0:t.sortedElements)||"object"!=typeof n||Array.isArray(n)?!0!==(null==t?void 0:t.useCustomToString)||"object"!=typeof n||Array.isArray(n)||"function"!=typeof n.toString||n.toString===Object.prototype.toString?n:null==n?void 0:n.toString():Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{})})}},4092:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=n(4662),o=n(7961),i=n(8613),a=n(1074);t.timer=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.async);var u=-1;return null!=t&&(i.isScheduler(t)?n=t:u=t),new r.Observable(function(t){var r=a.isValidDate(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=u?this.schedule(void 0,u):t.complete())},r)})}},4132:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._connection=t,n}return r(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=(t.accessMode,t.database,t.bookmarks,this._connection);return this._connection=null,Promise.resolve(n)},t}(n(9305).ConnectionProvider);t.default=o},4151:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9018)),i=(n(9305),function(){function e(e){this._routingContext=e}return e.prototype.lookupRoutingTableOnRouter=function(e,t,n,r){var i=this;return e._acquireConnection(function(a){return i._requestRawRoutingTable(a,e,t,n,r).then(function(e){return e.isNull?null:o.default.fromRawRoutingTable(t,n,e)})})},e.prototype._requestRawRoutingTable=function(e,t,n,r,o){var i=this;return new Promise(function(r,a){e.protocol().requestRoutingInformation({routingContext:i._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmarks:t._lastBookmarks,mode:t._mode,database:t._database,afterComplete:t._onComplete},onCompleted:r,onError:a})})},e}());t.default=i},4209:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var r=n(9353);t.iif=function(e,t,n){return r.defer(function(){return e()?t:n})}},4212:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(n(5267).AsyncAction);t.QueueAction=o},4271:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7452),a=function(){function e(e){var t=e.clientCertificateProvider,n=e.loader;this._clientCertificateProvider=t,this._loader=n||i.ClientCertificatesLoader,this._clientCertificate=null}return e.prototype.getClientCertificate=function(){return r(this,void 0,void 0,function(){var e,t,n=this;return o(this,function(r){switch(r.label){case 0:return(e=null!=this._clientCertificateProvider)?(t=null==this._clientCertificate)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:t=r.sent(),r.label=2;case 2:e=t,r.label=3;case 3:return e&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(e){return n._clientCertificate=e,n._clientCertificate}).catch(function(e){throw n._clientCertificate=null,e})),[2,this._clientCertificate]}})})},e}();t.default=a},4311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.selectReader=function(e){throw new Error("Abstract function")},e.prototype.selectWriter=function(e){throw new Error("Abstract function")},e}();t.default=n},4325:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2204));t.default=r({},i.default)},4360:e=>{e.exports=function(e){for(var t=[],n=0;n<e.length;n++)"eof"!==e[n].type&&t.push(e[n].data);return t.join("")}},4408:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=n(7843),o=n(1983);t.mergeScan=function(e,t,n){return void 0===n&&(n=1/0),r.operate(function(r,i){var a=t;return o.mergeInternals(r,i,function(t,n){return e(a,t,n)},n,function(e){a=e},!1,void 0,function(){return a=null})})}},4440:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=n(8535),a=n(5600);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,o([],r(i.argsOrArgArray(e))))}},4455:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeastConnectedLoadBalancingStrategy=t.LoadBalancingStrategy=void 0;var o=r(n(4311));t.LoadBalancingStrategy=o.default;var i=r(n(2533));t.LeastConnectedLoadBalancingStrategy=i.default,t.default=i.default},4461:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.debounce=function(e){return r.operate(function(t,n){var r=!1,u=null,s=null,l=function(){if(null==s||s.unsubscribe(),s=null,r){r=!1;var e=u;u=null,n.next(e)}};t.subscribe(i.createOperatorSubscriber(n,function(t){null==s||s.unsubscribe(),r=!0,u=t,s=i.createOperatorSubscriber(n,l,o.noop),a.innerFrom(e(t)).subscribe(s)},function(){l(),n.complete()},void 0,function(){u=s=null}))})}},4520:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=n(7057),o=n(783),i=n(4869),a=n(378),u=n(846);t.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(s){return s.pipe(o.filter(function(t,n){return n===e}),u.take(1),n?a.defaultIfEmpty(t):i.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}},4531:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=t}return e.prototype.check=function(e){return n(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(e)?[2,!0]:(t=Date.now()-e.idleTimestamp,0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout?[4,e.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,n.sent()];case 2:return[2,!0]}})})},Object.defineProperty(e.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),e.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},e}();t.default=o},4569:function(e,t,n){var r,o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var n=t.connectionHolder,o=t.onClose,i=t.onBookmarks,a=t.onConnection,u=t.reactive,s=t.fetchSize,l=t.impersonatedUser,c=t.highRecordWatermark,f=t.lowRecordWatermark,d=t.notificationFilter,h=t.apiTelemetryConfig,p=t.onDbCallback,v=e.call(this,{connectionHolder:n,onClose:o,onBookmarks:i,onConnection:a,reactive:u,fetchSize:s,impersonatedUser:l,highRecordWatermark:c,lowRecordWatermark:f,notificationFilter:d,apiTelemetryConfig:h})||this;return v[r]="TransactionPromise",v._onDbCallback=p,v}return o(t,e),t.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},t.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},t.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},t.prototype._getOrCreateBeginPromise=function(){var e=this;return null==this._beginPromise&&(this._beginPromise=new Promise(function(t,n){e._resolve=t,e._reject=n,null!=e._beginError&&n(e._beginError),null!=e._beginMetadata&&t(e._toTransaction())})),this._beginPromise},t.prototype._toTransaction=function(){return i(i({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(t,n){return e.prototype._begin.call(this,t,n,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this),onDB:this._onDbCallback})},t.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},t.prototype._onBeginMetadata=function(e){this._beginMetadata=null!=e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},t}(a(n(9473)).default);r=Symbol.toStringTag,t.default=u},4596:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2539)),a=o(n(7021)),u=n(9014),s=n(9305),l=n(397),c=o(n(7521)),f=o(n(3321)),d=s.internal.constants.BOLT_PROTOCOL_V4_1,h=function(e){function t(t,n,r,o,i,a,u){void 0===o&&(o=function(){return null});var s=e.call(this,t,n,r,o,i,a)||this;return s._serversideRouting=u,s}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,s=n.onError,c=n.onComplete,f=new u.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return t._onLoginCompleted(e,o,c)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(a.default.hello(r,o,this._serversideRouting),f,!0),f},t}(i.default);t.default=h},4662:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=n(5),o=n(8014),i=n(3327),a=n(2706),u=n(3413),s=n(1018),l=n(9223),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,a=this,u=(i=e)&&i instanceof r.Subscriber||function(e){return e&&s.isFunction(e.next)&&s.isFunction(e.error)&&s.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new r.SafeSubscriber(e,t,n);return l.errorContext(function(){var e=a,t=e.operator,n=e.source;u.add(t?t.call(u,n):n?a._subscribe(u):a._trySubscribe(u))}),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,o){var i=new r.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:u.config.Promise)&&void 0!==t?t:Promise}t.Observable=c},4671:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var o=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8014).Subscription);t.Action=o},4704:e=>{e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},4721:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=n(7843),o=n(3111);t.skipWhile=function(e){return r.operate(function(t,n){var r=!1,i=0;t.subscribe(o.createOperatorSubscriber(n,function(t){return(r||(r=!e(t,i++)))&&n.next(t)}))})}},4746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},4753:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=n(5471),o=n(9445),i=n(7843),a=n(3111);t.exhaustMap=function e(t,n){return n?function(i){return i.pipe(e(function(e,i){return o.innerFrom(t(e,i)).pipe(r.map(function(t,r){return n(e,t,i,r)}))}))}:i.operate(function(e,n){var r=0,i=null,u=!1;e.subscribe(a.createOperatorSubscriber(n,function(e){i||(i=a.createOperatorSubscriber(n,void 0,function(){i=null,u&&n.complete()}),o.innerFrom(t(e,r++)).subscribe(i))},function(){u=!0,!i&&n.complete()}))})}},4780:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=n(7843),o=n(3111),i=n(9445),a=n(1342);t.takeUntil=function(e){return r.operate(function(t,n){i.innerFrom(e).subscribe(o.createOperatorSubscriber(n,function(){return n.complete()},a.noop)),!n.closed&&t.subscribe(n)})}},4820:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9691),u=function(){function e(e,t,n){this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!=n?n:function(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}(e)}return e.prototype.forEach=function(e){var t,n;try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var u=i(a.value,2),s=u[0];e(u[1],s,this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.map=function(e){var t,n,r=[];try{for(var a=o(this.entries()),u=a.next();!u.done;u=a.next()){var s=i(u.value,2),l=s[0],c=s[1];r.push(e(c,l,this))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},e.prototype.entries=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,[this.keys[e],this._fields[e]]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var e;return r(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var e,t,n={};try{for(var r=o(this.entries()),a=r.next();!a.done;a=r.next()){var u=i(a.value,2),s=u[0],l=u[1];n[s]=l}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.get=function(e){var t;if("number"!=typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},e.prototype.has=function(e){return"number"==typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]},e}();t.default=u},4862:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=n(7961),o=n(1074),i=n(1554);t.timeoutWith=function(e,t,n){var a,u,s;if(n=null!=n?n:r.async,o.isValidDate(e)?a=e:"number"==typeof e&&(u=e),!t)throw new TypeError("No observable provided to switch to");if(s=function(){return t},null==a&&null==u)throw new TypeError("No timeout provided.");return i.timeout({first:a,each:u,scheduler:n,with:s})}},4869:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=n(2823),o=n(7843),i=n(3111);function a(){return new r.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),o.operate(function(t,n){var r=!1;t.subscribe(i.createOperatorSubscriber(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}},4883:function(e,t,n){var r,o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var i=n(9691),a="error",u="warn",s="info",l="debug",c=s,f=((r={})[a]=0,r[u]=1,r[s]=2,r[l]=3,r),d=function(){function e(e,t){this._level=e,this._loggerFunction=t}return e.create=function(t){if(null!=(null==t?void 0:t.logging)){var n=t.logging,r=function(e){if(null!=(null==e?void 0:e.level)){var t=e.level,n=f[t];if(null==n&&0!==n)throw(0,i.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(f).toString()));return t}return c}(n),o=function(e){var t,n;if(null!=(null==e?void 0:e.logger)){var r=e.logger;if(null!=r&&"function"==typeof r)return r}throw(0,i.newError)("Illegal logger function: ".concat(null!==(n=null===(t=null==e?void 0:e.logger)||void 0===t?void 0:t.toString())&&void 0!==n?n:"undefined"))}(n);return new e(r,o)}return this.noOp()},e.noOp=function(){return h},e.prototype.isErrorEnabled=function(){return p(this._level,a)},e.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(a,e)},e.prototype.isWarnEnabled=function(){return p(this._level,u)},e.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(u,e)},e.prototype.isInfoEnabled=function(){return p(this._level,s)},e.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(s,e)},e.prototype.isDebugEnabled=function(){return p(this._level,l)},e.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(l,e)},e}();t.Logger=d;var h=new(function(e){function t(){return e.call(this,s,function(e,t){})||this}return o(t,e),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(d));function p(e,t){return f[e]>=f[t]}},4912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=n(5471);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return r.map(function(t){for(var r=t,o=0;o<n;o++){var i=null==r?void 0:r[e[o]];if(void 0===i)return;r=i}return r})}},4917:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=n(1656),o=n(9445);t.from=function(e,t){return t?r.scheduled(e,t):o.innerFrom(e)}},4953:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=n(854),o=n(9137);t.scheduleReadableStreamLike=function(e,t){return r.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},5006:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var o=n(5267),i=n(6293),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=i.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var a=t.actions;null!=n&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==n&&(i.immediateProvider.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(o.AsyncAction);t.AsapAction=a},5022:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.floorMod=t.floorDiv=t.assertValidZoneId=t.assertValidNanosecond=t.assertValidSecond=t.assertValidMinute=t.assertValidHour=t.assertValidDay=t.assertValidMonth=t.assertValidYear=t.timeZoneOffsetInSeconds=t.totalNanoseconds=t.newDate=t.toStandardDate=t.isoStringToStandardDate=t.dateToIsoString=t.timeZoneOffsetToIsoString=t.timeToIsoString=t.durationToIsoString=t.dateToEpochDay=t.localDateTimeToEpochSecond=t.localTimeToNanoOfDay=t.normalizeNanosecondsForDuration=t.normalizeSecondsForDuration=t.SECONDS_PER_DAY=t.DAYS_PER_400_YEAR_CYCLE=t.DAYS_0000_TO_1970=t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE=t.NANOS_PER_MILLISECOND=t.NANOS_PER_SECOND=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=t.MINUTES_PER_HOUR=t.NANOSECOND_OF_SECOND_RANGE=t.SECOND_OF_MINUTE_RANGE=t.MINUTE_OF_HOUR_RANGE=t.HOUR_OF_DAY_RANGE=t.DAY_OF_MONTH_RANGE=t.MONTH_OF_YEAR_RANGE=t.YEAR_RANGE=void 0;var a=i(n(3371)),u=n(9691),s=n(6587),l=function(){function e(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,a.int)(e),this._maxInteger=(0,a.int)(t)}return e.prototype.contains=function(e){if((0,a.isInt)(e)&&e instanceof a.default)return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger);if("bigint"==typeof e){var t=(0,a.int)(e);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)}return e>=this._minNumber&&e<=this._maxNumber},e.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},e}();function c(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(365);return o=(o=(o=e.greaterThanOrEqual(0)?o.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):o.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(n.multiply(367).subtract(362).div(12))).add(r.subtract(1)),n.greaterThan(2)&&(o=o.subtract(1),function(e){return!(!(e=(0,a.int)(e)).modulo(4).equals(0)||e.modulo(100).equals(0)&&!e.modulo(400).equals(0))}(e)||(o=o.subtract(1))),o.subtract(t.DAYS_0000_TO_1970)}function f(e,t){return 1===e?t%400==0||t%4==0&&t%100!=0?29:28:[0,2,4,6,7,9,11].includes(e)?31:30}t.YEAR_RANGE=new l(-999999999,999999999),t.MONTH_OF_YEAR_RANGE=new l(1,12),t.DAY_OF_MONTH_RANGE=new l(1,31),t.HOUR_OF_DAY_RANGE=new l(0,23),t.MINUTE_OF_HOUR_RANGE=new l(0,59),t.SECOND_OF_MINUTE_RANGE=new l(0,59),t.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),t.MINUTES_PER_HOUR=60,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.NANOS_PER_SECOND=1e9,t.NANOS_PER_MILLISECOND=1e6,t.NANOS_PER_MINUTE=t.NANOS_PER_SECOND*t.SECONDS_PER_MINUTE,t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE*t.MINUTES_PER_HOUR,t.DAYS_0000_TO_1970=719528,t.DAYS_PER_400_YEAR_CYCLE=146097,t.SECONDS_PER_DAY=86400,t.normalizeSecondsForDuration=function(e,n){return(0,a.int)(e).add(v(n,t.NANOS_PER_SECOND))},t.normalizeNanosecondsForDuration=function(e){return y(e,t.NANOS_PER_SECOND)},t.localTimeToNanoOfDay=function(e,n,r,o){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r),o=(0,a.int)(o);var i=e.multiply(t.NANOS_PER_HOUR);return(i=(i=i.add(n.multiply(t.NANOS_PER_MINUTE))).add(r.multiply(t.NANOS_PER_SECOND))).add(o)},t.localDateTimeToEpochSecond=function(e,n,r,o,i,u,s){var l=c(e,n,r),f=function(e,n,r){e=(0,a.int)(e),n=(0,a.int)(n),r=(0,a.int)(r);var o=e.multiply(t.SECONDS_PER_HOUR);return(o=o.add(n.multiply(t.SECONDS_PER_MINUTE))).add(r)}(o,i,u);return l.multiply(t.SECONDS_PER_DAY).add(f)},t.dateToEpochDay=c,t.durationToIsoString=function(e,n,r,o){var i=m(e),u=m(n),s=function(e,n){var r,o;e=(0,a.int)(e),n=(0,a.int)(n);var i=e.isNegative(),u=n.greaterThan(0);return r=i&&u?e.equals(-1)?"-0":e.add(1).toString():e.toString(),u&&(o=g(i?n.negate().add(2*t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND):n.add(t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND))),null!=o?r+o:r}(r,o);return"P".concat(i,"M").concat(u,"DT").concat(s,"S")},t.timeToIsoString=function(e,t,n,r){var o=m(e,2),i=m(t,2),a=m(n,2),u=g(r);return"".concat(o,":").concat(i,":").concat(a).concat(u)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var n=e.isNegative();n&&(e=e.multiply(-1));var r=n?"-":"+",o=m(e.div(t.SECONDS_PER_HOUR),2),i=m(e.div(t.SECONDS_PER_MINUTE).modulo(t.MINUTES_PER_HOUR),2),u=e.modulo(t.SECONDS_PER_MINUTE),s=u.equals(0)?null:m(u,2);return null!=s?"".concat(r).concat(o,":").concat(i,":").concat(s):"".concat(r).concat(o,":").concat(i)},t.dateToIsoString=function(e,t,n){var r=function(e){var t=(0,a.int)(e);return t.isNegative()||t.greaterThan(9999)?m(t,6,{usePositiveSign:!0}):m(t,4)}(e),o=m(t,2),i=m(n,2);return"".concat(r,"-").concat(o,"-").concat(i)},t.isoStringToStandardDate=function(e){return new Date(e)},t.toStandardDate=function(e){return new Date(e)},t.newDate=function(e){return new Date(e)},t.totalNanoseconds=function(e,n){return function(e,t){return e instanceof a.default?e.add(t):"bigint"==typeof e?e+BigInt(t):e+t}(n=null!=n?n:0,e.getMilliseconds()*t.NANOS_PER_MILLISECOND)},t.timeZoneOffsetInSeconds=function(e){var n=e.getSeconds()-e.getUTCSeconds(),r=e.getMinutes()-e.getUTCMinutes(),o=e.getHours()-e.getUTCHours(),i=function(e){return e.getMonth()===e.getUTCMonth()?e.getDate()-e.getUTCDate():e.getFullYear()>e.getUTCFullYear()||e.getMonth()>e.getUTCMonth()&&e.getFullYear()===e.getUTCFullYear()?e.getDate()+f(e.getUTCMonth(),e.getUTCFullYear())-e.getUTCDate():e.getDate()-(e.getUTCDate()+f(e.getMonth(),e.getFullYear()))}(e);return o*t.SECONDS_PER_HOUR+r*t.SECONDS_PER_MINUTE+n+i*t.SECONDS_PER_DAY},t.assertValidYear=function(e){return p(e,t.YEAR_RANGE,"Year")},t.assertValidMonth=function(e){return p(e,t.MONTH_OF_YEAR_RANGE,"Month")},t.assertValidDay=function(e){return p(e,t.DAY_OF_MONTH_RANGE,"Day")},t.assertValidHour=function(e){return p(e,t.HOUR_OF_DAY_RANGE,"Hour")},t.assertValidMinute=function(e){return p(e,t.MINUTE_OF_HOUR_RANGE,"Minute")},t.assertValidSecond=function(e){return p(e,t.SECOND_OF_MINUTE_RANGE,"Second")},t.assertValidNanosecond=function(e){return p(e,t.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var d=new Map,h=function(e,t){return(0,u.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))};function p(e,t,n){if((0,s.assertNumberOrInteger)(e,n),!t.contains(e))throw(0,u.newError)("".concat(n," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()));return e}function v(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var n=e.div(t);return e.isPositive()!==t.isPositive()&&n.multiply(t).notEquals(e)&&(n=n.subtract(1)),n}function y(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(v(e,t).multiply(t))}function g(e){return(e=(0,a.int)(e)).equals(0)?"":"."+m(e,9)}function m(e,t,n){var r=(e=(0,a.int)(e)).isNegative();r&&(e=e.negate());var o=e.toString();if(null!=t)for(;o.length<t;)o="0"+o;return r?"-"+o:!0===(null==n?void 0:n.usePositiveSign)?"+"+o:o}t.assertValidZoneId=function(e,t){var n=d.get(t);if(!0!==n){if(!1===n)throw h(t,e);try{Intl.DateTimeFormat(void 0,{timeZone:t}),d.set(t,!0)}catch(n){throw d.set(t,!1),h(t,e)}}},t.floorDiv=v,t.floorMod=y},5045:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7168),a=n(9305),u=o(n(7518)),s=n(5973),l=n(6492),c=a.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function d(e,t,n){var r=function(e){if(!f.has(e)){var t=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(e,t)}return f.get(e)}(e),o=(0,a.int)(t).multiply(1e3).add((0,a.int)(n).div(1e6)).toNumber(),i=r.formatToParts(o).reduce(function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:l.identity:"hour"===t.type?e.hour=(0,a.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,a.int)(t.value)),e},{});i.year=i.adjustEra(i.year);var u=c(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond);return i.timeZoneOffsetSeconds=u.subtract(t),i.hour=i.hour.modulo(24),i}function h(e,t,n){if(!t&&!n)return e;var r=function(e){return n?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?r(u):u}return Object.freeze(o),o}t.default={createDateTimeWithZoneIdTransformer:function(e,t){var n=e.disableLosslessIntegers,o=e.useBigInt;return u.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var t=r(e.fields,3),u=t[0],s=t[1],l=t[2],c=d(l,u,s);return h(new a.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,(0,a.int)(s),c.timeZoneOffsetSeconds,l),n,o)},toStructure:function(e){var n=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:function(e,t,n){var r=d(e,t,n),o=c(r.year,r.month,r.day,r.hour,r.minute,r.second,n).subtract(t),i=t.subtract(o),a=d(e,i,n);return c(a.year,a.month,a.day,a.hour,a.minute,a.second,n).subtract(i)}(e.timeZoneId,n,e.nanosecond);null==e.timeZoneOffsetSeconds&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var o=n.subtract(r),u=(0,a.int)(e.nanosecond),s=e.timeZoneId;return new i.structure.Structure(105,[o,u,s])}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,n=e.useBigInt;return u.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=(0,a.int)(e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds),o=t.subtract(r);return new i.structure.Structure(73,[o,n,r])},fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var o=r(e.fields,3),u=o[0],l=o[1],c=o[2],f=(0,a.int)(u).add(c),d=(0,s.epochSecondAndNanoToLocalDateTime)(f,l);return h(new a.DateTime(d.year,d.month,d.day,d.hour,d.minute,d.second,d.nanosecond,c,null),t,n)}})}}},5184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=n(7110),o=n(7843),i=n(3111);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate(function(n,o){n.subscribe(i.createOperatorSubscriber(o,function(n){return r.executeSchedule(o,e,function(){return o.next(n)},t)},function(){return r.executeSchedule(o,e,function(){return o.complete()},t)},function(n){return r.executeSchedule(o,e,function(){return o.error(n)},t)}))})}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=32,l=128,c=1/0,f=9007199254740991,d=NaN,h=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],v="[object Arguments]",y="[object Array]",g="[object Boolean]",m="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",O="[object Map]",E="[object Number]",x="[object Object]",S="[object Promise]",P="[object RegExp]",T="[object Set]",C="[object String]",k="[object Symbol]",A="[object WeakMap]",j="[object ArrayBuffer]",R="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Y=RegExp(q.source),X=RegExp(G.source),K=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+we+"]",ke="["+Te+"]",Ae="["+Oe+"]",je="\\d+",Re="["+Ee+"]",Ie="["+xe+"]",Ne="[^"+we+Te+je+Ee+xe+Se+"]",Me="\\ud83c[\\udffb-\\udfff]",De="[^"+we+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Se+"]",Be="\\u200d",ze="(?:"+Ie+"|"+Ne+")",Ve="(?:"+Ue+"|"+Ne+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Ae+"|"+Me+")?",Ge="["+Pe+"]?",Ye=Ge+qe+"(?:"+Be+"(?:"+[De,Le,Fe].join("|")+")"+Ge+qe+")*",Xe="(?:"+[Re,Le,Fe].join("|")+")"+Ye,Ke="(?:"+[De+Ae+"?",Ae,Le,Fe,Ce].join("|")+")",Ze=RegExp("['\u2019]","g"),$e=RegExp(Ae,"g"),Qe=RegExp(Me+"(?="+Me+")|"+Ke+Ye,"g"),Je=RegExp([Ue+"?"+Ie+"+"+We+"(?="+[ke,Ue,"$"].join("|")+")",Ve+"+"+He+"(?="+[ke,Ue+ze,"$"].join("|")+")",Ue+"?"+ze+"+"+We,Ue+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Xe].join("|"),"g"),et=RegExp("["+Be+we+Oe+Pe+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[I]=ot[N]=ot[M]=ot[D]=ot[L]=ot[F]=ot[U]=ot[B]=ot[z]=!0,ot[v]=ot[y]=ot[j]=ot[g]=ot[R]=ot[m]=ot[b]=ot[_]=ot[O]=ot[E]=ot[x]=ot[P]=ot[T]=ot[C]=ot[A]=!1;var it={};it[v]=it[y]=it[j]=it[R]=it[g]=it[m]=it[I]=it[N]=it[M]=it[D]=it[L]=it[O]=it[E]=it[x]=it[P]=it[T]=it[C]=it[k]=it[F]=it[U]=it[B]=it[z]=!0,it[b]=it[_]=it[A]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,st=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,ft=lt||ct||Function("return this")(),dt=t&&!t.nodeType&&t,ht=dt&&e&&!e.nodeType&&e,pt=ht&&ht.exports===dt,vt=pt&&lt.process,yt=function(){try{return ht&&ht.require&&ht.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),gt=yt&&yt.isArrayBuffer,mt=yt&&yt.isDate,bt=yt&&yt.isMap,_t=yt&&yt.isRegExp,wt=yt&&yt.isSet,Ot=yt&&yt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function kt(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function At(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function jt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Rt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function It(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Nt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Wt("length");function Lt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,zt,n)}function Bt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function zt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:d}function Wt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function qt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Gt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Kt(e){return function(t){return e(t)}}function Zt(e,t){return jt(t,function(t){return e[t]})}function $t(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function Jt(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var en=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),tn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+at[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function an(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function sn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ln(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Dt(e)}function cn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function e(t){var n,r=(t=null==t?ft:hn.defaults(ft.Object(),t,hn.pick(ft,nt))).Array,oe=t.Date,we=t.Error,Oe=t.Function,Ee=t.Math,xe=t.Object,Se=t.RegExp,Pe=t.String,Te=t.TypeError,Ce=r.prototype,ke=Oe.prototype,Ae=xe.prototype,je=t["__core-js_shared__"],Re=ke.toString,Ie=Ae.hasOwnProperty,Ne=0,Me=(n=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Ae.toString,Le=Re.call(xe),Fe=ft._,Ue=Se("^"+Re.call(Ie).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=pt?t.Buffer:o,ze=t.Symbol,Ve=t.Uint8Array,We=Be?Be.allocUnsafe:o,He=an(xe.getPrototypeOf,xe),qe=xe.create,Ge=Ae.propertyIsEnumerable,Ye=Ce.splice,Xe=ze?ze.isConcatSpreadable:o,Ke=ze?ze.iterator:o,Qe=ze?ze.toStringTag:o,et=function(){try{var e=si(xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,lt=oe&&oe.now!==ft.Date.now&&oe.now,ct=t.setTimeout!==ft.setTimeout&&t.setTimeout,dt=Ee.ceil,ht=Ee.floor,vt=xe.getOwnPropertySymbols,yt=Be?Be.isBuffer:o,Dt=t.isFinite,Ht=Ce.join,pn=an(xe.keys,xe),vn=Ee.max,yn=Ee.min,gn=oe.now,mn=t.parseInt,bn=Ee.random,_n=Ce.reverse,wn=si(t,"DataView"),On=si(t,"Map"),En=si(t,"Promise"),xn=si(t,"Set"),Sn=si(t,"WeakMap"),Pn=si(xe,"create"),Tn=Sn&&new Sn,Cn={},kn=Di(wn),An=Di(On),jn=Di(En),Rn=Di(xn),In=Di(Sn),Nn=ze?ze.prototype:o,Mn=Nn?Nn.valueOf:o,Dn=Nn?Nn.toString:o;function Ln(e){if(Ja(e)&&!Va(e)&&!(e instanceof zn)){if(e instanceof Bn)return e;if(Ie.call(e,"__wrapped__"))return Li(e)}return new Bn(e)}var Fn=function(){function e(){}return function(t){if(!Qa(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Un(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&za(e),o=!n&&!r&&Ga(e),i=!n&&!r&&!o&&uu(e),a=n||r||o||i,u=a?Yt(e.length,Pe):[],s=u.length;for(var l in e)!t&&!Ie.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vi(l,s))||u.push(l);return u}function Xn(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Kn(e,t){return ji(Po(e),or(t,0,e.length))}function Zn(e){return ji(Po(e))}function $n(e,t,n){(n!==o&&!Fa(e[t],n)||n===o&&!(t in e))&&nr(e,t,n)}function Qn(e,t,n){var r=e[t];Ie.call(e,t)&&Fa(r,n)&&(n!==o||t in e)||nr(e,t,n)}function Jn(e,t){for(var n=e.length;n--;)if(Fa(e[n][0],t))return n;return-1}function er(e,t,n,r){return lr(e,function(e,o,i){t(r,e,n(e),i)}),r}function tr(e,t){return e&&To(t,ku(t),e)}function nr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:xu(e,t[n]);return a}function or(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ir(e,t,n,r,i,a){var u,s=1&t,l=2&t,c=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!Qa(e))return e;var f=Va(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Po(e,u)}else{var d=fi(e),h=d==_||d==w;if(Ga(e))return _o(e,s);if(d==x||d==v||h&&!i){if(u=l||h?{}:hi(e),!s)return l?function(e,t){return To(e,ci(e),t)}(e,function(e,t){return e&&To(t,Au(t),e)}(u,e)):function(e,t){return To(e,li(e),t)}(e,tr(u,e))}else{if(!it[d])return i?e:{};u=function(e,t,n){var r,o=e.constructor;switch(t){case j:return wo(e);case g:case m:return new o(+e);case R:return function(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case N:case M:case D:case L:case F:case U:case B:case z:return Oo(e,n);case O:return new o;case E:case C:return new o(e);case P:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new o;case k:return r=e,Mn?xe(Mn.call(r)):{}}}(e,d,s)}}a||(a=new Gn);var p=a.get(e);if(p)return p;a.set(e,u),ou(e)?e.forEach(function(r){u.add(ir(r,t,n,r,e,a))}):eu(e)&&e.forEach(function(r,o){u.set(o,ir(r,t,n,o,e,a))});var y=f?o:(c?l?ti:ei:l?Au:ku)(e);return St(y||e,function(r,o){y&&(r=e[o=r]),Qn(u,o,ir(r,t,n,o,e,a))}),u}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=xe(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Te(i);return Ti(function(){e.apply(o,n)},t)}function sr(e,t,n,r){var o=-1,i=kt,a=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=jt(t,Kt(n))),r?(i=At,a=!1):t.length>=200&&(i=$t,a=!1,t=new qn(t));e:for(;++o<u;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;s.push(c)}else i(t,f,r)||s.push(c)}return s}Ln.templateSettings={escape:K,evaluate:Z,interpolate:$,variable:"",imports:{_:Ln}},Ln.prototype=Un.prototype,Ln.prototype.constructor=Ln,Bn.prototype=Fn(Un.prototype),Bn.prototype.constructor=Bn,zn.prototype=Fn(Un.prototype),zn.prototype.constructor=zn,Vn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?o:n}return Ie.call(t,e)?t[e]:o},Vn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==o:Ie.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===o?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=Jn(t,e);return!(n<0||(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=Jn(t,e);return n<0?o:t[n][1]},Wn.prototype.has=function(e){return Jn(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=Jn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(On||Wn),string:new Vn}},Hn.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ai(this,e).get(e)},Hn.prototype.has=function(e){return ai(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var lr=Ao(gr),cr=Ao(mr,!0);function fr(e,t){var n=!0;return lr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function dr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u==u&&!au(u):n(u,s)))var s=u,l=a}return l}function hr(e,t){var n=[];return lr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function pr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=pi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?pr(u,t-1,n,r,o):Rt(o,u):r||(o[o.length]=u)}return o}var vr=jo(),yr=jo(!0);function gr(e,t){return e&&vr(e,t,ku)}function mr(e,t){return e&&yr(e,t,ku)}function br(e,t){return Ct(t,function(t){return Ka(e[t])})}function _r(e,t){for(var n=0,r=(t=yo(t,e)).length;null!=e&&n<r;)e=e[Mi(t[n++])];return n&&n==r?e:o}function wr(e,t,n){var r=t(e);return Va(e)?r:Rt(r,n(e))}function Or(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in xe(e)?function(e){var t=Ie.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),i}(e):function(e){return De.call(e)}(e)}function Er(e,t){return e>t}function xr(e,t){return null!=e&&Ie.call(e,t)}function Sr(e,t){return null!=e&&t in xe(e)}function Pr(e,t,n){for(var i=n?At:kt,a=e[0].length,u=e.length,s=u,l=r(u),c=1/0,f=[];s--;){var d=e[s];s&&t&&(d=jt(d,Kt(t))),c=yn(d.length,c),l[s]=!n&&(t||a>=120&&d.length>=120)?new qn(s&&d):o}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var v=d[h],y=t?t(v):v;if(v=n||0!==v?v:0,!(p?$t(p,y):i(f,y,n))){for(s=u;--s;){var g=l[s];if(!(g?$t(g,y):i(e[s],y,n)))continue e}p&&p.push(y),f.push(v)}}return f}function Tr(e,t,n){var r=null==(e=xi(e,t=yo(t,e)))?e:e[Mi(Xi(t))];return null==r?o:Et(r,e,n)}function Cr(e){return Ja(e)&&Or(e)==v}function kr(e,t,n,r,i){return e===t||(null==e||null==t||!Ja(e)&&!Ja(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Va(e),s=Va(t),l=u?y:fi(e),c=s?y:fi(t),f=(l=l==v?x:l)==x,d=(c=c==v?x:c)==x,h=l==c;if(h&&Ga(e)){if(!Ga(t))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Gn),u||uu(e)?Qo(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case g:case m:case E:return Fa(+e,+t);case b:return e.name==t.name&&e.message==t.message;case P:case C:return e==t+"";case O:var u=on;case T:var s=1&r;if(u||(u=sn),e.size!=t.size&&!s)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Qo(u(e),u(t),r,o,i,a);return a.delete(e),c;case k:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var p=f&&Ie.call(e,"__wrapped__"),_=d&&Ie.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,S=_?t.value():t;return a||(a=new Gn),i(w,S,n,r,a)}}return!!h&&(a||(a=new Gn),function(e,t,n,r,i,a){var u=1&n,s=ei(e),l=s.length;if(l!=ei(t).length&&!u)return!1;for(var c=l;c--;){var f=s[c];if(!(u?f in t:Ie.call(t,f)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=u;++c<l;){var y=e[f=s[c]],g=t[f];if(r)var m=u?r(g,y,f,t,e,a):r(y,g,f,e,t,a);if(!(m===o?y===g||i(y,g,n,r,a):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,kr,i))}function Ar(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=xe(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],c=e[l],f=s[1];if(u&&s[2]){if(c===o&&!(l in e))return!1}else{var d=new Gn;if(r)var h=r(c,f,l,e,t,d);if(!(h===o?kr(f,c,3,r,d):h))return!1}}return!0}function jr(e){return!(!Qa(e)||(t=e,Me&&Me in t))&&(Ka(e)?Ue:ve).test(Di(e));var t}function Rr(e){return"function"==typeof e?e:null==e?ts:"object"==typeof e?Va(e)?Lr(e[0],e[1]):Dr(e):cs(e)}function Ir(e){if(!_i(e))return pn(e);var t=[];for(var n in xe(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Mr(e,t){var n=-1,o=Ha(e)?r(e.length):[];return lr(e,function(e,r,i){o[++n]=t(e,r,i)}),o}function Dr(e){var t=ui(e);return 1==t.length&&t[0][2]?Oi(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Lr(e,t){return gi(e)&&wi(t)?Oi(Mi(e),t):function(n){var r=xu(n,e);return r===o&&r===t?Su(n,e):kr(t,r,3)}}function Fr(e,t,n,r,i){e!==t&&vr(t,function(a,u){if(i||(i=new Gn),Qa(a))!function(e,t,n,r,i,a,u){var s=Si(e,n),l=Si(t,n),c=u.get(l);if(c)$n(e,n,c);else{var f=a?a(s,l,n+"",e,t,u):o,d=f===o;if(d){var h=Va(l),p=!h&&Ga(l),v=!h&&!p&&uu(l);f=l,h||p||v?Va(s)?f=s:qa(s)?f=Po(s):p?(d=!1,f=_o(l,!0)):v?(d=!1,f=Oo(l,!0)):f=[]:nu(l)||za(l)?(f=s,za(s)?f=vu(s):Qa(s)&&!Ka(s)||(f=hi(l))):d=!1}d&&(u.set(l,f),i(f,l,r,a,u),u.delete(l)),$n(e,n,f)}}(e,t,u,n,Fr,r,i);else{var s=r?r(Si(e,u),a,u+"",e,t,i):o;s===o&&(s=a),$n(e,u,s)}},Au)}function Ur(e,t){var n=e.length;if(n)return vi(t+=t<0?n:0,n)?e[t]:o}function Br(e,t,n){t=t.length?jt(t,function(e){return Va(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e}):[ts];var r=-1;t=jt(t,Kt(ii()));var o=Mr(e,function(e,n,o){var i=jt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var s=Eo(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(o)}function zr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=_r(e,a);n(u,a)&&Kr(i,yo(a,e),u)}return i}function Vr(e,t,n,r){var o=r?Bt:Ut,i=-1,a=t.length,u=e;for(e===t&&(t=Po(t)),n&&(u=jt(e,Kt(n)));++i<a;)for(var s=0,l=t[i],c=n?n(l):l;(s=o(u,c,s,r))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?Ye.call(e,o,1):uo(e,o)}}return e}function Hr(e,t){return e+ht(bn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Ci(Ei(e,t,ts),e+"")}function Yr(e){return Xn(Fu(e))}function Xr(e,t){var n=Fu(e);return ji(n,or(t,0,n.length))}function Kr(e,t,n,r){if(!Qa(e))return e;for(var i=-1,a=(t=yo(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var l=Mi(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=u){var f=s[l];(c=r?r(f,l,s):o)===o&&(c=Qa(f)?f:vi(t[i+1])?[]:{})}Qn(s,l,c),s=s[l]}return e}var Zr=Tn?function(e,t){return Tn.set(e,t),e}:ts,$r=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qu(t),writable:!0})}:ts;function Qr(e){return ji(Fu(e))}function Jr(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function eo(e,t){var n;return lr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function to(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!au(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return no(e,t,ts,n)}function no(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,l=au(t),c=t===o;i<a;){var f=ht((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,v=d==d,y=au(d);if(u)var g=r||v;else g=c?v&&(r||h):s?v&&h&&(r||!p):l?v&&h&&!p&&(r||!y):!p&&!y&&(r?d<=t:d<t);g?i=f+1:a=f}return yn(a,4294967294)}function ro(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Fa(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function oo(e){return"number"==typeof e?e:au(e)?d:+e}function io(e){if("string"==typeof e)return e;if(Va(e))return jt(e,io)+"";if(au(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,n){var r=-1,o=kt,i=e.length,a=!0,u=[],s=u;if(n)a=!1,o=At;else if(i>=200){var l=t?null:Go(e);if(l)return sn(l);a=!1,o=$t,s=new qn}else s=t?[]:u;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(c)}else o(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function uo(e,t){return null==(e=xi(e,t=yo(t,e)))||delete e[Mi(Xi(t))]}function so(e,t,n,r){return Kr(e,t,n(_r(e,t)),r)}function lo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Jr(e,r?0:i,r?i+1:o):Jr(e,r?i+1:0,r?o:i)}function co(e,t){var n=e;return n instanceof zn&&(n=n.value()),It(t,function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))},n)}function fo(e,t,n){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=sr(a[i]||u,e[s],t,n));return ao(pr(a,1),t,n)}function ho(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function po(e){return qa(e)?e:[]}function vo(e){return"function"==typeof e?e:ts}function yo(e,t){return Va(e)?e:gi(e,t)?[e]:Ni(yu(e))}var go=Gr;function mo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Jr(e,t,n)}var bo=at||function(e){return ft.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function wo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Oo(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Eo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=au(e),u=t!==o,s=null===t,l=t==t,c=au(t);if(!s&&!c&&!a&&e>t||a&&u&&l&&!s&&!c||r&&u&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!l)return-1}return 0}function xo(e,t,n,o){for(var i=-1,a=e.length,u=n.length,s=-1,l=t.length,c=vn(a-u,0),f=r(l+c),d=!o;++s<l;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[s++]=e[i++];return f}function So(e,t,n,o){for(var i=-1,a=e.length,u=-1,s=n.length,l=-1,c=t.length,f=vn(a-s,0),d=r(f+c),h=!o;++i<f;)d[i]=e[i];for(var p=i;++l<c;)d[p+l]=t[l];for(;++u<s;)(h||i<a)&&(d[p+n[u]]=e[i++]);return d}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function To(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],l=r?r(n[s],e[s],s,n,e):o;l===o&&(l=e[s]),i?nr(n,s,l):Qn(n,s,l)}return n}function Co(e,t){return function(n,r){var o=Va(n)?xt:er,i=t?t():{};return o(n,e,ii(r,2),i)}}function ko(e){return Gr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&yi(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=xe(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function Ao(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=xe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function jo(e){return function(t,n,r){for(var o=-1,i=xe(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function Ro(e){return function(t){var n=rn(t=yu(t))?cn(t):o,r=n?n[0]:t.charAt(0),i=n?mo(n,1).join(""):t.slice(1);return r[e]()+i}}function Io(e){return function(t){return It(Ku(zu(t).replace(Ze,"")),e,"")}}function No(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return Qa(r)?r:n}}function Mo(e){return function(t,n,r){var i=xe(t);if(!Ha(t)){var a=ii(n,3);t=ku(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function Do(e){return Jo(function(t){var n=t.length,r=n,a=Bn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Te(i);if(a&&!s&&"wrapper"==ri(u))var s=new Bn([],!0)}for(r=s?r:n;++r<n;){var l=ri(u=t[r]),c="wrapper"==l?ni(u):o;s=c&&mi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[ri(c[0])].apply(s,c[3]):1==u.length&&mi(u)?s[l]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Va(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Lo(e,t,n,i,a,u,s,c,f,d){var h=t&l,p=1&t,v=2&t,y=24&t,g=512&t,m=v?o:No(e);return function l(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(y)var O=oi(l),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,O);if(i&&(_=xo(_,i,a,y)),u&&(_=So(_,u,s,y)),b-=E,y&&b<d){var x=un(_,O);return Ho(e,t,Lo,l.placeholder,n,_,x,c,f,d-b)}var S=p?n:this,P=v?S[e]:e;return b=_.length,c?_=function(e,t){for(var n=e.length,r=yn(t.length,n),i=Po(e);r--;){var a=t[r];e[r]=vi(a,n)?i[a]:o}return e}(_,c):g&&b>1&&_.reverse(),h&&f<b&&(_.length=f),this&&this!==ft&&this instanceof l&&(P=m||No(P)),P.apply(S,_)}}function Fo(e,t){return function(n,r){return function(e,t,n,r){return gr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Uo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=io(n),r=io(r)):(n=oo(n),r=oo(r)),i=e(n,r)}return i}}function Bo(e){return Jo(function(t){return t=jt(t,Kt(ii())),Gr(function(n){var r=this;return e(t,function(e){return Et(e,r,n)})})})}function zo(e,t){var n=(t=t===o?" ":io(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,dt(e/ln(t)));return rn(t)?mo(cn(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&"number"!=typeof i&&yi(t,n,i)&&(n=i=o),t=fu(t),n===o?(n=t,t=0):n=fu(n),function(e,t,n,o){for(var i=-1,a=vn(dt((t-e)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:fu(i),e)}}function Wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=pu(t),n=pu(n)),e(t,n)}}function Ho(e,t,n,r,i,a,u,l,c,f){var d=8&t;t|=d?s:64,4&(t&=~(d?64:s))||(t&=-4);var h=[e,t,i,d?a:o,d?u:o,d?o:a,d?o:u,l,c,f],p=n.apply(o,h);return mi(e)&&Pi(p,h),p.placeholder=r,ki(p,e,t)}function qo(e){var t=Ee[e];return function(e,n){if(e=pu(e),(n=null==n?0:yn(du(n),292))&&Dt(e)){var r=(yu(e)+"e").split("e");return+((r=(yu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Go=xn&&1/sn(new xn([,-0]))[1]==c?function(e){return new xn(e)}:as;function Yo(e){return function(t){var n=fi(t);return n==O?on(t):n==T?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return jt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xo(e,t,n,a,c,f,d,h){var p=2&t;if(!p&&"function"!=typeof e)throw new Te(i);var v=a?a.length:0;if(v||(t&=-97,a=c=o),d=d===o?d:vn(du(d),0),h=h===o?h:du(h),v-=c?c.length:0,64&t){var y=a,g=c;a=c=o}var m=p?o:ni(e),b=[e,t,n,a,c,y,g,f,d,h];if(m&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?xo(c,s,t[4]):s,e[4]=c?un(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?So(c,s,t[6]):s,e[6]=c?un(e[5],u):t[6]),(s=t[7])&&(e[7]=s),r&l&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(b,m),e=b[0],t=b[1],n=b[2],a=b[3],c=b[4],!(h=b[9]=b[9]===o?p?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var i=No(e);return function a(){for(var u=arguments.length,s=r(u),l=u,c=oi(a);l--;)s[l]=arguments[l];var f=u<3&&s[0]!==c&&s[u-1]!==c?[]:un(s,c);return(u-=f.length)<n?Ho(e,t,Lo,a.placeholder,o,s,f,o,o,n-u):Et(this&&this!==ft&&this instanceof a?i:e,this,s)}}(e,t,h):t!=s&&33!=t||c.length?Lo.apply(o,b):function(e,t,n,o){var i=1&t,a=No(e);return function t(){for(var u=-1,s=arguments.length,l=-1,c=o.length,f=r(c+s),d=this&&this!==ft&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;s--;)f[l++]=arguments[++u];return Et(d,i?n:this,f)}}(e,t,n,a);else var _=function(e,t,n){var r=1&t,o=No(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return ki((m?Zr:Pi)(_,b),e,t)}function Ko(e,t,n,r){return e===o||Fa(e,Ae[n])&&!Ie.call(r,n)?t:e}function Zo(e,t,n,r,i,a){return Qa(e)&&Qa(t)&&(a.set(t,e),Fr(e,t,o,Zo,a),a.delete(t)),e}function $o(e){return nu(e)?o:e}function Qo(e,t,n,r,i,a){var u=1&n,s=e.length,l=t.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new qn:o;for(a.set(e,t),a.set(t,e);++d<s;){var v=e[d],y=t[d];if(r)var g=u?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(g!==o){if(g)continue;h=!1;break}if(p){if(!Mt(t,function(e,t){if(!$t(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(v!==y&&!i(v,y,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Jo(e){return Ci(Ei(e,o,Wi),e+"")}function ei(e){return wr(e,ku,li)}function ti(e){return wr(e,Au,ci)}var ni=Tn?function(e){return Tn.get(e)}:as;function ri(e){for(var t=e.name+"",n=Cn[t],r=Ie.call(Cn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function oi(e){return(Ie.call(Ln,"placeholder")?Ln:e).placeholder}function ii(){var e=Ln.iteratee||ns;return e=e===ns?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ui(e){for(var t=ku(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wi(o)]}return t}function si(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return jr(n)?n:o}var li=vt?function(e){return null==e?[]:(e=xe(e),Ct(vt(e),function(t){return Ge.call(e,t)}))}:hs,ci=vt?function(e){for(var t=[];e;)Rt(t,li(e)),e=He(e);return t}:hs,fi=Or;function di(e,t,n){for(var r=-1,o=(t=yo(t,e)).length,i=!1;++r<o;){var a=Mi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&$a(o)&&vi(a,o)&&(Va(e)||za(e))}function hi(e){return"function"!=typeof e.constructor||_i(e)?{}:Fn(He(e))}function pi(e){return Va(e)||za(e)||!!(Xe&&e&&e[Xe])}function vi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function yi(e,t,n){if(!Qa(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&vi(t,n.length):"string"==r&&t in n)&&Fa(n[t],e)}function gi(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!au(e))||J.test(e)||!Q.test(e)||null!=t&&e in xe(t)}function mi(e){var t=ri(e),n=Ln[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ni(n);return!!r&&e===r[0]}(wn&&fi(new wn(new ArrayBuffer(1)))!=R||On&&fi(new On)!=O||En&&fi(En.resolve())!=S||xn&&fi(new xn)!=T||Sn&&fi(new Sn)!=A)&&(fi=function(e){var t=Or(e),n=t==x?e.constructor:o,r=n?Di(n):"";if(r)switch(r){case kn:return R;case An:return O;case jn:return S;case Rn:return T;case In:return A}return t});var bi=je?Ka:ps;function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function wi(e){return e==e&&!Qa(e)}function Oi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in xe(n))}}function Ei(e,t,n){return t=vn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=vn(o.length-t,0),u=r(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),Et(e,this,s)}}function xi(e,t){return t.length<2?e:_r(e,Jr(t,0,-1))}function Si(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pi=Ai(Zr),Ti=ct||function(e,t){return ft.setTimeout(e,t)},Ci=Ai($r);function ki(e,t,n){var r=t+"";return Ci(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(p,function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ue):[]}(r),n)))}function Ai(e){var t=0,n=0;return function(){var r=gn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ji(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Hr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Ri,Ii,Ni=(Ri=Ra(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(ce,"$1"):n||e)}),t},function(e){return 500===Ii.size&&Ii.clear(),e}),Ii=Ri.cache,Ri);function Mi(e){if("string"==typeof e||au(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Di(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Li(e){if(e instanceof zn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fi=Gr(function(e,t){return qa(e)?sr(e,pr(t,1,qa,!0)):[]}),Ui=Gr(function(e,t){var n=Xi(t);return qa(n)&&(n=o),qa(e)?sr(e,pr(t,1,qa,!0),ii(n,2)):[]}),Bi=Gr(function(e,t){var n=Xi(t);return qa(n)&&(n=o),qa(e)?sr(e,pr(t,1,qa,!0),o,n):[]});function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:du(n);return o<0&&(o=vn(r+o,0)),Ft(e,ii(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=du(n),i=n<0?vn(r+i,0):yn(i,r-1)),Ft(e,ii(t,3),i,!0)}function Wi(e){return null!=e&&e.length?pr(e,1):[]}function Hi(e){return e&&e.length?e[0]:o}var qi=Gr(function(e){var t=jt(e,po);return t.length&&t[0]===e[0]?Pr(t):[]}),Gi=Gr(function(e){var t=Xi(e),n=jt(e,po);return t===Xi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Pr(n,ii(t,2)):[]}),Yi=Gr(function(e){var t=Xi(e),n=jt(e,po);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,o,t):[]});function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ki=Gr(Zi);function Zi(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var $i=Jo(function(e,t){var n=null==e?0:e.length,r=rr(e,t);return Wr(e,jt(t,function(e){return vi(e,n)?+e:e}).sort(Eo)),r});function Qi(e){return null==e?e:_n.call(e)}var Ji=Gr(function(e){return ao(pr(e,1,qa,!0))}),ea=Gr(function(e){var t=Xi(e);return qa(t)&&(t=o),ao(pr(e,1,qa,!0),ii(t,2))}),ta=Gr(function(e){var t=Xi(e);return t="function"==typeof t?t:o,ao(pr(e,1,qa,!0),o,t)});function na(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,function(e){if(qa(e))return t=vn(e.length,t),!0}),Yt(t,function(t){return jt(e,Wt(t))})}function ra(e,t){if(!e||!e.length)return[];var n=na(e);return null==t?n:jt(n,function(e){return Et(t,o,e)})}var oa=Gr(function(e,t){return qa(e)?sr(e,t):[]}),ia=Gr(function(e){return fo(Ct(e,qa))}),aa=Gr(function(e){var t=Xi(e);return qa(t)&&(t=o),fo(Ct(e,qa),ii(t,2))}),ua=Gr(function(e){var t=Xi(e);return t="function"==typeof t?t:o,fo(Ct(e,qa),o,t)}),sa=Gr(na),la=Gr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ra(e,n)});function ca(e){var t=Ln(e);return t.__chain__=!0,t}function fa(e,t){return t(e)}var da=Jo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&vi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fa,args:[i],thisArg:o}),new Bn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),ha=Co(function(e,t,n){Ie.call(e,n)?++e[n]:nr(e,n,1)}),pa=Mo(zi),va=Mo(Vi);function ya(e,t){return(Va(e)?St:lr)(e,ii(t,3))}function ga(e,t){return(Va(e)?Pt:cr)(e,ii(t,3))}var ma=Co(function(e,t,n){Ie.call(e,n)?e[n].push(t):nr(e,n,[t])}),ba=Gr(function(e,t,n){var o=-1,i="function"==typeof t,a=Ha(e)?r(e.length):[];return lr(e,function(e){a[++o]=i?Et(t,e,n):Tr(e,t,n)}),a}),_a=Co(function(e,t,n){nr(e,n,t)});function wa(e,t){return(Va(e)?jt:Mr)(e,ii(t,3))}var Oa=Co(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ea=Gr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&yi(e,t[0],t[1])?t=[]:n>2&&yi(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,pr(t,1),[])}),xa=lt||function(){return ft.Date.now()};function Sa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Xo(e,l,o,o,o,o,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Te(i);return e=du(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ta=Gr(function(e,t,n){var r=1;if(n.length){var o=un(n,oi(Ta));r|=s}return Xo(e,r,t,n,o)}),Ca=Gr(function(e,t,n){var r=3;if(n.length){var o=un(n,oi(Ca));r|=s}return Xo(t,r,e,n,o)});function ka(e,t,n){var r,a,u,s,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(i);function v(t){var n=r,i=a;return r=a=o,f=t,s=e.apply(i,n)}function y(e){var n=e-c;return c===o||n>=t||n<0||h&&e-f>=u}function g(){var e=xa();if(y(e))return m(e);l=Ti(g,function(e){var n=t-(e-c);return h?yn(n,u-(e-f)):n}(e))}function m(e){return l=o,p&&r?v(e):(r=a=o,s)}function b(){var e=xa(),n=y(e);if(r=arguments,a=this,c=e,n){if(l===o)return function(e){return f=e,l=Ti(g,t),d?v(e):s}(c);if(h)return bo(l),l=Ti(g,t),v(c)}return l===o&&(l=Ti(g,t)),s}return t=pu(t)||0,Qa(n)&&(d=!!n.leading,u=(h="maxWait"in n)?vn(pu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&bo(l),f=0,r=c=a=l=o},b.flush=function(){return l===o?s:m(xa())},b}var Aa=Gr(function(e,t){return ur(e,1,t)}),ja=Gr(function(e,t,n){return ur(e,pu(t)||0,n)});function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ra.Cache||Hn),n}function Ia(e){if("function"!=typeof e)throw new Te(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Hn;var Na=go(function(e,t){var n=(t=1==t.length&&Va(t[0])?jt(t[0],Kt(ii())):jt(pr(t,1),Kt(ii()))).length;return Gr(function(r){for(var o=-1,i=yn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Et(e,this,r)})}),Ma=Gr(function(e,t){var n=un(t,oi(Ma));return Xo(e,s,o,t,n)}),Da=Gr(function(e,t){var n=un(t,oi(Da));return Xo(e,64,o,t,n)}),La=Jo(function(e,t){return Xo(e,256,o,o,o,t)});function Fa(e,t){return e===t||e!=e&&t!=t}var Ua=Wo(Er),Ba=Wo(function(e,t){return e>=t}),za=Cr(function(){return arguments}())?Cr:function(e){return Ja(e)&&Ie.call(e,"callee")&&!Ge.call(e,"callee")},Va=r.isArray,Wa=gt?Kt(gt):function(e){return Ja(e)&&Or(e)==j};function Ha(e){return null!=e&&$a(e.length)&&!Ka(e)}function qa(e){return Ja(e)&&Ha(e)}var Ga=yt||ps,Ya=mt?Kt(mt):function(e){return Ja(e)&&Or(e)==m};function Xa(e){if(!Ja(e))return!1;var t=Or(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!nu(e)}function Ka(e){if(!Qa(e))return!1;var t=Or(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Za(e){return"number"==typeof e&&e==du(e)}function $a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ja(e){return null!=e&&"object"==typeof e}var eu=bt?Kt(bt):function(e){return Ja(e)&&fi(e)==O};function tu(e){return"number"==typeof e||Ja(e)&&Or(e)==E}function nu(e){if(!Ja(e)||Or(e)!=x)return!1;var t=He(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Le}var ru=_t?Kt(_t):function(e){return Ja(e)&&Or(e)==P},ou=wt?Kt(wt):function(e){return Ja(e)&&fi(e)==T};function iu(e){return"string"==typeof e||!Va(e)&&Ja(e)&&Or(e)==C}function au(e){return"symbol"==typeof e||Ja(e)&&Or(e)==k}var uu=Ot?Kt(Ot):function(e){return Ja(e)&&$a(e.length)&&!!ot[Or(e)]},su=Wo(Nr),lu=Wo(function(e,t){return e<=t});function cu(e){if(!e)return[];if(Ha(e))return iu(e)?cn(e):Po(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=fi(e);return(t==O?on:t==T?sn:Fu)(e)}function fu(e){return e?(e=pu(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function du(e){var t=fu(e),n=t%1;return t==t?n?t-n:t:0}function hu(e){return e?or(du(e),0,h):0}function pu(e){if("number"==typeof e)return e;if(au(e))return d;if(Qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=pe.test(e);return n||ye.test(e)?st(e.slice(2),n?2:8):he.test(e)?d:+e}function vu(e){return To(e,Au(e))}function yu(e){return null==e?"":io(e)}var gu=ko(function(e,t){if(_i(t)||Ha(t))To(t,ku(t),e);else for(var n in t)Ie.call(t,n)&&Qn(e,n,t[n])}),mu=ko(function(e,t){To(t,Au(t),e)}),bu=ko(function(e,t,n,r){To(t,Au(t),e,r)}),_u=ko(function(e,t,n,r){To(t,ku(t),e,r)}),wu=Jo(rr),Ou=Gr(function(e,t){e=xe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&yi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Au(a),s=-1,l=u.length;++s<l;){var c=u[s],f=e[c];(f===o||Fa(f,Ae[c])&&!Ie.call(e,c))&&(e[c]=a[c])}return e}),Eu=Gr(function(e){return e.push(o,Zo),Et(Ru,o,e)});function xu(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Su(e,t){return null!=e&&di(e,t,Sr)}var Pu=Fo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n},Qu(ts)),Tu=Fo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]},ii),Cu=Gr(Tr);function ku(e){return Ha(e)?Yn(e):Ir(e)}function Au(e){return Ha(e)?Yn(e,!0):function(e){if(!Qa(e))return function(e){var t=[];if(null!=e)for(var n in xe(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}(e)}var ju=ko(function(e,t,n){Fr(e,t,n)}),Ru=ko(function(e,t,n,r){Fr(e,t,n,r)}),Iu=Jo(function(e,t){var n={};if(null==e)return n;var r=!1;t=jt(t,function(t){return t=yo(t,e),r||(r=t.length>1),t}),To(e,ti(e),n),r&&(n=ir(n,7,$o));for(var o=t.length;o--;)uo(n,t[o]);return n}),Nu=Jo(function(e,t){return null==e?{}:function(e,t){return zr(e,t,function(t,n){return Su(e,n)})}(e,t)});function Mu(e,t){if(null==e)return{};var n=jt(ti(e),function(e){return[e]});return t=ii(t),zr(e,n,function(e,n){return t(e,n[0])})}var Du=Yo(ku),Lu=Yo(Au);function Fu(e){return null==e?[]:Zt(e,ku(e))}var Uu=Io(function(e,t,n){return t=t.toLowerCase(),e+(n?Bu(t):t)});function Bu(e){return Xu(yu(e).toLowerCase())}function zu(e){return(e=yu(e))&&e.replace(me,en).replace($e,"")}var Vu=Io(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wu=Io(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hu=Ro("toLowerCase"),qu=Io(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Gu=Io(function(e,t,n){return e+(n?" ":"")+Xu(t)}),Yu=Io(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xu=Ro("toUpperCase");function Ku(e,t,n){return e=yu(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Zu=Gr(function(e,t){try{return Et(e,o,t)}catch(e){return Xa(e)?e:new we(e)}}),$u=Jo(function(e,t){return St(t,function(t){t=Mi(t),nr(e,t,Ta(e[t],e))}),e});function Qu(e){return function(){return e}}var Ju=Do(),es=Do(!0);function ts(e){return e}function ns(e){return Rr("function"==typeof e?e:ir(e,1))}var rs=Gr(function(e,t){return function(n){return Tr(n,e,t)}}),os=Gr(function(e,t){return function(n){return Tr(e,n,t)}});function is(e,t,n){var r=ku(t),o=br(t,r);null!=n||Qa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=br(t,ku(t)));var i=!(Qa(n)&&"chain"in n&&!n.chain),a=Ka(e);return St(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})}),e}function as(){}var us=Bo(jt),ss=Bo(Tt),ls=Bo(Mt);function cs(e){return gi(e)?Wt(Mi(e)):function(e){return function(t){return _r(t,e)}}(e)}var fs=Vo(),ds=Vo(!0);function hs(){return[]}function ps(){return!1}var vs,ys=Uo(function(e,t){return e+t},0),gs=qo("ceil"),ms=Uo(function(e,t){return e/t},1),bs=qo("floor"),_s=Uo(function(e,t){return e*t},1),ws=qo("round"),Os=Uo(function(e,t){return e-t},0);return Ln.after=function(e,t){if("function"!=typeof t)throw new Te(i);return e=du(e),function(){if(--e<1)return t.apply(this,arguments)}},Ln.ary=Sa,Ln.assign=gu,Ln.assignIn=mu,Ln.assignInWith=bu,Ln.assignWith=_u,Ln.at=wu,Ln.before=Pa,Ln.bind=Ta,Ln.bindAll=$u,Ln.bindKey=Ca,Ln.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Ln.chain=ca,Ln.chunk=function(e,t,n){t=(n?yi(e,t,n):t===o)?1:vn(du(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=r(dt(i/t));a<i;)s[u++]=Jr(e,a,a+=t);return s},Ln.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Ln.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Rt(Va(n)?Po(n):[n],pr(t,1))},Ln.cond=function(e){var t=null==e?0:e.length,n=ii();return e=t?jt(e,function(e){if("function"!=typeof e[1])throw new Te(i);return[n(e[0]),e[1]]}):[],Gr(function(n){for(var r=-1;++r<t;){var o=e[r];if(Et(o[0],this,n))return Et(o[1],this,n)}})},Ln.conforms=function(e){return function(e){var t=ku(e);return function(n){return ar(n,e,t)}}(ir(e,1))},Ln.constant=Qu,Ln.countBy=ha,Ln.create=function(e,t){var n=Fn(e);return null==t?n:tr(n,t)},Ln.curry=function e(t,n,r){var i=Xo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Ln.curryRight=function e(t,n,r){var i=Xo(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Ln.debounce=ka,Ln.defaults=Ou,Ln.defaultsDeep=Eu,Ln.defer=Aa,Ln.delay=ja,Ln.difference=Fi,Ln.differenceBy=Ui,Ln.differenceWith=Bi,Ln.drop=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=n||t===o?1:du(t))<0?0:t,r):[]},Ln.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,0,(t=r-(t=n||t===o?1:du(t)))<0?0:t):[]},Ln.dropRightWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!0,!0):[]},Ln.dropWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!0):[]},Ln.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&yi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=du(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:du(r))<0&&(r+=i),r=n>r?0:hu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Ln.filter=function(e,t){return(Va(e)?Ct:hr)(e,ii(t,3))},Ln.flatMap=function(e,t){return pr(wa(e,t),1)},Ln.flatMapDeep=function(e,t){return pr(wa(e,t),c)},Ln.flatMapDepth=function(e,t,n){return n=n===o?1:du(n),pr(wa(e,t),n)},Ln.flatten=Wi,Ln.flattenDeep=function(e){return null!=e&&e.length?pr(e,c):[]},Ln.flattenDepth=function(e,t){return null!=e&&e.length?pr(e,t=t===o?1:du(t)):[]},Ln.flip=function(e){return Xo(e,512)},Ln.flow=Ju,Ln.flowRight=es,Ln.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Ln.functions=function(e){return null==e?[]:br(e,ku(e))},Ln.functionsIn=function(e){return null==e?[]:br(e,Au(e))},Ln.groupBy=ma,Ln.initial=function(e){return null!=e&&e.length?Jr(e,0,-1):[]},Ln.intersection=qi,Ln.intersectionBy=Gi,Ln.intersectionWith=Yi,Ln.invert=Pu,Ln.invertBy=Tu,Ln.invokeMap=ba,Ln.iteratee=ns,Ln.keyBy=_a,Ln.keys=ku,Ln.keysIn=Au,Ln.map=wa,Ln.mapKeys=function(e,t){var n={};return t=ii(t,3),gr(e,function(e,r,o){nr(n,t(e,r,o),e)}),n},Ln.mapValues=function(e,t){var n={};return t=ii(t,3),gr(e,function(e,r,o){nr(n,r,t(e,r,o))}),n},Ln.matches=function(e){return Dr(ir(e,1))},Ln.matchesProperty=function(e,t){return Lr(e,ir(t,1))},Ln.memoize=Ra,Ln.merge=ju,Ln.mergeWith=Ru,Ln.method=rs,Ln.methodOf=os,Ln.mixin=is,Ln.negate=Ia,Ln.nthArg=function(e){return e=du(e),Gr(function(t){return Ur(t,e)})},Ln.omit=Iu,Ln.omitBy=function(e,t){return Mu(e,Ia(ii(t)))},Ln.once=function(e){return Pa(2,e)},Ln.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Br(e,t,n))},Ln.over=us,Ln.overArgs=Na,Ln.overEvery=ss,Ln.overSome=ls,Ln.partial=Ma,Ln.partialRight=Da,Ln.partition=Oa,Ln.pick=Nu,Ln.pickBy=Mu,Ln.property=cs,Ln.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},Ln.pull=Ki,Ln.pullAll=Zi,Ln.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,ii(n,2)):e},Ln.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Ln.pullAt=$i,Ln.range=fs,Ln.rangeRight=ds,Ln.rearg=La,Ln.reject=function(e,t){return(Va(e)?Ct:hr)(e,Ia(ii(t,3)))},Ln.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ii(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Wr(e,o),n},Ln.rest=function(e,t){if("function"!=typeof e)throw new Te(i);return Gr(e,t=t===o?t:du(t))},Ln.reverse=Qi,Ln.sampleSize=function(e,t,n){return t=(n?yi(e,t,n):t===o)?1:du(t),(Va(e)?Kn:Xr)(e,t)},Ln.set=function(e,t,n){return null==e?e:Kr(e,t,n)},Ln.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Kr(e,t,n,r)},Ln.shuffle=function(e){return(Va(e)?Zn:Qr)(e)},Ln.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yi(e,t,n)?(t=0,n=r):(t=null==t?0:du(t),n=n===o?r:du(n)),Jr(e,t,n)):[]},Ln.sortBy=Ea,Ln.sortedUniq=function(e){return e&&e.length?ro(e):[]},Ln.sortedUniqBy=function(e,t){return e&&e.length?ro(e,ii(t,2)):[]},Ln.split=function(e,t,n){return n&&"number"!=typeof n&&yi(e,t,n)&&(t=n=o),(n=n===o?h:n>>>0)?(e=yu(e))&&("string"==typeof t||null!=t&&!ru(t))&&!(t=io(t))&&rn(e)?mo(cn(e),0,n):e.split(t,n):[]},Ln.spread=function(e,t){if("function"!=typeof e)throw new Te(i);return t=null==t?0:vn(du(t),0),Gr(function(n){var r=n[t],o=mo(n,0,t);return r&&Rt(o,r),Et(e,this,o)})},Ln.tail=function(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},Ln.take=function(e,t,n){return e&&e.length?Jr(e,0,(t=n||t===o?1:du(t))<0?0:t):[]},Ln.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=r-(t=n||t===o?1:du(t)))<0?0:t,r):[]},Ln.takeRightWhile=function(e,t){return e&&e.length?lo(e,ii(t,3),!1,!0):[]},Ln.takeWhile=function(e,t){return e&&e.length?lo(e,ii(t,3)):[]},Ln.tap=function(e,t){return t(e),e},Ln.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Te(i);return Qa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ka(e,t,{leading:r,maxWait:t,trailing:o})},Ln.thru=fa,Ln.toArray=cu,Ln.toPairs=Du,Ln.toPairsIn=Lu,Ln.toPath=function(e){return Va(e)?jt(e,Mi):au(e)?[e]:Po(Ni(yu(e)))},Ln.toPlainObject=vu,Ln.transform=function(e,t,n){var r=Va(e),o=r||Ga(e)||uu(e);if(t=ii(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Qa(e)&&Ka(i)?Fn(He(e)):{}}return(o?St:gr)(e,function(e,r,o){return t(n,e,r,o)}),n},Ln.unary=function(e){return Sa(e,1)},Ln.union=Ji,Ln.unionBy=ea,Ln.unionWith=ta,Ln.uniq=function(e){return e&&e.length?ao(e):[]},Ln.uniqBy=function(e,t){return e&&e.length?ao(e,ii(t,2)):[]},Ln.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},Ln.unset=function(e,t){return null==e||uo(e,t)},Ln.unzip=na,Ln.unzipWith=ra,Ln.update=function(e,t,n){return null==e?e:so(e,t,vo(n))},Ln.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:so(e,t,vo(n),r)},Ln.values=Fu,Ln.valuesIn=function(e){return null==e?[]:Zt(e,Au(e))},Ln.without=oa,Ln.words=Ku,Ln.wrap=function(e,t){return Ma(vo(t),e)},Ln.xor=ia,Ln.xorBy=aa,Ln.xorWith=ua,Ln.zip=sa,Ln.zipObject=function(e,t){return ho(e||[],t||[],Qn)},Ln.zipObjectDeep=function(e,t){return ho(e||[],t||[],Kr)},Ln.zipWith=la,Ln.entries=Du,Ln.entriesIn=Lu,Ln.extend=mu,Ln.extendWith=bu,is(Ln,Ln),Ln.add=ys,Ln.attempt=Zu,Ln.camelCase=Uu,Ln.capitalize=Bu,Ln.ceil=gs,Ln.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=pu(n))==n?n:0),t!==o&&(t=(t=pu(t))==t?t:0),or(pu(e),t,n)},Ln.clone=function(e){return ir(e,4)},Ln.cloneDeep=function(e){return ir(e,5)},Ln.cloneDeepWith=function(e,t){return ir(e,5,t="function"==typeof t?t:o)},Ln.cloneWith=function(e,t){return ir(e,4,t="function"==typeof t?t:o)},Ln.conformsTo=function(e,t){return null==t||ar(e,t,ku(t))},Ln.deburr=zu,Ln.defaultTo=function(e,t){return null==e||e!=e?t:e},Ln.divide=ms,Ln.endsWith=function(e,t,n){e=yu(e),t=io(t);var r=e.length,i=n=n===o?r:or(du(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Ln.eq=Fa,Ln.escape=function(e){return(e=yu(e))&&X.test(e)?e.replace(G,tn):e},Ln.escapeRegExp=function(e){return(e=yu(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Ln.every=function(e,t,n){var r=Va(e)?Tt:fr;return n&&yi(e,t,n)&&(t=o),r(e,ii(t,3))},Ln.find=pa,Ln.findIndex=zi,Ln.findKey=function(e,t){return Lt(e,ii(t,3),gr)},Ln.findLast=va,Ln.findLastIndex=Vi,Ln.findLastKey=function(e,t){return Lt(e,ii(t,3),mr)},Ln.floor=bs,Ln.forEach=ya,Ln.forEachRight=ga,Ln.forIn=function(e,t){return null==e?e:vr(e,ii(t,3),Au)},Ln.forInRight=function(e,t){return null==e?e:yr(e,ii(t,3),Au)},Ln.forOwn=function(e,t){return e&&gr(e,ii(t,3))},Ln.forOwnRight=function(e,t){return e&&mr(e,ii(t,3))},Ln.get=xu,Ln.gt=Ua,Ln.gte=Ba,Ln.has=function(e,t){return null!=e&&di(e,t,xr)},Ln.hasIn=Su,Ln.head=Hi,Ln.identity=ts,Ln.includes=function(e,t,n,r){e=Ha(e)?e:Fu(e),n=n&&!r?du(n):0;var o=e.length;return n<0&&(n=vn(o+n,0)),iu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ut(e,t,n)>-1},Ln.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:du(n);return o<0&&(o=vn(r+o,0)),Ut(e,t,o)},Ln.inRange=function(e,t,n){return t=fu(t),n===o?(n=t,t=0):n=fu(n),function(e,t,n){return e>=yn(t,n)&&e<vn(t,n)}(e=pu(e),t,n)},Ln.invoke=Cu,Ln.isArguments=za,Ln.isArray=Va,Ln.isArrayBuffer=Wa,Ln.isArrayLike=Ha,Ln.isArrayLikeObject=qa,Ln.isBoolean=function(e){return!0===e||!1===e||Ja(e)&&Or(e)==g},Ln.isBuffer=Ga,Ln.isDate=Ya,Ln.isElement=function(e){return Ja(e)&&1===e.nodeType&&!nu(e)},Ln.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||uu(e)||za(e)))return!e.length;var t=fi(e);if(t==O||t==T)return!e.size;if(_i(e))return!Ir(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},Ln.isEqual=function(e,t){return kr(e,t)},Ln.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?kr(e,t,o,n):!!r},Ln.isError=Xa,Ln.isFinite=function(e){return"number"==typeof e&&Dt(e)},Ln.isFunction=Ka,Ln.isInteger=Za,Ln.isLength=$a,Ln.isMap=eu,Ln.isMatch=function(e,t){return e===t||Ar(e,t,ui(t))},Ln.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Ar(e,t,ui(t),n)},Ln.isNaN=function(e){return tu(e)&&e!=+e},Ln.isNative=function(e){if(bi(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(e)},Ln.isNil=function(e){return null==e},Ln.isNull=function(e){return null===e},Ln.isNumber=tu,Ln.isObject=Qa,Ln.isObjectLike=Ja,Ln.isPlainObject=nu,Ln.isRegExp=ru,Ln.isSafeInteger=function(e){return Za(e)&&e>=-9007199254740991&&e<=f},Ln.isSet=ou,Ln.isString=iu,Ln.isSymbol=au,Ln.isTypedArray=uu,Ln.isUndefined=function(e){return e===o},Ln.isWeakMap=function(e){return Ja(e)&&fi(e)==A},Ln.isWeakSet=function(e){return Ja(e)&&"[object WeakSet]"==Or(e)},Ln.join=function(e,t){return null==e?"":Ht.call(e,t)},Ln.kebabCase=Vu,Ln.last=Xi,Ln.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=du(n))<0?vn(r+i,0):yn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,zt,i,!0)},Ln.lowerCase=Wu,Ln.lowerFirst=Hu,Ln.lt=su,Ln.lte=lu,Ln.max=function(e){return e&&e.length?dr(e,ts,Er):o},Ln.maxBy=function(e,t){return e&&e.length?dr(e,ii(t,2),Er):o},Ln.mean=function(e){return Vt(e,ts)},Ln.meanBy=function(e,t){return Vt(e,ii(t,2))},Ln.min=function(e){return e&&e.length?dr(e,ts,Nr):o},Ln.minBy=function(e,t){return e&&e.length?dr(e,ii(t,2),Nr):o},Ln.stubArray=hs,Ln.stubFalse=ps,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=_s,Ln.nth=function(e,t){return e&&e.length?Ur(e,du(t)):o},Ln.noConflict=function(){return ft._===this&&(ft._=Fe),this},Ln.noop=as,Ln.now=xa,Ln.pad=function(e,t,n){e=yu(e);var r=(t=du(t))?ln(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return zo(ht(o),n)+e+zo(dt(o),n)},Ln.padEnd=function(e,t,n){e=yu(e);var r=(t=du(t))?ln(e):0;return t&&r<t?e+zo(t-r,n):e},Ln.padStart=function(e,t,n){e=yu(e);var r=(t=du(t))?ln(e):0;return t&&r<t?zo(t-r,n)+e:e},Ln.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),mn(yu(e).replace(re,""),t||0)},Ln.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=fu(e),t===o?(t=e,e=0):t=fu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bn();return yn(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return Hr(e,t)},Ln.reduce=function(e,t,n){var r=Va(e)?It:qt,o=arguments.length<3;return r(e,ii(t,4),n,o,lr)},Ln.reduceRight=function(e,t,n){var r=Va(e)?Nt:qt,o=arguments.length<3;return r(e,ii(t,4),n,o,cr)},Ln.repeat=function(e,t,n){return t=(n?yi(e,t,n):t===o)?1:du(t),qr(yu(e),t)},Ln.replace=function(){var e=arguments,t=yu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ln.result=function(e,t,n){var r=-1,i=(t=yo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Mi(t[r])];a===o&&(r=i,a=n),e=Ka(a)?a.call(e):a}return e},Ln.round=ws,Ln.runInContext=e,Ln.sample=function(e){return(Va(e)?Xn:Yr)(e)},Ln.size=function(e){if(null==e)return 0;if(Ha(e))return iu(e)?ln(e):e.length;var t=fi(e);return t==O||t==T?e.size:Ir(e).length},Ln.snakeCase=qu,Ln.some=function(e,t,n){var r=Va(e)?Mt:eo;return n&&yi(e,t,n)&&(t=o),r(e,ii(t,3))},Ln.sortedIndex=function(e,t){return to(e,t)},Ln.sortedIndexBy=function(e,t,n){return no(e,t,ii(n,2))},Ln.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=to(e,t);if(r<n&&Fa(e[r],t))return r}return-1},Ln.sortedLastIndex=function(e,t){return to(e,t,!0)},Ln.sortedLastIndexBy=function(e,t,n){return no(e,t,ii(n,2),!0)},Ln.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=to(e,t,!0)-1;if(Fa(e[n],t))return n}return-1},Ln.startCase=Gu,Ln.startsWith=function(e,t,n){return e=yu(e),n=null==n?0:or(du(n),0,e.length),t=io(t),e.slice(n,n+t.length)==t},Ln.subtract=Os,Ln.sum=function(e){return e&&e.length?Gt(e,ts):0},Ln.sumBy=function(e,t){return e&&e.length?Gt(e,ii(t,2)):0},Ln.template=function(e,t,n){var r=Ln.templateSettings;n&&yi(e,t,n)&&(t=o),e=yu(e),t=bu({},t,r,Ko);var i,a,u=bu({},t.imports,r.imports,Ko),s=ku(u),l=Zt(u,s),c=0,f=t.interpolate||be,d="__p += '",h=Se((t.escape||be).source+"|"+f.source+"|"+(f===$?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(h,function(t,n,r,o,u,s){return r||(r=o),d+=e.slice(c,s).replace(_e,nn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),d+="';\n";var v=Ie.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new we("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(V,""):d).replace(W,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Zu(function(){return Oe(s,p+"return "+d).apply(o,l)});if(y.source=d,Xa(y))throw y;return y},Ln.times=function(e,t){if((e=du(e))<1||e>f)return[];var n=h,r=yn(e,h);t=ii(t),e-=h;for(var o=Yt(r,t);++n<e;)t(n);return o},Ln.toFinite=fu,Ln.toInteger=du,Ln.toLength=hu,Ln.toLower=function(e){return yu(e).toLowerCase()},Ln.toNumber=pu,Ln.toSafeInteger=function(e){return e?or(du(e),-9007199254740991,f):0===e?e:0},Ln.toString=yu,Ln.toUpper=function(e){return yu(e).toUpperCase()},Ln.trim=function(e,t,n){if((e=yu(e))&&(n||t===o))return Xt(e);if(!e||!(t=io(t)))return e;var r=cn(e),i=cn(t);return mo(r,Qt(r,i),Jt(r,i)+1).join("")},Ln.trimEnd=function(e,t,n){if((e=yu(e))&&(n||t===o))return e.slice(0,fn(e)+1);if(!e||!(t=io(t)))return e;var r=cn(e);return mo(r,0,Jt(r,cn(t))+1).join("")},Ln.trimStart=function(e,t,n){if((e=yu(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=io(t)))return e;var r=cn(e);return mo(r,Qt(r,cn(t))).join("")},Ln.truncate=function(e,t){var n=30,r="...";if(Qa(t)){var i="separator"in t?t.separator:i;n="length"in t?du(t.length):n,r="omission"in t?io(t.omission):r}var a=(e=yu(e)).length;if(rn(e)){var u=cn(e);a=u.length}if(n>=a)return e;var s=n-ln(r);if(s<1)return r;var l=u?mo(u,0,s).join(""):e.slice(0,s);if(i===o)return l+r;if(u&&(s+=l.length-s),ru(i)){if(e.slice(s).search(i)){var c,f=l;for(i.global||(i=Se(i.source,yu(de.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?s:d)}}else if(e.indexOf(io(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Ln.unescape=function(e){return(e=yu(e))&&Y.test(e)?e.replace(q,dn):e},Ln.uniqueId=function(e){var t=++Ne;return yu(e)+t},Ln.upperCase=Yu,Ln.upperFirst=Xu,Ln.each=ya,Ln.eachRight=ga,Ln.first=Hi,is(Ln,(vs={},gr(Ln,function(e,t){Ie.call(Ln.prototype,t)||(vs[t]=e)}),vs),{chain:!1}),Ln.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Ln[e].placeholder=Ln}),St(["drop","take"],function(e,t){zn.prototype[e]=function(n){n=n===o?1:vn(du(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),St(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ii(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),St(["head","last"],function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}}),St(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(ts)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Gr(function(e,t){return"function"==typeof e?new zn(this):this.map(function(n){return Tr(n,e,t)})}),zn.prototype.reject=function(e){return this.filter(Ia(ii(e)))},zn.prototype.slice=function(e,t){e=du(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=du(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(h)},gr(zn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Ln[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Ln.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof zn,l=u[0],c=s||Va(t),f=function(e){var t=i.apply(Ln,Rt([e],u));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=s&&!h;if(!a&&c){t=v?t:new zn(this);var y=e.apply(t,u);return y.__actions__.push({func:fa,args:[f],thisArg:o}),new Bn(y,d)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})}),St(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Ln.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n](function(n){return t.apply(Va(n)?n:[],e)})}}),gr(zn.prototype,function(e,t){var n=Ln[t];if(n){var r=n.name+"";Ie.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}}),Cn[Lo(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=vn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,d=0,h=yn(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return co(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,y=e[l+=t];++v<f;){var g=c[v],m=g.iteratee,b=g.type,_=m(y);if(2==b)y=_;else if(!_){if(1==b)continue e;break e}}p[d++]=y}return p},Ln.prototype.at=da,Ln.prototype.chain=function(){return ca(this)},Ln.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===o&&(this.__values__=cu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Ln.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Ln.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fa,args:[Qi],thisArg:o}),new Bn(t,this.__chain__)}return this.thru(Qi)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return co(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Ke&&(Ln.prototype[Ke]=function(){return this}),Ln}();ft._=hn,(r=function(){return hn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5267:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var o=n(4671),i=n(5649),a=n(7479),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.intervalProvider.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&i.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o.Action);t.AsyncAction=u},5319:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alloc=void 0;var i=o(n(1048)),a=function(e){function t(t){var n=this,r=function(e){return e instanceof i.default.Buffer?e:"number"==typeof e&&"function"==typeof i.default.Buffer.alloc?i.default.Buffer.alloc(e):new i.default.Buffer(e)}(t);return(n=e.call(this,r.length)||this)._buffer=r,n}return r(t,e),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.getVarInt=function(e){for(var t=0,n=this._buffer.readInt8(e+t),r=n%128;n/128>=1;)t+=1,r+=(n=this._buffer.readInt8(e+t))%128;return{length:t+1,value:r}},t.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},t.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},t.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},t.prototype.putBytes=function(n,r){if(r instanceof t){var o=Math.min(r.length-r.position,this.length-n);r._buffer.copy(this._buffer,n,r.position,r.position+o),r.position+=o}else e.prototype.putBytes.call(this,n,r)},t.prototype.getSlice=function(e,n){return new t(this._buffer.slice(e,e+n))},t}(o(n(7174)).default);t.default=a,t.alloc=function(e){return new a(e)}},5337:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var o=n(9445),i=n(4662),a=n(983),u=n(8046),s=n(1018),l=n(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function h(e,t){return function(n){return function(r){return e[n](t,r)}}}t.fromEvent=function e(t,n,p,v){if(s.isFunction(p)&&(v=p,p=void 0),v)return e(t,n,p).pipe(l.mapOneOrManyArgs(v));var y=r(function(e){return s.isFunction(e.addEventListener)&&s.isFunction(e.removeEventListener)}(t)?f.map(function(e){return function(r){return t[e](n,r,p)}}):function(e){return s.isFunction(e.addListener)&&s.isFunction(e.removeListener)}(t)?c.map(h(t,n)):function(e){return s.isFunction(e.on)&&s.isFunction(e.off)}(t)?d.map(h(t,n)):[],2),g=y[0],m=y[1];if(!g&&u.isArrayLike(t))return a.mergeMap(function(t){return e(t,n,p)})(o.innerFrom(t));if(!g)throw new TypeError("Invalid event target");return new i.Observable(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return g(t),function(){return m(t)}})}},5348:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7521));t.default=r({},i.default)},5361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var r=n(7452),o=n(6781),i=n(7665),a=n(9305),u=a.error.PROTOCOL_ERROR,s=function(){function e(e){this._ch=e,this._byteArraysSupported=!0}return e.prototype.packable=function(e,t){var n,r=this;void 0===t&&(t=o.functional.identity);try{e=t(e)}catch(e){return function(){throw e}}if(null===e)return function(){return r._ch.writeUInt8(192)};if(!0===e)return function(){return r._ch.writeUInt8(195)};if(!1===e)return function(){return r._ch.writeUInt8(194)};if("number"==typeof e)return function(){return r.packFloat(e)};if("string"==typeof e)return function(){return r.packString(e)};if("bigint"==typeof e)return function(){return r.packInteger((0,a.int)(e))};if((0,a.isInt)(e))return function(){return r.packInteger(e)};if(e instanceof Int8Array)return function(){return r.packBytes(e)};if(e instanceof Array)return function(){r.packListHeader(e.length);for(var n=0;n<e.length;n++)r.packable(void 0===e[n]?null:e[n],t)()};if(null!=(n=e)&&"function"==typeof n[Symbol.iterator])return this.packableIterable(e,t);if(e instanceof i.Structure){for(var u=[],s=0;s<e.fields.length;s++)u[s]=this.packable(e.fields[s],t);return function(){return r.packStruct(e.signature,u)}}return"object"==typeof e?function(){for(var n=Object.keys(e),o=0,i=0;i<n.length;i++)void 0!==e[n[i]]&&o++;for(r.packMapHeader(o),i=0;i<n.length;i++){var a=n[i];void 0!==e[a]&&(r.packString(a),r.packable(e[a],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e))},e.prototype.packableIterable=function(e,t){try{var n=Array.from(e);return this.packable(n,t)}catch(t){throw(0,a.newError)("Cannot pack given iterable, ".concat(t.message,": ").concat(e))}},e.prototype.packStruct=function(e,t){t=t||[],this.packStructHeader(t.length,e);for(var n=0;n<t.length;n++)t[n]()},e.prototype.packInteger=function(e){var t=e.high,n=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(n):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(n)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(n)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(n)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(n))},e.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},e.prototype.packString=function(e){var t=r.utf8.encode(e),n=t.length;if(n<16)this._ch.writeUInt8(128|n),this._ch.writeBytes(t);else if(n<256)this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(t);else if(n<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(n/256|0),this._ch.writeUInt8(n%256),this._ch.writeBytes(t);else{if(!(n<4294967296))throw(0,a.newError)("UTF-8 strings of size "+n+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216|0)%256),this._ch.writeUInt8((n/65536|0)%256),this._ch.writeUInt8((n/256|0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(t)}},e.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Lists of size "+e+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packBytes=function(e){if(!this._byteArraysSupported)throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])},e.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Byte arrays of size "+e+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Maps of size "+e+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216|0)%256),this._ch.writeUInt8((e/65536|0)%256),this._ch.writeUInt8((e/256|0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else{if(!(e<65536))throw(0,a.newError)("Structures of size "+e+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(e/256|0),this._ch.writeUInt8(e%256)}},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(e){return function(){throw(0,a.newError)(e,u)}},e}();t.Packer=s;var l=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._disableLosslessIntegers=e,this._useBigInt=t}return e.prototype.unpack=function(e,t){void 0===t&&(t=o.functional.identity);var n=e.readUInt8(),r=240&n,i=15&n;if(192===n)return null;var u=this._unpackBoolean(n);if(null!==u)return u;var s=this._unpackNumberOrInteger(n,e);if(null!==s){if((0,a.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var l=this._unpackString(n,r,i,e);if(null!==l)return l;var c=this._unpackList(n,r,i,e,t);if(null!==c)return c;var f=this._unpackByteArray(n,e);if(null!==f)return f;var d=this._unpackMap(n,r,i,e,t);if(null!==d)return d;var h=this._unpackStruct(n,r,i,e,t);if(null!==h)return h;throw(0,a.newError)("Unknown packed value with marker "+n.toString(16))},e.prototype.unpackInteger=function(e){var t=e.readUInt8(),n=this._unpackInteger(t,e);if(null==n)throw(0,a.newError)("Unable to unpack integer value with marker "+t.toString(16));return n},e.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},e.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},e.prototype._unpackInteger=function(e,t){if(e>=0&&e<128)return(0,a.int)(e);if(e>=240&&e<256)return(0,a.int)(e-256);if(200===e)return(0,a.int)(t.readInt8());if(201===e)return(0,a.int)(t.readInt16());if(202===e){var n=t.readInt32();return(0,a.int)(n)}if(203===e){var r=t.readInt32(),o=t.readInt32();return new a.Integer(o,r)}return null},e.prototype._unpackString=function(e,t,n,o){return 128===t?r.utf8.decode(o,n):208===e?r.utf8.decode(o,o.readUInt8()):209===e?r.utf8.decode(o,o.readUInt16()):210===e?r.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(e,t,n,r,o){return 144===t?this._unpackListWithSize(n,r,o):212===e?this._unpackListWithSize(r.readUInt8(),r,o):213===e?this._unpackListWithSize(r.readUInt16(),r,o):214===e?this._unpackListWithSize(r.readUInt32(),r,o):null},e.prototype._unpackListWithSize=function(e,t,n){for(var r=[],o=0;o<e;o++)r.push(this.unpack(t,n));return r},e.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},e.prototype._unpackByteArrayWithSize=function(e,t){for(var n=new Int8Array(e),r=0;r<e;r++)n[r]=t.readInt8();return n},e.prototype._unpackMap=function(e,t,n,r,o){return 160===t?this._unpackMapWithSize(n,r,o):216===e?this._unpackMapWithSize(r.readUInt8(),r,o):217===e?this._unpackMapWithSize(r.readUInt16(),r,o):218===e?this._unpackMapWithSize(r.readUInt32(),r,o):null},e.prototype._unpackMapWithSize=function(e,t,n){for(var r={},o=0;o<e;o++)r[this.unpack(t,n)]=this.unpack(t,n);return r},e.prototype._unpackStruct=function(e,t,n,r,o){return 176===t?this._unpackStructWithSize(n,r,o):220===e?this._unpackStructWithSize(r.readUInt8(),r,o):221===e?this._unpackStructWithSize(r.readUInt16(),r,o):null},e.prototype._unpackStructWithSize=function(e,t,n){for(var r=t.readUInt8(),o=new i.Structure(r,[]),a=0;a<e;a++)o.fields.push(this.unpack(t,n));return n(o)},e}();t.Unpacker=l},5365:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=n(7843),o=n(3111),i=n(1342),a=n(9445);t.distinct=function(e,t){return r.operate(function(n,r){var u=new Set;n.subscribe(o.createOperatorSubscriber(r,function(t){var n=e?e(t):t;u.has(n)||(u.add(n),r.next(t))})),t&&a.innerFrom(t).subscribe(o.createOperatorSubscriber(r,function(){return u.clear()},i.noop))})}},5382:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(2823),o=n(1505),i=n(1759),a=n(7843),u=n(3111);t.single=function(e){return a.operate(function(t,n){var a,s=!1,l=!1,c=0;t.subscribe(u.createOperatorSubscriber(n,function(r){l=!0,e&&!e(r,c++,t)||(s&&n.error(new o.SequenceError("Too many matching values")),s=!0,a=r)},function(){s?(n.next(a),n.complete()):n.error(l?new i.NotFoundError("No matching values"):new r.EmptyError)}))})}},5442:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=n(7843),a=n(3111),u=n(9445),s=n(6640),l=n(1342),c=n(1107);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e);return i.operate(function(t,i){for(var c=e.length,f=new Array(c),d=e.map(function(){return!1}),h=!1,p=function(t){u.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(i,function(e){f[t]=e,h||d[t]||(d[t]=!0,(h=d.every(s.identity))&&(d=null))},l.noop))},v=0;v<c;v++)p(v);t.subscribe(a.createOperatorSubscriber(i,function(e){if(h){var t=o([e],r(f));i.next(n?n.apply(void 0,o([],r(t))):t)}}))})}},5459:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isDateTime=t.DateTime=t.isLocalDateTime=t.LocalDateTime=t.isDate=t.Date=t.isTime=t.Time=t.isLocalTime=t.LocalTime=t.isDuration=t.Duration=void 0;var u=i(n(5022)),s=n(6587),l=n(9691),c=i(n(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},d="__isDuration__",h="__isLocalTime__",p="__isTime__",v="__isDate__",y="__isLocalDateTime__",g="__isDateTime__",m=function(){function e(e,t,n,r){this.months=(0,s.assertNumberOrInteger)(e,"Months"),this.days=(0,s.assertNumberOrInteger)(t,"Days"),(0,s.assertNumberOrInteger)(n,"Seconds"),(0,s.assertNumberOrInteger)(r,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(n,r),this.nanoseconds=u.normalizeNanosecondsForDuration(r),Object.freeze(this)}return e.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();t.Duration=m,Object.defineProperty(m.prototype,d,f),t.isDuration=function(e){return x(e,d)};var b=function(){function e(e,t,n,r){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),Object.freeze(this)}return e.fromStandardDate=function(t,n){P(t,n);var r=u.totalNanoseconds(t,n);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),r instanceof c.default?r.toInt():"bigint"==typeof r?(0,c.int)(r).toInt():r)},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalTime=b,Object.defineProperty(b.prototype,h,f),t.isLocalTime=function(e){return x(e,h)};var _=function(){function e(e,t,n,r,o){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),this.timeZoneOffsetSeconds=(0,s.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)),u.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();t.Time=_,Object.defineProperty(_.prototype,p,f),t.isTime=function(e){return x(e,p)};var w=function(){function e(e,t,n){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),Object.freeze(this)}return e.fromStandardDate=function(t){return P(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},e}();t.Date=w,Object.defineProperty(w.prototype,v,f),t.isDate=function(e){return x(e,v)};var O=function(){function e(e,t,n,r,o,i,a){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(a),Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)))},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalDateTime=O,Object.defineProperty(O.prototype,y,f),t.isLocalDateTime=function(e){return x(e,y)};var E=function(){function e(e,t,n,r,o,i,c,f,d){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(c);var h=a(function(e,t){var n=null!=e,r=null!=t&&""!==t;if(!n&&!r)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];return n&&((0,s.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e),r&&((0,s.assertString)(t,"Time zone ID"),u.assertValidZoneId("Time zone ID",t),o[1]=t),o}(f,d),2),p=h[0],v=h[1];this.timeZoneOffsetSeconds=p,this.timeZoneId=null!=v?v:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,n){return P(t,n),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(t,n)),u.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return u.toStandardDate(this._toUTC())},e.prototype.toString=function(){var e;return S(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?u.timeZoneOffsetToIsoString(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},e.prototype._toUTC=function(){var e;if(void 0===this.timeZoneOffsetSeconds)throw new Error("Requires DateTime created with time zone offset");var t=u.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0);return(0,c.int)(t).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},e}();function x(e,t){return null!=e&&!0===e[t]}function S(e,t,n,r,o,i,a){return u.dateToIsoString(e,t,n)+"T"+u.timeToIsoString(r,o,i,a)}function P(e,t){(0,s.assertValidDate)(e,"Standard date"),null!=t&&(0,s.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=E,Object.defineProperty(E.prototype,g,f),t.isDateTime=function(e){return x(e,g)}},5471:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=n(7843),o=n(3111);t.map=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(n){r.next(e.call(t,n,i++))}))})}},5477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=n(2483),o=n(7843),i=n(3111),a=n(1342),u=n(9445);t.window=function(e){return o.operate(function(t,n){var o=new r.Subject;n.next(o.asObservable());var s=function(e){o.error(e),n.error(e)};return t.subscribe(i.createOperatorSubscriber(n,function(e){return null==o?void 0:o.next(e)},function(){o.complete(),n.complete()},s)),u.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){o.complete(),n.next(o=new r.Subject)},a.noop,s)),function(){null==o||o.unsubscribe(),o=null}})}},5481:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2696),l=n(6587),c=n(326),f=n(9691),d=u(n(9512)),h=n(3618),p=n(6189),v=n(9730),y=n(754),g=u(n(4569)),m=u(n(5909)),b=n(6030),_=function(){function e(e){var t,n=e.mode,r=e.connectionProvider,o=e.bookmarks,i=e.database,a=e.config,u=e.reactive,s=e.fetchSize,l=e.impersonatedUser,f=e.bookmarkManager,d=e.notificationFilter,y=e.auth,g=e.log,m=e.homeDatabaseCallback;this._mode=n,this._database=i,this._reactive=u,this._fetchSize=s,this._homeDatabaseCallback=m,this._auth=y,this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:y,database:i,bookmarks:o,connectionProvider:r,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._writeConnectionHolder=new h.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:y,database:i,bookmarks:o,connectionProvider:r,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:g}),this._open=!0,this._hasTx=!1,this._impersonatedUser=l,this._lastBookmarks=null!=o?o:v.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(e){var t,n=null!==(t=null==e?void 0:e.maxTransactionRetryTime)&&void 0!==t?t:null;return new p.TransactionExecutor(n)}(a),this._databaseNameResolved=""!==this._database;var b=this._calculateWatermaks();this._lowRecordWatermark=b.low,this._highRecordWatermark=b.high,this._results=[],this._bookmarkManager=f,this._notificationFilter=d,this._log=g,this._databaseGuess=null==a?void 0:a.cachedHomeDatabase,this._isRoutingSession=null!==(t=null==a?void 0:a.routingDriver)&&void 0!==t&&t}return e.prototype.run=function(e,t,n){var i=this,a=(0,l.validateQueryAndParameters)(e,t),u=a.validatedQuery,s=a.params,f=null!=n?new y.TxConfig(n,this._log):y.TxConfig.empty(),d=this._run(u,s,function(e){return r(i,void 0,void 0,function(){var t,n=this;return o(this,function(r){switch(r.label){case 0:return[4,this._bookmarks()];case 1:return t=r.sent(),this._assertSessionIsOpen(),[2,e.run(u,s,{bookmarks:t,txConfig:f,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return n._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,onDb:this._onDatabaseNameResolved.bind(this)})]}})})});return this._results.push(d),d},e.prototype._run=function(e,t,n){var r=this._acquireAndConsumeConnection(n),o=r.connectionHolder,i=r.resultPromise.catch(function(e){return Promise.resolve(new s.FailedObserver({error:e}))}),a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new d.default(i,e,t,o,a)},e.prototype._acquireConnection=function(e){var t=this,n=this._acquireAndConsumeConnection(e),i=n.connectionHolder;return n.resultPromise.then(function(e){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i.releaseConnection()];case 1:return t.sent(),[2,e]}})})})},e.prototype._acquireAndConsumeConnection=function(e){var t,n=this._connectionHolderWithMode(this._mode);return t=this._open?!this._hasTx&&n.initializeConnection(this._databaseGuess)?n.getConnection().then(function(t){return e(t)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:n,resultPromise:t}},e.prototype.beginTransaction=function(e){var t=e,n=y.TxConfig.empty();return null!=t&&(n=new y.TxConfig(t,this._log)),this._beginTransaction(this._mode,n,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},e.prototype._beginTransaction=function(t,n,r){var o=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var i=e._validateSessionMode(t),a=this._connectionHolderWithMode(i);a.initializeConnection(this._databaseGuess),this._hasTx=!0;var u=new g.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,n){return o._updateBookmarks(e,t,n)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:r,onDbCallback:this._onDatabaseNameResolved.bind(this)});return u._begin(function(){return o._bookmarks()},n),u},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var e;return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(t),!1),i(this._configuredBookmarks),!1))]}})})},e.prototype.readTransaction=function(e,t){var n=new y.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_READ,n,e)},e.prototype.writeTransaction=function(e,t){var n=new y.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,n,e)},e.prototype._runTransaction=function(e,t,n){var r=this;return this._transactionExecutor.execute(function(n){return r._beginTransaction(e,t,n)},n)},e.prototype.executeRead=function(e,t){var n=new y.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,n,e)},e.prototype.executeWrite=function(e,t){var n=new y.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,n,e)},e.prototype._executeInTransaction=function(e,t,n){var r=this;return this._transactionExecutor.execute(function(n){return r._beginTransaction(e,t,n)},n,m.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(e){if(this._isRoutingSession&&(this._databaseGuess=e,!this._databaseNameResolved)){var t=null!=e?e:"";this._database=t,this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0,null!=this._homeDatabaseCallback&&this._homeDatabaseCallback((0,b.cacheKey)(this._auth,this._impersonatedUser),e)}},e.prototype._getConnectionAcquistionBookmarks=function(){var e;return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=n.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(this._configuredBookmarks),!1),i(t),!1))]}})})},e.prototype._updateBookmarks=function(e,t,n){var r,o,i;null==e||e.isEmpty()||(null===(r=this._bookmarkManager)||void 0===r||r.updateBookmarks(null!==(o=null==t?void 0:t.values())&&void 0!==o?o:[],null!==(i=null==e?void 0:e.values())&&void 0!==i?i:[]).catch(function(){}),this._lastBookmarks=e,this._configuredBookmarks=v.Bookmarks.empty())},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._connectionHolderWithMode=function(e){if(e===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+e)},e.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new v.Bookmarks(e.bookmark),t,e.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},e._validateSessionMode=function(e){var t=null!=e?e:c.ACCESS_MODE_WRITE;if(t!==c.ACCESS_MODE_READ&&t!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+t);return t},e}();t.default=_},5510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=n(7843),o=n(3111);t.every=function(e,t){return r.operate(function(n,r){var i=0;n.subscribe(o.createOperatorSubscriber(r,function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}},5553:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(7174),i=n(5319),a=function(e){function t(t){for(var n=this,r=0,o=0;o<t.length;o++)r+=t[o].length;return(n=e.call(this,r)||this)._buffers=t,n}return r(t,e),t.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getUInt8(e);e-=n.length}},t.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var n=this._buffers[t];if(!(e>=n.length))return n.getInt8(e);e-=n.length}},t.prototype.getFloat64=function(e){for(var t=(0,i.alloc)(8),n=0;n<8;n++)t.putUInt8(n,this.getUInt8(e+n));return t.getFloat64(0)},t}(o.BaseBuffer);t.default=a},5568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},5572:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=n(7843),i=n(3111),a=n(7479);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate(function(n,o){var u=[],s=0;n.subscribe(i.createOperatorSubscriber(o,function(n){var i,l,c,f,d=null;s++%t===0&&u.push([]);try{for(var h=r(u),p=h.next();!p.done;p=h.next())(g=p.value).push(n),e<=g.length&&(d=null!=d?d:[]).push(g)}catch(e){i={error:e}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}if(d)try{for(var v=r(d),y=v.next();!y.done;y=v.next()){var g=y.value;a.arrRemove(u,g),o.next(g)}}catch(e){c={error:e}}finally{try{y&&!y.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}},function(){var e,t;try{for(var n=r(u),i=n.next();!i.done;i=n.next()){var a=i.value;o.next(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()},void 0,function(){u=null}))})}},5584:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=n(4662),o=n(9445),i=n(8535),a=n(3111);function u(e){return function(t){for(var n=[],r=function(r){n.push(o.innerFrom(e[r]).subscribe(a.createOperatorSubscriber(t,function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new r.Observable(u(e))},t.raceInit=u},5592:(e,t,n)=>{var r=n(7192);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},5600:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=n(5584),a=n(7843),u=n(6640);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate(function(t,n){i.raceInit(o([t],r(e)))(n)}):u.identity}},5636:(e,t,n)=>{var r=n(1048),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},5642:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2857)),u=i(n(7021)),s=n(397),l=n(9014),c=i(n(1175)),f=i(n(3321)),d=n(9305),h=(d.internal.bookmarks.Bookmarks,d.internal.constants.BOLT_PROTOCOL_V3),p=d.internal.txConfig.TxConfig,v="context",y="CALL dbms.cluster.routing.getRoutingTable($".concat(v,")"),g=new l.StreamObserver,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new f.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,c=n.onComplete,f=new l.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,c)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o),f,!0),f},t.prototype.prepareToClose=function(){this.write(u.default.goodbye(),g,!0)},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,c=t.mode,f=t.beforeError,d=t.afterError,h=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:h,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,s.assertDatabaseIsEmpty)(o,this._onProtocolError,v),(0,s.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,s.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(u.default.begin({bookmarks:n,txConfig:r,mode:c}),v,!0),v},t.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.commit(),a,!0),a},t.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(u.default.rollback(),a,!0),a},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,c=r.impersonatedUser,f=r.notificationFilter,d=r.mode,h=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.highRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=r.lowRecordWatermark,x=void 0===E?Number.MAX_VALUE:E,S=new l.ResultStreamObserver({server:this._server,beforeKeys:h,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:O,lowRecordWatermark:x});return(0,s.assertDatabaseIsEmpty)(a,this._onProtocolError,S),(0,s.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,S),(0,s.assertNotificationFilterIsEmpty)(f,this._onProtocolError,S),this.write(u.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,mode:d}),S,!1),this.write(u.default.pullAll(),S,_),S},t.prototype.requestRoutingInformation=function(e){var t,n=e.routingContext,r=void 0===n?{}:n,i=e.sessionContext,a=void 0===i?{}:i,u=e.onError,s=e.onCompleted,c=this.run(y,((t={})[v]=r,t),o(o({},a),{txConfig:p.empty()}));return new l.ProcedureRouteObserver({resultObserver:c,onProtocolError:this._onProtocolError,onError:u,onCompleted:s})},t}(a.default);t.default=m},5648:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var o=n(8986),i=function(e){function t(t,n){void 0===n&&(n=o.Scheduler.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler);t.AsyncScheduler=i},5649:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.intervalProvider.delegate;return(null==u?void 0:u.setInterval)?u.setInterval.apply(u,r([e,o],n(i))):setInterval.apply(void 0,r([e,o],n(i)))},clearInterval:function(e){var n=t.intervalProvider.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},5742:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8813),i=r(n(3057)),a=(r(n(9305)),function(){function e(e){this._txc=e}return e.prototype.run=function(e,t){var n=this;return new i.default(new o.Observable(function(r){try{r.next(n._txc.run(e,t)),r.complete()}catch(e){r.error(e)}return function(){}}))},e.prototype.commit=function(){var e=this;return new o.Observable(function(t){e._txc.commit().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.rollback=function(){var e=this;return new o.Observable(function(t){e._txc.rollback().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var e=this;return new o.Observable(function(t){e._txc.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e}());t.default=a},5788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=n(5568);t.UnsubscriptionError=r.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},5815:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(9744)),u=i(n(9238)),s=i(n(3321)),l=i(n(7021)),c=n(9014),f=n(9305).internal.constants,d=f.BOLT_PROTOCOL_V5_5,h=f.FETCH_ALL,p=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=n.boltAgent,a=n.authToken,u=n.notificationFilter,s=n.onError,f=n.onComplete,d={},h=new c.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x5(r,i,u,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return f(o(o({},e),d.metadata))},onError:s,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,f=t.afterError,d=t.beforeComplete,h=t.afterComplete,p=new c.ResultStreamObserver({server:this._server,beforeError:s,afterError:f,beforeComplete:d,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(l.default.begin5x5({bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=r.bookmarks,i=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,f=r.notificationFilter,d=r.beforeKeys,p=r.afterKeys,v=r.beforeError,y=r.afterError,g=r.beforeComplete,m=r.afterComplete,b=r.flush,_=void 0===b||b,w=r.reactive,O=void 0!==w&&w,E=r.fetchSize,x=void 0===E?h:E,S=r.highRecordWatermark,P=void 0===S?Number.MAX_VALUE:S,T=r.lowRecordWatermark,C=void 0===T?Number.MAX_VALUE:T,k=new c.ResultStreamObserver({server:this._server,reactive:O,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata}),A=O;return this.write(l.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:f}),k,A&&_),O||this.write(l.default.pull({n:x}),k,_),k},t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?o(o({},p),e.diagnostic_record):null})})),e},t}(a.default);t.default=v},5837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromVersion=void 0,t.fromVersion=function(e,t){void 0===t&&(t=function(){return{get userAgent(){}}});var n=t(),r=null!=n.userAgent?n.userAgent.split("(")[1].split(")")[0]:void 0,o=n.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:r,languageDetails:o}}},5880:function(e,t,n){var r,o;r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(s.call(this),this[e].apply(this,arguments))}}function c(r,o,i){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?u:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}(r)||l.apply(this,arguments)}function f(e,n){var a,u,l,f=this,d="loglevel";function h(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||c,f.getLevel=function(){return null!=l?l:null!=u?u:a},f.setLevel=function(e,n){return l=p(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(l),s.call(f)},f.setDefaultLevel=function(e){u=p(e),h()||f.setLevel(e,!1)},f.resetLevel=function(){l=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),s.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(a=p(i.getLevel())),s.call(f),i===f)for(var e in o)o[e].rebuild()},a=p(i?i.getLevel():"WARN");var v=h();null!=v&&(l=p(v)),s.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=r.call(t,n,t,e))||(e.exports=o)},5909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=n},5918:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(7286),a=n(7843);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate(function(t,n){i.zip.apply(void 0,o([t],r(e))).subscribe(n)})}},5973:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.epochSecondAndNanoToLocalDateTime=t.nanoOfDayToLocalTime=t.epochDayToDate=void 0;var r=n(9305),o=r.internal.temporalUtil,i=o.DAYS_0000_TO_1970,a=o.DAYS_PER_400_YEAR_CYCLE,u=o.NANOS_PER_HOUR,s=o.NANOS_PER_MINUTE,l=o.NANOS_PER_SECOND,c=o.SECONDS_PER_DAY,f=o.floorDiv,d=o.floorMod;function h(e){var t=(e=(0,r.int)(e)).add(i).subtract(60),n=(0,r.int)(0);if(t.lessThan(0)){var o=t.add(1).div(a).subtract(1);n=o.multiply(400),t=t.add(o.multiply(-a))}var u=t.multiply(400).add(591).div(a),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)));s.lessThan(0)&&(u=u.subtract(1),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)))),u=u.add(n);var l=s,c=l.multiply(5).add(2).div(153),f=c.add(2).modulo(12).add(1),d=l.subtract(c.multiply(306).add(5).div(10)).add(1);return u=u.add(c.div(10)),new r.Date(u,f,d)}function p(e){var t=(e=(0,r.int)(e)).div(u),n=(e=e.subtract(t.multiply(u))).div(s),o=(e=e.subtract(n.multiply(s))).div(l),i=e.subtract(o.multiply(l));return new r.LocalTime(t,n,o,i)}t.epochDayToDate=h,t.nanoOfDayToLocalTime=p,t.epochSecondAndNanoToLocalDateTime=function(e,t){var n=f(e,c),o=d(e,c).multiply(l).add(t),i=h(n),a=p(o);return new r.LocalDateTime(i.year,i.month,i.day,a.hour,a.minute,a.second,a.nanosecond)}},6013:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}},6030:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cacheKey=void 0;var r=n(4027);t.cacheKey=function(e,t){var n;return null!=t?"basic:"+t:void 0===e?"DEFAULT":"basic"===e.scheme?"basic:"+(null!==(n=e.principal)&&void 0!==n?n:""):"kerberos"===e.scheme?"kerberos:"+e.credentials:"bearer"===e.scheme?"bearer:"+e.credentials:"none"===e.scheme?"none":(0,r.stringify)(e,{sortedElements:!0})}},6033:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ServerInfo=t.queryType=void 0;var r=n(6995),o=n(1866),i=function(){function e(e,t,n,r){var i,c,f;this.query={text:e,parameters:t},this.queryType=n.type,this.counters=new s(null!==(i=n.stats)&&void 0!==i?i:{}),this.updateStatistics=this.counters,this.plan=(null!=n.plan||null!=n.profile)&&new a(null!==(c=n.plan)&&void 0!==c?c:n.profile),this.profile=null!=n.profile&&new u(n.profile),this.notifications=(0,o.buildNotificationsFromMetadata)(n),this.gqlStatusObjects=(0,o.buildGqlStatusObjectFromMetadata)(n),this.server=new l(n.server,r),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:null!==(f=n.db)&&void 0!==f?f:null}}return e.prototype.hasPlan=function(){return this.plan instanceof a},e.prototype.hasProfile=function(){return this.profile instanceof u},e}(),a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]};t.Plan=a;var u=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=c("dbHits",t),this.rows=c("rows",t),this.pageCacheMisses=c("pageCacheMisses",t),this.pageCacheHits=c("pageCacheHits",t),this.pageCacheHitRatio=c("pageCacheHitRatio",t),this.time=c("time",t),this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();t.ProfiledPlan=u,t.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var s=function(){function e(e){var t=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach(function(n){var o=n.replace(/(-\w)/g,function(e){return e[1].toUpperCase()});o in t._stats?t._stats[o]=r.util.toNumber(e[n]):"systemUpdates"===o?t._systemUpdates=r.util.toNumber(e[n]):"containsSystemUpdates"===o?t._containsSystemUpdates=e[n]:"containsUpdates"===o&&(t._containsUpdates=e[n])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var e=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce(function(t,n){return t+e._stats[n]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();t.QueryStatistics=s;var l=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function c(e,t,n){if(void 0===n&&(n=0),!1!==t&&e in t){var o=t[e];return r.util.toNumber(o)}return n}t.ServerInfo=l,t.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},t.default=i},6038:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},6086:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=n(7961),o=n(1731),i=n(6472);t.sampleTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.sample(i.interval(e,t))}},6102:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var r=n(4662),o=n(8535),i=n(3111),a=n(1342),u=n(9445);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.argsOrArgArray(e);return new r.Observable(function(e){var t=0,r=function(){if(t<n.length){var o=void 0;try{o=u.innerFrom(n[t++])}catch(e){return void r()}var s=new i.OperatorSubscriber(e,void 0,a.noop,a.noop);o.subscribe(s),s.add(r)}else e.complete()};r()})}},6106:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=n(95),o=n(8918);t.publishLast=function(){return function(e){var t=new r.AsyncSubject;return new o.ConnectableObservable(e,function(){return t})}}},6161:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(6248));t.default=r({},i.default)},6189:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionExecutor=void 0;var s=n(9691),l=n(326);function c(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,u([e,t],a(n),!1))}function f(e){return clearTimeout(e)}var d=function(){function e(e,t,n,r,o){void 0===o&&(o={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=h(e,3e4),this._initialRetryDelayMs=h(t,1e3),this._multiplier=h(n,2),this._jitterFactor=h(r,.2),this._setTimeout=o.setTimeout,this._clearTimeout=o.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return e.prototype.execute=function(e,t,n){var r=this,o={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){o.apiTransactionConfig=void 0}}};return new Promise(function(i,a){r._executeTransactionInsidePromise(e,t,i,a,n,o).catch(a)}).catch(function(i){var a=Date.now(),u=r._initialRetryDelayMs;return r._retryTransactionPromise(e,t,i,a,u,n,o)})},e.prototype.close=function(){var e=this;this._inFlightTimeoutIds.forEach(function(t){return e._clearTimeout(t)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(e,t,n,r,o,i,a){var u=this;return Date.now()-r>this._maxRetryTimeMs||!(0,s.isRetriableError)(n)?Promise.reject(n):new Promise(function(n,r){var s=u._computeDelayWithJitter(o),l=u._setTimeout(function(){u._inFlightTimeoutIds=u._inFlightTimeoutIds.filter(function(e){return e!==l}),u._executeTransactionInsidePromise(e,t,n,r,i,a).catch(r)},s);u._inFlightTimeoutIds.push(l)}).catch(function(n){var s=o*u._multiplier;return u._retryTransactionPromise(e,t,n,r,s,i,a)})},e.prototype._executeTransactionInsidePromise=function(e,t,n,a,u,s){return o(this,void 0,void 0,function(){var o,l,c,f,d,h,p=this;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),l=e(null!=(null==s?void 0:s.apiTransactionConfig)?r({},null==s?void 0:s.apiTransactionConfig):void 0),this.pipelineBegin?(c=l,[3,3]):[3,1];case 1:return[4,l];case 2:c=i.sent(),i.label=3;case 3:return o=c,[3,5];case 4:return f=i.sent(),a(f),[2];case 5:return d=null!=u?u:function(e){return e},h=d(o),this._safeExecuteTransactionWork(h,t).then(function(e){return p._handleTransactionWorkSuccess(e,o,n,a)}).catch(function(e){return p._handleTransactionWorkFailure(e,o,a)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(e,t){try{var n=t(e);return Promise.resolve(n)}catch(e){return Promise.reject(e)}},e.prototype._handleTransactionWorkSuccess=function(e,t,n,r){t.isOpen()?t.commit().then(function(){n(e)}).catch(function(e){r(e)}):n(e)},e.prototype._handleTransactionWorkFailure=function(e,t,n){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return n(e)}).catch(n):n(e)},e.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,n=e-t,r=e+t;return Math.random()*(r-n)+n},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,s.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,s.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,s.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,s.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();function h(e,t){return null!=e?e:t}t.TransactionExecutor=d},6245:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5319)),i=n(9305),a=i.internal.util,u=a.ENCRYPTION_OFF,s=a.ENCRYPTION_ON,l=function(){function e(e,t,n){void 0===t&&(t=c),void 0===n&&(n=function(e){return new WebSocket(e)});var r=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var a=function(e,t){var n=function(e){return!0===e.encrypted||e.encrypted===s}(e),r=function(e){return!1===e.encrypted||e.encrypted===u}(e),o=e.trust,a=function(e){var t="function"==typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);return function(e,t,n){null===n||(e&&!n?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&n&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(n,r,a),r?{scheme:"ws",error:null}:a?{scheme:"wss",error:null}:n?o&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==o?{scheme:null,error:(0,i.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(e,t),l=a.scheme,f=a.error;if(f)this._error=f;else{this._ws=function(e,t,n){var r=e+"://"+t.asHostPort();try{return n(r)}catch(r){if(function(e,t){return"SyntaxError"===e.name&&"["===(n=t.asHostPort()).charAt(0)&&-1!==n.indexOf("]");var n}(r,t)){var o=function(e,t){var n=t.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(n,":").concat(t.port())}(e,t);return n(o)}throw r}}(l,e.address,n),this._ws.binaryType="arraybuffer";var d=this;this._ws.onclose=function(e){e&&!e.wasClean&&d._handleConnectionError(),d._open=!1},this._ws.onopen=function(){d._clearConnectionTimeout();var e=d._pending;d._pending=null;for(var t=0;t<e.length;t++)d.write(e[t])},this._ws.onmessage=function(e){if(r._resetTimeout(),d.onmessage){var t=new o.default(e.data);d.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,i.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,i.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof o.default))throw(0,i.newError)("Don't know how to send buffer: "+e);try{this._ws.send(e._buffer)}catch(e){if(1===this._ws.readyState)throw e;this._handleConnectionError()}}},e.prototype.close=function(){var e=this;return null===this._closingPromise&&(this._closingPromise=new Promise(function(t,n){e._clearConnectionTimeout(),e._ws&&3!==e._ws.readyState?(e._open=!1,e.stopReceiveTimeout(),e._ws.onclose=function(){t()},e._ws.close()):t()})),this._closingPromise},e.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},e.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,i.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var e=this,t=this._config.connectionTimeout;if(t){var n=this._ws;return setTimeout(function(){1!==n.readyState&&(e._connectionTimeoutFired=!0,n.close())},t)}return null},e.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},e}();function c(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}t.default=l},6248:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3399));t.default=r({},i.default)},6293:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var i=n(7245),a=i.Immediate.setImmediate,u=i.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.immediateProvider.delegate;return((null==i?void 0:i.setImmediate)||a).apply(void 0,o([],r(e)))},clearImmediate:function(e){var n=t.immediateProvider.delegate;return((null==n?void 0:n.clearImmediate)||u)(e)},delegate:void 0}},6345:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(844)),u=n(397),s=i(n(9994)),l=i(n(3321)),c=i(n(7021)),f=n(9014),d=n(9305).internal.constants.BOLT_PROTOCOL_V5_1,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=(n.boltAgent,n.authToken),a=n.notificationFilter,s=n.onError,l=n.onComplete,d={},h=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return(0,u.assertNotificationFilterIsEmpty)(a,this._onProtocolError,h),this.write(c.default.hello5x1(r,this._serversideRouting),h,!1),this.logon({authToken:i,onComplete:function(e){return l(o(o({},e),d.metadata))},onError:s,flush:!0})},t.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=n.flush,u=new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,r,o)},onError:function(e){return t._onLoginError(e,i)}});return this.write(c.default.logon(r),u,a),u},t.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=t.flush,i=new f.LogoffObserver({onCompleted:n,onError:r});return this.write(c.default.logoff(),i,o),i},t}(a.default);t.default=h},6368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=n(1964),o=n(1018);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[r.iterator])}},6377:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(6890)),u=i(n(6248)),s=i(n(3321)),l=n(9305).internal.constants.BOLT_PROTOCOL_V5_7,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.enrichErrorMetadata=function(e){return o(o({},e),{cause:null!==e.cause&&void 0!==e.cause?this.enrichErrorMetadata(e.cause):null,code:e.neo4j_code,diagnostic_record:null!==e.diagnostic_record?o(o({},c),e.diagnostic_record):null})},t}(a.default);t.default=f},6384:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=n(3111);t.scanInternals=function(e,t,n,o,i){return function(a,u){var s=n,l=t,c=0;a.subscribe(r.createOperatorSubscriber(u,function(t){var n=c++;l=s?e(l,t,n):(s=!0,t),o&&u.next(l)},i&&function(){s&&u.next(l),u.complete()}))}}},6385:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),n(7666);var o=function(e){function t(t){var n=e.call(this)||this;return n._errorHandler=t,n}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){throw new Error("not implemented")},t.prototype.write=function(e,t,n){throw new Error("not implemented")},t.prototype.close=function(){throw new Error("not implemented")},t.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e},t}(n(9305).Connection);t.default=o},6445:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(4596)),a=n(9305),u=o(n(5348)),s=o(n(3321)),l=a.internal.constants.BOLT_PROTOCOL_V4_2,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(i.default);t.default=c},6472:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=n(7961),o=n(4092);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},6492:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reuseOngoingRequest=t.identity=void 0;var r=n(9305);t.identity=function(e){return e},t.reuseOngoingRequest=function(e,t){void 0===t&&(t=null);var n=new Map;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r.json.stringify(o);if(n.has(a))return n.get(a);var u=e.apply(t,o);return n.set(a,u),u.finally(function(){n.delete(a)})}}},6505:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=n(9568),o=n(5471);t.timestamp=function(e){return void 0===e&&(e=r.dateTimestampProvider),o.map(function(t){return{value:t,timestamp:e.now()}})}},6544:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9305),i=r(n(8320)),a=r(n(2857)),u=r(n(5642)),s=r(n(2539)),l=r(n(4596)),c=r(n(6445)),f=r(n(9054)),d=r(n(1711)),h=r(n(844)),p=r(n(6345)),v=r(n(934)),y=r(n(9125)),g=r(n(9744)),m=r(n(5815)),b=r(n(6890)),_=r(n(6377)),w=r(n(1092)),O=(n(7452),r(n(2578)));t.default=function(e){var t=void 0===e?{}:e,n=t.version,r=t.chunker,E=t.dechunker,x=t.channel,S=t.disableLosslessIntegers,P=t.useBigInt,T=t.serversideRouting,C=t.server,k=t.log,A=t.observer;return function(e,t,n,r,O,E,x,S){switch(e){case 1:return new i.default(t,n,r,E,S,x);case 2:return new a.default(t,n,r,E,S,x);case 3:return new u.default(t,n,r,E,S,x);case 4:return new s.default(t,n,r,E,S,x);case 4.1:return new l.default(t,n,r,E,S,x,O);case 4.2:return new c.default(t,n,r,E,S,x,O);case 4.3:return new f.default(t,n,r,E,S,x,O);case 4.4:return new d.default(t,n,r,E,S,x,O);case 5:return new h.default(t,n,r,E,S,x,O);case 5.1:return new p.default(t,n,r,E,S,x,O);case 5.2:return new v.default(t,n,r,E,S,x,O);case 5.3:return new y.default(t,n,r,E,S,x,O);case 5.4:return new g.default(t,n,r,E,S,x,O);case 5.5:return new m.default(t,n,r,E,S,x,O);case 5.6:return new b.default(t,n,r,E,S,x,O);case 5.7:return new _.default(t,n,r,E,S,x,O);case 5.8:return new w.default(t,n,r,E,S,x,O);default:throw(0,o.newError)("Unknown Bolt protocol version: "+e)}}(n,C,r,{disableLosslessIntegers:S,useBigInt:P},T,function(e){var t=new O.default({transformMetadata:e.transformMetadata.bind(e),enrichErrorMetadata:e.enrichErrorMetadata.bind(e),log:k,observer:A});return x.onerror=A.onError.bind(A),x.onmessage=function(e){return E.write(e)},E.onmessage=function(n){try{t.handleResponse(e.unpack(n))}catch(e){return A.onError(e)}},t},A.onProtocolError.bind(A),k)}},6566:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=n(9445),o=n(2483),i=n(7843),a=n(3111);t.repeatWhen=function(e){return i.operate(function(t,n){var i,u,s=!1,l=!1,c=!1,f=function(){return c&&l&&(n.complete(),!0)},d=function(){c=!1,i=t.subscribe(a.createOperatorSubscriber(n,void 0,function(){c=!0,!f()&&(u||(u=new o.Subject,r.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(n,function(){i?d():s=!0},function(){l=!0,f()}))),u).next()})),s&&(i.unsubscribe(),i=null,s=!1,d())};d()})}},6586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=n(983),o=n(1018);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=1/0),o.isFunction(t)?r.mergeMap(function(){return e},t,n):("number"==typeof t&&(n=t),r.mergeMap(function(){return e},n))}},6587:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ENCRYPTION_OFF=t.ENCRYPTION_ON=t.equals=t.validateQueryAndParameters=t.toNumber=t.assertValidDate=t.assertNumberOrInteger=t.assertNumber=t.assertString=t.assertObject=t.isString=t.isObject=t.isEmptyObjectOrNull=void 0;var u=i(n(3371)),s=n(4027);function l(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function c(e,t){if(!f(e))throw new TypeError((0,s.stringify)(t)+" expected to be string but was: "+(0,s.stringify)(e));return e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_ON="ENCRYPTION_ON",t.ENCRYPTION_OFF="ENCRYPTION_OFF",t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!l(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},t.isObject=l,t.validateQueryAndParameters=function(e,t,n){var r,o,i="",a=null!=t?t:{},u=null!==(r=null==n?void 0:n.skipAsserts)&&void 0!==r&&r;return"string"==typeof e?i=e:e instanceof String?i=e.toString():"object"==typeof e&&null!=e.text&&(i=e.text,a=null!==(o=e.parameters)&&void 0!==o?o:{}),u||(function(e){if(c(e,"Cypher query"),0===e.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(i),function(e){if(!l(e)){var t=null!=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}(a)),{validatedQuery:i,params:a}},t.assertObject=function(e,t){if(!l(e))throw new TypeError(t+" expected to be an object but was: "+(0,s.stringify)(e));return e},t.assertString=c,t.assertNumber=function(e,t){if("number"!=typeof e)throw new TypeError(t+" expected to be a number but was: "+(0,s.stringify)(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!=typeof e&&"bigint"!=typeof e&&!(0,u.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,s.stringify)(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,s.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,s.stringify)(e));return e},t.isString=f,t.equals=function e(t,n){var r,o;if(t===n)return!0;if(null===t||null===n)return!1;if("object"==typeof t&&"object"==typeof n){var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;try{for(var s=a(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(!e(t[c],n[c]))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!0}return!1},t.toNumber=function(e){return e instanceof u.default?e.toNumber():"bigint"==typeof e?(0,u.int)(e).toNumber():e}},6625:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=n(6728);t.combineAll=r.combineLatestAll},6637:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=n(2483),i=n(8014),a=n(7843),u=n(9445),s=n(3111),l=n(1342),c=n(7479);t.windowToggle=function(e,t){return a.operate(function(n,a){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);a.error(e)};u.innerFrom(e).subscribe(s.createOperatorSubscriber(a,function(e){var n=new o.Subject;f.push(n);var r,h=new i.Subscription;try{r=u.innerFrom(t(e))}catch(e){return void d(e)}a.next(n.asObservable()),h.add(r.subscribe(s.createOperatorSubscriber(a,function(){c.arrRemove(f,n),n.complete(),h.unsubscribe()},l.noop,d)))},l.noop)),n.subscribe(s.createOperatorSubscriber(a,function(e){var t,n,o=f.slice();try{for(var i=r(o),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},function(){for(;0<f.length;)f.shift().complete();a.complete()},d,function(){for(;0<f.length;)f.shift().unsubscribe()}))})}},6640:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},6661:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9305),i=n(7168),a=n(3321),u=o.error.PROTOCOL_ERROR;t.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof o.Node},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Node",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],u=t[2];return new o.Node(n,a,u)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof o.Relationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Relationship",5,e.size);var t=r(e.fields,5),n=t[0],a=t[1],u=t[2],s=t[3],l=t[4];return new o.Relationship(n,a,u,s,l)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof o.UnboundRelationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("UnboundRelationship",3,e.size);var t=r(e.fields,3),n=t[0],a=t[1],u=t[2];return new o.UnboundRelationship(n,a,u)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof o.Path},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Path",3,e.size);for(var t=r(e.fields,3),n=t[0],a=t[1],u=t[2],s=[],l=n[0],c=0;c<u.length;c+=2){var f=n[u[c+1]],d=(0,o.toNumber)(u[c]),h=void 0;d>0?(h=a[d-1])instanceof o.UnboundRelationship&&(a[d-1]=h=h.bindTo(l,f)):(h=a[-d-1])instanceof o.UnboundRelationship&&(a[-d-1]=h=h.bindTo(f,l)),s.push(new o.PathSegment(l,h,f)),l=f}return new o.Path(n[0],n[n.length-1],s)}})}}},6672:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.packstream=t.channel=t.buf=t.bolt=t.loadBalancing=void 0,t.loadBalancing=i(n(4455)),t.bolt=i(n(7666)),t.buf=i(n(7174)),t.channel=i(n(7452)),t.packstream=i(n(7168)),a(n(9689),t)},6702:function(e,t){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0,t.equals=function(e,t){var r,o;if(e===t)return!0;if(null===e||null===t)return!1;if("object"==typeof e&&"object"==typeof t){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;try{for(var u=n(i),s=u.next();!s.done;s=u.next()){var l=s.value;if(e[l]!==t[l])return!1}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return!0}return!1}},6728:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=n(3247),o=n(3638);t.combineLatestAll=function(e){return o.joinAllInternals(r.combineLatest,e)}},6746:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=n(2483),i=n(7843),a=n(3111);t.windowCount=function(e,t){void 0===t&&(t=0);var n=t>0?t:e;return i.operate(function(t,i){var u=[new o.Subject],s=0;i.next(u[0].asObservable()),t.subscribe(a.createOperatorSubscriber(i,function(t){var a,l;try{for(var c=r(u),f=c.next();!f.done;f=c.next())f.value.next(t)}catch(e){a={error:e}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}var d=s-e+1;if(d>=0&&d%n===0&&u.shift().complete(),++s%n===0){var h=new o.Subject;u.push(h),i.next(h.asObservable())}},function(){for(;u.length>0;)u.shift().complete();i.complete()},function(e){for(;u.length>0;)u.shift().error(e);i.error(e)},function(){u=null}))})}},6755:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bookmarkManager=void 0;var u=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e.prototype.getBookmarks=function(){return n(this,void 0,void 0,function(){return r(this,function(e){throw new Error("Not implemented")})})},e}();t.default=u,t.bookmarkManager=function(e){void 0===e&&(e={});var t=new Set(e.initialBookmarks);return new s(t,e.bookmarksSupplier,e.bookmarksConsumer)};var s=function(){function e(e,t,n){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=n}return e.prototype.updateBookmarks=function(e,t){return n(this,void 0,void 0,function(){var n,u,s,l,c,f,d,h,p,v;return r(this,function(r){switch(r.label){case 0:n=this._bookmarks;try{for(u=o(e),s=u.next();!s.done;s=u.next())f=s.value,n.delete(f)}catch(e){d={error:e}}finally{try{s&&!s.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}}try{for(l=o(t),c=l.next();!c.done;c=l.next())f=c.value,n.add(f)}catch(e){p={error:e}}finally{try{c&&!c.done&&(v=l.return)&&v.call(l)}finally{if(p)throw p.error}}return"function"!=typeof this._bookmarksConsumer?[3,2]:[4,this._bookmarksConsumer(a([],i(n),!1))];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getBookmarks=function(){var e;return n(this,void 0,void 0,function(){var t,n,u,s,l,c,f;return r(this,function(r){switch(r.label){case 0:return t=new Set(this._bookmarks),"function"!=typeof this._bookmarksSupplier?[3,2]:[4,this._bookmarksSupplier()];case 1:n=null!==(e=r.sent())&&void 0!==e?e:[];try{for(u=o(n),s=u.next();!s.done;s=u.next())l=s.value,t.add(l)}catch(e){c={error:e}}finally{try{s&&!s.done&&(f=u.return)&&f.call(u)}finally{if(c)throw c.error}}r.label=2;case 2:return[2,a([],i(t),!1)]}})})},e}()},6781:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.functional=void 0,t.functional=i(n(6492)),t.object=i(n(6702))},6804:e=>{e.exports=function(e,o){Array.isArray(o)||(o=[o]);var i=function(e){for(var t=-1,n=0;n<e.length;n++){var o=e[n];if("preprocessor"===o.type)/^#(extension|version)/.test(o.data)&&(t=Math.max(t,n));else if("keyword"===o.type&&"precision"===o.data){var i=r(e,n);if(-1===i)throw new Error("precision statement not followed by any semicolons!");t=Math.max(t,i)}}return t+1}(e),a=i>0?e[i-1]:null;a&&n.test(a.data)&&e.splice(i++,0,t),e.splice.apply(e,[i,0].concat(o));var u=i+o.length;return e[u]&&/[^\r\n]$/.test(e[u].data)&&e.splice(u,0,t),e};var t={data:"\n",type:"whitespace"},n=/[^\r\n]$/;function r(e,t){for(var n=t;n<e.length;n++)if("operator"===e[n].type&&";"===e[n].data)return n;return-1}},6824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=n(4662);t.fromSubscribable=function(e){return new r.Observable(function(t){return e.subscribe(t)})}},6842:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(7589)),u=n(9691),s=n(4883),l=function(){function e(e){var t=e.create,n=void 0===t?function(e,t,n){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,e.sent()]}})})}:t,i=e.destroy,u=void 0===i?function(e){return r(w,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}})})}:i,l=e.validateOnAcquire,c=void 0===l?function(e,t){return!0}:l,f=e.validateOnRelease,d=void 0===f?function(e){return!0}:f,h=e.installIdleObserver,p=void 0===h?function(e,t){}:h,v=e.removeIdleObserver,y=void 0===v?function(e){}:v,g=e.config,m=void 0===g?a.default.defaultConfig():g,b=e.log,_=void 0===b?s.Logger.noOp():b,w=this;this._create=n,this._destroy=u,this._validateOnAcquire=c,this._validateOnRelease=d,this._installIdleObserver=p,this._removeIdleObserver=y,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=_,this._closed=!1}return e.prototype.acquire=function(e,t,n){return r(this,void 0,void 0,function(){var r,i,a=this;return o(this,function(o){switch(o.label){case 0:return r=t.asKey(),null==(i=this._acquireRequests)[r]&&(i[r]=[]),[4,new Promise(function(o,s){var l=setTimeout(function(){var e=i[r];if(null!=e&&(i[r]=e.filter(function(e){return e!==c})),c.isCompleted());else{var n=a.activeResourceCount(t),o=a.has(t)?a._pools[r].length:0;c.reject((0,u.newError)("Connection acquisition timed out in ".concat(a._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(n,", Idle conn count = ").concat(o,".")))}},a._acquisitionTimeout);"object"==typeof l&&l.unref();var c=new d(r,e,n,o,s,l,a._log);i[r].push(c),a._processPendingAcquireRequests(t)})];case 1:return[2,o.sent()]}})})},e.prototype.purge=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e.asKey())];case 1:return[2,t.sent()]}})})},e.prototype.apply=function(e,t){var n=e.asKey();n in this._pools&&this._pools[n].apply(t)},e.prototype.close=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,t.sent()]}})})},e.prototype.keepAll=function(e){return r(this,void 0,void 0,function(){var t,n,i,a=this;return o(this,function(u){switch(u.label){case 0:return t=e.map(function(e){return e.asKey()}),n=Object.keys(this._pools),i=n.filter(function(e){return!t.includes(e)}),[4,Promise.all(i.map(function(e){return r(a,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e)];case 1:return[2,t.sent()]}})})})).then()];case 1:return[2,u.sent()]}})})},e.prototype.has=function(e){return e.asKey()in this._pools},e.prototype.activeResourceCount=function(e){var t;return null!==(t=this._activeResourceCounts[e.asKey()])&&void 0!==t?t:0},e.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new h,this._pools[e]=t,this._pendingCreates[e]=0),t},e.prototype._acquire=function(e,t,n){return r(this,void 0,void 0,function(){var i,a,s,l,d,h,p,v=this;return o(this,function(y){switch(y.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");if(i=t.asKey(),a=this._getOrInitializePoolFor(i),n)return[3,10];y.label=1;case 1:if(!(a.length>0))return[3,10];if(null==(s=a.pop()))return[3,1];c(i,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(s),l=!1,y.label=2;case 2:return y.trys.push([2,4,,6]),[4,this._validateOnAcquire(e,s)];case 3:return l=y.sent(),[3,6];case 4:return d=y.sent(),f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 5:throw y.sent(),d;case 6:return l?(this._log.isDebugEnabled()&&this._log.debug("".concat(s," acquired from the pool ").concat(i)),[2,{resource:s,pool:a}]):[3,7];case 7:return f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 8:y.sent(),y.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[i]>=this._maxSize)return[2,{resource:null,pool:a}];this._pendingCreates[i]=this._pendingCreates[i]+1,y.label=11;case 11:return y.trys.push([11,,15,16]),this.activeResourceCount(t)+a.length>=this._maxSize&&n?null==(p=a.pop())?[3,13]:(null!=this._removeIdleObserver&&this._removeIdleObserver(p),a.removeInUse(p),[4,this._destroy(p)]):[3,13];case 12:y.sent(),y.label=13;case 13:return[4,this._create(e,t,function(e,t){return r(v,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this._release(e,t,a)];case 1:return[2,n.sent()]}})})})];case 14:return h=y.sent(),a.pushInUse(h),c(i,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(h," created for the pool ").concat(i)),[3,16];case 15:return this._pendingCreates[i]=this._pendingCreates[i]-1,[7];case 16:return[2,{resource:h,pool:a}]}})})},e.prototype._release=function(e,t,n){return r(this,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:r=e.asKey(),o.label=1;case 1:return o.trys.push([1,,9,10]),n.isActive()?[4,this._validateOnRelease(t)]:[3,6];case 2:return o.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because it is not functional")),n.removeInUse(t),[4,this._destroy(t)]);case 3:return o.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(t,{onError:function(e){i._log.debug("Idle connection ".concat(t," destroyed because of error: ").concat(e));var n=i._pools[r];null!=n&&(i._pools[r]=n.filter(function(e){return e!==t}),n.removeInUse(t)),i._destroy(t).catch(function(){})}}),n.push(t),this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(r)),o.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(r," because pool has been purged")),n.removeInUse(t),[4,this._destroy(t)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:return f(r,this._activeResourceCounts),this._processPendingAcquireRequests(e),[7];case 10:return[2]}})})},e.prototype._purgeKey=function(e){return r(this,void 0,void 0,function(){var t,n,r;return o(this,function(o){switch(o.label){case 0:if(t=this._pools[e],n=[],null==t)return[3,2];for(;t.length>0;)null!=(r=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(r),n.push(this._destroy(r)));return t.close(),delete this._pools[e],[4,Promise.all(n)];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(e){var t=this,n=e.asKey(),r=this._acquireRequests[n];if(null!=r){var o=r.shift();null!=o?this._acquire(o.context,e,o.requireNew).catch(function(e){return o.reject(e),{resource:null,pool:null}}).then(function(r){var i=r.resource,a=r.pool;null!=i&&null!=a?o.isCompleted()?t._release(e,i,a).catch(function(e){t._log.isDebugEnabled()&&t._log.debug("".concat(i," could not be release back to the pool. Cause: ").concat(e))}):o.resolve(i):o.isCompleted()||(null==t._acquireRequests[n]&&(t._acquireRequests[n]=[]),t._acquireRequests[n].unshift(o))}).catch(function(e){return o.reject(e)}):delete this._acquireRequests[n]}},e}();function c(e,t){var n,r=null!==(n=t[e])&&void 0!==n?n:0;t[e]=r+1}function f(e,t){var n,r=(null!==(n=t[e])&&void 0!==n?n:0)-1;r>0?t[e]=r:delete t[e]}var d=function(){function e(e,t,n,r,o,i,a){this._key=e,this._context=t,this._resolve=r,this._reject=o,this._timeoutId=i,this._log=a,this._completed=!1,this._config=null!=n?n:{}}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireNew",{get:function(){var e;return null!==(e=this._config.requireNew)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},e.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))},e}(),h=function(){function e(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},e.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},e.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},e.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},e.prototype.pushInUse=function(e){this._elementsInUse.add(e)},e.prototype.removeInUse=function(e){this._elementsInUse.delete(e)},e}();t.default=l},6872:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfig=t.Config=void 0;var r=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};t.Config=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r);t.InternalConfig=o},6890:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(5815)),u=i(n(3399)),s=i(n(3321)),l=n(9305).internal.constants.BOLT_PROTOCOL_V5_6,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{diagnostic_record:null!==e.diagnostic_record?o(o({},c),e.diagnostic_record):null})})),e},t}(a.default);t.default=f},6894:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var r=n(2823);t.lastValueFrom=function(e,t){var n="object"==typeof t;return new Promise(function(o,i){var a,u=!1;e.subscribe({next:function(e){a=e,u=!0},error:i,complete:function(){u?o(a):n?o(t.defaultValue):i(new r.EmptyError)}})})}},6902:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=n(983);t.flatMap=r.mergeMap},6931:e=>{e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6985:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=n(4662);t.scheduleArray=function(e,t){return new r.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}},6995:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.boltAgent=t.objectUtil=t.resolver=t.serverAddress=t.urlUtil=t.logger=t.transactionExecutor=t.txConfig=t.connectionHolder=t.constants=t.bookmarks=t.observer=t.temporalUtil=t.util=void 0;var a=i(n(6587));t.util=a;var u=i(n(5022));t.temporalUtil=u;var s=i(n(2696));t.observer=s;var l=i(n(9730));t.bookmarks=l;var c=i(n(326));t.constants=c;var f=i(n(3618));t.connectionHolder=f;var d=i(n(754));t.txConfig=d;var h=i(n(6189));t.transactionExecutor=h;var p=i(n(4883));t.logger=p;var v=i(n(407));t.urlUtil=v;var y=i(n(7509));t.serverAddress=y;var g=i(n(9470));t.resolver=g;var m=i(n(93));t.objectUtil=m;var b=i(n(3488));t.boltAgent=b;var _=i(n(2906));t.pool=_},7021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES=void 0;var r=n(9305),o=r.internal.constants,i=o.ACCESS_MODE_READ,a=o.FETCH_ALL,u=r.internal.util.assertString,s=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});t.SIGNATURES=s;var l=function(){function e(e,t,n){this.signature=e,this.fields=t,this.toString=n}return e.init=function(t,n){return new e(1,[t,n],function(){return"INIT ".concat(t," {...}")})},e.run=function(t,n){return new e(16,[t,n],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n))})},e.pullAll=function(){return p},e.reset=function(){return v},e.hello=function(t,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=Object.assign({user_agent:t},n);return r&&(i.routing=r),o&&(i.patch_bolt=o),new e(1,[i],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x1=function(t,n){void 0===n&&(n=null);var r={user_agent:t};return n&&(r.routing=n),new e(1,[r],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x2=function(t,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i={user_agent:t};return d(i,n),o&&(i.routing=o),new e(1,[i],function(){return"HELLO ".concat(r.json.stringify(i))})},e.hello5x3=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),d(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.hello5x5=function(t,n,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),n&&(a.bolt_agent={product:n.product,platform:n.platform,language:n.language,language_details:n.languageDetails}),h(a,o),i&&(a.routing=i),new e(1,[a],function(){return"HELLO ".concat(r.json.stringify(a))})},e.logon=function(t){return new e(106,[t],function(){return"LOGON { ... }"})},e.logoff=function(){return new e(107,[],function(){return"LOGOFF"})},e.begin=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter);return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.begin5x5=function(t){var n=void 0===t?{}:t,o=c(n.bookmarks,n.txConfig,n.database,n.mode,n.impersonatedUser,n.notificationFilter,{appendNotificationFilter:h});return new e(17,[o],function(){return"BEGIN ".concat(r.json.stringify(o))})},e.commit=function(){return y},e.rollback=function(){return g},e.runWithMetadata=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter);return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.runWithMetadata5x5=function(t,n,o){var i=void 0===o?{}:o,a=c(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter,{appendNotificationFilter:h});return new e(16,[t,n,a],function(){return"RUN ".concat(t," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(a))})},e.goodbye=function(){return m},e.pull=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,u=n.n,s=f(null==i?-1:i,(void 0===u?a:u)||a);return new e(63,[s],function(){return"PULL ".concat(r.json.stringify(s))})},e.discard=function(t){var n=void 0===t?{}:t,o=n.stmtId,i=void 0===o?-1:o,u=n.n,s=f(null==i?-1:i,(void 0===u?a:u)||a);return new e(47,[s],function(){return"DISCARD ".concat(r.json.stringify(s))})},e.telemetry=function(t){var n=t.api,o=(0,r.int)(n);return new e(84,[o],function(){return"TELEMETRY ".concat(o.toString())})},e.route=function(t,n,o){return void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o=null),new e(102,[t,n,o],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(o)})},e.routeV4x4=function(t,n,o){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o={});var i={};return o.databaseName&&(i.db=o.databaseName),o.impersonatedUser&&(i.imp_user=o.impersonatedUser),new e(102,[t,n,i],function(){return"ROUTE ".concat(r.json.stringify(t)," ").concat(r.json.stringify(n)," ").concat(r.json.stringify(i))})},e}();function c(e,t,n,r,o,a,s){var l;void 0===s&&(s={});var c={};return e.isEmpty()||(c.bookmarks=e.values()),null!==t.timeout&&(c.tx_timeout=t.timeout),t.metadata&&(c.tx_metadata=t.metadata),n&&(c.db=u(n,"database")),o&&(c.imp_user=u(o,"impersonatedUser")),r===i&&(c.mode="r"),(null!==(l=s.appendNotificationFilter)&&void 0!==l?l:d)(c,a),c}function f(e,t){var n={n:(0,r.int)(t)};return-1!==e&&(n.qid=(0,r.int)(e)),n}function d(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function h(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}t.default=l;var p=new l(63,[],function(){return"PULL_ALL"}),v=new l(15,[],function(){return"RESET"}),y=new l(18,[],function(){return"COMMIT"}),g=new l(19,[],function(){return"ROLLBACK"}),m=new l(2,[],function(){return"GOODBYE"})},7041:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(326),a=function(){function e(e){this._createSession=e}return e.prototype.execute=function(e,t,n){return r(this,void 0,void 0,function(){var a,u,s=this;return o(this,function(l){switch(l.label){case 0:a=this._createSession({database:e.database,bookmarkManager:e.bookmarkManager,impersonatedUser:e.impersonatedUser,auth:e.auth}),c=e.signal,f="abort",d=function(){return r(s,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,a.close()];case 1:return[2,e.sent()]}})})},"function"==typeof(null==c?void 0:c.addEventListener)&&c.addEventListener(f,d),u={uninstall:function(){"function"==typeof(null==c?void 0:c.removeEventListener)&&c.removeEventListener(f,d)}},a._configureTransactionExecutor(!0,i.TELEMETRY_APIS.EXECUTE_QUERY),l.label=1;case 1:return l.trys.push([1,,3,5]),[4,("READ"===e.routing?a.executeRead.bind(a):a.executeWrite.bind(a))(function(i){return r(s,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=i.run(t,n),[4,e.resultTransformer(r)];case 1:return[2,o.sent()]}})})},e.transactionConfig)];case 2:return[2,l.sent()];case 3:return u.uninstall(),[4,a.close()];case 4:return l.sent(),[7];case 5:return[2]}var c,f,d})})},e}();t.default=a},7045:(e,t,n)=>{var r=n(3206);e.exports=function(e,t){var n=r(t),o=[];return(o=o.concat(n(e))).concat(n(null))}},7057:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=n(5568);t.ArgumentOutOfRangeError=r.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},7093:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=t.Point=void 0;var r=n(6587),o="__isPoint__",i=function(){function e(e,t,n,o){this.srid=(0,r.assertNumberOrInteger)(e,"SRID"),this.x=(0,r.assertNumber)(t,"X coordinate"),this.y=(0,r.assertNumber)(n,"Y coordinate"),this.z=null==o?o:(0,r.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},e}();function a(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}t.Point=i,Object.defineProperty(i.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1}),t.isPoint=function(e){return null!=e&&!0===e[o]}},7101:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},7110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}},7168:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.v2=t.v1=void 0;var a=i(n(5361));t.v1=a;var u=i(n(2072));t.v2=u;var s=i(n(7665));t.structure=s,t.default=u},7174:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBuffer=void 0;var o=r(n(45));t.BaseBuffer=o.default,t.default=o.default},7192:e=>{e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7210:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=n(8014),i=n(7843),a=n(3111),u=n(7479),s=n(7961),l=n(1107),c=n(7110);t.bufferTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:s.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return i.operate(function(t,n){var i=[],s=!1,l=function(e){var t=e.buffer;e.subs.unsubscribe(),u.arrRemove(i,e),n.next(t),s&&f()},f=function(){if(i){var t=new o.Subscription;n.add(t);var r={buffer:[],subs:t};i.push(r),c.executeSchedule(t,h,function(){return l(r)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):s=!0,f();var d=a.createOperatorSubscriber(n,function(e){var t,n,o=i.slice();try{for(var a=r(o),u=a.next();!u.done;u=a.next()){var s=u.value,c=s.buffer;c.push(e),v<=c.length&&l(s)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==d||d.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return i=null});t.subscribe(d)})}},7220:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=n(1637),o=n(8918);t.publishBehavior=function(e){return function(t){var n=new r.BehaviorSubject(e);return new o.ConnectableObservable(t,function(){return n})}}},7245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var n,r=1,o={};function i(e){return e in o&&(delete o[e],!0)}t.Immediate={setImmediate:function(e){var t=r++;return o[t]=!0,n||(n=Promise.resolve()),n.then(function(){return i(t)&&e()}),t},clearImmediate:function(e){i(e)}},t.TestTools={pending:function(){return Object.keys(o).length}}},7264:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfig=t.SessionConfig=t.routing=t.WRITE=t.READ=t.Driver=void 0;var u=n(9730),s=a(n(8341)),l=n(326),c=n(4883),f=a(n(5481)),d=n(6587),h=n(6755),p=a(n(1573)),v=a(n(7041)),y=n(9691),g=a(n(3001)),m=n(6030),b=l.ACCESS_MODE_READ;t.READ=b;var _=l.ACCESS_MODE_WRITE;t.WRITE=_;var w=0;t.SessionConfig=function(){this.defaultAccessMode=_,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var O={WRITE:"WRITE",READ:"READ"};t.routing=O,Object.freeze(O),t.QueryConfig=function(){this.routing=O.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var E=function(){function e(e,t,n,r,o){void 0===t&&(t={}),void 0===r&&(r=function(e){return new f.default(e)}),void 0===o&&(o=function(e){return new v.default(e)}),function(e){e.maxConnectionLifetime=x(e.maxConnectionLifetime,36e5),e.maxConnectionPoolSize=x(e.maxConnectionPoolSize,l.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=x(e.connectionAcquisitionTimeout,l.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=S(e.fetchSize,1e3),e.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t||!isNaN(t)&&t<0?null:isNaN(t)?l.DEFAULT_CONNECTION_TIMEOUT_MILLIS:t}(e),e.connectionLivenessCheckTimeout=function(e){if(null!=e){var t=parseInt(e,10);if(t<0||Number.isNaN(t))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(t));return t}}(e.connectionLivenessCheckTimeout)}(t);var i=c.Logger.create(t);!function(e,t){var n,r,o=e.resolver;if(null!=o&&"function"!=typeof o)throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof o));if(e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),null!=(null===(n=e.notificationFilter)||void 0===n?void 0:n.disabledCategories)&&null!=(null===(r=e.notificationFilter)||void 0===r?void 0:r.disabledClassifications))throw new Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')}(t,i),this._id=w++,this._meta=e,this._config=t,this._log=i,this._createConnectionProvider=n,this._createSession=r,this._defaultExecuteQueryBookmarkManager=(0,h.bookmarkManager)(),this._queryExecutor=o(this.session.bind(this)),this._connectionProvider=null,this.homeDatabaseCache=new g.default(1e4),this._afterConstruction()}return Object.defineProperty(e.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(e,t,n){var r,a,u;return void 0===n&&(n={}),o(this,void 0,void 0,function(){var o,s,l;return i(this,function(i){switch(i.label){case 0:if(o=null===n.bookmarkManager?void 0:null!==(r=n.bookmarkManager)&&void 0!==r?r:this.executeQueryBookmarkManager,s=null!==(a=n.resultTransformer)&&void 0!==a?a:p.default.eagerResultTransformer(),(l=null!==(u=n.routing)&&void 0!==u?u:O.WRITE)!==O.READ&&l!==O.WRITE)throw(0,y.newError)('Illegal query routing config: "'.concat(l,'"'));return[4,this._queryExecutor.execute({resultTransformer:s,bookmarkManager:o,routing:l,database:n.database,impersonatedUser:n.impersonatedUser,transactionConfig:n.transactionConfig,auth:n.auth,signal:n.signal},e,t)];case 1:return[2,i.sent()]}})})},e.prototype.verifyConnectivity=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:n,accessMode:b})},e.prototype.verifyAuthentication=function(e){var t=void 0===e?{}:e,n=t.database,r=t.auth;return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!=n?n:"system",auth:r,accessMode:b})];case 1:return[2,e.sent()]}})})},e.prototype.getServerInfo=function(e){var t=(void 0===e?{}:e).database,n=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:n,accessMode:b})},e.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},e.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},e.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===d.ENCRYPTION_ON||!0===this._config.encrypted},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?_:n,o=t.bookmarks,i=t.database,a=void 0===i?"":i,u=t.impersonatedUser,s=t.fetchSize,l=t.bookmarkManager,c=t.notificationFilter,f=t.auth;return this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:a,reactive:!1,impersonatedUser:u,fetchSize:S(s,this._config.fetchSize),bookmarkManager:l,notificationFilter:c,auth:f})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider?this._connectionProvider.close():Promise.resolve()},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._homeDatabaseCallback=function(e,t){this.homeDatabaseCache.set(e,t)},e.prototype._newSession=function(e){var t=e.defaultAccessMode,n=e.bookmarkOrBookmarks,o=e.database,i=e.reactive,a=e.impersonatedUser,s=e.fetchSize,l=e.bookmarkManager,c=e.notificationFilter,d=e.auth,h=f.default._validateSessionMode(t),p=this._getOrCreateConnectionProvider(),v=this.homeDatabaseCache.get((0,m.cacheKey)(d,a)),y=this._homeDatabaseCallback.bind(this),g=null!=n?new u.Bookmarks(n):u.Bookmarks.empty();return this._createSession({mode:h,database:null!=o?o:"",connectionProvider:p,bookmarks:g,config:r({cachedHomeDatabase:v,routingDriver:this._supportsRouting()},this._config),reactive:i,impersonatedUser:a,fetchSize:s,bookmarkManager:l,notificationFilter:c,auth:d,log:this._log,homeDatabaseCallback:y})},e.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new s.default(e.resolver)))),this._connectionProvider},e}();function x(e,t){var n=parseInt(e,10);return n>0||0===n?n:n<0?Number.MAX_SAFE_INTEGER:t}function S(e,t){var n=parseInt(e,10);if(n>0||n===l.FETCH_ALL)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(l.FETCH_ALL," for ALL. However fetchSize = ").concat(n));return t}t.Driver=E,t.default=E},7286:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=n(4662),a=n(9445),u=n(8535),s=n(8616),l=n(3111),c=n(1107);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.popResultSelector(e),f=u.argsOrArgArray(e);return f.length?new i.Observable(function(e){var t=f.map(function(){return[]}),i=f.map(function(){return!1});e.add(function(){t=i=null});for(var u=function(u){a.innerFrom(f[u]).subscribe(l.createOperatorSubscriber(e,function(a){if(t[u].push(a),t.every(function(e){return e.length})){var s=t.map(function(e){return e.shift()});e.next(n?n.apply(void 0,o([],r(s))):s),t.some(function(e,t){return!e.length&&i[t]})&&e.complete()}},function(){i[u]=!0,!t[u].length&&e.complete()}))},s=0;!e.closed&&s<f.length;s++)u(s);return function(){t=i=null}}):s.EMPTY}},7302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=n(983),o=n(6640);t.mergeAll=function(e){return void 0===e&&(e=1/0),r.mergeMap(o.identity,e)}},7315:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=n(3413),o=n(9155);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout(function(){var t=r.config.onUnhandledError;if(!t)throw e;t(e)})}},7331:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5348));t.default=r({},i.default)},7360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var n=Array.isArray,r=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((u=t)&&"object"==typeof u&&r(u)===o){var a=i(t);return{args:a.map(function(e){return t[e]}),keys:a}}}var u;return{args:e,keys:null}}},7372:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=n(7843),o=n(3111),i=n(9445),a=n(1342);t.skipUntil=function(e){return r.operate(function(t,n){var r=!1,u=o.createOperatorSubscriber(n,function(){null==u||u.unsubscribe(),r=!0},a.noop);i.innerFrom(e).subscribe(u),t.subscribe(o.createOperatorSubscriber(n,function(e){return r&&n.next(e)}))})}},7428:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(9305),p=u(n(206)),v=n(7452),y=d(n(4132)),g=d(n(8987)),m=n(4455),b=n(7721),_=n(6781),w=h.error.SERVICE_UNAVAILABLE,O=h.error.SESSION_EXPIRED,E=h.internal.bookmarks.Bookmarks,x=h.internal.constants,S=x.ACCESS_MODE_READ,P=x.ACCESS_MODE_WRITE,T=x.BOLT_PROTOCOL_V3,C=x.BOLT_PROTOCOL_V4_0,k=x.BOLT_PROTOCOL_V4_4,A=x.BOLT_PROTOCOL_V5_1,j="Neo.ClientError.Database.DatabaseNotFound",R="Neo.ClientError.Transaction.InvalidBookmark",I="Neo.ClientError.Transaction.InvalidBookmarkMixture",N="Neo.ClientError.Security.AuthorizationExpired",M="Neo.ClientError.Statement.ArgumentError",D="Neo.ClientError.Request.Invalid",L="Neo.ClientError.Statement.TypeError",F="N/A",U=null,B=(0,h.int)(3e4),z=function(e){function t(t){var n=t.id,r=t.address,i=t.routingContext,a=t.hostNameResolver,u=t.config,c=t.log,f=t.userAgent,d=t.boltAgent,y=t.authTokenManager,g=t.routingTablePurgeDelay,w=t.newPool,O=e.call(this,{id:n,config:u,log:c,userAgent:f,boltAgent:d,authTokenManager:y,newPool:w},function(e){return s(O,void 0,void 0,function(){var t,n;return l(this,function(r){switch(r.label){case 0:return t=b.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent(),this._routingContext,this._channelSsrCallback.bind(this)]))]}})})})||this;return O._routingContext=o(o({},i),{address:r.toString()}),O._seedRouter=r,O._rediscovery=new p.default(O._routingContext),O._loadBalancingStrategy=new m.LeastConnectedLoadBalancingStrategy(O._connectionPool),O._hostNameResolver=a,O._dnsResolver=new v.HostNameResolver,O._log=c,O._useSeedRouter=!0,O._routingTableRegistry=new V(g?(0,h.int)(g):B),O._refreshRoutingTable=_.functional.reuseOngoingRequest(O._refreshRoutingTable,O),O._withSSR=0,O._withoutSSR=0,O}return r(t,e),t.prototype._createConnectionErrorHandler=function(){return new b.ConnectionErrorHandler(O)},t.prototype._handleUnavailability=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,n||U),e},t.prototype._handleSecurityError=function(t,n,r,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(n," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,n,r,o)},t.prototype._handleWriteFailure=function(e,t,n){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,n||U),(0,h.newError)("No longer possible to write to server at "+t,O,e)},t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,n=t.accessMode,r=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,u=t.auth,c=t.homeDb;return s(this,void 0,void 0,function(){var e,t,s,f,d,h=this;return l(this,function(l){switch(l.label){case 0:return e={database:r||U},t=new b.ConnectionErrorHandler(O,function(t,n){return h._handleUnavailability(t,n,e.database)},function(t,n){return h._handleWriteFailure(t,n,null!=c?c:e.database)},function(t,n,r){return h._handleSecurityError(t,n,r,e.database)}),this.SSREnabled()&&void 0!==c&&""===r?!(f=this._routingTableRegistry.get(c,function(){return new p.RoutingTable({database:c})}))||f.isStaleFor(n)?[3,2]:[4,this.getConnectionFromRoutingTable(f,u,n,t)]:[3,2];case 1:if(s=l.sent(),this.SSREnabled())return[2,s];s.release(),l.label=2;case 2:return[4,this._freshRoutingTable({accessMode:n,database:e.database,bookmarks:o,impersonatedUser:i,auth:u,onDatabaseNameResolved:function(t){e.database=e.database||t,a&&a(t)}})];case 3:return d=l.sent(),[2,this.getConnectionFromRoutingTable(d,u,n,t)]}})})},t.prototype.getConnectionFromRoutingTable=function(e,t,n,r){return s(this,void 0,void 0,function(){var o,i,a,u;return l(this,function(s){switch(s.label){case 0:if(n===S)i=this._loadBalancingStrategy.selectReader(e.readers),o="read";else{if(n!==P)throw(0,h.newError)("Illegal mode "+n);i=this._loadBalancingStrategy.selectWriter(e.writers),o="write"}if(!i)throw(0,h.newError)("Failed to obtain connection towards ".concat(o," server. Known routing table is: ").concat(e),O);s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this._connectionPool.acquire({auth:t},i)];case 2:return a=s.sent(),t?[4,this._verifyStickyConnection({auth:t,connection:a,address:i})]:[3,4];case 3:return s.sent(),[2,a];case 4:return[2,new b.DelegateConnection(a,r)];case 5:throw u=s.sent(),r.handleAndTransformError(u,i);case 6:return[2]}})})},t.prototype._hasProtocolVersion=function(e){return s(this,void 0,void 0,function(){var t,n,r,o,i,a;return l(this,function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=u.sent(),r=0,u.label=2;case 2:if(!(r<t.length))return[3,8];u.label=3;case 3:return u.trys.push([3,6,,7]),[4,this._createChannelConnection(t[r])];case 4:return o=u.sent(),i=o.protocol()?o.protocol().version:null,[4,o.close()];case 5:return u.sent(),i?[2,e(i)]:[2,!1];case 6:return a=u.sent(),n=a,[3,7];case 7:return r++,[3,2];case 8:if(n)throw n;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=C})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=T})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=k})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=A})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,n){e._hasProtocolVersion(t).catch(n)})},t.prototype.verifyAuthentication=function(e){var t=e.database,n=e.accessMode,r=e.auth;return s(this,void 0,void 0,function(){var e=this;return l(this,function(o){return[2,this._verifyAuthentication({auth:r,getAddress:function(){return s(e,void 0,void 0,function(){var e,o,i;return l(this,function(a){switch(a.label){case 0:return e={database:t||U},[4,this._freshRoutingTable({accessMode:n,database:e.database,auth:r,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:if(o=a.sent(),0===(i=n===P?o.writers:o.readers).length)throw(0,h.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(n,"'"),w);return[2,i[0]]}})})}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(e){var t=e.database,n=e.accessMode;return s(this,void 0,void 0,function(){var e,r,o,i,a,u,s,f,d,p,v;return l(this,function(l){switch(l.label){case 0:return e={database:t||U},[4,this._freshRoutingTable({accessMode:n,database:e.database,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:r=l.sent(),o=n===P?r.writers:r.readers,i=(0,h.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(n,"'"),w),l.label=2;case 2:l.trys.push([2,9,10,11]),a=c(o),u=a.next(),l.label=3;case 3:if(u.done)return[3,8];s=u.value,l.label=4;case 4:return l.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:s})];case 5:return[2,l.sent()];case 6:return f=l.sent(),i=f,[3,7];case 7:return u=a.next(),[3,3];case 8:return[3,11];case 9:return d=l.sent(),p={error:d},[3,11];case 10:try{u&&!u.done&&(v=a.return)&&v.call(a)}finally{if(p)throw p.error}return[7];case 11:throw i}})})},t.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},t.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},t.prototype._freshRoutingTable=function(e){var t=void 0===e?{}:e,n=t.accessMode,r=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,u=t.auth,s=this._routingTableRegistry.get(r,function(){return new p.RoutingTable({database:r})});return s.isStaleFor(n)?(this._log.info('Routing table is stale for database: "'.concat(r,'" and access mode: "').concat(n,'": ').concat(s)),this._refreshRoutingTable(s,o,i,u).then(function(e){return a(e.database),e})):s},t.prototype._refreshRoutingTable=function(e,t,n,r){var o=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,e,t,n,r):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,e,t,n,r)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,t,n,r,o){return s(this,void 0,void 0,function(){var i,a,u,s,c,d,h;return l(this,function(l){switch(l.label){case 0:return i=[],[4,this._fetchRoutingTableUsingSeedRouter(i,this._seedRouter,t,n,r,o)];case 1:return a=f.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 3:c=f.apply(void 0,[l.sent(),2]),d=c[0],h=c[1],u=d,s=h||s,l.label=4;case 4:return[4,this._applyRoutingTableIfPossible(t,u,s)];case 5:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,t,n,r,o){return s(this,void 0,void 0,function(){var i,a,u,s;return l(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,n,r,o)];case 1:return i=f.apply(void 0,[l.sent(),2]),a=i[0],u=i[1],a?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,t,n,r,o)];case 2:s=f.apply(void 0,[l.sent(),2]),a=s[0],u=s[1],l.label=3;case 3:return[4,this._applyRoutingTableIfPossible(t,a,u)];case 4:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,n,r,o,i){return s(this,void 0,void 0,function(){var a,u,s,c;return l(this,function(l){switch(l.label){case 0:return[4,this._fetchRoutingTable(e,n,r,o,i)];case 1:return a=f.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?[2,[u,null]]:(c=e.length-1,t._forgetRouter(n,e,c),[2,[null,s]])}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,t,n,r,o,i){return s(this,void 0,void 0,function(){var a,u;return l(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(t)];case 1:return a=s.sent(),u=a.filter(function(t){return e.indexOf(t)<0}),[4,this._fetchRoutingTable(u,n,r,o,i)];case 2:return[2,s.sent()]}})})},t.prototype._resolveSeedRouter=function(e){return s(this,void 0,void 0,function(){var t,n,r=this;return l(this,function(o){switch(o.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return t=o.sent(),[4,Promise.all(t.map(function(e){return r._dnsResolver.resolve(e)}))];case 2:return n=o.sent(),[2,[].concat.apply([],n)]}})})},t.prototype._fetchRoutingTable=function(e,n,r,o,i){return s(this,void 0,void 0,function(){var a=this;return l(this,function(u){return[2,e.reduce(function(u,c,d){return s(a,void 0,void 0,function(){var a,s,h,p,v,y,g;return l(this,function(l){switch(l.label){case 0:return[4,u];case 1:return a=f.apply(void 0,[l.sent(),1]),(s=a[0])?[2,[s,null]]:(h=d-1,t._forgetRouter(n,e,h),[4,this._createSessionForRediscovery(c,r,o,i)]);case 2:if(p=f.apply(void 0,[l.sent(),2]),v=p[0],y=p[1],!v)return[3,8];l.label=3;case 3:return l.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(v,n.database,c,o)];case 4:return[2,[l.sent(),null]];case 5:return g=l.sent(),[2,this._handleRediscoveryError(g,c)];case 6:return v.close(),[7];case 7:return[3,9];case 8:return[2,[null,y]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},t.prototype._createSessionForRediscovery=function(e,t,n,r){return s(this,void 0,void 0,function(){var o,i,a,u,s,c=this;return l(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:r},e)];case 1:return o=l.sent(),r?[4,this._verifyStickyConnection({auth:r,connection:o,address:e})]:[3,3];case 2:l.sent(),l.label=3;case 3:return i=b.ConnectionErrorHandler.create({errorCode:O,handleSecurityError:function(e,t,n){return c._handleSecurityError(e,t,n)}}),a=o._sticky?new b.DelegateConnection(o):new b.DelegateConnection(o,i),u=new y.default(a),o.protocol().version<4?[2,[new h.Session({mode:P,bookmarks:E.empty(),connectionProvider:u}),null]]:[2,[new h.Session({mode:S,database:"system",bookmarks:t,connectionProvider:u,impersonatedUser:n}),null]];case 4:return s=l.sent(),[2,this._handleRediscoveryError(s,e)];case 5:return[2]}})})},t.prototype._handleRediscoveryError=function(e,t){if(function(e){return[j,R,I,M,D,L,F].includes(e.code)}(e)||function(e){return e.code.startsWith("Neo.ClientError.Security.")&&![N].includes(e.code)}(e))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,h.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),w,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},t.prototype._applyRoutingTableIfPossible=function(e,t,n){return s(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:if(!t)throw(0,h.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),w,n);return 0===t.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(t)];case 1:return r.sent(),[2,t]}})})},t.prototype._updateRoutingTable=function(e){return s(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),this._log.info("Updated routing table ".concat(e)),[2]}})})},t._forgetRouter=function(e,t,n){var r=t[n];e&&r&&e.forgetRouter(r)},t.prototype._channelSsrCallback=function(e,t){if("OPEN"===t)!0===e?this._withSSR=this._withSSR+1:this._withoutSSR=this._withoutSSR+1;else{if("CLOSE"!==t)throw(0,h.newError)("Channel SSR Callback invoked with action other than 'OPEN' or 'CLOSE'");!0===e?this._withSSR=this._withSSR-1:this._withoutSSR=this._withoutSSR-1}},t.prototype.SSREnabled=function(){return this._withSSR>0&&0===this._withoutSSR},t}(g.default);t.default=z;var V=function(){function e(e){this._tables=new Map,this._routingTablePurgeDelay=e}return e.prototype.register=function(e){return this._tables.set(e.database,e),this},e.prototype.apply=function(e,t){var n=void 0===t?{}:t,r=n.applyWhenExists,o=n.applyWhenDontExists,i=void 0===o?function(){}:o;return this._tables.has(e)?r(this._tables.get(e)):"string"==typeof e||null===e?i():this._forEach(r),this},e.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"==typeof t?t():t},e.prototype.removeExpired=function(){var e=this;return this._removeIf(function(t){return t.isExpiredFor(e._routingTablePurgeDelay)})},e.prototype._forEach=function(e){var t,n;try{for(var r=c(this._tables),o=r.next();!o.done;o=r.next())e(f(o.value,2)[1])}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype._remove=function(e){return this._tables.delete(e),this},e.prototype._removeIf=function(e){var t,n;try{for(var r=c(this._tables),o=r.next();!o.done;o=r.next()){var i=f(o.value,2),a=i[0];e(i[1])&&this._remove(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e}()},7441:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=n(7800),o=n(7843),i=n(3111);t.dematerialize=function(){return o.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(e){return r.observeNotification(e,t)}))})}},7449:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7168),u=n(9305),s=i(n(7518)),l=i(n(5045));t.default=r(r(r({},s.default),l.default),{createNodeTransformer:function(e){return s.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Node",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new u.Node(n,r,i,s)}})},createRelationshipTransformer:function(e){return s.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Relationship",8,e.size);var t=o(e.fields,8),n=t[0],r=t[1],i=t[2],s=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return new u.Relationship(n,r,i,s,l,c,f,d)}})},createUnboundRelationshipTransformer:function(e){return s.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("UnboundRelationship",4,e.size);var t=o(e.fields,4),n=t[0],r=t[1],i=t[2],s=t[3];return new u.UnboundRelationship(n,r,i,s)}})}})},7452:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.alloc=t.ChannelConfig=void 0,o(n(3951),t),o(n(373),t);var a=n(2481);Object.defineProperty(t,"ChannelConfig",{enumerable:!0,get:function(){return i(a).default}});var u=n(5319);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return u.alloc}});var s=n(3473);Object.defineProperty(t,"utf8",{enumerable:!0,get:function(){return i(s).default}})},7479:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}},7509:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAddress=void 0;var a=n(6587),u=i(n(407)),s=function(){function e(e,t,n,r){this._host=(0,a.assertString)(e,"host"),this._resolved=null!=t?(0,a.assertString)(t,"resolved"):null,this._port=(0,a.assertNumber)(n,"port"),this._hostPort=r,this._stringValue=null!=t?"".concat(r,"(").concat(t,")"):"".concat(r)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var n=u.parseDatabaseUrl(t);return new e(n.host,null,n.port,n.hostAndPort)},e}();t.ServerAddress=s},7518:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7331));t.default=r({},i.default)},7521:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2066));t.default=r({},i.default)},7561:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=n(7843),o=n(3111);t.refCount=function(){return r.operate(function(e,t){var n=null;e._refCount++;var r=o.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}});e.subscribe(r),r.closed||(n=e.connect())})}},7579:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var r=n(2483),o=n(4662),i=n(9353),a={connector:function(){return new r.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var n=null,r=t.connector,u=t.resetOnDisconnect,s=void 0===u||u,l=r(),c=new o.Observable(function(e){return l.subscribe(e)});return c.connect=function(){return n&&!n.closed||(n=i.defer(function(){return e}).subscribe(l),s&&n.add(function(){return l=r()})),n},c}},7589:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=void 0;var n=100;t.DEFAULT_MAX_SIZE=n;var r=6e4;t.DEFAULT_ACQUISITION_TIMEOUT=r;var o=function(){function e(e,t){this.maxSize=i(e,n),this.acquisitionTimeout=i(t,r)}return e.defaultConfig=function(){return new e(n,r)},e.fromDriverConfig=function(t){return new e(a(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:n,a(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:r)},e}();function i(e,t){return a(e)?e:t}function a(e){return 0===e||null!=e}t.default=o},7601:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=n(7843),a=n(8158),u=n(1107),s=n(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u.popScheduler(e);return i.operate(function(t,i){a.concatAll()(s.from(o([t],r(e)),n)).subscribe(i)})}},7610:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var o=n(6640),i=n(8613),a=n(9353),u=n(8808);t.generate=function(e,t,n,s,l){var c,f,d,h;function p(){var e;return r(this,function(r){switch(r.label){case 0:e=h,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,d(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}})}return 1===arguments.length?(h=(c=e).initialState,t=c.condition,n=c.iterate,f=c.resultSelector,d=void 0===f?o.identity:f,l=c.scheduler):(h=e,!s||i.isScheduler(s)?(d=o.identity,l=s):d=s),a.defer(l?function(){return u.scheduleIterable(p(),l)}:p)}},7614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},7629:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=n(1018);t.isPromise=function(e){return r.isFunction(null==e?void 0:e.then)}},7640:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=n(7961),o=n(8941),i=n(4092);t.throttleTime=function(e,t,n){void 0===t&&(t=r.asyncScheduler);var a=i.timer(e,t);return o.throttle(function(){return a},n)}},7661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=n(7843),o=n(1983);t.expand=function(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,r.operate(function(r,i){return o.mergeInternals(r,i,e,t,void 0,!0,n)})}},7665:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyStructSize=t.Structure=void 0;var r=n(9305),o=r.error.PROTOCOL_ERROR,i=function(){function e(e,t){this.signature=e,this.fields=t}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},e}();t.Structure=i,t.verifyStructSize=function(e,t,n){if(t!==n)throw(0,r.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(n),o)},t.default=i},7666:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawRoutingTable=t.BoltProtocol=void 0;var a=i(n(8731)),u=i(n(6544)),s=i(n(9054)),l=i(n(7790));o(n(9014),t),t.BoltProtocol=s.default,t.RawRoutingTable=l.default,t.default={handshake:a.default,create:u.default}},7714:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=n(7843),o=n(3111);function i(e,t,n){var r="index"===n;return function(n,i){var a=0;n.subscribe(o.createOperatorSubscriber(i,function(o){var u=a++;e.call(t,o,u,n)&&(i.next(r?u:o),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}t.find=function(e,t){return r.operate(i(e,t,"value"))},t.createFind=i},7721:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=t.ConnectionErrorHandler=t.DelegateConnection=t.ChannelConnection=t.Connection=void 0;var u=a(n(6385));t.Connection=u.default;var s=i(n(8031));t.ChannelConnection=s.default,Object.defineProperty(t,"createChannelConnection",{enumerable:!0,get:function(){return s.createChannelConnection}});var l=a(n(9857));t.DelegateConnection=l.default;var c=a(n(2363));t.ConnectionErrorHandler=c.default,t.default=u.default},7740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var r=n(4917);t.pairs=function(e,t){return r.from(Object.entries(e),t)}},7790:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9305));var i=function(){function e(){}return e.ofRecord=function(t){return null===t?e.ofNull():new s(t)},e.ofMessageResponse=function(t){return null===t?e.ofNull():new a(t)},e.ofNull=function(){return new u},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();t.default=i;var a=function(e){function t(t){var n=e.call(this)||this;return n._response=t,n}return r(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),t}(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(i),s=function(e){function t(t){var n=e.call(this)||this;return n._record=t,n}return r(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),t}(i)},7800:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r,o=n(8616),i=n(1004),a=n(1103),u=n(1018);(r=t.NotificationKind||(t.NotificationKind={})).NEXT="N",r.ERROR="E",r.COMPLETE="C";var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return l(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,a=r.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(a):null==n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return u.isFunction(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,u="N"===t?i.of(n):"E"===t?a.throwError(function(){return r}):"C"===t?o.EMPTY:0;if(!u)throw new TypeError("Unexpected notification kind "+t);return u},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function l(e,t){var n,r,o,i=e,a=i.kind,u=i.value,s=i.error;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(n=t.next)||void 0===n||n.call(t,u):"E"===a?null===(r=t.error)||void 0===r||r.call(t,s):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=s,t.observeNotification=l},7815:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=n(4662),o=n(9445),i=n(2483),a=n(7843),u=n(3111);t.groupBy=function(e,t,n,s){return a.operate(function(a,l){var c;t&&"function"!=typeof t?(n=t.duration,c=t.element,s=t.connector):c=t;var f=new Map,d=function(e){f.forEach(e),e(l)},h=function(e){return d(function(t){return t.error(e)})},p=0,v=!1,y=new u.OperatorSubscriber(l,function(t){try{var a=e(t),d=f.get(a);if(!d){f.set(a,d=s?s():new i.Subject);var g=(b=a,_=d,(w=new r.Observable(function(e){p++;var t=_.subscribe(e);return function(){t.unsubscribe(),0===--p&&v&&y.unsubscribe()}})).key=b,w);if(l.next(g),n){var m=u.createOperatorSubscriber(d,function(){d.complete(),null==m||m.unsubscribe()},void 0,void 0,function(){return f.delete(a)});y.add(o.innerFrom(n(g)).subscribe(m))}}d.next(c?c(t):t)}catch(e){h(e)}var b,_,w},function(){return d(function(e){return e.complete()})},h,function(){return f.clear()},function(){return v=!0,0===p});a.subscribe(y)})}},7835:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=n(7843),o=n(3111),i=n(6640),a=n(4092),u=n(9445);t.retry=function(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"==typeof e?e:{count:e}).count,s=void 0===n?1/0:n,l=t.delay,c=t.resetOnSuccess,f=void 0!==c&&c;return s<=0?i.identity:r.operate(function(e,t){var n,r=0,i=function(){var c=!1;n=e.subscribe(o.createOperatorSubscriber(t,function(e){f&&(r=0),t.next(e)},void 0,function(e){if(r++<s){var f=function(){n?(n.unsubscribe(),n=null,i()):c=!0};if(null!=l){var d="number"==typeof l?a.timer(l):u.innerFrom(l(e,r)),h=o.createOperatorSubscriber(t,function(){h.unsubscribe(),f()},function(){t.complete()});d.subscribe(h)}else f()}else t.error(e)})),c&&(n.unsubscribe(),n=null,i())};i()})}},7843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=n(1018);function o(e){return r.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var r=n(4662),o=n(9445),i=n(8616);t.using=function(e,t){return new r.Observable(function(n){var r=e(),a=t(r);return(a?o.innerFrom(a):i.EMPTY).subscribe(n),function(){r&&r.unsubscribe()}})}},7857:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE=t.READ=t.Driver=void 0;var i=n(9305),a=o(n(3466)),u=i.internal.constants.FETCH_ALL,s=i.driver.READ,l=i.driver.WRITE;t.READ=s,t.WRITE=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.rxSession=function(e){var t=void 0===e?{}:e,n=t.defaultAccessMode,r=void 0===n?l:n,o=t.bookmarks,i=t.database,u=void 0===i?"":i,s=t.fetchSize,c=t.impersonatedUser,d=t.bookmarkManager,h=t.notificationFilter,p=t.auth;return new a.default({session:this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:u,impersonatedUser:c,auth:p,reactive:!1,fetchSize:f(s,this._config.fetchSize),bookmarkManager:d,notificationFilter:h,log:this._log}),config:this._config,log:this._log})},t}(i.Driver);function f(e,t){var n=parseInt(e,10);if(n>0||n===u)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(n));return t}t.Driver=c,t.default=c},7961:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=n(5267),o=n(5648);t.asyncScheduler=new o.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler},7991:(e,t)=>{t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,u=0,s=r-o;u<s;u+=a)i.push(l(e,u,u+a>s?s:u+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s(r));return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8014:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=n(1018),u=n(5788),s=n(7479),l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,s,l;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=r(f),h=d.next();!h.done;h=d.next())h.value.remove(this)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var p=this.initialTeardown;if(a.isFunction(p))try{p()}catch(e){l=e instanceof u.UnsubscriptionError?e.errors:[e]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=r(v),g=y.next();!g.done;g=y.next()){var m=g.value;try{c(m)}catch(e){l=null!=l?l:[],e instanceof u.UnsubscriptionError?l=i(i([],o(l)),o(e.errors)):l.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(n)throw n.error}}}if(l)throw new u.UnsubscriptionError(l)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s.arrRemove(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&s.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=l,t.EMPTY_SUBSCRIPTION=l.EMPTY,t.isSubscription=function(e){return e instanceof l||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},8015:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.buffer=function(e){return r.operate(function(t,n){var r=[];return t.subscribe(i.createOperatorSubscriber(n,function(e){return r.push(e)},function(){n.next(r),n.complete()})),a.innerFrom(e).subscribe(i.createOperatorSubscriber(n,function(){var e=r;r=[],n.next(e)},o.noop)),function(){r=null}})}},8031:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=void 0;var u=n(7452),s=n(9305),l=a(n(6385)),c=a(n(7666)),f=s.error.PROTOCOL_ERROR,d=s.internal.logger.Logger,h=0;t.createChannelConnection=function(e,t,n,r,o,i,a,s){void 0===i&&(i=null),void 0===s&&(s=function(e){return new u.Channel(e)});var l=s(new u.ChannelConfig(e,t,n.errorCode(),o));return c.default.handshake(l,r).then(function(o){var s=o.protocolVersion,f=o.consumeRemainingBuffer,d=new u.Chunker(l),h=new u.Dechunker,v=new p(l,n,e,r,t.disableLosslessIntegers,i,d,t.notificationFilter,function(e){return c.default.create({version:s,channel:l,chunker:d,dechunker:h,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:i,server:e.server,log:e.logger,observer:{onObserversCountChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})},t.telemetryDisabled,a);return f(function(e){return h.write(e)}),v}).catch(function(e){return l.close().then(function(){throw e})})};var p=function(e){function t(t,n,r,o,i,a,u,s,l,c,f){void 0===i&&(i=!1),void 0===a&&(a=null),void 0===f&&(f=function(e){});var p,v,y=e.call(this,n)||this;return y._authToken=null,y._idle=!1,y._reseting=!1,y._resetObservers=[],y._id=h++,y._address=r,y._server={address:r.asHostPort()},y._creationTimestamp=Date.now(),y._disableLosslessIntegers=i,y._ch=t,y._chunker=u,y._log=(p=y,new d((v=o)._level,function(e,t){return v._loggerFunction(e,"".concat(p," ").concat(t))})),y._serversideRouting=a,y._notificationFilter=s,y._telemetryDisabledDriverConfig=!0===c,y._telemetryDisabledConnection=!0,y._ssrCallback=f,y._dbConnectionId=null,y._protocol=l(y),y._isBroken=!1,y._log.isDebugEnabled()&&y._log.debug("created towards ".concat(r)),y}return r(t,e),t.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._sendTelemetryIfEnabled(n),this._protocol.run(e,t,n)},t.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},t.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,n,r){return o(this,void 0,void 0,function(){var o=this;return i(this,function(i){switch(i.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,s.newError)("Connection does not support re-auth");return this._authToken=n,this._protocol.initialized?[3,2]:[4,this._initialize(e,t,n)];case 1:case 3:return[2,i.sent()];case 2:return r?[4,new Promise(function(e,t){o._protocol.logoff({onError:t}),o._protocol.logon({authToken:n,onError:t,onComplete:function(){return e(o)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:n,flush:!0}),[2,this]}})})},t.prototype._initialize=function(e,t,n){var r=this,o=this;return new Promise(function(i,a){r._protocol.initialize({userAgent:e,boltAgent:t,authToken:n,notificationFilter:r._notificationFilter,onError:function(e){return a(e)},onComplete:function(e){var t;if(e){var n=e.server;r.version&&!n||(r.version=n);var a=e.connection_id;if(r.databaseId||(r.databaseId=a),e.hints){var u=e.hints["connection.recv_timeout_seconds"];if(null!=u){var l=(0,s.toNumber)(u);Number.isInteger(l)&&l>0?r._ch.setupReceiveTimeout(1e3*l):r._log.info("Server located at ".concat(r._address," supplied an invalid connection receive timeout value (").concat(l,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}!0===e.hints["telemetry.enabled"]&&(r._telemetryDisabledConnection=!1),r.SSREnabledHint=e.hints["ssr.enabled"]}r._ssrCallback(null!==(t=r.SSREnabledHint)&&void 0!==t&&t,"OPEN")}i(o)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(s.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise(function(t,n){e._reset({onError:function(t){if(e._isBroken)n(t);else{var r=e._handleProtocolError("Received FAILURE as a response for RESET: ".concat(t));n(r)}},onComplete:function(){t()}})})},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._reset=function(e){var t=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(t){e.onError(t)},onComplete:function(){e.onComplete()}});else{this._resetObservers.push(e),this._reseting=!0;var n=function(e){t._reseting=!1;var n=t._resetObservers;t._resetObservers=[],n.forEach(e)};this._protocol.reset({onError:function(e){n(function(t){return t.onError(e)})},onComplete:function(){n(function(e){return e.onComplete()})}})}},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},t.prototype.close=function(){var e;return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._ssrCallback(null!==(e=this.SSREnabledHint)&&void 0!==e&&e,"CLOSE"),this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return t.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var t=(0,s.newError)(e,f);return this._handleFatalError(t),t},t}(l.default);t.default=p},8046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},8079:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=n(7961),o=n(7843),i=n(3111);t.debounceTime=function(e,t){return void 0===t&&(t=r.asyncScheduler),o.operate(function(n,r){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var e=a;a=null,r.next(e)}};function l(){var n=u+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);s()}n.subscribe(i.createOperatorSubscriber(r,function(n){a=n,u=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){s(),r.complete()},void 0,function(){a=o=null}))})}},8118:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=n(9445),o=n(3111),i=n(7843);t.catchError=function e(t){return i.operate(function(n,i){var a,u=null,s=!1;u=n.subscribe(o.createOperatorSubscriber(i,void 0,void 0,function(o){a=r.innerFrom(t(o,e(t)(n))),u?(u.unsubscribe(),u=null,a.subscribe(i)):s=!0})),s&&(u.unsubscribe(),u=null,a.subscribe(i))})}},8157:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=n(1242),o=n(9247),i=n(1018);t.publishReplay=function(e,t,n,a){n&&!i.isFunction(n)&&(a=n);var u=i.isFunction(n)?n:void 0;return function(n){return o.multicast(new r.ReplaySubject(e,t,a),u)(n)}}},8158:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=n(7302);t.concatAll=function(){return r.mergeAll(1)}},8208:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=n(2483),o=n(7961),i=n(8014),a=n(7843),u=n(3111),s=n(7479),l=n(1107),c=n(7110);t.windowTime=function(e){for(var t,n,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=l.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,p=null!==(n=f[0])&&void 0!==n?n:null,v=f[1]||1/0;return a.operate(function(t,n){var o=[],a=!1,l=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),s.arrRemove(o,e),a&&f()},f=function(){if(o){var t=new i.Subscription;n.add(t);var a=new r.Subject,u={window:a,subs:t,seen:0};o.push(u),n.next(a.asObservable()),c.executeSchedule(t,h,function(){return l(u)},e)}};null!==p&&p>=0?c.executeSchedule(n,h,f,p,!0):a=!0,f();var d=function(e){return o.slice().forEach(e)},y=function(e){d(function(t){var n=t.window;return e(n)}),e(n),n.unsubscribe()};return t.subscribe(u.createOperatorSubscriber(n,function(e){d(function(t){t.window.next(e),v<=++t.seen&&l(t)})},function(){return y(function(e){return e.complete()})},function(e){return y(function(t){return t.error(e)})})),function(){o=null}})}},8239:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=n(2551);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],r(e)))}},8253:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=n(361);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],r(e)))}},8264:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveCertificateProvider=t.clientCertificateProviders=t.RotatingClientCertificateProvider=t.ClientCertificateProvider=void 0;var s=u(n(4027));t.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var l=function(){function e(){}return e.prototype.hasUpdate=function(){throw new Error("Not Implemented")},e.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},e}();t.ClientCertificateProvider=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.updateCertificate=function(e){throw new Error("Not implemented")},t}(l);t.RotatingClientCertificateProvider=c;var f=new(function(){function e(){}return e.prototype.rotating=function(e){var t=e.initialCertificate;if(null==t||!d(t))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(s.stringify(t)));var n=o({},t);return new y(n)},e}());function d(e){return null!=e&&"object"==typeof e&&"certfile"in e&&(h(t=e.certfile)||p(t,h))&&"keyfile"in e&&function(e){function t(e){return"string"==typeof e||null!=e&&"object"==typeof e&&"path"in e&&"string"==typeof e.path&&v("password",e)}return t(e)||p(e,t)}(e.keyfile)&&v("password",e);var t}function h(e){return"string"==typeof e}function p(e,t,n){return void 0===n&&(n=!1),Array.isArray(e)&&(n||e.length>0)&&e.filter(t).length===e.length}function v(e,t){return!(e in t)||null==t[e]||"string"==typeof t[e]}t.clientCertificateProviders=f,Object.freeze(f),t.resolveCertificateProvider=function(e){if(null!=e){if("object"==typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"==typeof e.getClientCertificate&&"function"==typeof e.hasUpdate)return e;if(d(e)){var t=o({},e);return{getClientCertificate:function(){return t},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(s.stringify(e)))}};var y=function(){function e(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}return e.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},e.prototype.getClientCertificate=function(){return this._certificate},e.prototype.updateCertificate=function(e){if(!d(e))throw new TypeError("certificate should be ClientCertificate, but got ".concat(s.stringify(e)));this._certificate=o({},e),this._updated=!0},e}()},8275:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=n(2823),o=n(783),i=n(846),a=n(378),u=n(4869),s=n(6640);t.first=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):s.identity,i.take(1),n?a.defaultIfEmpty(t):u.throwIfEmpty(function(){return new r.EmptyError}))}}},8320:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(397),l=(n(7452),n(7168)),c=a(n(7021)),f=n(9014),d=n(9305),h=u(n(6661)),p=u(n(3321)),v=d.internal.bookmarks.Bookmarks,y=d.internal.constants,g=y.ACCESS_MODE_WRITE,m=y.BOLT_PROTOCOL_V1,b=(d.internal.logger.Logger,d.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(){function e(e,t,n,r,o,i){var a=void 0===n?{}:n,u=a.disableLosslessIntegers,s=a.useBigInt;void 0===r&&(r=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(u,s),this._responseHandler=r(this),this._log=o,this._onProtocolError=i,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:u,useBigInt:s}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(h.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},e.prototype.transformMetadata=function(e){return e},e.prototype.enrichErrorMetadata=function(e){return r(r({},e),{diagnostic_record:null!==e.diagnostic_record?r(r({},_),e.diagnostic_record):null})},e.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,u=n.onComplete,l=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,u)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,l),this.write(c.default.init(r,o),l,!0),l},e.prototype.logoff=function(e){var t=void 0===e?{}:e,n=t.onComplete,r=t.onError,o=(t.flush,new f.LogoffObserver({onCompleted:n,onError:r})),i=(0,d.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(i.message),o.onError(i),i},e.prototype.logon=function(e){var t=this,n=void 0===e?{}:e,r=n.authToken,o=n.onComplete,i=n.onError,a=(n.flush,new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},r,o)},onError:function(e){return t._onLoginError(e,i)}})),u=(0,d.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(u.message),a.onError(u),u},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,n=t.bookmarks,r=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,l=t.afterError,c=t.beforeComplete,f=t.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmarks:n,txConfig:r,database:o,mode:i,impersonatedUser:a,notificationFilter:u,beforeError:s,afterError:l,beforeComplete:c,afterComplete:f,flush:!1})},e.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("COMMIT",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:g,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,n=t.beforeError,r=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("ROLLBACK",{},{bookmarks:v.empty(),txConfig:b.empty(),mode:g,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},e.prototype.run=function(e,t,n){var r=void 0===n?{}:n,o=(r.bookmarks,r.txConfig),i=r.database,a=(r.mode,r.impersonatedUser),u=r.notificationFilter,l=r.beforeKeys,d=r.afterKeys,h=r.beforeError,p=r.afterError,v=r.beforeComplete,y=r.afterComplete,g=r.flush,m=void 0===g||g,b=r.highRecordWatermark,_=void 0===b?Number.MAX_VALUE:b,w=r.lowRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=new f.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:d,beforeError:h,afterError:p,beforeComplete:v,afterComplete:y,highRecordWatermark:_,lowRecordWatermark:O});return(0,s.assertTxConfigIsEmpty)(o,this._onProtocolError,E),(0,s.assertDatabaseIsEmpty)(i,this._onProtocolError,E),(0,s.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,E),(0,s.assertNotificationFilterIsEmpty)(u,this._onProtocolError,E),this.write(c.default.run(e,t),E,!1),this.write(c.default.pullAll(),E,m),E},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){var t=void 0===e?{}:e,n=t.onError,r=t.onComplete,o=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:r});return this.write(c.default.reset(),o,!0),o},e.prototype.telemetry=function(e,t){e.api;var n=void 0===t?{}:t,r=(n.onError,n.onCompleted),o=new f.CompletedObserver;return r&&r(),o},e.prototype._createPacker=function(e){return new l.v1.Packer(e)},e.prototype._createUnpacker=function(e,t){return new l.v1.Unpacker(e,t)},e.prototype.write=function(e,t,n){if(this.queueObserverIfProtocolIsNotBroken(t)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._lastMessageSignature=e.signature;var r=new l.structure.Structure(e.signature,e.fields);this.packable(r)(),this._chunker.messageBoundary(),n&&this._chunker.flush()}},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},e.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(e,t,n){if(this._initialized=!0,this._authToken=t,e){var r=e.server;this._server.version||(this._server.version=r)}n&&n(e)},e.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},e}();t.default=w},8330:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=n(8616),i=n(7843),a=n(3111);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate(function(t,n){var o=[];t.subscribe(a.createOperatorSubscriber(n,function(t){o.push(t),e<o.length&&o.shift()},function(){var e,t;try{for(var i=r(o),a=i.next();!a.done;a=i.next()){var u=a.value;n.next(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()},void 0,function(){o=null}))})}},8341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(7509);function o(e){return Promise.resolve([e])}var i=function(){function e(e){this._resolverFunction=null!=e?e:o}return e.prototype.resolve=function(e){var t=this;return new Promise(function(n){return n(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return r.ServerAddress.fromUrl(e)})})},e}();t.default=i},8522:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=n(8616),o=n(7843),i=n(3111),a=n(9445),u=n(4092);t.repeat=function(e){var t,n,s=1/0;return null!=e&&("object"==typeof e?(t=e.count,s=void 0===t?1/0:t,n=e.delay):s=e),s<=0?function(){return r.EMPTY}:o.operate(function(e,t){var r,o=0,l=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?u.timer(n):a.innerFrom(n(o)),s=i.createOperatorSubscriber(t,function(){s.unsubscribe(),c()});e.subscribe(s)}else c()},c=function(){var n=!1;r=e.subscribe(i.createOperatorSubscriber(t,void 0,function(){++o<s?r?l():n=!0:t.complete()})),n&&l()};c()})}},8535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var n=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}},8538:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=n(5918);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],r(e)))}},8561:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var r=n(1439);t.bindNodeCallback=function(e,t,n){return r.bindCallbackInternals(!0,e,t,n)}},8613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=n(1018);t.isScheduler=function(e){return e&&r.isFunction(e.schedule)}},8616:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=n(4662);t.EMPTY=new r.Observable(function(e){return e.complete()}),t.empty=function(e){return e?function(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):t.EMPTY}},8624:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=n(7843),o=n(6384);t.scan=function(e,t){return r.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},8655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var r=n(4662),o=n(1342);t.NEVER=new r.Observable(o.noop),t.never=function(){return t.NEVER}},8669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=n(2823),o=n(783),i=n(8330),a=n(4869),u=n(378),s=n(6640);t.last=function(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?o.filter(function(t,n){return e(t,n,l)}):s.identity,i.takeLast(1),n?u.defaultIfEmpty(t):a.throwIfEmpty(function(){return new r.EmptyError}))}}},8712:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=n(3879),o=n(7843);t.switchScan=function(e,t){return o.operate(function(n,o){var i=t;return r.switchMap(function(t,n){return e(i,t,n)},function(e,t){return i=t,t})(n).subscribe(o),function(){i=null}})}},8731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(7452),o=n(9305),i=["5.8","5.7","5.6","5.4","5.3","5.2","5.1","5.0","4.4","4.3","4.2","3.0"];function a(e,t){return{major:e,minor:t}}function u(e){for(var t=[],n=e[3],r=e[2],o=0;o<=e[1];o++)t.push({major:n,minor:r-o});return t}t.default=function(e,t){return function(e,t){var n=this;return new Promise(function(i,u){var s=function(e){u(e)};e.onerror=s.bind(n),e._error&&s(e._error),e.onmessage=function(e){try{var n=function(e,t){var n=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(72===n[0]&&84===n[1]&&84===n[2]&&80===n[3])throw t.error("Handshake failed since server responded with HTTP."),(0,o.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(n[3]+"."+n[2])}(e,t);i({protocolVersion:n,capabilites:0,buffer:e,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(e){u(e)}},e.write(function(e){if(e.length>4)throw(0,o.newError)("It should not have more than 4 versions of the protocol");var t=(0,r.alloc)(20);return t.writeInt32(1616949271),e.forEach(function(e){if(e instanceof Array){var n=e[0],r=n.major,o=(i=n.minor)-e[1].minor;t.writeInt32(o<<16|i<<8|r)}else{r=e.major;var i=e.minor;t.writeInt32(i<<8|r)}}),t.reset(),t}([a(255,1),[a(5,8),a(5,0)],[a(4,4),a(4,2)],a(3,0)]))})}(e,t).then(function(t){return 255.1===t.protocolVersion?function(e,t){for(var n=t.readVarInt(),o=[],a=0;a<n;a++){var s=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()];o=o.concat(u(s))}t.readVarInt();var l=0,c=0;for(o.sort(function(e,t){return Number(e.major)!==Number(t.major)?Number(t.major)-Number(e.major):Number(t.minor)-Number(e.minor)}),a=0;a<o.length;a++){var f=o[a];if(i.includes(f.major+"."+f.minor)){l=f.major,c=f.minor;break}}return new Promise(function(n,o){try{var i=(0,r.alloc)(5);i.writeInt32(c<<8|l),i.writeVarInt(0),e.write(i),n({protocolVersion:Number(l+"."+c),capabilites:0,consumeRemainingBuffer:function(e){t.hasRemaining()&&e(t.readSlice(t.remaining()))}})}catch(e){o(e)}})}(e,t.buffer):t})}},8766:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=n(3865),o=n(846),i=n(490),a=n(3218),u=n(983),s=n(9445);t.delayWhen=function e(t,n){return n?function(a){return r.concat(n.pipe(o.take(1),i.ignoreElements()),a.pipe(e(t)))}:u.mergeMap(function(e,n){return s.innerFrom(t(e,n)).pipe(o.take(1),a.mapTo(e))})}},8774:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=n(3879),o=n(6640);t.switchAll=function(){return r.switchMap(o.identity)}},8784:(e,t,n)=>{var r=n(4704);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},8808:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=n(4662),o=n(1964),i=n(1018),a=n(7110);t.scheduleIterable=function(e,t){return new r.Observable(function(n){var r;return a.executeSchedule(n,t,function(){r=e[o.iterator](),a.executeSchedule(n,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)},0,!0)}),function(){return i.isFunction(null==r?void 0:r.return)&&r.return()}})}},8813:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var i=n(4662);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return i.Observable}});var a=n(8918);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var u=n(3327);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return u.observable}});var s=n(3110);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var l=n(2483);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=n(1637);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=n(1242);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=n(95);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var h=n(3692);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var p=n(7961);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var v=n(2886);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var y=n(3862);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return y.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return y.animationFrameScheduler}});var g=n(182);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return g.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return g.VirtualAction}});var m=n(8986);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var b=n(8014);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return b.Subscription}});var _=n(5);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=n(7800);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var O=n(2706);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return O.pipe}});var E=n(1342);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return E.noop}});var x=n(6640);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return x.identity}});var S=n(1751);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var P=n(6894);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var T=n(9060);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return T.firstValueFrom}});var C=n(7057);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return C.ArgumentOutOfRangeError}});var k=n(2823);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var A=n(1759);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var j=n(9686);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return j.ObjectUnsubscribedError}});var R=n(1505);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var I=n(1554);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return I.TimeoutError}});var N=n(5788);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return N.UnsubscriptionError}});var M=n(2713);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return M.bindCallback}});var D=n(8561);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return D.bindNodeCallback}});var L=n(3247);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var F=n(3865);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return F.concat}});var U=n(7579);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return U.connectable}});var B=n(9353);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return B.defer}});var z=n(8616);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return z.empty}});var V=n(9105);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var W=n(4917);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var H=n(5337);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return H.fromEvent}});var q=n(347);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return q.fromEventPattern}});var G=n(7610);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return G.generate}});var Y=n(4209);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return Y.iif}});var X=n(6472);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return X.interval}});var K=n(2833);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return K.merge}});var Z=n(8655);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return Z.never}});var $=n(1004);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return $.of}});var Q=n(6102);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return Q.onErrorResumeNext}});var J=n(7740);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return J.pairs}});var ee=n(1699);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var te=n(5584);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return te.race}});var ne=n(9376);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return ne.range}});var re=n(1103);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return re.throwError}});var oe=n(4092);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=n(7853);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ie.using}});var ae=n(7286);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ae.zip}});var ue=n(1656);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return ue.scheduled}});var se=n(8616);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return se.EMPTY}});var le=n(8655);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return le.NEVER}}),o(n(6038),t);var ce=n(3413);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ce.config}});var fe=n(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return fe.audit}});var de=n(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return de.auditTime}});var he=n(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return he.buffer}});var pe=n(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return pe.bufferCount}});var ve=n(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var ye=n(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return ye.bufferToggle}});var ge=n(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return ge.bufferWhen}});var me=n(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return me.catchError}});var be=n(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return be.combineAll}});var _e=n(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return _e.combineLatestAll}});var we=n(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return we.combineLatestWith}});var Oe=n(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return Oe.concatAll}});var Ee=n(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Ee.concatMap}});var xe=n(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return xe.concatMapTo}});var Se=n(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Se.concatWith}});var Pe=n(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return Pe.connect}});var Te=n(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return Te.count}});var Ce=n(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Ce.debounce}});var ke=n(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return ke.debounceTime}});var Ae=n(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Ae.defaultIfEmpty}});var je=n(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return je.delay}});var Re=n(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return Re.delayWhen}});var Ie=n(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Ie.dematerialize}});var Ne=n(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Ne.distinct}});var Me=n(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Me.distinctUntilChanged}});var De=n(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return De.distinctUntilKeyChanged}});var Le=n(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Fe=n(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Fe.endWith}});var Ue=n(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Ue.every}});var Be=n(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Be.exhaust}});var ze=n(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return ze.exhaustAll}});var Ve=n(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ve.exhaustMap}});var We=n(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return We.expand}});var He=n(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return He.filter}});var qe=n(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return qe.finalize}});var Ge=n(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return Ge.find}});var Ye=n(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Ye.findIndex}});var Xe=n(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Xe.first}});var Ke=n(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Ke.groupBy}});var Ze=n(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return Ze.ignoreElements}});var $e=n(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return $e.isEmpty}});var Qe=n(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Qe.last}});var Je=n(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Je.map}});var et=n(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return et.mapTo}});var tt=n(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return tt.materialize}});var nt=n(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return nt.max}});var rt=n(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return rt.mergeAll}});var ot=n(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return ot.flatMap}});var it=n(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return it.mergeMap}});var at=n(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return at.mergeMapTo}});var ut=n(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ut.mergeScan}});var st=n(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return st.mergeWith}});var lt=n(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return lt.min}});var ct=n(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ct.multicast}});var ft=n(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ft.observeOn}});var dt=n(1226);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return dt.onErrorResumeNextWith}});var ht=n(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return ht.pairwise}});var pt=n(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return pt.pluck}});var vt=n(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return vt.publish}});var yt=n(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return yt.publishBehavior}});var gt=n(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return gt.publishLast}});var mt=n(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return mt.publishReplay}});var bt=n(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return bt.raceWith}});var _t=n(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return _t.reduce}});var wt=n(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return wt.repeat}});var Ot=n(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return Ot.repeatWhen}});var Et=n(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return Et.retry}});var xt=n(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return xt.retryWhen}});var St=n(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return St.refCount}});var Pt=n(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Pt.sample}});var Tt=n(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Tt.sampleTime}});var Ct=n(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ct.scan}});var kt=n(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return kt.sequenceEqual}});var At=n(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return At.share}});var jt=n(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return jt.shareReplay}});var Rt=n(5382);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return Rt.single}});var It=n(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return It.skip}});var Nt=n(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Nt.skipLast}});var Mt=n(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Mt.skipUntil}});var Dt=n(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Dt.skipWhile}});var Lt=n(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Lt.startWith}});var Ft=n(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ft.subscribeOn}});var Ut=n(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Ut.switchAll}});var Bt=n(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Bt.switchMap}});var zt=n(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return zt.switchMapTo}});var Vt=n(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Vt.switchScan}});var Wt=n(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Wt.take}});var Ht=n(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return Ht.takeLast}});var qt=n(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return qt.takeUntil}});var Gt=n(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return Gt.takeWhile}});var Yt=n(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Yt.tap}});var Xt=n(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return Xt.throttle}});var Kt=n(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Kt.throttleTime}});var Zt=n(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Zt.throwIfEmpty}});var $t=n(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return $t.timeInterval}});var Qt=n(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Qt.timeout}});var Jt=n(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Jt.timeoutWith}});var en=n(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return en.timestamp}});var tn=n(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tn.toArray}});var nn=n(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return nn.window}});var rn=n(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return rn.windowCount}});var on=n(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return on.windowTime}});var an=n(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return an.windowToggle}});var un=n(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return un.windowWhen}});var sn=n(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return sn.withLatestFrom}});var ln=n(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return ln.zipAll}});var cn=n(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return cn.zipWith}})},8831:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=n(7843),o=n(1342),i=n(3111),a=n(9445);t.bufferWhen=function(e){return r.operate(function(t,n){var r=null,u=null,s=function(){null==u||u.unsubscribe();var t=r;r=[],t&&n.next(t),a.innerFrom(e()).subscribe(u=i.createOperatorSubscriber(n,s,o.noop))};s(),t.subscribe(i.createOperatorSubscriber(n,function(e){return null==r?void 0:r.push(e)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=u=null}))})}},8888:(e,t,n)=>{var r=n(5636).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=l,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){this.keys=e,this.records=t,this.summary=n}},8918:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var o=n(4662),i=n(8014),a=n(7561),u=n(3111),s=n(7843),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,s.hasLift(t)&&(r.lift=t.lift),r}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new i.Subscription;var n=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=i.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return a.refCount()(this)},t}(o.Observable);t.ConnectableObservable=l},8937:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=n(6640),o=n(7843),i=n(3111);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=r.identity),e=null!=e?e:a,o.operate(function(n,r){var o,a=!0;n.subscribe(i.createOperatorSubscriber(r,function(n){var i=t(n);!a&&e(o,i)||(a=!1,o=i,r.next(n))}))})}},8941:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var r=n(7843),o=n(3111),i=n(9445);t.throttle=function(e,t){return r.operate(function(n,r){var a=null!=t?t:{},u=a.leading,s=void 0===u||u,l=a.trailing,c=void 0!==l&&l,f=!1,d=null,h=null,p=!1,v=function(){null==h||h.unsubscribe(),h=null,c&&(m(),p&&r.complete())},y=function(){h=null,p&&r.complete()},g=function(t){return h=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(r,v,y))},m=function(){if(f){f=!1;var e=d;d=null,r.next(e),!p&&g(e)}};n.subscribe(o.createOperatorSubscriber(r,function(e){f=!0,d=e,(!h||h.closed)&&(s?m():g(e))},function(){p=!0,(!(c&&f&&h)||h.closed)&&r.complete()}))})}},8960:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=n(7843);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},8977:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=n(9445),a=n(2483),u=n(5),s=n(7843);function l(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(!0!==t){if(!1!==t){var s=new u.SafeSubscriber({next:function(){s.unsubscribe(),e()}});return i.innerFrom(t.apply(void 0,o([],r(n)))).subscribe(s)}}else e()}t.share=function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new a.Subject}:t,r=e.resetOnError,o=void 0===r||r,c=e.resetOnComplete,f=void 0===c||c,d=e.resetOnRefCountZero,h=void 0===d||d;return function(e){var t,r,a,c=0,d=!1,p=!1,v=function(){null==r||r.unsubscribe(),r=void 0},y=function(){v(),t=a=void 0,d=p=!1},g=function(){var e=t;y(),null==e||e.unsubscribe()};return s.operate(function(e,s){c++,p||d||v();var m=a=null!=a?a:n();s.add(function(){0!==--c||p||d||(r=l(g,h))}),m.subscribe(s),!t&&c>0&&(t=new u.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){p=!0,v(),r=l(y,o,e),m.error(e)},complete:function(){d=!0,v(),r=l(y,f),m.complete()}}),i.innerFrom(e).subscribe(t))})(e)}}},8986:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=n(9568),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.dateTimestampProvider.now,e}();t.Scheduler=o},8987:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(7721),c=n(9305),f=s(n(1839)),d=n(6781),h=s(n(4531)),p=s(n(4271)),v=c.error.SERVICE_UNAVAILABLE,y=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],g=c.internal.pool,m=g.Pool,b=g.PoolConfig,_=function(e){function t(n,r){var s=n.id,c=n.config,d=n.log,v=n.userAgent,y=n.boltAgent,g=n.authTokenManager,_=n.newPool,w=void 0===_?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(m.bind.apply(m,u([void 0],a(e),!1)))}:_;void 0===r&&(r=null);var O=e.call(this)||this;return O._id=s,O._config=c,O._log=d,O._clientCertificateHolder=new p.default({clientCertificateProvider:O._config.clientCertificate}),O._authenticationProvider=new f.default({authTokenManager:g,userAgent:v,boltAgent:y}),O._livenessCheckProvider=new h.default({connectionLivenessCheckTimeout:c.connectionLivenessCheckTimeout}),O._userAgent=v,O._boltAgent=y,O._createChannelConnection=r||function(e){return o(O,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=l.createChannelConnection,n=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,n.concat([r.sent()]))]}})})},O._connectionPool=w({create:O._createConnection.bind(O),destroy:O._destroyConnection.bind(O),validateOnAcquire:O._validateConnectionOnAcquire.bind(O),validateOnRelease:O._validateConnectionOnRelease.bind(O),installIdleObserver:t._installIdleObserverOnConnection.bind(O),removeIdleObserver:t._removeIdleObserverOnConnection.bind(O),config:b.fromDriverConfig(c),log:O._log}),O._openConnections={},O}return r(t,e),t.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(v)},t.prototype._getClientCertificate=function(){return o(this,void 0,void 0,function(){return i(this,function(e){return[2,this._config.clientCertificate.getClientCertificate()]})})},t.prototype._createConnection=function(e,t,n){var r=this,o=e.auth;return this._createChannelConnection(t).then(function(e){return e.release=function(){return e.idleTimestamp=Date.now(),n(t,e)},r._openConnections[e.id]=e,r._authenticationProvider.authenticate({connection:e,auth:o}).catch(function(t){throw r._destroyConnection(e),t})})},t.prototype._validateConnectionOnAcquire=function(e,t){var n=e.auth,r=e.skipReAuth;return o(this,void 0,void 0,function(){var e,o;return i(this,function(i){switch(i.label){case 0:if(!this._validateConnection(t))return[2,!1];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(t)];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),this._log.debug("The connection ".concat(t.id," is not alive because of an error ").concat(e.code," '").concat(e.message,"'")),[2,!1];case 4:return i.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:t,auth:n,skipReAuth:r})];case 5:return i.sent(),[2,!0];case 6:return o=i.sent(),this._log.debug("The connection ".concat(t.id," is not valid because of an error ").concat(o.code," '").concat(o.message,"'")),[2,!1];case 7:return[2]}})})},t.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return!(Date.now()-e.creationTimestamp>t)},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(e){var t=e.address;return o(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return[4,this._connectionPool.acquire({},t)];case 1:e=r.sent(),n=new c.ServerInfo(e.server,e.protocol().version),r.label=2;case 2:return r.trys.push([2,,5,7]),e.protocol().isLastMessageLogon()?[3,4]:[4,e.resetAndFlush()];case 3:r.sent(),r.label=4;case 4:return[3,7];case 5:return[4,e.release()];case 6:return r.sent(),[7];case 7:return[2,n]}})})},t.prototype._verifyAuthentication=function(e){var t=e.getAddress,n=e.auth;return o(this,void 0,void 0,function(){var e,r,o,a,u,s;return i(this,function(i){switch(i.label){case 0:e=[],i.label=1;case 1:return i.trys.push([1,8,9,11]),[4,t()];case 2:return r=i.sent(),[4,this._connectionPool.acquire({auth:n,skipReAuth:!0},r)];case 3:if(o=i.sent(),e.push(o),a=!o.protocol().isLastMessageLogon(),!o.supportsReAuth)throw(0,c.newError)("Driver is connected to a database that does not support user switch.");return a&&o.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:o,auth:n,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return i.sent(),[3,7];case 5:return!a||o.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:n},r,{requireNew:!0})];case 6:(u=i.sent())._sticky=!0,e.push(u),i.label=7;case 7:return[2,!0];case 8:if(s=i.sent(),y.includes(s.code))return[2,!1];throw s;case 9:return[4,Promise.all(e.map(function(e){return e.release()}))];case 10:return i.sent(),[7];case 11:return[2]}})})},t.prototype._verifyStickyConnection=function(e){var t=e.auth,n=e.connection;return e.address,o(this,void 0,void 0,function(){var e,r;return i(this,function(o){switch(o.label){case 0:return e=d.object.equals(t,n.authToken),r=!e,n._sticky=e&&!n.supportsReAuth,r||n._sticky?[4,n.release()]:[3,2];case 1:throw o.sent(),(0,c.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(e){return e.close()}))];case 2:return e.sent(),[2]}})})},t._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},t._removeIdleObserverOnConnection=function(e){e._unsetIdle()},t.prototype._handleSecurityError=function(e,t,n){return this._authenticationProvider.handleError({connection:n,code:e.code})&&(e.retriable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,function(e){e.authToken=null}),n&&n.close().catch(function(){}),e},t}(c.ConnectionProvider);t.default=_},8995:function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=n(8014),i=n(7843),a=n(9445),u=n(3111),s=n(1342),l=n(7479);t.bufferToggle=function(e,t){return i.operate(function(n,i){var c=[];a.innerFrom(e).subscribe(u.createOperatorSubscriber(i,function(e){var n=[];c.push(n);var r=new o.Subscription;r.add(a.innerFrom(t(e)).subscribe(u.createOperatorSubscriber(i,function(){l.arrRemove(c,n),i.next(n),r.unsubscribe()},s.noop)))},s.noop)),n.subscribe(u.createOperatorSubscriber(i,function(e){var t,n;try{for(var o=r(c),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},function(){for(;c.length>0;)i.next(c.shift());i.complete()}))})}},9014:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryObserver=t.ProcedureRouteObserver=t.RouteObserver=t.CompletedObserver=t.FailedObserver=t.ResetObserver=t.LogoffObserver=t.LoginObserver=t.ResultStreamObserver=t.StreamObserver=void 0;var i=n(9305),a=o(n(7790)),u=n(6781),s=i.internal.constants.FETCH_ALL,l=i.error.PROTOCOL_ERROR,c=function(){function e(){}return e.prototype.onNext=function(e){},e.prototype.onError=function(e){},e.prototype.onCompleted=function(e){},e}();t.StreamObserver=c;var f=function(e){function t(t){var n=void 0===t?{}:t,r=n.reactive,o=void 0!==r&&r,i=n.moreFunction,a=n.discardFunction,l=n.fetchSize,c=void 0===l?s:l,f=n.beforeError,d=n.afterError,h=n.beforeKeys,p=n.afterKeys,v=n.beforeComplete,y=n.afterComplete,g=n.server,m=n.highRecordWatermark,b=void 0===m?Number.MAX_VALUE:m,w=n.lowRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,E=n.enrichMetadata,x=n.onDb,S=e.call(this)||this;return S._fieldKeys=null,S._fieldLookup=null,S._head=null,S._queuedRecords=[],S._tail=null,S._error=null,S._observers=[],S._meta={},S._server=g,S._beforeError=f,S._afterError=d,S._beforeKeys=h,S._afterKeys=p,S._beforeComplete=v,S._afterComplete=y,S._enrichMetadata=E||u.functional.identity,S._queryId=null,S._moreFunction=i,S._discardFunction=a,S._discard=!1,S._fetchSize=c,S._lowRecordWatermark=O,S._highRecordWatermark=b,S._setState(o?_.READY:_.READY_STREAMING),S._setupAutoPull(),S._paused=!1,S._pulled=!o,S._haveRecordStreamed=!1,S._onDb=x,S}return r(t,e),t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new i.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(e){return e.onNext})?this._observers.forEach(function(e){e.onNext&&e.onNext(t)}):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(_.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(_.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===_.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===_.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(_.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var t=this,n=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},e));if([void 0,null,"r","w","rw","s"].includes(n.type)){this._setState(_.SUCCEEDED);var r=null;this._beforeComplete&&(r=this._beforeComplete(n));var o=function(){t._tail=n,t._observers.some(function(e){return e.onCompleted})&&t._observers.forEach(function(e){e.onCompleted&&e.onCompleted(n)}),t._afterComplete&&t._afterComplete(n)};r?Promise.resolve(r).then(function(){return o()}):o()}else this.onError((0,i.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(n.type,"'"),l))},t.prototype._handleRunSuccess=function(e,t){var n=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var r=0;r<e.fields.length;r++)this._fieldLookup[e.fields[r]]=r}null!==e.db&&void 0!==this._onDb&&this._onDb(e.db),null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){n._head=n._fieldKeys,n._observers.some(function(e){return e.onKeys})&&n._observers.forEach(function(e){e.onKeys&&e.onKeys(n._fieldKeys)}),n._afterKeys&&n._afterKeys(n._fieldKeys),t()};o?Promise.resolve(o).then(function(){return i()}):i()}},t.prototype._handleError=function(e){var t=this;this._setState(_.FAILED),this._error=e;var n=null;this._beforeError&&(n=this._beforeError(e));var r=function(){t._observers.some(function(e){return e.onError})&&t._observers.forEach(function(t){t.onError&&t.onError(e)}),t._afterError&&t._afterError(e)};n?Promise.resolve(n).then(function(){return r()}):r()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(_.STREAMING)},t.prototype._storeMetadataForCompletion=function(e){for(var t=Object.keys(e),n=t.length,r="";n--;)r=t[n],this._meta[r]=e[r]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(c);t.ResultStreamObserver=f;var d=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when initializing "+i.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(c);t.LoginObserver=d;var h=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when logging off "+i.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(c);t.LogoffObserver=h;var p=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onComplete,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onComplete=i,a}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when resetting: received record is: "+i.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(c);t.ResetObserver=p;var v=function(e){function t(t){var n=void 0===t?{}:t,r=n.onError,o=n.onCompleted,i=e.call(this)||this;return i._onError=r,i._onCompleted=o,i}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when sending telemetry "+i.json.stringify(e),l))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.TelemetryObserver=v;var y=function(e){function t(t){var n=t.error,r=t.onError,o=e.call(this,{beforeError:r})||this;return o.onError(n),o}return r(t,e),t}(f);t.FailedObserver=y;var g=function(e){function t(){var t=e.call(this)||this;return e.prototype.markCompleted.call(t),t}return r(t,e),t}(f);t.CompletedObserver=g;var m=function(e){function t(t){var n=t.resultObserver,r=t.onProtocolError,o=t.onError,i=t.onCompleted,a=e.call(this)||this;return a._resultObserver=n,a._onError=o,a._onCompleted=i,a._records=[],a._onProtocolError=r,n.subscribe(a),a}return r(t,e),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){null===this._records||1===this._records.length?this._onCompleted&&this._onCompleted(a.default.ofRecord(this._records[0])):this.onError((0,i.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+i.json.stringify(this._records),l))},t}(c);t.ProcedureRouteObserver=m;var b=function(e){function t(t){var n=void 0===t?{}:t,r=n.onProtocolError,o=n.onError,i=n.onCompleted,a=e.call(this)||this;return a._onProtocolError=r,a._onError=o,a._onCompleted=i,a}return r(t,e),t.prototype.onNext=function(e){this.onError((0,i.newError)("Received RECORD when resetting: received record is: "+i.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(a.default.ofMessageResponse(e))},t}(c);t.RouteObserver=b;var _={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(_.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},9018:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createValidRoutingTable=void 0;var i=n(9305),a=i.internal.constants,u=a.ACCESS_MODE_WRITE,s=a.ACCESS_MODE_READ,l=i.internal.serverAddress.ServerAddress,c=i.error.PROTOCOL_ERROR,f=function(){function e(e){var t=void 0===e?{}:e,n=t.database,r=t.routers,o=t.readers,a=t.writers,u=t.expirationTime,s=t.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=r||[],this.readers=o||[],this.writers=a||[],this.expirationTime=u||(0,i.int)(0),this.ttl=s}return e.fromRawRoutingTable=function(e,t,n){return h(e,t,n)},e.prototype.forget=function(e){this.readers=d(this.readers,e),this.writers=d(this.writers,e)},e.prototype.forgetRouter=function(e){this.routers=d(this.routers,e)},e.prototype.forgetWriter=function(e){this.writers=d(this.writers,e)},e.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===s&&0===this.readers.length||e===u&&0===this.writers.length},e.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},e.prototype.allServers=function(){return o(o(o([],r(this.routers),!1),r(this.readers),!1),r(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();function d(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}function h(e,t,n){var r=n.ttl,o=function(e,t){try{var n=(0,i.int)(Date.now()),r=(0,i.int)(e.ttl).multiply(1e3).add(n);return r.lessThan(n)?i.Integer.MAX_VALUE:r}catch(n){throw(0,i.newError)("Unable to parse TTL entry from router ".concat(t," from raw routing table:\n").concat(i.json.stringify(e),"\nError message: ").concat(n.message),c)}}(n,t),a=function(e,t){try{var n=[],r=[],o=[];return e.servers.forEach(function(e){var t=e.role,i=e.addresses;"ROUTE"===t?n=v(i).map(function(e){return l.fromUrl(e)}):"WRITE"===t?o=v(i).map(function(e){return l.fromUrl(e)}):"READ"===t&&(r=v(i).map(function(e){return l.fromUrl(e)}))}),{routers:n,readers:r,writers:o}}catch(n){throw(0,i.newError)("Unable to parse servers entry from router ".concat(t," from addresses:\n").concat(i.json.stringify(e.servers),"\nError message: ").concat(n.message),c)}}(n,t),u=a.routers,s=a.readers,d=a.writers;return p(u,"routers",t),p(s,"readers",t),new f({database:e||n.db,routers:u,readers:s,writers:d,expirationTime:o,ttl:r})}function p(e,t,n){if(0===e.length)throw(0,i.newError)("Received no "+t+" from router "+n,c)}function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}t.default=f,t.createValidRoutingTable=h},9052:(e,t)=>{function n(e,t,n){return{kind:e,value:t,error:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=n("C",void 0,void 0),t.errorNotification=function(e){return n("E",void 0,e)},t.nextNotification=function(e){return n("N",e,void 0)},t.createNotification=n},9054:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(6445)),u=i(n(7021)),s=n(9014),l=n(397),c=i(n(7331)),f=i(n(5045)),d=i(n(3321)),h=n(9305),p=h.internal.bookmarks.Bookmarks,v=h.internal.constants.BOLT_PROTOCOL_V4_3,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(c.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,n=void 0===t?{}:t,r=e.databaseName,o=void 0===r?null:r,i=e.sessionContext,a=void 0===i?{}:i,l=e.onError,c=e.onCompleted,f=new s.RouteObserver({onProtocolError:this._onProtocolError,onError:l,onCompleted:c}),d=a.bookmarks||p.empty();return this.write(u.default.route(n,d.values(),o),f,!0),f},t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,o=(n.boltAgent,n.authToken),i=n.notificationFilter,a=n.onError,c=n.onComplete,f=new s.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,o,c)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(r,o,this._serversideRouting,["utc"]),f,!0),f},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new d.default(Object.values(o(o({},c.default),f.default)).map(function(t){return t(e._config,e._log)}))},t}(a.default);t.default=y},9060:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var r=n(2823),o=n(5);t.firstValueFrom=function(e,t){var n="object"==typeof t;return new Promise(function(i,a){var u=new o.SafeSubscriber({next:function(e){i(e),u.unsubscribe()},error:a,complete:function(){n?i(t.defaultValue):a(new r.EmptyError)}});e.subscribe(u)})}},9098:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=n(6640),o=n(7843),i=n(3111);t.skipLast=function(e){return e<=0?r.identity:o.operate(function(t,n){var r=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(n,function(t){var i=o++;if(i<e)r[i]=t;else{var a=i%e,u=r[a];r[a]=t,n.next(u)}})),function(){r=null}})}},9105:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var r=n(4662),o=n(7360),i=n(9445),a=n(1107),u=n(3111),s=n(1251),l=n(6013);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.popResultSelector(e),c=o.argsArgArrayOrObject(e),f=c.args,d=c.keys,h=new r.Observable(function(e){var t=f.length;if(t)for(var n=new Array(t),r=t,o=t,a=function(t){var a=!1;i.innerFrom(f[t]).subscribe(u.createOperatorSubscriber(e,function(e){a||(a=!0,o--),n[t]=e},function(){return r--},void 0,function(){r&&a||(o||e.next(d?l.createObject(d,n):n),e.complete())}))},s=0;s<t;s++)a(s);else e.complete()});return n?h.pipe(s.mapOneOrManyArgs(n)):h}},9125:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(934)),u=i(n(2204)),s=i(n(3321)),l=i(n(7021)),c=n(9014),f=n(9305).internal.constants.BOLT_PROTOCOL_V5_3,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new s.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,n=void 0===e?{}:e,r=n.userAgent,i=n.boltAgent,a=n.authToken,u=n.notificationFilter,s=n.onError,f=n.onComplete,d={},h=new c.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x3(r,i,u,this._serversideRouting),h,!1),this.logon({authToken:a,onComplete:function(e){return f(o(o({},e),d.metadata))},onError:s,flush:!0})},t}(a.default);t.default=d},9135:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=n(983),o=n(1018);t.concatMap=function(e,t){return o.isFunction(t)?r.mergeMap(e,t,1):r.mergeMap(e,1)}},9137:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(l,c):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=n(1018);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,function(){var t,n,i;return r(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,o(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,o(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,o(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t.isReadableStreamLike=function(e){return a.isFunction(null==e?void 0:e.getReader)}},9139:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=n(6384),o=n(7843);t.reduce=function(e,t){return o.operate(r.scanInternals(e,t,arguments.length>=2,!1,!0))}},9155:function(e,t){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.timeoutProvider.delegate;return(null==u?void 0:u.setTimeout)?u.setTimeout.apply(u,r([e,o],n(i))):setTimeout.apply(void 0,r([e,o],n(i)))},clearTimeout:function(e){var n=t.timeoutProvider.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},9223:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=n(3413),o=null;t.errorContext=function(e){if(r.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,a=n.error;if(o=null,i)throw a}}else e()},t.captureError=function(e){r.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},9238:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(4325));t.default=r({},i.default)},9247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=n(8918),o=n(1018),i=n(1483);t.multicast=function(e,t){var n=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:n}):function(e){return new r.ConnectableObservable(e,n)}}},9305:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EagerResult=t.Result=t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.GqlStatusObject=t.Notification=t.ServerInfo=t.queryType=t.ResultSummary=t.Record=t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=t.Time=t.LocalTime=t.LocalDateTime=t.isTime=t.isLocalTime=t.isLocalDateTime=t.isDuration=t.isDateTime=t.isDate=t.Duration=t.DateTime=t.Date=t.Point=t.isPoint=t.internal=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=t.Integer=t.error=t.isRetriableError=t.GQLError=t.newGQLError=t.Neo4jError=t.newError=t.authTokenManagers=void 0,t.resolveCertificateProvider=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.routing=t.staticAuthTokenManager=t.bookmarkManager=t.auth=t.json=t.driver=t.types=t.Driver=t.Session=t.TransactionPromise=t.ManagedTransaction=t.Transaction=t.Connection=t.Releasable=t.ConnectionProvider=void 0;var u=n(9691);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(t,"newGQLError",{enumerable:!0,get:function(){return u.newGQLError}}),Object.defineProperty(t,"GQLError",{enumerable:!0,get:function(){return u.GQLError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return u.isRetriableError}});var s=i(n(3371));t.Integer=s.default,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"inSafeRange",{enumerable:!0,get:function(){return s.inSafeRange}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return s.toNumber}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return s.toString}});var l=n(5459);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return l.Time}});var c=n(1517);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=a(n(4820));t.Record=f.default;var d=n(7093);Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return d.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d.Point}});var h=i(n(6033));t.ResultSummary=h.default,Object.defineProperty(t,"queryType",{enumerable:!0,get:function(){return h.queryType}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return h.ServerInfo}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return h.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return h.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return h.QueryStatistics}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return h.Stats}});var p=i(n(1866));t.Notification=p.default,Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return p.GqlStatusObject}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return p.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return p.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return p.notificationSeverityLevel}});var v=n(1985);Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return v.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return v.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return v.notificationFilterMinimumSeverityLevel}});var y=a(n(9512));t.Result=y.default;var g=a(n(8917));t.EagerResult=g.default;var m=i(n(2007));t.ConnectionProvider=m.default,Object.defineProperty(t,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var b=a(n(1409));t.Connection=b.default;var _=a(n(9473));t.Transaction=_.default;var w=a(n(5909));t.ManagedTransaction=w.default;var O=a(n(4569));t.TransactionPromise=O.default;var E=a(n(5481));t.Session=E.default;var x=i(n(7264)),S=x;t.Driver=x.default,t.driver=S;var P=a(n(1967));t.auth=P.default;var T=n(6755);Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return T.bookmarkManager}});var C=n(2069);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return C.authTokenManagers}}),Object.defineProperty(t,"staticAuthTokenManager",{enumerable:!0,get:function(){return C.staticAuthTokenManager}});var k=n(7264);Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return k.routing}});var A=i(n(6872));t.types=A;var j=i(n(4027));t.json=j;var R=a(n(1573));t.resultTransformers=R.default;var I=n(8264);Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return I.clientCertificateProviders}}),Object.defineProperty(t,"resolveCertificateProvider",{enumerable:!0,get:function(){return I.resolveCertificateProvider}});var N=i(n(6995));t.internal=N;var M={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};t.error=M;var D={authTokenManagers:C.authTokenManagers,newError:u.newError,Neo4jError:u.Neo4jError,newGQLError:u.newGQLError,GQLError:u.GQLError,isRetriableError:u.isRetriableError,error:M,Integer:s.default,int:s.int,isInt:s.isInt,inSafeRange:s.inSafeRange,toNumber:s.toNumber,toString:s.toString,internal:N,isPoint:d.isPoint,Point:d.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:h.default,queryType:h.queryType,ServerInfo:h.ServerInfo,Notification:p.default,GqlStatusObject:p.GqlStatusObject,Plan:h.Plan,ProfiledPlan:h.ProfiledPlan,QueryStatistics:h.QueryStatistics,Stats:h.Stats,Result:y.default,EagerResult:g.default,Transaction:_.default,ManagedTransaction:w.default,TransactionPromise:O.default,Session:E.default,Driver:x.default,Connection:b.default,Releasable:m.Releasable,types:A,driver:S,json:j,auth:P.default,bookmarkManager:T.bookmarkManager,routing:k.routing,resultTransformers:R.default,notificationCategory:p.notificationCategory,notificationClassification:p.notificationClassification,notificationSeverityLevel:p.notificationSeverityLevel,notificationFilterDisabledCategory:v.notificationFilterDisabledCategory,notificationFilterDisabledClassification:v.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:v.notificationFilterMinimumSeverityLevel,clientCertificateProviders:I.clientCertificateProviders,resolveCertificateProvider:I.resolveCertificateProvider};t.default=D},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,l=s>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=u;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,u,s,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=c?(u=0,a=c):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&u,h+=p,u/=256,o-=8);for(a=a<<o|u,l+=o;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*v}},9353:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var r=n(4662),o=n(9445);t.defer=function(e){return new r.Observable(function(t){o.innerFrom(e()).subscribe(t)})}},9356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=n(7843),o=n(3111);t.isEmpty=function(){return r.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}},9376:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var r=n(4662),o=n(8616);t.range=function(e,t,n){if(null==t&&(t=e,e=0),t<=0)return o.EMPTY;var i=t+e;return new r.Observable(n?function(t){var r=e;return n.schedule(function(){r<i?(t.next(r++),this.schedule()):t.complete()})}:function(t){for(var n=e;n<i&&!t.closed;)t.next(n++);t.complete()})}},9419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var r=n(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return r.audit}});var o=n(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return o.auditTime}});var i=n(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return i.buffer}});var a=n(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var u=n(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return u.bufferTime}});var s=n(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return s.bufferToggle}});var l=n(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=n(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=n(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var d=n(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return d.combineLatestAll}});var h=n(2551);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return h.combineLatest}});var p=n(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var v=n(7601);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return v.concat}});var y=n(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return y.concatAll}});var g=n(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return g.concatMap}});var m=n(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var b=n(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return b.concatWith}});var _=n(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var w=n(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return w.count}});var O=n(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return O.debounce}});var E=n(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return E.debounceTime}});var x=n(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return x.defaultIfEmpty}});var S=n(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return S.delay}});var P=n(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return P.delayWhen}});var T=n(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return T.dematerialize}});var C=n(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return C.distinct}});var k=n(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return k.distinctUntilChanged}});var A=n(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return A.distinctUntilKeyChanged}});var j=n(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return j.elementAt}});var R=n(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return R.endWith}});var I=n(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return I.every}});var N=n(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return N.exhaust}});var M=n(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return M.exhaustAll}});var D=n(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return D.exhaustMap}});var L=n(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return L.expand}});var F=n(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return F.filter}});var U=n(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return U.finalize}});var B=n(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return B.find}});var z=n(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return z.findIndex}});var V=n(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return V.first}});var W=n(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return W.groupBy}});var H=n(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return H.ignoreElements}});var q=n(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return q.isEmpty}});var G=n(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return G.last}});var Y=n(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Y.map}});var X=n(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return X.mapTo}});var K=n(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return K.materialize}});var Z=n(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return Z.max}});var $=n(361);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return $.merge}});var Q=n(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Q.mergeAll}});var J=n(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return J.flatMap}});var ee=n(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var te=n(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return te.mergeMapTo}});var ne=n(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ne.mergeScan}});var re=n(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return re.mergeWith}});var oe=n(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return oe.min}});var ie=n(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ie.multicast}});var ae=n(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ae.observeOn}});var ue=n(1226);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return ue.onErrorResumeNext}});var se=n(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return se.pairwise}});var le=n(2171);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return le.partition}});var ce=n(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ce.pluck}});var fe=n(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return fe.publish}});var de=n(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return de.publishBehavior}});var he=n(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return he.publishLast}});var pe=n(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return pe.publishReplay}});var ve=n(4440);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ve.race}});var ye=n(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return ye.raceWith}});var ge=n(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return ge.reduce}});var me=n(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return me.repeat}});var be=n(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return be.repeatWhen}});var _e=n(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return _e.retry}});var we=n(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return we.retryWhen}});var Oe=n(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Oe.refCount}});var Ee=n(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Ee.sample}});var xe=n(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return xe.sampleTime}});var Se=n(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Se.scan}});var Pe=n(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Pe.sequenceEqual}});var Te=n(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return Te.share}});var Ce=n(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Ce.shareReplay}});var ke=n(5382);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ke.single}});var Ae=n(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Ae.skip}});var je=n(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return je.skipLast}});var Re=n(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Re.skipUntil}});var Ie=n(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Ie.skipWhile}});var Ne=n(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Ne.startWith}});var Me=n(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Me.subscribeOn}});var De=n(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return De.switchAll}});var Le=n(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Le.switchMap}});var Fe=n(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Fe.switchMapTo}});var Ue=n(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Ue.switchScan}});var Be=n(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Be.take}});var ze=n(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return ze.takeLast}});var Ve=n(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ve.takeUntil}});var We=n(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return We.takeWhile}});var He=n(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return He.tap}});var qe=n(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return qe.throttle}});var Ge=n(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Ge.throttleTime}});var Ye=n(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Ye.throwIfEmpty}});var Xe=n(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Xe.timeInterval}});var Ke=n(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Ke.timeout}});var Ze=n(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Ze.timeoutWith}});var $e=n(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return $e.timestamp}});var Qe=n(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Qe.toArray}});var Je=n(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return Je.window}});var et=n(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return et.windowCount}});var tt=n(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tt.windowTime}});var nt=n(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return nt.windowToggle}});var rt=n(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return rt.windowWhen}});var ot=n(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return ot.withLatestFrom}});var it=n(5918);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return it.zip}});var at=n(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return at.zipAll}});var ut=n(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return ut.zipWith}})},9445:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof a?a(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var u=n(8046),s=n(7629),l=n(4662),c=n(1116),f=n(1358),d=n(7614),h=n(6368),p=n(9137),v=n(1018),y=n(7315),g=n(3327);function m(e){return new l.Observable(function(t){var n=e[g.observable]();if(v.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b(e){return new l.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function _(e){return new l.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,y.reportUnhandledError)})}function w(e){return new l.Observable(function(t){var n,r;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function O(e){return new l.Observable(function(t){(function(e,t){var n,a,u,s;return r(this,void 0,void 0,function(){var r,l;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),n=i(e),o.label=1;case 1:return[4,n.next()];case 2:if((a=o.sent()).done)return[3,4];if(r=a.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),u={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),a&&!a.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function E(e){return O(p.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof l.Observable)return e;if(null!=e){if(c.isInteropObservable(e))return m(e);if(u.isArrayLike(e))return b(e);if(s.isPromise(e))return _(e);if(f.isAsyncIterable(e))return O(e);if(h.isIterable(e))return w(e);if(p.isReadableStreamLike(e))return E(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=b,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=O,t.fromReadableStreamLike=E},9470:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredCustomResolver=t.BaseHostNameResolver=void 0;var o=r(n(3389));t.BaseHostNameResolver=o.default;var i=r(n(8341));t.ConfiguredCustomResolver=i.default},9473:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6587),u=n(3618),s=n(9730),l=n(754),c=n(2696),f=n(9691),d=i(n(9512)),h=function(){function e(e){var t=e.connectionHolder,n=e.onClose,r=e.onBookmarks,o=e.onConnection,i=e.reactive,a=e.fetchSize,u=e.impersonatedUser,l=e.highRecordWatermark,c=e.lowRecordWatermark,f=e.notificationFilter,d=e.apiTelemetryConfig,h=this;this._connectionHolder=t,this._reactive=i,this._state=p.ACTIVE,this._onClose=n,this._onBookmarks=r,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=a,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=u,this._lowRecordWatermak=c,this._highRecordWatermark=l,this._bookmarks=s.Bookmarks.empty(),this._notificationFilter=f,this._apiTelemetryConfig=d,this._acceptActive=function(){},this._activePromise=new Promise(function(e,t){h._acceptActive=e})}return e.prototype._begin=function(e,t,n){var i=this;this._connectionHolder.getConnection().then(function(a){return r(i,void 0,void 0,function(){var r,i=this;return o(this,function(o){switch(o.label){case 0:return this._onConnection(),null==a?[3,2]:(r=this,[4,e()]);case 1:return r._bookmarks=o.sent(),[2,a.beginTransaction({bookmarks:this._bookmarks,txConfig:t,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})},afterComplete:function(e){null!=n&&n.onComplete(e),void 0!==e.db&&null!=(null==n?void 0:n.onDB)&&n.onDB(e.db),i._onComplete(e)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(e){null!=n&&n.onError(e),i._onError(e).catch(function(){})}).finally(function(){return i._acceptActive()})},e.prototype.run=function(e,t){var n=(0,a.validateQueryAndParameters)(e,t),r=n.validatedQuery,o=n.params,i=this._state.run(r,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(i),i},e.prototype.commit=function(){var e=this,t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(t){return e._onCompleteCallback(t,e._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(e){return n(e)}})})},e.prototype.rollback=function(){var e=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise(function(t,n){e.result.subscribe({onCompleted:function(){return t()},onError:function(e){return n(e)}})})},e.prototype.isOpen=function(){return this._state===p.ACTIVE},e.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._onErrorCallback=function(e){return this._state===p.FAILED?Promise.resolve(null):(this._state=p.FAILED,this._onClose(),this._results.forEach(function(t){t.isOpen()&&t._streamObserverPromise.then(function(t){return t.onError(e)}).catch(function(e){})}),this._connectionHolder.releaseConnection())},e.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new s.Bookmarks(null==e?void 0:e.bookmark),null!=t?t:s.Bookmarks.empty(),null==e?void 0:e.db)},e}(),p={ACTIVE:{commit:function(e){return{result:v(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.SUCCEEDED}},rollback:function(e){return{result:v(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError,i=n.onComplete,a=n.onConnection,u=n.reactive,d=n.fetchSize,h=n.highRecordWatermark,p=n.lowRecordWatermark,v=n.preparationJob,g=null!=v?v:Promise.resolve();return y(r.getConnection().then(function(e){return g.then(function(){return e})}).then(function(n){if(a(),null!=n)return n.run(e,t,{bookmarks:s.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:u,fetchSize:d,highRecordWatermark:h,lowRecordWatermark:p});throw(0,f.newError)("No connection available")}).catch(function(e){return new c.FailedObserver({error:e,onError:o})}),e,t,r,h,p)}},FAILED:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},t,0,0),state:p.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:y(new c.CompletedObserver,"ROLLBACK",{},t,0,0),state:p.FAILED}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,r,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,r,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,n=e.onError;return e.onComplete,{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},t,0,0),state:p.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:y(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:p.ROLLED_BACK}},run:function(e,t,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,y(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,r,0,0)}}};function v(e,t,n,r,o,i,a){var u=null!=a?a:Promise.resolve(),s=t.getConnection().then(function(e){return u.then(function(){return e})}).then(function(t){return o(),i.forEach(function(e){return e._cancel()}),Promise.all(i.map(function(e){return e.summary()})).then(function(o){if(null!=t)return e?t.commitTransaction({beforeError:n,afterComplete:r}):t.rollbackTransaction({beforeError:n,afterComplete:r});throw(0,f.newError)("No connection available")})}).catch(function(e){return new c.FailedObserver({error:e,onError:n})});return new d.default(s,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function y(e,t,n,r,o,i){return void 0===r&&(r=u.EMPTY_CONNECTION_HOLDER),new d.default(Promise.resolve(e),t,n,new u.ReadOnlyConnectionHolder(null!=r?r:u.EMPTY_CONNECTION_HOLDER),{low:i,high:o})}t.default=h},9507:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var i=n(8014);t.animationFrameProvider={schedule:function(e){var n=requestAnimationFrame,r=cancelAnimationFrame,o=t.animationFrameProvider.delegate;o&&(n=o.requestAnimationFrame,r=o.cancelAnimationFrame);var a=n(function(t){r=void 0,e(t)});return new i.Subscription(function(){return null==r?void 0:r(a)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],r(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],r(e)))},delegate:void 0}},9512:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(6033)),s=n(6995),l=n(9691),c=s.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(e){console.log("Uncaught error when processing result: "+e)},d=function(e){},h=function(e){},p=function(){function e(e,t,n,o,i){var a;void 0===i&&(i={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[r]="Result",this._stack=null!=(a=new Error("")).stack?a.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!=n?n:{},this._connectionHolder=null!=o?o:c,this._keys=null,this._summary=null,this._error=null,this._watermarks=i}return e.prototype.keys=function(){var e=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){return r.subscribe(e._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype.summary=function(){var e=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise(function(t,n){e._streamObserverPromise.then(function(r){r.cancel(),r.subscribe(e._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return n(e)}}))}).catch(n)})},e.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise(function(t,n){var r=[],o={onNext:function(e){r.push(e)},onCompleted:function(e){t({records:r,summary:e})},onError:function(e){n(e)}};e.subscribe(o)})),this._p},e.prototype[Symbol.asyncIterator]=function(){var e=this;if(!this.isOpen()){var t=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(t)},peek:function(){return Promise.reject(t)}}}var n={paused:!0,firstRun:!0,finished:!1},r=function(){var t,r;if(null!=n.streaming){var o=null!==(r=null===(t=n.queuedObserver)||void 0===t?void 0:t.size)&&void 0!==r?r:0,i=o>=e._watermarks.high,a=o<=e._watermarks.low;i&&!n.paused?(n.paused=!0,n.streaming.pause()):(a&&n.paused||n.firstRun&&!i)&&(n.firstRun=!1,n.paused=!1,n.streaming.resume())}},a=function(){return o(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return void 0!==n.queuedObserver?[3,2]:(n.queuedObserver=this._createQueuedResultObserver(r),e=n,[4,this._subscribe(n.queuedObserver,!0).catch(function(){})]);case 1:e.streaming=t.sent(),r(),t.label=2;case 2:return[2,n.queuedObserver]}})})},u=function(e){if(void 0===e)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return o(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return[4,t.sent().dequeue()];case 2:return!0===(e=t.sent()).done&&(n.finished=e.done,n.summary=e.value),[2,e]}})})},return:function(t){return o(e,void 0,void 0,function(){var e,r;return i(this,function(o){switch(o.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:null!=t?t:n.summary}]:(null===(r=n.streaming)||void 0===r||r.cancel(),[4,a()]);case 1:return[4,o.sent().dequeueUntilDone()];case 2:return e=o.sent(),n.finished=!0,e.value=null!=t?t:e.value,n.summary=e.value,[2,e]}})})},peek:function(){return o(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}})})}}},e.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},e.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},e.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},e.prototype.subscribe=function(e){this._subscribe(e).catch(function(){})},e.prototype.isOpen=function(){return null===this._summary&&null===this._error},e.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var n=this._decorateObserver(e);return this._streamObserverPromise.then(function(e){return t&&e.pause(),e.subscribe(n),e}).catch(function(e){return null!=n.onError&&n.onError(e),Promise.reject(e)})},e.prototype._decorateObserver=function(e){var t,n,r,o=this,i=null!==(t=e.onCompleted)&&void 0!==t?t:d,a=null!==(n=e.onError)&&void 0!==n?n:f,u=null!==(r=e.onKeys)&&void 0!==r?r:h;return{onNext:null!=e.onNext?e.onNext.bind(e):void 0,onKeys:function(t){return o._keys=t,u.call(e,t)},onCompleted:function(t){o._releaseConnectionAndGetSummary(t).then(function(t){return null!==o._summary?i.call(e,o._summary):(o._summary=t,i.call(e,t))}).catch(a)},onError:function(t){o._connectionHolder.releaseConnection().then(function(){!function(e,t){null!=t&&(e.stack=e.toString()+"\n"+t)}(t,o._stack),o._error=t,a.call(e,t)}).catch(a)}}},e.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then(function(e){return e.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(e){var t=s.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=t.validatedQuery,r=t.params,o=this._connectionHolder;return o.getConnection().then(function(e){return o.releaseConnection().then(function(){return null==e?void 0:e.getProtocolVersion()})},function(e){}).then(function(t){return new u.default(n,r,e,t)})},e.prototype._createQueuedResultObserver=function(e){var t=this;function n(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function r(e){return e instanceof Error}function a(){var t;return o(this,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:if(u.length>0){if(o=null!==(t=u.shift())&&void 0!==t?t:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),e(),r(o))throw o;return[2,o]}return s.resolvable=n(),[4,s.resolvable.promise];case 1:return[2,i.sent()]}})})}var u=[],s={resolvable:null},c={onNext:function(e){c._push({done:!1,value:e})},onCompleted:function(e){c._push({done:!0,value:e})},onError:function(e){c._push(e)},_push:function(t){if(null!==s.resolvable){var n=s.resolvable;s.resolvable=null,r(t)?n.reject(t):n.resolve(t)}else u.push(t),e()},dequeue:a,dequeueUntilDone:function(){return o(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,a()];case 1:return!0===(e=t.sent()).done?[2,e]:[3,0];case 2:return[2]}})})},head:function(){return o(t,void 0,void 0,function(){var t,o;return i(this,function(i){switch(i.label){case 0:if(u.length>0){if(r(t=u[0]))throw t;return[2,t]}s.resolvable=n(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return t=i.sent(),u.unshift(t),[2,t];case 3:throw o=i.sent(),u.unshift(o),o;case 4:return e(),[7];case 5:return[2]}})})},get size(){return u.length}};return c},e}();r=Symbol.toStringTag,t.default=p},9567:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=n(9445),o=n(5184),i=n(8960);t.scheduleObservable=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},9568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},9589:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=n(9445),o=n(5184),i=n(8960);t.schedulePromise=function(e,t){return r.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},9612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=n(8937);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}},9669:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=n(7601);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],r(e)))}},9686:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=n(5568);t.ObjectUnsubscribedError=r.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},9689:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingConnectionProvider=t.DirectConnectionProvider=t.PooledConnectionProvider=t.SingleConnectionProvider=void 0;var o=n(4132);Object.defineProperty(t,"SingleConnectionProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(8987);Object.defineProperty(t,"PooledConnectionProvider",{enumerable:!0,get:function(){return r(i).default}});var a=n(3545);Object.defineProperty(t,"DirectConnectionProvider",{enumerable:!0,get:function(){return r(a).default}});var u=n(7428);Object.defineProperty(t,"RoutingConnectionProvider",{enumerable:!0,get:function(){return r(u).default}})},9691:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.GQLError=t.Neo4jError=t.isRetriableError=t.newGQLError=t.newError=void 0;var u=a(n(4027)),s=n(1053),l={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(l);var c=Object.values(l),f="ServiceUnavailable";t.SERVICE_UNAVAILABLE=f;var d="SessionExpired";t.SESSION_EXPIRED=d,t.PROTOCOL_ERROR="ProtocolError";var h=function(e){function t(n,r,o,i,a){var u,s=this;return(s=e.call(this,n,null!=a?{cause:a}:void 0)||this).constructor=t,s.__proto__=t.prototype,s.cause=null!=a?a:void 0,s.gqlStatus=r,s.gqlStatusDescription=o,s.diagnosticRecord=i,s.classification=function(e){return void 0===e||void 0===e._classification?"UNKNOWN":c.includes(e._classification)?null==e?void 0:e._classification:"UNKNOWN"}(s.diagnosticRecord),s.rawClassification=null!==(u=null==i?void 0:i._classification)&&void 0!==u?u:void 0,s.name="GQLError",s}return r(t,e),Object.defineProperty(t.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),t}(Error);t.GQLError=h;var p=function(e){function t(n,r,o,i,a,u){var s=e.call(this,n,o,i,a,u)||this;return s.constructor=t,s.__proto__=t.prototype,s.code=r,s.name="Neo4jError",s.retriable=function(e){return e===f||e===d||function(e){return"Neo.ClientError.Security.AuthorizationExpired"===e}(e)||function(e){return!0===(null==e?void 0:e.includes("TransientError"))}(e)}(r),s}return r(t,e),t.isRetriable=function(e){return null!=e&&e instanceof t&&e.retriable},t}(h);t.Neo4jError=p,t.newError=function(e,t,n,r,o,i){return new p(e,null!=t?t:"N/A",null!=r?r:"50N42",null!=o?o:"error: general processing exception - unexpected error. "+e,null!=i?i:s.rawPolyfilledDiagnosticRecord,n)},t.newGQLError=function(e,t,n,r,o){return new h(e,null!=n?n:"50N42",null!=r?r:"error: general processing exception - unexpected error. "+e,null!=o?o:s.rawPolyfilledDiagnosticRecord,t)};var v=p.isRetriable;t.isRetriableError=v},9730:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var s=i(n(6587)),l=function(){function e(e){this._values=function(e){if(null==e||""===e)return[];if(s.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,n=f(e),r=0;r<n.length;r++){var o=n[r];if(null!=o){if(!s.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return u([],a(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return 0===this._values.length},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},e}();t.Bookmarks=l;var c=new l(null);function f(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(f(t)):e.concat(t)},[])}},9744:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9125)),a=o(n(4325)),u=o(n(7021)),s=n(9014),l=o(n(3321)),c=n(9305).internal.constants.BOLT_PROTOCOL_V5_4,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(a.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.telemetry=function(e,t){var n=e.api,r=void 0===t?{}:t,o=r.onError,i=r.onCompleted,a=new s.TelemetryObserver({onCompleted:i,onError:o});return this.write(u.default.telemetry({api:n}),a,!1),a},t}(i.default);t.default=f},9756:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=n(7843),o=n(7714);t.findIndex=function(e,t){return r.operate(o.createFind(e,t,"index"))}},9792:(e,t,n)=>{var r=n(7045),o=n(4360),i=n(6804);e.exports=function(e,t){if(!t)return e;var n=Object.keys(t);if(0===n.length)return e;for(var a=r(e),u=n.length-1;u>=0;u--){var s=n[u],l=String(t[s]);l&&(l=" "+l),i(a,{type:"preprocessor",data:"#define "+s+l})}return o(a)}},9823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9305),o=n(8813),i=n(9419),a=(r.internal.logger.Logger,r.error.SERVICE_UNAVAILABLE),u=function(){function e(e){var t=void 0===e?{}:e,n=t.maxRetryTimeout,r=void 0===n?3e4:n,o=t.initialDelay,i=void 0===o?1e3:o,a=t.delayMultiplier,u=void 0===a?2:a,l=t.delayJitter,c=void 0===l?.2:l,f=t.logger,d=void 0===f?null:f;this._maxRetryTimeout=s(r,3e4),this._initialDelay=s(i,1e3),this._delayMultiplier=s(u,2),this._delayJitter=s(c,.2),this._logger=d}return e.prototype.retry=function(e){var t=this;return e.pipe((0,i.retryWhen)(function(e){var n=[],u=Date.now(),s=1,l=t._initialDelay;return e.pipe((0,i.mergeMap)(function(e){if(!(0,r.isRetriableError)(e))return(0,o.throwError)(function(){return e});if(n.push(e),s>=2&&Date.now()-u>=t._maxRetryTimeout){var c=(0,r.newError)("Failed after retried for ".concat(s," times in ").concat(t._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return c.seenErrors=n,(0,o.throwError)(function(){return c})}var f=t._computeNextDelay(l);return l*=t._delayMultiplier,s++,t._logger&&t._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,o.of)(1).pipe((0,i.delay)(f))}))}))},e.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},e}();function s(e,t){return e||0===e?e:t}t.default=u},9843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=n(9445),o=n(2483),i=n(7843),a=n(3111);t.retryWhen=function(e){return i.operate(function(t,n){var i,u,s=!1,l=function(){i=t.subscribe(a.createOperatorSubscriber(n,void 0,void 0,function(t){u||(u=new o.Subject,r.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(n,function(){return i?l():s=!0}))),u&&u.next(t)})),s&&(i.unsubscribe(),i=null,s=!1,l())};l()})}},9857:function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,n)||this;return n&&(r._originalErrorHandler=t._errorHandler,t._errorHandler=r._errorHandler),r._delegate=t,r}return r(t,e),t.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},t.prototype.run=function(e,t,n){return this._delegate.run(e,t,n)},t.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,t,n,r){return this._delegate.connect(e,t,n,r)},t.prototype.write=function(e,t,n){return this._delegate.write(e,t,n)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},t}(o(n(6385)).default);t.default=i},9938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=n(9135),o=n(1018);t.concatMapTo=function(e,t){return o.isFunction(t)?r.concatMap(function(){return e},t):r.concatMap(function(){return e})}},9975:(e,t,n)=>{var r=n(7101),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var u=e[n];r(u)?t=o.call(t,i.call(u)):t.push(u)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},9994:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7449));t.default=r({},i.default)}},Fv={};function Uv(e){var t=Fv[e];if(void 0!==t)return t.exports;var n=Fv[e]={id:e,loaded:!1,exports:{}};return Lv[e].call(n.exports,n,n.exports,Uv),n.loaded=!0,n.exports}Uv.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return Uv.d(t,{a:t}),t},Uv.d=(e,t)=>{for(var n in t)Uv.o(t,n)&&!Uv.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Uv.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(om){if("object"==typeof window)return window}}(),Uv.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Uv.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var Bv=Uv(5250),zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function Vv(e,t){function n(){this.constructor=e}zv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Wv=function(){function e(e){void 0===e&&(e="Atom@"+Ng()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=nm.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.reportObserved=function(){xm(this)},e.prototype.reportChanged=function(){Om(),function(e){if(e.lowestObserverState!==nm.STALE){e.lowestObserverState=nm.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===nm.UP_TO_DATE&&(r.isTracing!==rm.NONE&&Sm(r,e),r.onBecomeStale()),r.dependenciesState=nm.STALE}}}(this),Em()},e.prototype.toString=function(){return this.name},e}(),Hv=function(e){function t(t,n,r){void 0===t&&(t="Atom@"+Ng()),void 0===n&&(n=Bg),void 0===r&&(r=Bg);var o=e.call(this,t)||this;return o.name=t,o.onBecomeObservedHandler=n,o.onBecomeUnobservedHandler=r,o.isPendingUnobservation=!1,o.isBeingTracked=!1,o}return Vv(t,e),t.prototype.reportObserved=function(){return Om(),e.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),Em(),!!um.trackingDerivation},t.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},t}(Wv),qv=Qg("Atom",Wv);function Gv(e){return e.interceptors&&e.interceptors.length>0}function Yv(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),Ug(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Xv(e,t){var n=Mm();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(Dg(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{Dm(n)}}function Kv(e){return e.changeListeners&&e.changeListeners.length>0}function Zv(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),Ug(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function $v(e,t){var n=Mm(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);Dm(n)}}function Qv(){return!!um.spyListeners.length}function Jv(e){if(um.spyListeners.length)for(var t=um.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function ey(e){Jv(qg({},e,{spyReportStart:!0}))}var ty={spyReportEnd:!0};function ny(e){Jv(e?qg({},e,ty):ty)}function ry(e){return um.spyListeners.push(e),Ug(function(){var t=um.spyListeners.indexOf(e);-1!==t&&um.spyListeners.splice(t,1)})}var oy="__$$iterating";function iy(e){Dg(!0!==e[oy],"Illegal state: cannot recycle array as iterator"),Kg(e,oy,!0);var t=-1;return Kg(e,"next",function(){return{done:++t>=this.length,value:t<this.length?this[t]:void 0}}),e}function ay(e,t){Kg(e,"function"==typeof Symbol&&Symbol.iterator||"@@iterator",t)}var uy,sy,ly=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),cy=0,fy=function(){};uy=fy,sy=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(uy.prototype,sy):void 0!==uy.prototype.__proto__?uy.prototype.__proto__=sy:uy.prototype=sy,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(fy.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var dy=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new Wv(e||"ObservableArray@"+Ng()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Yv(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Zv(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>cy&&gy(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;jm(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=[]),Gv(this)){var i=Xv(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!i)return Rg;t=i.removedCount,n=i.added}var a=(n=n.map(function(e){return r.enhancer(e,void 0)})).length-t;this.updateArrayLength(o,a);var u=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(r=this.values).splice.apply(r,[e,t].concat(n));var r,o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&Qv(),o=Kv(this),i=o||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&ey(i),this.atom.reportChanged(),o&&$v(this,i),r&&ny()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&Qv(),o=Kv(this),i=o||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&ey(i),this.atom.reportChanged(),o&&$v(this,i),r&&ny()},e}(),hy=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableArray@"+Ng()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new dy(r,n,i,o);return Kg(i,"$mobx",a),t&&t.length&&i.spliceWithArray(0,0,t),ly&&Object.defineProperty(a.array,"0",py),i}return Vv(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return by(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,o=this.$mobx.values;r=e<t?o.slice(0,e).concat(o.slice(e+1,t+1),[o[e]],o.slice(t+1)):o.slice(0,t).concat([o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){jm(n.atom);var o=r[e];if(Gv(n)){var i=Xv(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(fy);ay(hy.prototype,function(){return iy(this.slice())}),Object.defineProperty(hy.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];Dg("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),Xg(hy.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)Xg(e,t[n],e[t[n]])}(hy.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var py=vy(0);function vy(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function yy(e){Object.defineProperty(hy.prototype,""+e,vy(e))}function gy(e){for(var t=cy;t<e;t++)yy(t);cy=e}gy(1e3);var my=Qg("ObservableArrayAdministration",dy);function by(e){return Wg(e)&&my(e.$mobx)}var _y={},wy=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableValue@"+Ng()),void 0===o&&(o=!0);var i=e.call(this,r)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.dehancer=void 0,i.value=n(t,void 0,r),o&&Qv()&&Jv({type:"create",object:i,newValue:i.value}),i}return Vv(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==_y){var n=Qv();n&&ey({type:"update",object:this,newValue:e,oldValue:t}),this.setNewValue(e),n&&ny()}},t.prototype.prepareNewValue=function(e){if(jm(this),Gv(this)){var t=Xv(this,{object:this,type:"update",newValue:e});if(!t)return _y;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:_y},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Kv(this)&&$v(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Yv(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Zv(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return tm(this.get())},t}(Wv);wy.prototype[em()]=wy.prototype.valueOf;var Oy=Qg("ObservableValue",wy),Ey={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:'Hi there! I\'m sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error("Oops")` instead of `throw "Oops"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n',m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"};function xy(e){return Ey[e]}function Sy(e,t){Dg("function"==typeof t,xy("m026")),Dg("string"==typeof e&&e.length>0,"actions should have valid names, got: '"+e+"'");var n=function(){return Py(e,t,this,arguments)};return n.originalFn=t,n.isMobxAction=!0,n}function Py(e,t,n,r){var o=function(e,t,n,r){var o=Qv()&&!!e,i=0;if(o){i=Date.now();var a=r&&r.length||0,u=new Array(a);if(a>0)for(var s=0;s<a;s++)u[s]=r[s];ey({type:"action",name:e,fn:t,object:n,arguments:u})}var l=Mm();return Om(),{prevDerivation:l,prevAllowStateChanges:Cy(!0),notifySpy:o,startTime:i}}(e,t,n,r);try{return t.apply(n,r)}finally{!function(e){ky(e.prevAllowStateChanges),Em(),Dm(e.prevDerivation),e.notifySpy&&ny({time:Date.now()-e.startTime})}(o)}}function Ty(e){Dg(null===um.trackingDerivation,xy("m028")),um.strictMode=e,um.allowStateChanges=!e}function Cy(e){var t=um.allowStateChanges;return um.allowStateChanges=e,t}function ky(e){um.allowStateChanges=e}function Ay(e,t,n,r,o){function i(i,a,u,s,l){if(void 0===l&&(l=0),Dg(o||Iy(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),u){Yg(i,"__mobxLazyInitializers")||Xg(i,"__mobxLazyInitializers",i.__mobxLazyInitializers&&i.__mobxLazyInitializers.slice()||[]);var c=u.value,f=u.initializer;return i.__mobxLazyInitializers.push(function(t){e(t,a,f?f.call(t):c,s,u)}),{enumerable:r,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&Ry(this),t.call(this,a)},set:function(e){!0!==this.__mobxDidRunLazyInitializers&&Ry(this),n.call(this,a,e)}}}var d={enumerable:r,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]||jy(this,a,void 0,e,s,u),t.call(this,a)},set:function(t){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]?n.call(this,a,t):jy(this,a,t,e,s,u)}};return(arguments.length<3||5===arguments.length&&l<3)&&Object.defineProperty(i,a,d),d}return o?function(){if(Iy(arguments))return i.apply(null,arguments);var e=arguments,t=arguments.length;return function(n,r,o){return i(n,r,o,e,t)}}:i}function jy(e,t,n,r,o,i){Yg(e,"__mobxInitializedProps")||Xg(e,"__mobxInitializedProps",{}),e.__mobxInitializedProps[t]=!0,r(e,t,n,o,i)}function Ry(e){!0!==e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers&&(Xg(e,"__mobxDidRunLazyInitializers",!0),e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers.forEach(function(t){return t(e)}))}function Iy(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]}var Ny=Ay(function(e,t,n,r,o){var i=r&&1===r.length?r[0]:n.name||t||"<unnamed action>";Xg(e,t,Dy(i,n))},function(e){return this[e]},function(){Dg(!1,xy("m001"))},!1,!0),My=Ay(function(e,t,n){Uy(e,t,n)},function(e){return this[e]},function(){Dg(!1,xy("m001"))},!1,!1),Dy=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Sy(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Sy(e,t):1===arguments.length&&"string"==typeof e?Ly(e):Ly(t).apply(null,arguments)};function Ly(e){return function(t,n,r){if(r&&"function"==typeof r.value)return r.value=Sy(e,r.value),r.enumerable=!1,r.configurable=!0,r;if(void 0!==r&&void 0!==r.get)throw new Error("[mobx] action is not expected to be used with getters");return Ny(e).apply(this,arguments)}}function Fy(e){return"function"==typeof e&&!0===e.isMobxAction}function Uy(e,t,n){var r=function(){return Py(t,n,e,arguments)};r.isMobxAction=!0,Xg(e,t,r)}Dy.bound=function(e,t,n){if("function"==typeof e){var r=Sy("<not yet bound action>",e);return r.autoBind=!0,r}return My.apply(null,arguments)};var By=Object.prototype.toString;function zy(e,t){return Vy(e,t)}function Vy(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,n,r){e=Wy(e),t=Wy(t);var o=By.call(e);if(o!==By.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!("function"==typeof a&&a instanceof a&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),i){if((s=e.length)!==t.length)return!1;for(;s--;)if(!Vy(e[s],t[s],n,r))return!1}else{var l,c=Object.keys(e);if(s=c.length,Object.keys(t).length!==s)return!1;for(;s--;)if(!Hy(t,l=c[s])||!Vy(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function Wy(e){return by(e)?e.peek():jg(e)?e.entries():Jg(e)?function(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}(e.entries()):e}function Hy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qy(e,t){return e===t}var Gy={identity:qy,structural:function(e,t){return zy(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||qy(e,t)}};function Yy(e,t,n){var r,o,i;"string"==typeof e?(r=e,o=t,i=n):(r=e.name||"Autorun@"+Ng(),o=e,i=t),Dg("function"==typeof o,xy("m004")),Dg(!1===Fy(o),xy("m005")),i&&(o=o.bind(i));var a=new Bm(r,function(){this.track(u)});function u(){o(a)}return a.schedule(),a.getDisposer()}function Xy(e,t,n){var r;arguments.length>3&&Mg(xy("m007")),wg(e)&&Mg(xy("m008")),(r="object"==typeof n?n:{}).name=r.name||e.name||t.name||"Reaction@"+Ng(),r.fireImmediately=!0===n||!0===r.fireImmediately,r.delay=r.delay||0,r.compareStructural=r.compareStructural||r.struct||!1,t=Dy(r.name,r.context?t.bind(r.context):t),r.context&&(e=e.bind(r.context));var o,i=!0,a=!1,u=r.equals?r.equals:r.compareStructural||r.struct?Gy.structural:Gy.default,s=new Bm(r.name,function(){i||r.delay<1?l():a||(a=!0,setTimeout(function(){a=!1,l()},r.delay))});function l(){if(!s.isDisposed){var n=!1;s.track(function(){var t=e(s);n=i||!u(o,t),o=t}),i&&r.fireImmediately&&t(o,s),i||!0!==n||t(o,s),i&&(i=!1)}}return s.schedule(),s.getDisposer()}var Ky=function(){function e(e,t,n,r,o){this.derivation=e,this.scope=t,this.equals=n,this.dependenciesState=nm.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=nm.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Ng(),this.value=new Tm(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=rm.NONE,this.name=r||"ComputedValue@"+Ng(),o&&(this.setter=Sy(r+"-setter",o))}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===nm.UP_TO_DATE){e.lowestObserverState=nm.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===nm.UP_TO_DATE&&(r.dependenciesState=nm.POSSIBLY_STALE,r.isTracing!==rm.NONE&&Sm(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){Im(this),this.value=void 0},e.prototype.get=function(){Dg(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===um.inBatch?(Om(),km(this)&&(this.isTracing!==rm.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),Em()):(xm(this),km(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==nm.STALE){e.lowestObserverState=nm.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===nm.POSSIBLY_STALE?r.dependenciesState=nm.STALE:r.dependenciesState===nm.UP_TO_DATE&&(e.lowestObserverState=nm.UP_TO_DATE)}}}(this));var e=this.value;if(Cm(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Cm(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){Dg(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Dg(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){Qv()&&Jv({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===nm.NOT_TRACKING,n=this.value=this.computeValue(!0);return t||Cm(e)||Cm(n)||!this.equals(e,n)},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,um.computationDepth++,e)t=Rm(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Tm(e)}return um.computationDepth--,this.isComputing=!1,t},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Yy(function(){var i=n.get();if(!r||t){var a=Mm();e({type:"update",object:n,newValue:i,oldValue:o}),Dm(a)}r=!1,o=i})},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return tm(this.get())},e.prototype.whyRun=function(){var e=Boolean(um.trackingDerivation),t=zg(this.isComputing?this.newObserving:this.observing).map(function(e){return e.name}),n=zg(mm(this).map(function(e){return e.name}));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===nm.NOT_TRACKING?xy("m032"):" * This computation will re-run if any of the following observables changes:\n    "+Vg(t)+"\n    "+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+xy("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+Vg(n)+"\n")},e}();Ky.prototype[em()]=Ky.prototype.valueOf;var Zy=Qg("ComputedValue",Ky),$y=function(){function e(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return e.prototype.observe=function(e,t){return Dg(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),Zv(this,e)},e.prototype.intercept=function(e){return Yv(this,e)},e}();function Qy(e,t){if(ug(e)&&e.hasOwnProperty("$mobx"))return e.$mobx;Dg(Object.isExtensible(e),xy("m035")),Hg(e)||(t=(e.constructor.name||"ObservableObject")+"@"+Ng()),t||(t="ObservableObject@"+Ng());var n=new $y(e,t);return Kg(e,"$mobx",n),n}function Jy(e,t,n,r){if(e.values[t]&&!Zy(e.values[t]))return Dg("value"in n,"The property "+t+" in "+e.name+" is already observable, cannot redefine it as computed property"),void(e.target[t]=n.value);if("value"in n)if(wg(n.value)){var o=n.value;eg(e,t,o.initialValue,o.enhancer)}else Fy(n.value)&&!0===n.value.autoBind?Uy(e.target,t,n.value.originalFn):Zy(n.value)?function(e,t,n){var r=e.name+"."+t;n.name=r,n.scope||(n.scope=e.target),e.values[t]=n,Object.defineProperty(e.target,t,og(t))}(e,t,n.value):eg(e,t,n.value,r);else tg(e,t,n.get,n.set,Gy.default,!0)}function eg(e,t,n,r){if($g(e.target,t),Gv(e)){var o=Xv(e,{object:e.target,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(e.values[t]=new wy(n,r,e.name+"."+t,!1)).value,Object.defineProperty(e.target,t,function(e){return ng[e]||(ng[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[e].get()},set:function(t){ig(this,e,t)}})}(t)),function(e,t,n,r){var o=Kv(e),i=Qv(),a=o||i?{type:"add",object:t,name:n,newValue:r}:null;i&&ey(a),o&&$v(e,a),i&&ny()}(e,e.target,t,n)}function tg(e,t,n,r,o,i){i&&$g(e.target,t),e.values[t]=new Ky(n,e.target,o,e.name+"."+t,r),i&&Object.defineProperty(e.target,t,og(t))}var ng={},rg={};function og(e){return rg[e]||(rg[e]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[e].get()},set:function(t){return this.$mobx.values[e].set(t)}})}function ig(e,t,n){var r=e.$mobx,o=r.values[t];if(Gv(r)){if(!(u=Xv(r,{type:"update",object:e,name:t,newValue:n})))return;n=u.newValue}if((n=o.prepareNewValue(n))!==_y){var i=Kv(r),a=Qv(),u=i||a?{type:"update",object:e,oldValue:o.value,name:t,newValue:n}:null;a&&ey(u),o.setNewValue(n),i&&$v(r,u),a&&ny()}}var ag=Qg("ObservableObjectAdministration",$y);function ug(e){return!!Wg(e)&&(Ry(e),ag(e.$mobx))}function sg(e,t){if(null==e)return!1;if(void 0!==t){if(by(e)||jg(e))throw new Error(xy("m019"));if(ug(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return ug(e)||!!e.$mobx||qv(e)||Gm(e)||Zy(e)}function lg(e){return Dg(!!e,":("),Ay(function(t,n,r,o,i){$g(t,n),Dg(!i||!i.get,xy("m022")),eg(Qy(t,void 0),n,r,e)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){ig(this,e,t)},!0,!1)}function cg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return dg(e,Eg,t)}function fg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return dg(e,Sg,t)}function dg(e,t,n){Dg(arguments.length>=2,xy("m014")),Dg("object"==typeof e,xy("m015")),Dg(!jg(e),xy("m016")),n.forEach(function(e){Dg("object"==typeof e,xy("m017")),Dg(!sg(e),xy("m018"))});for(var r=Qy(e),o={},i=n.length-1;i>=0;i--){var a=n[i];for(var u in a)if(!0!==o[u]&&Yg(a,u)){if(o[u]=!0,e===a&&!Zg(e,u))continue;Jy(r,u,Object.getOwnPropertyDescriptor(a,u),t)}}return e}var hg=lg(Eg),pg=lg(xg),vg=lg(Sg),yg=lg(Pg),gg=lg(Tg),mg={box:function(e,t){return arguments.length>2&&_g("box"),new wy(e,Eg,t)},shallowBox:function(e,t){return arguments.length>2&&_g("shallowBox"),new wy(e,Sg,t)},array:function(e,t){return arguments.length>2&&_g("array"),new hy(e,Eg,t)},shallowArray:function(e,t){return arguments.length>2&&_g("shallowArray"),new hy(e,Sg,t)},map:function(e,t){return arguments.length>2&&_g("map"),new Ag(e,Eg,t)},shallowMap:function(e,t){return arguments.length>2&&_g("shallowMap"),new Ag(e,Sg,t)},object:function(e,t){arguments.length>2&&_g("object");var n={};return Qy(n,t),cg(n,e),n},shallowObject:function(e,t){arguments.length>2&&_g("shallowObject");var n={};return Qy(n,t),fg(n,e),n},ref:function(){return arguments.length<2?Og(Sg,arguments[0]):vg.apply(null,arguments)},shallow:function(){return arguments.length<2?Og(xg,arguments[0]):pg.apply(null,arguments)},deep:function(){return arguments.length<2?Og(Eg,arguments[0]):hg.apply(null,arguments)},struct:function(){return arguments.length<2?Og(Pg,arguments[0]):yg.apply(null,arguments)}},bg=function(e){if(void 0===e&&(e=void 0),"string"==typeof arguments[1])return hg.apply(null,arguments);if(Dg(arguments.length<=1,xy("m021")),Dg(!wg(e),xy("m020")),sg(e))return e;var t=Eg(e,0,void 0);return t!==e?t:bg.box(e)};function _g(e){Mg("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function wg(e){return"object"==typeof e&&null!==e&&!0===e.isMobxModifierDescriptor}function Og(e,t){return Dg(!wg(t),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:t,enhancer:e}}function Eg(e,t,n){return wg(e)&&Mg("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),sg(e)?e:Array.isArray(e)?bg.array(e,n):Hg(e)?bg.object(e,n):Jg(e)?bg.map(e,n):e}function xg(e,t,n){return wg(e)&&Mg("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),null==e||ug(e)||by(e)||jg(e)?e:Array.isArray(e)?bg.shallowArray(e,n):Hg(e)?bg.shallowObject(e,n):Jg(e)?bg.shallowMap(e,n):Mg("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function Sg(e){return e}function Pg(e,t,n){if(zy(e,t))return t;if(sg(e))return e;if(Array.isArray(e))return new hy(e,Pg,n);if(Jg(e))return new Ag(e,Pg,n);if(Hg(e)){var r={};return Qy(r,n),dg(r,Pg,[e]),r}return e}function Tg(e,t,n){return zy(e,t)?t:e}function Cg(e,t){void 0===t&&(t=void 0),Om();try{return e.apply(t)}finally{Em()}}Object.keys(mg).forEach(function(e){return bg[e]=mg[e]}),bg.deep.struct=bg.struct,bg.ref.struct=function(){return arguments.length<2?Og(Tg,arguments[0]):gg.apply(null,arguments)};var kg={},Ag=function(){function e(e,t,n){void 0===t&&(t=Eg),void 0===n&&(n="ObservableMap@"+Ng()),this.enhancer=t,this.name=n,this.$mobx=kg,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new hy(void 0,Sg,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return e.prototype._has=function(e){return void 0!==this._data[e]},e.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},e.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var n=this._has(e);if(Gv(this)){var r=Xv(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,Gv(this)&&!(o=Xv(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Qv(),r=Kv(this),o=r||n?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return n&&ey(o),Cg(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data[e].setNewValue(void 0),t._data[e]=void 0}),r&&$v(this,o),n&&ny(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.setNewValue(t):n=this._hasMap[e]=new wy(t,Sg,this.name+"."+e+"?",!1),n},e.prototype._updateValue=function(e,t){var n=this._data[e];if((t=n.prepareNewValue(t))!==_y){var r=Qv(),o=Kv(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&ey(i),n.setNewValue(t),o&&$v(this,i),r&&ny()}},e.prototype._addValue=function(e,t){var n=this;Cg(function(){var r=n._data[e]=new wy(t,n.enhancer,n.name+"."+e,!1);t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var r=Qv(),o=Kv(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&ey(i),o&&$v(this,i),r&&ny()},e.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return iy(this._keys.slice())},e.prototype.values=function(){return iy(this._keys.map(this.get,this))},e.prototype.entries=function(){var e=this;return iy(this._keys.map(function(t){return[t,e.get(t)]}))},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(r){return e.call(t,n.get(r),r,n)})},e.prototype.merge=function(e){var t=this;return jg(e)&&(e=e.toJS()),Cg(function(){Hg(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):Jg(e)?e.forEach(function(e,n){return t.set(n,e)}):null!=e&&Mg("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;Cg(function(){Nm(function(){e.keys().forEach(e.delete,e)})})},e.prototype.replace=function(e){var t=this;return Cg(function(){var n,r=Hg(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return e[0]}):Jg(n)?Array.from(n.keys()):jg(n)?n.keys():Mg("Cannot get keys from "+n);t.keys().filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJS=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},e.prototype.toJSON=function(){return this.toJS()},e.prototype.isValidKey=function(e){return null!=e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return Dg(!0!==t,xy("m033")),Zv(this,e)},e.prototype.intercept=function(e){return Yv(this,e)},e}();ay(Ag.prototype,function(){return this.entries()});var jg=Qg("ObservableMap",Ag),Rg=[];function Ig(){return"undefined"!=typeof window?window:Uv.g}function Ng(){return++um.mobxGuid}function Mg(e,t){throw Dg(!1,e,t),"X"}function Dg(e,t,n){if(!e)throw new Error("[mobx] Invariant failed: "+t+(n?" in '"+n+"'":""))}Object.freeze(Rg);var Lg=[];function Fg(e){return-1===Lg.indexOf(e)&&(Lg.push(e),console.error("[mobx] Deprecated: "+e),!0)}function Ug(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Bg=function(){};function zg(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function Vg(e,t,n){return void 0===t&&(t=100),void 0===n&&(n=" - "),e?e.slice(0,t).join(n)+(e.length>t?" (... and "+(e.length-t)+"more)":""):""}function Wg(e){return null!==e&&"object"==typeof e}function Hg(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function qg(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var o in r)Yg(r,o)&&(e[o]=r[o])}return e}var Gg=Object.prototype.hasOwnProperty;function Yg(e,t){return Gg.call(e,t)}function Xg(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Kg(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Zg(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function $g(e,t){Dg(Zg(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function Qg(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Wg(e)&&!0===e[n]}}function Jg(e){return void 0!==Ig().Map&&e instanceof Ig().Map}function em(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function tm(e){return null===e?null:"object"==typeof e?""+e:e}var nm,rm,om,im=["mobxGuid","resetId","spyListeners","strictMode","runId"],am=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},um=new am,sm=!1,lm=!1,cm=!1,fm=Ig();function dm(e,t){if("object"==typeof e&&null!==e){if(by(e))return Dg(void 0===t,xy("m036")),e.$mobx.atom;if(jg(e)){var n=e;return void 0===t?dm(n._keys):(Dg(!!(r=n._data[t]||n._hasMap[t]),"the entry '"+t+"' does not exist in the observable map '"+pm(e)+"'"),r)}var r;if(Ry(e),t&&!e.$mobx&&e[t],ug(e))return t?(Dg(!!(r=e.$mobx.values[t]),"no observable property '"+t+"' found on the observable object '"+pm(e)+"'"),r):Mg("please specify a property");if(qv(e)||Zy(e)||Gm(e))return e}else if("function"==typeof e&&Gm(e.$mobx))return e.$mobx;return Mg("Cannot obtain atom from "+e)}function hm(e,t){return Dg(e,"Expecting some object"),void 0!==t?hm(dm(e,t)):qv(e)||Zy(e)||Gm(e)||jg(e)?e:(Ry(e),e.$mobx?e.$mobx:void Dg(!1,"Cannot obtain administration from "+e))}function pm(e,t){return(void 0!==t?dm(e,t):ug(e)||jg(e)?hm(e):dm(e)).name}function vm(e,t){return ym(dm(e,t))}function ym(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=zg(e.observing).map(ym)),t}function gm(e){var t={name:e.name};return function(e){return e.observers&&e.observers.length>0}(e)&&(t.observers=mm(e).map(gm)),t}function mm(e){return e.observers}function bm(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function _m(e,t){if(1===e.observers.length)e.observers.length=0,wm(e);else{var n=e.observers,r=e.observersIndexes,o=n.pop();if(o!==t){var i=r[t.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[t.__mapid]}}function wm(e){e.isPendingUnobservation||(e.isPendingUnobservation=!0,um.pendingUnobservations.push(e))}function Om(){um.inBatch++}function Em(){if(0===--um.inBatch){Hm();for(var e=um.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved()}um.pendingUnobservations=[]}}function xm(e){var t=um.trackingDerivation;null!==t?t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e):0===e.observers.length&&wm(e)}function Sm(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===rm.BREAK){var n=[];Pm(vm(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Ky?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Pm(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return Pm(e,t,n+1)}))}fm.__mobxInstanceCount?(fm.__mobxInstanceCount++,setTimeout(function(){sm||lm||cm||(cm=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):fm.__mobxInstanceCount=1,(om=nm||(nm={}))[om.NOT_TRACKING=-1]="NOT_TRACKING",om[om.UP_TO_DATE=0]="UP_TO_DATE",om[om.POSSIBLY_STALE=1]="POSSIBLY_STALE",om[om.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(rm||(rm={}));var Tm=function(e){this.cause=e};function Cm(e){return e instanceof Tm}function km(e){switch(e.dependenciesState){case nm.UP_TO_DATE:return!1;case nm.NOT_TRACKING:case nm.STALE:return!0;case nm.POSSIBLY_STALE:for(var t=Mm(),n=e.observing,r=n.length,o=0;o<r;o++){var i=n[o];if(Zy(i)){try{i.get()}catch(e){return Dm(t),!0}if(e.dependenciesState===nm.STALE)return Dm(t),!0}}return Lm(e),Dm(t),!1}}function Am(){return null!==um.trackingDerivation}function jm(e){var t=e.observers.length>0;um.computationDepth>0&&t&&Mg(xy("m031")+e.name),!um.allowStateChanges&&t&&Mg(xy(um.strictMode?"m030a":"m030b")+e.name)}function Rm(e,t,n){Lm(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++um.runId;var r,o=um.trackingDerivation;um.trackingDerivation=e;try{r=t.call(n)}catch(e){r=new Tm(e)}return um.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=nm.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(u=n[a]).diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(u=t[i]).diffValue&&_m(u,e),u.diffValue=0;for(;o--;){var u;1===(u=n[o]).diffValue&&(u.diffValue=0,bm(u,e))}r!==nm.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),r}function Im(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)_m(t[n],e);e.dependenciesState=nm.NOT_TRACKING}function Nm(e){var t=Mm(),n=e();return Dm(t),n}function Mm(){var e=um.trackingDerivation;return um.trackingDerivation=null,e}function Dm(e){um.trackingDerivation=e}function Lm(e){if(e.dependenciesState!==nm.UP_TO_DATE){e.dependenciesState=nm.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=nm.UP_TO_DATE}}function Fm(e){return console.log(e),e}function Um(e){switch(e.length){case 0:return um.trackingDerivation;case 1:return dm(e[0]);case 2:return dm(e[0],e[1])}}var Bm=function(){function e(e,t){void 0===e&&(e="Reaction@"+Ng()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=nm.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Ng(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=rm.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,um.pendingReactions.push(this),Hm())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(Om(),this._isScheduled=!1,km(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&Qv()&&Jv({object:this,type:"scheduled-reaction"})),Em())},e.prototype.track=function(e){Om();var t,n=Qv();n&&(t=Date.now(),ey({object:this,type:"reaction",fn:e})),this._isRunning=!0;var r=Rm(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Im(this),Cm(r)&&this.reportExceptionInDerivation(r.cause),n&&ny({time:Date.now()-t}),Em()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,r=xy("m037");console.error(n||r,e),Qv()&&Jv({type:"error",message:n,error:e,object:this}),um.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Om(),Im(this),Em()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=zm,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.whyRun=function(){var e=zg(this._isRunning?this.newObserving:this.observing).map(function(e){return e.name});return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+Vg(e)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+xy("m038")+"\n"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Um(e);if(!r)return Mg("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===rm.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?rm.BREAK:rm.LOG}(this,e)},e}();function zm(e){Dg(this&&this.$mobx&&Gm(this.$mobx),"Invalid `this`"),Dg(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=e}var Vm=100,Wm=function(e){return e()};function Hm(){um.inBatch>0||um.isRunningReactions||Wm(qm)}function qm(){um.isRunningReactions=!0;for(var e=um.pendingReactions,t=0;e.length>0;){++t===Vm&&(console.error("Reaction doesn't converge to a stable state after "+Vm+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}um.isRunningReactions=!1}var Gm=Qg("Reaction",Bm);function Ym(e){return Ay(function(t,n,r,o,i){Dg(void 0!==i,xy("m009")),Dg("function"==typeof i.get,xy("m010")),tg(Qy(t,""),n,i.get,i.set,e,!1)},function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()},function(e,t){this.$mobx.values[e].set(t)},!1,!1)}var Xm=Ym(Gy.default),Km=Ym(Gy.structural),Zm=function(e,t,n){if("string"==typeof t)return Xm.apply(null,arguments);Dg("function"==typeof e,xy("m011")),Dg(arguments.length<3,xy("m012"));var r="object"==typeof t?t:{};r.setter="function"==typeof t?t:r.setter;var o=r.equals?r.equals:r.compareStructural||r.struct?Gy.structural:Gy.default;return new Ky(e,r.context,o,r.name||e.name||"",r.setter)};function $m(e,t,n){function r(r){return t&&n.push([e,r]),r}if(void 0===t&&(t=!0),void 0===n&&(n=[]),sg(e)){if(t&&null===n&&(n=[]),t&&null!==e&&"object"==typeof e)for(var o=0,i=n.length;o<i;o++)if(n[o][0]===e)return n[o][1];if(by(e)){var a=r([]),u=e.map(function(e){return $m(e,t,n)});for(a.length=u.length,o=0,i=u.length;o<i;o++)a[o]=u[o];return a}if(ug(e)){for(var s in a=r({}),e)a[s]=$m(e[s],t,n);return a}if(jg(e)){var l=r({});return e.forEach(function(e,r){return l[r]=$m(e,t,n)}),l}if(Oy(e))return $m(e.get(),t,n)}return e}Zm.struct=Km,Zm.equals=Ym;var Qm={allowStateChanges:function(e,t){var n,r=Cy(e);try{n=t()}finally{ky(r)}return n},deepEqual:zy,getAtom:dm,getDebugName:pm,getDependencyTree:vm,getAdministration:hm,getGlobalState:function(){return um},getObserverTree:function(e,t){return gm(dm(e,t))},interceptReads:function(e,t,n){var r;if(jg(e)||by(e)||Oy(e))r=hm(e);else{if(!ug(e))return Mg("Expected observable map, object or array as first array");if("string"!=typeof t)return Mg("InterceptReads can only be used with a specific property, not with an object in general");r=hm(e,t)}return void 0!==r.dehancer?Mg("An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})},isComputingDerivation:Am,isSpyEnabled:Qv,onReactionError:function(e){return um.globalReactionErrorHandlers.push(e),function(){var t=um.globalReactionErrorHandlers.indexOf(e);t>=0&&um.globalReactionErrorHandlers.splice(t,1)}},reserveArrayBuffer:gy,resetGlobalState:function(){um.resetId++;var e=new am;for(var t in e)-1===im.indexOf(t)&&(um[t]=e[t]);um.allowStateChanges=!um.strictMode},isolateGlobalState:function(){lm=!0,Ig().__mobxInstanceCount--},shareGlobalState:function(){Fg("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),sm=!0;var e=Ig(),t=um;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==t.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");e.__mobxGlobal?um=e.__mobxGlobal:e.__mobxGlobal=t},spyReport:Jv,spyReportEnd:ny,spyReportStart:ey,setReactionScheduler:function(e){var t=Wm;Wm=function(n){return e(function(){return t(n)})}}},Jm={Reaction:Bm,untracked:Nm,Atom:Hv,BaseAtom:Wv,useStrict:Ty,isStrictModeEnabled:function(){return um.strictMode},spy:ry,comparer:Gy,asReference:function(e){return Fg("asReference is deprecated, use observable.ref instead"),bg.ref(e)},asFlat:function(e){return Fg("asFlat is deprecated, use observable.shallow instead"),bg.shallow(e)},asStructure:function(e){return Fg("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),bg.struct(e)},asMap:function(e){return Fg("asMap is deprecated, use observable.map or observable.shallowMap instead"),bg.map(e||{})},isModifierDescriptor:wg,isObservableObject:ug,isBoxedObservable:Oy,isObservableArray:by,ObservableMap:Ag,isObservableMap:jg,map:function(e){return Fg("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),bg.map(e)},transaction:Cg,observable:bg,computed:Zm,isObservable:sg,isComputed:function(e,t){if(null==e)return!1;if(void 0!==t){if(!1===ug(e))return!1;if(!e.$mobx.values[t])return!1;var n=dm(e,t);return Zy(n)}return Zy(e)},extendObservable:cg,extendShallowObservable:fg,observe:function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return hm(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return hm(e).observe(t,n)}(e,t,n)},intercept:function(e,t,n){return"function"==typeof n?function(e,t,n){return hm(e,t).intercept(n)}(e,t,n):function(e,t){return hm(e).intercept(t)}(e,t)},autorun:Yy,autorunAsync:function(e,t,n,r){var o,i,a,u;"string"==typeof e?(o=e,i=t,a=n,u=r):(o=e.name||"AutorunAsync@"+Ng(),i=e,a=t,u=n),Dg(!1===Fy(i),xy("m006")),void 0===a&&(a=1),u&&(i=i.bind(u));var s=!1,l=new Bm(o,function(){s||(s=!0,setTimeout(function(){s=!1,l.isDisposed||l.track(c)},a))});function c(){i(l)}return l.schedule(),l.getDisposer()},when:function(e,t,n,r){var o,i,a,u;return"string"==typeof e?(o=e,i=t,a=n,u=r):(o="When@"+Ng(),i=e,a=t,u=n),Yy(o,function(e){if(i.call(u)){e.dispose();var t=Mm();a.call(u),Dm(t)}})},reaction:Xy,action:Dy,isAction:Fy,runInAction:function(e,t,n){var r="string"==typeof e?e:e.name||"<unnamed action>",o="function"==typeof e?e:t,i="function"==typeof e?t:n;return Dg("function"==typeof o,xy("m002")),Dg(0===o.length,xy("m003")),Dg("string"==typeof r&&r.length>0,"actions should have valid names, got: '"+r+"'"),Py(r,o,i,void 0)},expr:function(e,t){return Am()||console.warn(xy("m013")),Zm(e,{context:t}).get()},toJS:$m,createTransformer:function(e,t){Dg("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},r=um.resetId,o=function(r){function o(t,n){var o=r.call(this,function(){return e(n)},void 0,Gy.default,"Transformer-"+e.name+"-"+t,void 0)||this;return o.sourceIdentifier=t,o.sourceObject=n,o}return Vv(o,r),o.prototype.onBecomeUnobserved=function(){var e=this.value;r.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],t&&t(e,this.sourceObject)},o}(Ky);return function(e){r!==um.resetId&&(n={},r=um.resetId);var t=function(e){if("string"==typeof e||"number"==typeof e)return e;if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+e);var t=e.$transformId;return void 0===t&&Xg(e,"$transformId",t=Ng()),t}(e),i=n[t];return i?i.get():(i=n[t]=new o(t,e)).get()}},whyRun:function(e,t){return Fg("`whyRun` is deprecated in favor of `trace`"),(e=Um(arguments))?Zy(e)||Gm(e)?Fm(e.whyRun()):Mg(xy("m025")):Fm(xy("m024"))},isArrayLike:function(e){return Array.isArray(e)||by(e)},extras:Qm},eb=!1,tb=function(e){var t=Jm[e];Object.defineProperty(Jm,e,{get:function(){return eb||(eb=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won\u2019t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),t}})};for(var nb in Jm)tb(nb);function rb(e){return rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(e)}function ob(e){var t=function(e){if("object"!=rb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rb(t)?t:t+""}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ry,extras:Qm});var ib=["onLayoutDone","onLayoutStep","onError","onInitialization","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],ab=function(){return e=function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=ob(n="callbacks"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.callbacks=o},t=[{key:"onInitialization",value:function(){this.isValidFunction(this.callbacks.onInitialization)&&this.callbacks.onInitialization()}},{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(e){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(e)}},{key:"onLayoutComputing",value:function(e){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(e)}},{key:"onError",value:function(e){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(e)}},{key:"onWebGLContextLost",value:function(e){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(e)}},{key:"isValidFunction",value:function(e){return void 0!==e&&"function"==typeof e}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ob(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),ub=Uv(1803),sb=Uv.n(ub),lb={value:()=>{}};function cb(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new fb(r)}function fb(e){this._=e}function db(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function hb(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=lb,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}fb.prototype=cb.prototype={constructor:fb,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<u;)if(n=(e=i[a]).type)o[n]=hb(o[n],e.name,t);else if(null==t)for(n in o)o[n]=hb(o[n],e.name,null);return this}for(;++a<u;)if((n=(e=i[a]).type)&&(n=db(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fb(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const pb=cb;var vb,yb,gb=0,mb=0,bb=0,_b=0,wb=0,Ob=0,Eb="object"==typeof performance&&performance.now?performance:Date,xb="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sb(){return wb||(xb(Pb),wb=Eb.now()+Ob)}function Pb(){wb=0}function Tb(){this._call=this._time=this._next=null}function Cb(e,t,n){var r=new Tb;return r.restart(e,t,n),r}function kb(){wb=(_b=Eb.now())+Ob,gb=mb=0;try{!function(){Sb(),++gb;for(var e,t=vb;t;)(e=wb-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gb}()}finally{gb=0,function(){for(var e,t,n=vb,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:vb=t);yb=e,jb(r)}(),wb=0}}function Ab(){var e=Eb.now(),t=e-_b;t>1e3&&(Ob-=t,_b=e)}function jb(e){gb||(mb&&(mb=clearTimeout(mb)),e-wb>24?(e<1/0&&(mb=setTimeout(kb,e-Eb.now()-Ob)),bb&&(bb=clearInterval(bb))):(bb||(_b=Eb.now(),bb=setInterval(Ab,1e3)),gb=1,xb(kb)))}Tb.prototype=Cb.prototype={constructor:Tb,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Sb():+n)+(null==t?0:+t),this._next||yb===this||(yb?yb._next=this:vb=this,yb=this),this._call=e,this._time=n,jb()},stop:function(){this._call&&(this._call=null,this._time=1/0,jb())}};const Rb=4294967296;function Ib(e){return e.x}function Nb(e){return e.y}var Mb=Math.PI*(3-Math.sqrt(5));function Db(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,u,s,l,c,f,d,h=e._root,p={data:r},v=e._x0,y=e._y0,g=e._x1,m=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(i=(v+g)/2))?v=i:g=i,(c=n>=(a=(y+m)/2))?y=a:m=a,o=h,!(h=h[f=c<<1|l]))return o[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,o?o[f]=p:e._root=p,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(l=t>=(i=(v+g)/2))?v=i:g=i,(c=n>=(a=(y+m)/2))?y=a:m=a}while((f=c<<1|l)==(d=(s>=a)<<1|u>=i));return o[d]=h,o[f]=p,e}function Lb(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Fb(e){return e[0]}function Ub(e){return e[1]}function Bb(e,t,n){var r=new zb(null==t?Fb:t,null==n?Ub:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function zb(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Vb(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Wb=Bb.prototype=zb.prototype;function Hb(e){return function(){return e}}function qb(e){return 1e-6*(e()-.5)}function Gb(){var e,t,n,r,o,i=Hb(-30),a=1,u=1/0,s=.81;function l(n){var o,i=e.length,a=Bb(e,Ib,Nb).visitAfter(f);for(r=n,o=0;o<i;++o)t=e[o],a.visit(d)}function c(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function f(e){var t,n,r,i,a,u=0,s=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,i+=n*t.y);e.x=r/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=o[t.data.index]}while(t=t.next)}e.value=u}function d(e,i,l,c){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,h=c-i,p=f*f+d*d;if(h*h/s<p)return p<u&&(0===f&&(p+=(f=qb(n))*f),0===d&&(p+=(d=qb(n))*d),p<a&&(p=Math.sqrt(a*p)),t.vx+=f*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=qb(n))*f),0===d&&(p+=(d=qb(n))*d),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=o[e.data.index]*r/p,t.vx+=f*h,t.vy+=d*h)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(i="function"==typeof e?e:Hb(+e),c(),l):i},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l.theta=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l}function Yb(e){return e.x+e.vx}function Xb(e){return e.y+e.vy}function Kb(e){return e.index}function Zb(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}Wb.copy=function(){var e,t,n=new zb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Vb(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=Vb(t));return n},Wb.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Db(this.cover(t,n),t,n,e)},Wb.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),u=new Array(i),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,u[n]=o,r<s&&(s=r),r>c&&(c=r),o<l&&(l=o),o>f&&(f=o));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<i;++n)Db(this,a[n],u[n],e[n]);return this},Wb.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,u,s=o-n||1,l=this._root;n>e||e>=o||r>t||t>=i;)switch(u=(t<r)<<1|e<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Wb.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Wb.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Wb.find=function(e,t,n){var r,o,i,a,u,s,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new Lb(v,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>d||(i=s.y0)>h||(a=s.x1)<c||(u=s.y1)<f))if(v.length){var y=(o+a)/2,g=(i+u)/2;p.push(new Lb(v[3],y,g,a,u),new Lb(v[2],o,g,y,u),new Lb(v[1],y,i,a,g),new Lb(v[0],o,i,y,g)),(l=(t>=g)<<1|e>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var m=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);c=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},Wb.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,u,s,l,c,f,d,h=this._root,p=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((l=i>=(u=(p+y)/2))?p=u:y=u,(c=a>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)},Wb.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Wb.root=function(){return this._root},Wb.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Wb.visit=function(e){var t,n,r,o,i,a,u=[],s=this._root;for(s&&u.push(new Lb(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&s.length){var l=(r+i)/2,c=(o+a)/2;(n=s[3])&&u.push(new Lb(n,l,c,i,a)),(n=s[2])&&u.push(new Lb(n,r,c,l,a)),(n=s[1])&&u.push(new Lb(n,l,o,i,c)),(n=s[0])&&u.push(new Lb(n,r,o,l,c))}return this},Wb.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Lb(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,u=t.y0,s=t.x1,l=t.y1,c=(a+s)/2,f=(u+l)/2;(i=o[0])&&n.push(new Lb(i,a,u,c,f)),(i=o[1])&&n.push(new Lb(i,c,u,s,f)),(i=o[2])&&n.push(new Lb(i,a,f,c,l)),(i=o[3])&&n.push(new Lb(i,c,f,s,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Wb.x=function(e){return arguments.length?(this._x=e,this):this._x},Wb.y=function(e){return arguments.length?(this._y=e,this):this._y};var $b=256,Qb=4096,Jb=25,e_="#FFDF81",t_="#818790",n_="#EDEDED",r_="#CFD1D4",o_="#F5F6F6",i_="#8FE3E8",a_="#1A1B1D",u_={position:"absolute",top:0,bottom:0,left:0,right:0},s_=1/.38,l_=function(){return window.devicePixelRatio||1},c_=["NVL_basic-wrapper","NVL_interactive-wrapper"];function f_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function d_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h_=function(e,t){var n=[e,t].sort();return"".concat(n[0],".").concat(n[1])},p_=function(e){var t=new Set;return e.forEach(function(e){var n=e.from,r=e.to,o=h_(n,r);t.has(o)||t.add(o)}),t},v_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n_,n=new Map;return e.forEach(function(e){var t=e.id,r=e.from,o=e.to,i=e.color,a=e.width,u=e.disabled,s=h_(r,o),l=n.get(s);l?l.bundledRels.push({id:t,color:null!=i?i:void 0,disabled:null!=u&&u,width:null!=a?a:1}):n.set(s,{bundledRels:[{id:t,color:null!=i?i:void 0,disabled:null!=u&&u,width:null!=a?a:1}],key:s,from:r,to:o,color:null!=i?i:void 0,disabled:null!=u&&u,width:0})}),n.forEach(function(e){var n=(0,Bv.uniqBy)(e.bundledRels,"disabled"),r=1===n.length&&!0===n[0].disabled,o=1===n.length&&!0!==n[0].disabled;if(r)e.color=t,e.width=1;else{var i=e.bundledRels.filter(function(e){return!0!==e.disabled}),a=(0,Bv.uniqBy)(i,"color");o?(e.color=a.length>1?void 0:e.bundledRels[0].color,e.bundledRels.forEach(function(t){e.width+=t.width})):(e.color=1===a.length?a[0].color:void 0,e.disabled=!1,e.bundledRels.forEach(function(t){e.width+=!0!==t.disabled?t.width:0}))}e.width=Math.min(e.width,20)}),Array.from(n.values())},y_=function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(e){return"size"in e})};function g_(e){return g_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(e)}var m_=function(e){var t,n;return"number"==typeof e.source||"number"==typeof e.target||"string"==typeof e.source||"string"==typeof e.target?45*devicePixelRatio:(null!==(t=e.source.size)&&void 0!==t?t:Jb)+(null!==(n=e.target.size)&&void 0!==n?n:Jb)+90*devicePixelRatio};function b_(e){return"object"===g_(e)}var __=function(e){var t;return(null!==(t=e.size)&&void 0!==t?t:Jb)+25*devicePixelRatio},w_=function(){return-400*Math.pow(devicePixelRatio,2)},O_=function(){return 2*w_()};function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}function x_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P_(e,t,n){return(t=T_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e){var t=function(e){if("object"!=E_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E_(t)?t:t+""}var C_="d3ForceLayout",k_=function(e){return e?$m(e):e},A_=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.state;this.state=r,this.d3Nodes={},this.d3RelList={},this.computing=!1,this.center={x:0,y:0},this.nodeRelCount=[];var o=this.state,i=o.nodes,a=o.rels;i.addChannel(C_),a.addChannel(C_),this.simulation=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,u=new Map,s=Cb(f),l=pb("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Rb)/Rb}();function f(){d(),l.call("tick",t),n<r&&(s.stop(),l.call("end",t))}function d(r){var s,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,u.forEach(function(e){e(n)}),s=0;s<c;++s)null==(l=e[s]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*Mb;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,u.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var o,i,a,u,s,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(o=t-(u=e[l]).x)*o+(i=n-u.y)*i)<r&&(s=u,r=a);return s},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}().velocityDecay(.4).force("charge",Gb().strength(w_)).force("centerX",function(e){var t,n,r,o=Hb(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Hb(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Hb(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Hb(+t),a(),i):e},i}(0).strength(.03)).force("centerY",function(e){var t,n,r,o=Hb(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Hb(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Hb(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:Hb(+t),a(),i):e},i}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){n.simulationStopped=!0,n.shouldUpdate=!1,n.shouldReheatNodes=!1,n.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){var e=i.channels[C_];if(void 0!==i.version&&e){var t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,o=Object.values(e.updates),u=y_(o);t||r||u?(n.shouldUpdate=!0,n.shouldReheatNodes=!0,n.shouldCountNodeRels=!0):n.shouldReheatNodes=!1}var s=a.channels[C_];if(void 0!==a.version&&s){var l=Object.values(s.adds).length>0,c=Object.values(s.removes).length>0;(l||c)&&(n.shouldUpdate=!0,n.shouldReheatNodes=!0,n.shouldCountNodeRels=!0)}}))},t=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t=this;e.forEach(function(e){void 0===t.d3Nodes[e.id]&&(t.d3Nodes[e.id]={id:e.id}),null!=e&&e.pinned?(t.d3Nodes[e.id].fx=e.x,t.d3Nodes[e.id].fy=e.y):(t.d3Nodes[e.id].x=e.x,t.d3Nodes[e.id].y=e.y),t.d3Nodes[e.id].vy=0,t.d3Nodes[e.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||n){var r=this.state,o=r.nodes,i=r.rels,a=o.channels[C_],u=i.channels[C_],s=Object.values(a.adds).length>0,l=Object.values(u.adds).length>0,c=Object.values(a.removes).length>0,f=Object.values(u.removes).length>0,d=Object.values(a.updates).length>0;if(s||l||c||f||d){var h=s&&0===Object.keys(this.d3Nodes).length,p=k_(a.removes);Object.keys(p).forEach(function(e){delete t.d3Nodes[e]});var v=k_(a.adds);if(Object.keys(v).forEach(function(e){t.d3Nodes[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(t){P_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v[e])}),d&&Object.values(a.updates).forEach(function(e){!0===e.pinned?(t.d3Nodes[e.id].fx=t.d3Nodes[e.id].x,t.d3Nodes[e.id].fy=t.d3Nodes[e.id].y):!1===e.pinned&&(t.d3Nodes[e.id].fx=null,t.d3Nodes[e.id].fy=null),void 0!==e.size&&(t.d3Nodes[e.id].size=e.size)}),(l||f)&&(this.d3RelList=v_(k_(i.items)).filter(function(e){return e.from!==e.to}).map(function(e,t){return{source:e.from,target:e.to,index:t}})),h){var y=Object.values(this.d3Nodes);!function(e,t,n){var r=e.filter(function(e){return void 0===e.x&&void 0===e.y});r.forEach(function(e,o){e.x=t.x+n*Math.sin(2*Math.PI*o/r.length),e.y=t.y+n*Math.cos(2*Math.PI*o/r.length)})}(y,this.center,(e=y.length,45*e/(2*Math.PI)))}this.layout(o.items,i.items,h)}o.clearChannel(C_),i.clearChannel(C_),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(e,t,n){var r=this;if(!(0,Bv.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,s,l,c,f,d,h=t.length,p=0;p<i;++p)for(a=Bb(t,Yb,Xb).visitAfter(u),e=0;e<h;++e)s=t[e],f=n[s.index],d=f*f,l=s.x+s.vx,c=s.y+s.vy,a.visit(v);function v(e,t,n,i,a){var u=e.data,h=e.r,p=f+h;if(!u)return t>l+p||i<l-p||n>c+p||a<c-p;if(u.index>s.index){var v=l-u.x-u.vx,y=c-u.y-u.vy,g=v*v+y*y;g<p*p&&(0===v&&(g+=(v=qb(r))*v),0===y&&(g+=(y=qb(r))*y),g=(p-(g=Math.sqrt(g)))/g*o,s.vx+=(v*=g)*(p=(h*=h)/(d+h)),s.vy+=(y*=g)*p,u.vx-=v*(p=1-p),u.vy-=y*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=Hb(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,s()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Hb(+t),s(),a):e},a}().radius(__)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(e){var t,n,r,o,i,a,u=Kb,s=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},l=Hb(30),c=1;function f(r){for(var o=0,u=e.length;o<c;++o)for(var s,l,f,d,h,p,v,y=0;y<u;++y)l=(s=e[y]).source,d=(f=s.target).x+f.vx-l.x-l.vx||qb(a),h=f.y+f.vy-l.y-l.vy||qb(a),d*=p=((p=Math.sqrt(d*d+h*h))-n[y])/p*r*t[y],h*=p,f.vx-=d*(v=i[y]),f.vy-=h*v,l.vx+=d*(v=1-v),l.vy+=h*v}function d(){if(r){var a,s,l=r.length,c=e.length,f=new Map(r.map((e,t)=>[u(e,t,r),e]));for(a=0,o=new Array(l);a<c;++a)(s=e[a]).index=a,"object"!=typeof s.source&&(s.source=Zb(f,s.source)),"object"!=typeof s.target&&(s.target=Zb(f,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(c);a<c;++a)s=e[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);t=new Array(c),h(),n=new Array(c),p()}}function h(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,d()},f.links=function(t){return arguments.length?(e=t,d(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(s="function"==typeof e?e:Hb(+e),h(),f):s},f.distance=function(e){return arguments.length?(l="function"==typeof e?e:Hb(+e),p(),f):l},f}(this.d3RelList).id(function(e){return e.id}).distance(m_).strength(function(e){return function(e,t){if(!b_(e.source)||!b_(e.target))return 1;var n=1.2/(Math.min(t[e.source.index],t[e.target.index])+(Math.max(t[e.source.index],t[e.target.index])-1)/100);return Math.max(Math.min(n,1),.06)}(e,r.nodeRelCount)})),n){this.computing=!0;var o=0;this.simulation.force("charge",Gb().strength(O_));for(var i=performance.now();performance.now()-i<300&&o<200;)this.simulation.alpha(1),this.simulation.tick(1),o+=1;this.simulation.force("charge",Gb().strength(w_));for(var a=performance.now();performance.now()-a<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return requestAnimationFrame(function(){r.computing=!1}),void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(e){var t,n=[],r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return x_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x_(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.d3Nodes[o.id];if(void 0!==i){var a={id:i.id,x:i.x,y:i.y};n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(C_),this.state.rels.removeChannel(C_),this.simulation.stop()}},{key:"setAlpha",value:function(e){this.simulation.alpha(e),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var e=new Map(Object.entries(this.d3Nodes)),t=Object.values(this.d3RelList),n=new Array(e.length),r=0;r<t.length;++r){var o=t[r];o.index=r,"object"!==E_(o.source)&&(o.source=e.get(o.source)),"object"!==E_(o.target)&&(o.target=e.get(o.target)),n[o.source.index]=(n[o.source.index]||0)+1,n[o.target.index]=(n[o.target.index]||0)+1}return n}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T_(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),j_=Uv(5880),R_=Uv.n(j_),I_=R_().getLogger("NVL");const N_=e;var M_={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},D_=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=M_[e],o=r.standard,i=r.fallback;if(n)t=N_[i];else try{t=N_[o]()}catch(n){console.warn("Failed to initialise ".concat(e,' worker: "').concat(JSON.stringify(n),'". Falling back to syncronous code.')),t=N_[i]}if(void 0===t)throw new Error("".concat(e," code could not be initialized."));return t.port.start(),t};function L_(e){return L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(e)}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(t){V_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return z_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function z_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V_(e,t,n){return(t=W_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e){var t=function(e){if("object"!=L_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=L_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L_(t)?t:t+""}var H_=function(e,t,n){return e+(t-e)*function(e){return e*e*(3-2*e)}(n)},q_=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V_(this,"positions",void 0),V_(this,"oldPositions",void 0),V_(this,"startTime",void 0),V_(this,"t",void 0),V_(this,"currentT",void 0),V_(this,"state",void 0),V_(this,"shouldUpdateAnimator",void 0),V_(this,"parents",void 0),V_(this,"animationCompleteCallback",void 0),V_(this,"shouldUpdate",void 0);var n=t.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=n,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=t.animationCompleteCallback},t=[{key:"getPositionMapFromState",value:function(){var e,t=this.state.nodes,n=t.idToPosition,r={},o=B_(t.items);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=n[i.id];void 0!==a&&(r[i.id]={id:i.id,x:a.x,y:a.y})}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"updatePositionsFromState",value:function(){this.positions=U_({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=U_({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var e=this.shouldUpdateAnimator,t=(Date.now()-this.startTime)/400;this.t=Math.min(t,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,e&&!this.shouldUpdateAnimator&&void 0!==this.animationCompleteCallback&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(e){var t,n=B_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={id:r.id,x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"getNodePositions",value:function(e){var t,n=this.parents,r=this.state.nodes.idToPosition,o=function(e,t){for(var n={x:0,y:0},r=e.length,o=0,i=0;i<r;i++){var a=t[e[i].id];void 0===a||isNaN(a.x)||isNaN(a.y)||0===a.x||0===a.y||(n.x+=a.x,n.y+=a.y,o+=1)}return o>0?[n.x/o,n.y/o]:[0,0]}(e,r),i={x:o[0],y:o[1]},a=[],u=B_(e);try{for(u.s();!(t=u.n()).done;){var s=t.value,l=this.positions[s.id],c=r[s.id],f={id:s.id};if(void 0!==l){for(var d,h,p,v=s.id,y=null!==(d=this.oldPositions[s.id])&&void 0!==d?d:U_({},i);void 0===y&&void 0!==n[v];)v=n[v],y=this.oldPositions[v];y.x=null!==(h=y.x)&&void 0!==h?h:i.x,y.y=null!==(p=y.y)&&void 0!==p?p:i.y,f.x=H_(y.x,l.x,this.t),f.y=H_(y.y,l.y,this.t)}else void 0!==c&&(f.x=c.x||i.x,f.y=c.y||i.y);a.push(f)}}catch(e){u.e(e)}finally{u.f()}return this.currentT=this.t,a}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W_(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function Y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y_(Object(n),!0).forEach(function(t){rw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||$_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z_(e){return function(e){if(Array.isArray(e))return Q_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $_(e,t){if(e){if("string"==typeof e)return Q_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q_(e,t):void 0}}function Q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J_=function(){return!!e})()}function ew(){return ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=tw(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ew.apply(null,arguments)}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tw(e)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nw(e,t)}function rw(e,t,n){return(t=ow(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ow(e){var t=function(e){if("object"!=G_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G_(t)?t:t+""}var iw=function(e){return void 0!==e?$m(e):e},aw=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rw(n=function(e,t,n){return t=tw(t),function(e,t){if(t&&("object"==G_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J_()?Reflect.construct(t,n||[],tw(e).constructor):t.apply(e,n))}(this,e,[t]),"stateDisposers",void 0),rw(n,"cytoCompleteCallback",void 0),rw(n,"computing",void 0),rw(n,"pendingLayoutData",void 0),rw(n,"worker",void 0),rw(n,"workersDisabled",void 0),n.stateDisposers=[],n.stateDisposers.push(n.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)})),n.cytoCompleteCallback=t.cytoCompleteCallback,n.shouldUpdate=!0,n.computing=!1,n.workersDisabled=t.state.disableWebWorkers,n.setOptions(),n.worker=D_("CoseBilkentLayout",n.workersDisabled),n.pendingLayoutData=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}(e,q_),t=e,n=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.shouldUpdate||t){var o=iw(n),i=iw(r);(o.length>0||i.length>0)&&(this.updatePositionsFromState(),this.layout(o,i))}!function(e,t,n){var r=ew(tw(e.prototype),"update",n);return"function"==typeof r?function(e){return r.apply(n,e)}:r}(e,0,this)([]),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t){var n=this;if(this.worker){if(e.length){var r=e.map(function(e){return{group:"nodes",data:{id:e.id}}}),o=t.map(function(e){return{group:"edges",data:{id:"rel".concat(e.id),source:e.from,target:e.to}}}),i={elements:[].concat(Z_(r),Z_(o)),spacingFactor:e.reduce(function(e,t){var n;return e+(null!==(n=t.size)&&void 0!==n?n:Jb)},0)/e.length*4.5/50*l_()};this.computing?this.pendingLayoutData=i:(this.computing=!0,this.worker.port.onmessage=function(e){var t=e.data.positions;if(n.computing){for(var r=0,o=Object.entries(t);r<o.length;r++){var i=K_(o[r],2),a=i[0],u=i[1];n.positions[a]=X_({id:a},u)}n.cytoCompleteCallback(),n.startAnimation()}n.computing=!1,n.shouldUpdate=!0},setTimeout(function(){n.computing&&n.worker.port.postMessage(i)},0))}}else I_.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach(function(e){e()}),null===(e=this.worker)||void 0===e||e.port.close()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ow(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),uw="undefined"!=typeof Float32Array?Float32Array:Array;function sw(){var e=new uw(16);return uw!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var lw=function(e,t,n,r,o,i,a){var u=1/(t-n),s=1/(r-o),l=1/(i-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*u,e[13]=(o+r)*s,e[14]=(a+i)*l,e[15]=1,e},cw=Uv(9792),fw=Uv.n(cw);function dw(e){return dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(e)}function hw(e,t,n){return(t=pw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pw(e){var t=function(e){if("object"!=dw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dw(t)?t:t+""}var vw=function(){return e=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),hw(this,"shaderProgram",void 0),hw(this,"gl",void 0),hw(this,"curTexture",void 0),hw(this,"attributeInfo",void 0),hw(this,"uniformInfo",void 0);var i=t.createShader(t.FRAGMENT_SHADER);if(!t.isShader(i))throw new Error("Could not create shader object");var a=fw()(r,o);t.shaderSource(i,a),t.compileShader(i),(0,Bv.isNil)(t.getShaderParameter(i,t.COMPILE_STATUS))&&I_.info(t.getShaderInfoLog(i));var u=t.createShader(t.VERTEX_SHADER);if(!t.isShader(u))throw new Error("Could not create shader object");var s=fw()(n,o);if(t.shaderSource(u,s),t.compileShader(u),(0,Bv.isNil)(t.getShaderParameter(u,t.COMPILE_STATUS))&&I_.info(t.getShaderInfoLog(u)),this.shaderProgram=t.createProgram(),t.attachShader(this.shaderProgram,i),t.attachShader(this.shaderProgram,u),t.linkProgram(this.shaderProgram),(0,Bv.isNil)(t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=t,this.curTexture=0,this.scanUniforms(),this.scanAttributes()},t=[{key:"setUniform",value:function(e,t){var n=this.gl,r=this.uniformInfo[e];if(void 0===r)throw new Error("Shader.setUniform - Uniform ".concat(e," not found in shader"));switch(r.type){case n.INT:n.uniform1i(r.location,t);break;case n.INT_VEC2:n.uniform2iv(r.location,t);break;case n.INT_VEC3:n.uniform3iv(r.location,t);break;case n.INT_VEC4:n.uniform4iv(r.location,t);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+r.texture),n.bindTexture(n.TEXTURE_2D,t),n.uniform1i(r.location,r.texture);break;case n.SAMPLER_CUBE:case n.FLOAT:n.uniform1f(r.location,t);break;case n.FLOAT_VEC2:n.uniform2fv(r.location,t);break;case n.FLOAT_VEC3:n.uniform3fv(r.location,t);break;case n.FLOAT_VEC4:n.uniform4fv(r.location,t);break;case n.FLOAT_MAT2:n.uniformMatrix2fv(r.location,!1,t);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r.location,!1,t);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r.location,!1,t)}}},{key:"setAttributePointer",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e],a=n*Float32Array.BYTES_PER_ELEMENT,u=r*Float32Array.BYTES_PER_ELEMENT;o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,u,a)}},{key:"setAttributePointerFloat",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,r,n)}},{key:"setAttributePointerUShort",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_SHORT,!1,r,n)}},{key:"setAttributePointerByteNorm",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!0,r,n)}},{key:"setAttributePointerByte",value:function(e,t,n,r){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!1,r,n)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var e=this.gl;this.attributeInfo={};for(var t,n,r=e.getProgramParameter(this.shaderProgram,e.ACTIVE_ATTRIBUTES),o=0;o<r;o++)t=e.getActiveAttrib(this.shaderProgram,o),n=e.getAttribLocation(this.shaderProgram,t.name),this.attributeInfo[t.name]={type:t.type,position:n}}},{key:"scanUniforms",value:function(){var e=this.gl;this.uniformInfo={};for(var t,n=e.getProgramParameter(this.shaderProgram,e.ACTIVE_UNIFORMS),r=0;r<n;r++){t=e.getActiveUniform(this.shaderProgram,r);var o=e.getUniformLocation(this.shaderProgram,t.name),i={type:t.type,location:o};t.type===e.SAMPLER_2D&&(i.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[t.name]=i}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function yw(e){return yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yw(e)}function gw(e){var t=function(e){if("object"!=yw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yw(t)?t:t+""}function mw(e){var t="function"==typeof Map?new Map:void 0;return mw=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(bw())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&_w(o,n.prototype),o}(e,arguments,ww(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_w(n,e)},mw(e)}function bw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bw=function(){return!!e})()}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_w(e,t)}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ww(e)}var Ow=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=ww(t),function(e,t){if(t&&("object"==yw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bw()?Reflect.construct(t,n||[],ww(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}(e,mw(Error)),t=e,(n=[{key:"toString",value:function(){return this.message}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gw(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();const Ew="uniform mat4 u_projection;\n\nattribute vec2 a_position;\n//attribute float a_index;\n\n//varying highp float index;\n\nvoid main() {\n//  index = a_index;\n  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n}";function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}function Sw(e){var t=function(e){if("object"!=xw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xw(t)?t:t+""}var Pw=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=this.constructGraphObjects(t,n),this.subGraphs=[],this.sunMap={}},t=[{key:"constructGraphObjects",value:function(e,t){var n=new Array(e.nodes.length),r=new Array(e.rels.length),o={},i=[];return e.nodes.forEach(function(e,t){n[t]=[],r[t]=[],i.push(e)}),e.rels.forEach(function(e){var i=t[e.from],a=t[e.to];void 0!==i&&void 0!==a&&(n[i].push(a),n[a].push(i),r[i].push(e.id),r[a].push(e.id),o[e.id]=e)}),this.relIdMap=r,{nodes:i,relationships:n,idToRel:o}}},{key:"coarsenTo",value:function(e){for(var t=this.graph,n=t.nodes.length,r=0;t.nodes.length>e&&t.relationships.some(function(e){return e.length>0});){var o=this.coarsen(t,0===r);if(0===r&&(this.nodeSortMap=o.nodeSortMap),this.subGraphs.push(o.sortedInput),0===(t=o.output).relationships.length||t.relationships.every(function(e){return 0===e.length})||n===t.nodes.length)break;n=t.nodes.length,r+=1}return this.subGraphs.push(t),t}},{key:"coarsenBy",value:function(e){for(var t=e,n=this.graph,r=n.nodes.length,o=t;t>0;){var i=this.coarsen(n,t===o);if(this.subGraphs.push(i.sortedInput),0===(n=i.output).relationships.length||n.relationships.every(function(e){return 0===e.length})||r===n.nodes.length)break;r=n.nodes.length,t-=1}return this.subGraphs.push(n),n}},{key:"coarsen",value:function(e,t){var n=this,r=e.nodes,o=e.relationships,i=r.map(function(e,t){return t}),a={},u={};r.forEach(function(e,t){a[t]=e,u[e.id]=t});for(var s=o.map(function(e){return e.slice()}),l={suns:{},planets:{},moons:{}},c=[],f=[],d=function(){var e=i[0];i.splice(i.indexOf(e),1),o[e].forEach(function(t){var n=i.indexOf(t);n>=0&&i.splice(n,1);var r=-1,o=s[t];o.forEach(function(t,n){var o=i.indexOf(t);o>=0?i.splice(o,1):t===e&&(r=n)}),o.splice(r,1)});var n={id:e};if(t)n.originalId=a[e].id;else{var r=a[e];n.finestIndex=r.finestIndex,n.originalId=r.originalId}c.push(n),l.suns[e]=n};i.length>0;)d();c.forEach(function(e,t){f[t]=[]}),c.forEach(function(e,n){var r={},i=[];o[e.id].forEach(function(o){if(o!==e.id&&!r[o]){var u={id:o,parent:e,sunId:n,moons:[]},s=a[o];u.size=function(){return u.moons.length+1},u.weight=s.weight||1,u.children=function(){return u.moons},t?u.originalId=s.id:(u.finestIndex=s.finestIndex,u.originalId=s.originalId),i.push(u),r[o]=!0}}),i.forEach(function(e){l.planets[e.id]=e}),e.planets=i,e.children=function(){return e.planets},e.weight=e.planets.reduce(function(e,t){return e+(t.weight||1)},0)+(a[e.id].weight||1),e.size=function(){return e.planets.reduce(function(e,t){return e+t.size()},0)+1}});var h=r.filter(function(e,t){return!c.find(function(e){return e.id===t})&&!l.planets[t]}),p=[];h.forEach(function(e){for(var n=u[e.id],r=s[n],o=null,i=-1,c=0;c<r.length;c++){var f=r[c];if(f!==n&&(o=l.planets[f])){i=c;break}}if(r.splice(i,1),o){var d={id:n,size:function(){return 0}};d.weight=a[n].weight||1,d.parent=o,d.sunId=o.sunId,t?d.originalId=e.id:(d.finestIndex=e.finestIndex,d.originalId=e.originalId),l.moons[n]=d,o.moons.push(d),o.weight+=d.weight,o.parent.weight+=d.weight;var h=s[o.id];h.splice(h.indexOf(n),1)}else p.push(e)}),s.forEach(function(e,t){if(!l.suns[t]){var n=l.planets[t]||l.moons[t];s[t].forEach(function(e){var t=l.planets[e];if(t||(t=l.moons[e]),n.sunId!==t.sunId){var r=f[n.sunId];r.includes(t.sunId)||r.push(t.sunId)}})}});var v=[],y=0,g={};c.forEach(function(e,o){var i=r[e.id];g[e.id]=y,e.previousIndex=o,e.id=y,y+=1,t&&(i.finestIndex=e.id,e.finestIndex=e.id),v.push(i),e.planets.forEach(function(o){var i=r[o.id];g[o.id]=y,o.id=y,y+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),n.sunMap[o.originalId]=e.originalId,v.push(i),o.moons.forEach(function(o){var i=r[o.id];g[o.id]=y,o.id=y,y+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),n.sunMap[o.originalId]=e.originalId,v.push(i)})})});var m=[],b=[];return o.forEach(function(e,r){var o=g[r];m[o]=e.map(function(e){return g[e]}),t&&(b[o]=e.map(function(e,t){return n.relIdMap[r][t]}))}),b&&b.length>0&&(this.relIdMap=b),{output:{nodes:c,relationships:f},sortedInput:{nodes:v,relationships:m},nodeSortMap:g}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),Tw=function(e,t,n){for(var r=2*Math.PI/n,o=[],i=0;i<n;i++){var a=r*i;o.push({x:e.x+t*Math.cos(a),y:e.y+t*Math.sin(a)})}return o};function Cw(e){return Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(e)}function kw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Aw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aw(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jw(e,t,n){return(t=Rw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rw(e){var t=function(e){if("object"!=Cw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cw(t)?t:t+""}var Iw="PhysLayout",Nw=new Float32Array(4),Mw=256,Dw=function(e){for(var t={},n={},r=0;r<e.length;r++)t[e[r].id]=r,n[r]=e[r].id;return{nodeIdToIndex:t,nodeIndexToId:n}},Lw=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jw(this,"physVbo",void 0),jw(this,"physSmallVbo",void 0),jw(this,"physProjection",void 0),jw(this,"physSmallProjection",void 0),jw(this,"gl",void 0),jw(this,"useReadpixelWorkaround",void 0),jw(this,"averageNodeSize",void 0),jw(this,"shouldUpdate",void 0),jw(this,"iterationCount",void 0),jw(this,"lastSpeedValues",void 0),jw(this,"rollingAvgGraphSpeed",void 0),jw(this,"nodeVariation",void 0),jw(this,"nodeCenterPoint",void 0),jw(this,"peakIterationMultiplier",void 0),jw(this,"stateDisposers",void 0),jw(this,"state",void 0),jw(this,"dpr",void 0),jw(this,"intelWorkaround",void 0),jw(this,"simulationStopVelocitySquared",void 0),jw(this,"gravity",void 0),jw(this,"force",void 0),jw(this,"nodeIdToIndex",void 0),jw(this,"nodeIndexToId",void 0),jw(this,"flatRelationshipKeys",void 0),jw(this,"numNodes",void 0),jw(this,"solarMerger",void 0),jw(this,"subGraphs",void 0),jw(this,"nodeSortMap",void 0),jw(this,"firstUpdate",void 0),jw(this,"curPhysData",void 0),jw(this,"apprxRepForceShader",void 0),jw(this,"levelsClusterTexture",void 0),jw(this,"levelsFinestIndexTexture",void 0),jw(this,"initalLevelTexture",void 0),jw(this,"levelsData",void 0),jw(this,"collisionDetectionMultiplier",void 0),jw(this,"physShader",void 0),jw(this,"physData",void 0),jw(this,"workaroundData",void 0),jw(this,"pinData",void 0),jw(this,"updateData",void 0),jw(this,"updateShader",void 0),jw(this,"workaroundShader",void 0),jw(this,"physPositions",void 0),jw(this,"springTexture",void 0),jw(this,"sizeTexture",void 0),jw(this,"offsetTexture",void 0),jw(this,"pinTexture",void 0),jw(this,"addedNodes",void 0),jw(this,"updateTexture",void 0),jw(this,"enableVerlet",void 0);var r=t.state,o=t.webGLContext;if(I_.info("layout - webGLContext",Boolean(o)),void 0===t.webGLContext)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(void 0===t.state)throw new Error("PhysLayout missing options: state - state object");var i=o;this.checkCompatibility(i),this.printGlStats(i),this.physVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physVbo);var a=new Float32Array([0,0,$b,0,0,$b,$b,$b]);i.bufferData(i.ARRAY_BUFFER,a,i.STATIC_DRAW),this.physSmallVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physSmallVbo);var u=new Float32Array([0,0,Mw,0,0,Mw,Mw,Mw]);i.bufferData(i.ARRAY_BUFFER,u,i.STATIC_DRAW),this.physProjection=sw(),lw(this.physProjection,0,$b,$b,0,0,1e6),this.physSmallProjection=sw(),lw(this.physSmallProjection,0,Mw,Mw,0,0,1e6),i.disable(i.DEPTH_TEST),this.gl=i,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=Jb,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(t,!0),this.definePhysicsArrays(),this.flatRelationshipKeys=new Set;var s=r.nodes,l=r.rels;s.addChannel(Iw),l.addChannel(Iw),this.stateDisposers=[],this.stateDisposers.push(r.reaction(function(){return r.graphUpdates},function(){var e=s.channels[Iw];if(void 0!==s.version&&e){var t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,o=Object.values(e.updates),i=y_(o);(t||r||i)&&(n.shouldUpdate=!0,n.checkForUpdates())}var a=l.channels[Iw];if(void 0!==l.version&&a){var u=Object.values(a.adds).length>0,c=Object.values(a.removes).length>0;(u||c)&&(n.shouldUpdate=!0,n.checkForUpdates())}})),this.setData({nodes:s.items,rels:l.items}),this.state=r,this.dpr=window.devicePixelRatio||1},t=[{key:"setOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=e.intelWorkaround,r=e.enableVerlet,o=void 0===r||r;t&&(this.intelWorkaround=n,this.enableVerlet=o);var i=this.enableVerlet?.25:100;this.simulationStopVelocitySquared=i*i,this.gravity=100,this.force=0}}},{key:"setData",value:function(e){var t=Dw(e.nodes),n=t.nodeIdToIndex,r=t.nodeIndexToId;return this.nodeIdToIndex=n,this.nodeIndexToId=r,this.numNodes=e.nodes.length,this.flatRelationshipKeys=p_(e.rels),this.solarMerger=new Pw(e,n),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.gl;if(this.checkForUpdates(e),!this.shouldUpdate)return t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,$b,$b,t.RGBA,t.FLOAT,this.physPositions),!1;t.disable(t.BLEND);for(var n=this.nodeVariation/(this.numNodes||1)>.3,r=this.getScaleNumber(this.iterationCount),o=this.subGraphs?this.subGraphs.length:0,i=this.getPhysData(0).texture,a=o-1;a>0;a--){var u=this.subGraphs[a].nodes.length,s=a===o-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",i),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[a]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[a]),this.apprxRepForceShader.setUniform("u_prevForce",s?this.initalLevelTexture:this.levelsData[a+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",u),this.apprxRepForceShader.setUniform("u_iterationMultiplier",r),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(u)),this.apprxRepForceShader.setUniform("u_isTopLevel",s?1:0),t.bindBuffer(t.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.levelsData[a].frameBuffer),t.viewport(0,0,Mw,Mw),t.drawArrays(t.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=n?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=o<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",o<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",i),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",r),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(1).frameBuffer),t.viewport(0,0,$b,$b),t.drawArrays(t.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,$b,$b,t.RGBA,t.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var l=this.iterationCount<300,c=l?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(c),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(e,t){return e+t},0)/this.lastSpeedValues.length;var f=l&&c>=this.rollingAvgGraphSpeed,d=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!f&&!0===d&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){I_.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(e){var t=[];if(this.useReadpixelWorkaround){var n,r=kw(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.nodeIdToIndex[o.id],a=o.id,u=void 0,s=void 0;void 0!==i&&(u=this.workaroundData[0].dataFloat[i],s=this.workaroundData[1].dataFloat[i]),t.push({id:a,x:u,y:s})}}catch(e){r.e(e)}finally{r.f()}}else{var l,c=kw(e);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=this.nodeIdToIndex[f.id],h=f.id,p=void 0,v=void 0;void 0!==d&&(p=this.physPositions[4*d+0],v=this.physPositions[4*d+1]),t.push({id:h,x:p,y:v})}}catch(e){c.e(e)}finally{c.f()}}return t}},{key:"reheat",value:function(e){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=e.nodes.length}},{key:"updateNodes",value:function(e){var t=this.gl,n=new Set;t.bindTexture(t.TEXTURE_2D,this.getPhysData().texture);var r,o=kw(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=this.nodeIdToIndex[i.id];if(void 0!==i.x&&void 0!==i.y){Nw[0]=i.x,Nw[1]=i.y,Nw[2]=0,Nw[3]=0;var u=a%$b,s=(a-u)/$b;t.texSubImage2D(t.TEXTURE_2D,0,u,s,1,1,t.RGBA,t.FLOAT,Nw),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[a]=i.x,this.workaroundData[1].dataFloat[a]=i.y):(this.physPositions[4*a+0]=i.x,this.physPositions[4*a+1]=i.y)}void 0!==i.pinned&&(this.pinData[a]=i.pinned?255:0),Object.keys(i).forEach(function(e){return n.add(e)})}}catch(e){o.e(e)}finally{o.f()}n.has("pinned")&&(t.bindTexture(t.TEXTURE_2D,this.pinTexture),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,$b,$b,0,t.ALPHA,t.UNSIGNED_BYTE,this.pinData)),(n.has("x")||n.has("y")||n.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(e,t,n){var r=this.gl;this.numNodes=e.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var o=Dw(e.nodes).nodeIdToIndex,i=new Pw(e,o);i.coarsenTo(1);var a=i.subGraphs[0],u=this.subGraphs[0],s=function(e){return u.nodes.findIndex(function(t){return t.id===e})},l=Object.values(t.adds),c=Object.values(t.removes);this.addedNodes=l.length>0?{}:null,this.nodeVariation=l.length+c.length;for(var f=function(e){return Boolean(t.adds[e])},d=3*Math.sqrt(e.nodes.length),h={x:0,y:0},p=a.nodes.length,v=new Uint8Array(65536),y=0;y<p;y++){var g=0,m=0,b=a.nodes[y];if(f(b.id)){if(this.addedNodes[y]=b.id,g=b.position?b.position.x:void 0,m=b.position?b.position.y:void 0,void 0===g||void 0===m){var _=i.sunMap,w=void 0;for(w=_[b.id];void 0!==w;w=_[w]){var O=s(w);if(-1!==O){var E=this.getNodePosition(O);g=E.x+10*(Math.random()-.5),m=E.y+10*(Math.random()-.5);break}}void 0===w&&(g=this.nodeCenterPoint[0]+d*(Math.random()-.5),m=this.nodeCenterPoint[1]+d*(Math.random()-.5))}this.updateData[2*y]=g,this.updateData[2*y+1]=m,v[y]=b.pinned?255:0}else{var x=s(b.id),S=this.getNodePosition(x);g=S.x,m=S.y,this.updateData[2*y]=x,this.updateData[2*y+1]=999999,v[y]=this.pinData[x]}h.x+=g||0,h.y+=m||0}this.nodeCenterPoint=p?[h.x/p,h.y/p]:[0,0],this.pinData=v,this.subGraphs=i.subGraphs,this.nodeSortMap=i.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var P=Dw(this.subGraphs[0].nodes),T=P.nodeIdToIndex,C=P.nodeIndexToId;this.nodeIdToIndex=T,this.nodeIndexToId=C,r.bindTexture(r.TEXTURE_2D,this.updateTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,$b,$b,0,r.ALPHA,r.FLOAT,this.updateData),I_.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",a.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),r.disable(r.BLEND),r.bindBuffer(r.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),r.bindFramebuffer(r.FRAMEBUFFER,this.getPhysData(1).frameBuffer),r.viewport(0,0,$b,$b),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(r.bindFramebuffer(r.FRAMEBUFFER,this.getPhysData().frameBuffer),r.readPixels(0,0,$b,$b,r.RGBA,r.FLOAT,this.physPositions)),(l.length>0||c.length>0)&&(r.bindTexture(r.TEXTURE_2D,this.pinTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,$b,$b,0,r.ALPHA,r.UNSIGNED_BYTE,this.pinData));var k=p_(e.rels),A=this.hasRelationshipFlatMapChanged(k,n);return this.shouldUpdate=this.nodeVariation>0||A,this.iterationCount=0,this.flatRelationshipKeys=k,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var e=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach(function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)}),this.levelsData.forEach(function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)}),this.levelsClusterTexture.forEach(function(t){e.gl.deleteTexture(t)}),this.levelsFinestIndexTexture.forEach(function(t){e.gl.deleteTexture(t)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),void 0!==this.apprxRepForceShader&&this.apprxRepForceShader.remove(),void 0!==this.updateShader&&this.updateShader.remove(),void 0!==this.physShader&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(Iw),this.state.rels.removeChannel(Iw)}},{key:"hasRelationshipFlatMapChanged",value:function(e,t){if(e.size!==this.flatRelationshipKeys.size)return!0;var n=!1,r=Object.values(t.adds),o=Object.values(t.removes);if(r.length>0||o.length>0){var i,a=kw(p_(r));try{for(a.s();!(i=a.n()).done;){var u=i.value;if(!this.flatRelationshipKeys.has(u)){n=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!n){var s,l=kw(p_(o));try{for(l.s();!(s=l.n()).done;){var c=s.value;if(!e.has(c)){n=!0;break}}}catch(e){l.e(e)}finally{l.f()}}}return n}},{key:"dumpTexture",value:function(e,t,n){var r=this.gl;I_.info("--- Dumping texture ",n),r.bindFramebuffer(r.FRAMEBUFFER,e),r.readPixels(0,0,$b,$b,r.RGBA,r.FLOAT,this.physPositions);for(var o=0;o<t;o++)I_.info(o,": ",this.physPositions[4*o+0],this.physPositions[4*o+1],this.physPositions[4*o+2],this.physPositions[4*o+3])}},{key:"getScaleNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,n){return n+Math.pow(10,6)*Math.pow(e-120,-1.7)};return 0===e?0:e<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(e-200+12),3):t(e,200,10)}},{key:"getBaseLength",value:function(e){if(void 0===e||e===this.numNodes)return 100*this.dpr;var t=Math.pow(this.averageNodeSize/2,2)*Math.PI,n=this.numNodes/e*t;return(100+Math.sqrt(n/Math.PI)/2/e)*this.dpr}},{key:"checkForUpdates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.nodes,r=t.rels,o={nodes:n.items,rels:r.items},i=Object.values(n.channels[Iw].adds).length>0,a=Object.values(r.channels[Iw].adds).length>0,u=Object.values(n.channels[Iw].removes).length>0,s=Object.values(r.channels[Iw].removes).length>0,l=Object.values(n.channels[Iw].updates);(i||a||u||s)&&this.addRemoveData(o,{adds:n.channels[Iw].adds,removes:n.channels[Iw].removes},{adds:r.channels[Iw].adds,removes:r.channels[Iw].removes}),e?(this.updateNodes(o.nodes),this.reheat(o)):l.length>0&&(this.updateNodes(l),y_(l)&&this.reheat(o)),n.clearChannel(Iw),r.clearChannel(Iw)}},{key:"getNodePosition",value:function(e){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[e],y:this.workaroundData[1].dataFloat[e]}:{x:this.physPositions[4*e+0],y:this.physPositions[4*e+1]}}},{key:"getMaxSpeedSquared",value:function(){var e=0;if(this.useReadpixelWorkaround)for(var t=0;t<this.numNodes;t++){var n=this.workaroundData[2].dataFloat[t],r=this.workaroundData[3].dataFloat[t],o=n*n+r*r;o>e&&(e=o)}else for(var i=0;i<this.numNodes;i++){var a=this.physPositions[4*i+2],u=this.physPositions[4*i+3],s=a*a+u*u;s>e&&(e=s)}return e}},{key:"getMedianSpeedSquared",value:function(e){var t=[];if(this.useReadpixelWorkaround)for(var n=0;n<this.numNodes;n++){var r=this.workaroundData[2].dataFloat[n],o=this.workaroundData[3].dataFloat[n],i=r*r+o*o;t[n]=i}else for(var a=0;a<this.numNodes;a++)if(!e||e[a]){var u=this.physPositions[4*a+2],s=this.physPositions[4*a+3],l=u*u+s*s;t.push(l)}return t.sort(function(e,t){return e-t}),t[Math.floor(t.length/2)]}},{key:"getPhysData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.physData[(this.curPhysData+e)%this.physData.length]}},{key:"newTexture",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.FLOAT,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.RGBA,i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,o,n,n,0,o,r,t),i}},{key:"newFramebuffer",value:function(e,t){var n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),n}},{key:"checkCompatibility",value:function(e){function t(e){throw new Ow(e)}e||t("Could not initialize WebGL"),0===e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)&&t("Vertex shader texture access not available"),e.getExtension("OES_texture_float")||t("OES_texture_float extension not available"),e.getExtension("WEBGL_color_buffer_float")||(I_.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var n=e.getParameter(e.MAX_TEXTURE_SIZE),r=Math.max($b,Qb);if(n<r&&t("Need larger WebGL texture support. Avaliable: ".concat(n," needed: ").concat(r)),!this.useReadpixelWorkaround){var o=new Float32Array(4),i=this.newTexture(e,o,1),a=this.newFramebuffer(e,i);e.bindFramebuffer(e.FRAMEBUFFER,a),e.readPixels(0,0,1,1,e.RGBA,e.FLOAT,o),e.getError()!==e.NO_ERROR&&(I_.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(a),e.deleteTexture(i)}}},{key:"printGlStats",value:function(e){var t="?",n="?";if(e.getParameter(e.RENDERER))n=e.getParameter(e.RENDERER),t=e.getParameter(e.VENDOR);else{var r=e.getExtension("WEBGL_debug_renderer_info");r&&(t=e.getParameter(r.UNMASKED_VENDOR_WEBGL),n=e.getParameter(r.UNMASKED_RENDERER_WEBGL))}I_.trace("Vendor: ".concat(t)),I_.trace("Renderer: ".concat(n));var o=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE);I_.trace("Line width range: ".concat(o));var i=e.getSupportedExtensions();I_.trace("Extentions:"),i.length>0&&i.forEach(function(e){return I_.trace(e)})}},{key:"adjustToGlSize",value:function(e){return e*this.dpr*2.5}},{key:"setupSize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=new Float32Array(65536),n=e.nodes,r=n.length,o=0,i=0;i<r;i++){var a,u=parseInt(null!==(a=n[i].size)&&void 0!==a?a:Jb,10);t[i]=this.adjustToGlSize(u),o+=u}this.averageNodeSize=r?o/r:Jb;var s=this.gl;void 0===this.sizeTexture&&(this.sizeTexture=s.createTexture()),s.bindTexture(s.TEXTURE_2D,this.sizeTexture),s.texImage2D(s.TEXTURE_2D,0,s.ALPHA,$b,$b,0,s.ALPHA,s.FLOAT,t),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(e){var t,n,r=this.gl,o=e.relationships,i=new Float32Array(16777216),a=new Float32Array(65536),u=0;for(t=0;t<e.nodes.length;t++)for(a[t]=u,i[u]=o[t].length,u+=1,n=0;n<o[t].length;n++)i[u]=o[t][n],u+=1;for(n=u;n<i.length;n++)i[n]=1;for(n=t;n<a.length;n++)a[n]=0;void 0===this.offsetTexture&&(this.offsetTexture=r.createTexture()),r.bindTexture(r.TEXTURE_2D,this.offsetTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,$b,$b,0,r.ALPHA,r.FLOAT,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),void 0===this.springTexture&&(this.springTexture=r.createTexture()),r.bindTexture(r.TEXTURE_2D,this.springTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,Qb,Qb,0,r.ALPHA,r.FLOAT,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var e=this.gl,t=this.subGraphs.length,n=this.subGraphs[0].nodes,r=3*Math.sqrt(n.length),o=new Float32Array(262144),i=new Float32Array(262144);this.numNodes=n.length;for(var a=0;a<262144;a++)o[a]=0,i[a]=0;for(var u=function(e,t,n,r){r[4*e+0]=t,r[4*e+1]=n,r[4*e+2]=0,r[4*e+3]=0},s=t-1;s>=0;s--){var l=s===t-1?[]:this.subGraphs[s+1].nodes;0===l.length?this.subGraphs[s].nodes.forEach(function(e,t){var n=e.placement?e.placement.x:r*(Math.random()-.5),i=e.placement?e.placement.y:r*(Math.random()-.5);u(void 0===e.finestIndex?t:e.finestIndex,n,i,o)}):l.forEach(function(e){var t=e.finestIndex,n=o[4*e.finestIndex],r=o[4*e.finestIndex+1],i=Tw({x:n,y:r},10,e.planets.length+1);t+=1,e.planets.forEach(function(e,n){var r=i[n];u(t+=1,r.x,r.y,o);var a=Tw({x:r.x,y:r.y},10,e.moons.length+1);e.moons.forEach(function(e,n){var r=a[n];u(t+=1,r.x,r.y,o)})})})}this.physData=[];for(var c=0;c<2;c++){var f=this.newTexture(e,0===c?o:i,$b),d=this.newFramebuffer(e,f);this.physData.push({texture:f,frameBuffer:d})}var h=this.enableVerlet?"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\n\nfloat DAMP = 0.6;\nfloat COOL = 0.99998;\nfloat TEMP = max(0.02, pow(COOL, u_curIteration));\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 50000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = (combinedNodeSize - dist) / (dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * fScale) / (dist);\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, myPosition.zw);\n  } else {\n    vec2 prevVelocity = myPosition.zw;\n    vec2 currentPos = myPosition.xy;\n    vec2 prevPos = currentPos - prevVelocity;\n\n    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);\n    vec2 newVelocity = newPos - currentPos;\n    gl_FragColor = vec4(newPos, newVelocity);\n  }\n}":"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 500000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = ((combinedNodeSize - dist) / dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);\n  } else {\n    myPosition.zw = myPosition.zw * VELOCITYDECAY;\n    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);\n  }\n}";this.physShader=new vw(e,Ew,h,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var e=this,t=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var n,r,o=this.subGraphs.length,i=function(e,t,r,o,i){n[4*e+0]=t,n[4*e+1]=r,n[4*e+2]=i.size(),n[4*e+3]=o||1};if(1===o){n=new Float32Array(262144);var a=this.subGraphs[0].nodes;a.forEach(function(e,t){i(t,0,0,e.weight,{size:function(){return a.length}})}),this.levelsClusterTexture[0]=this.newTexture(t,n,Mw)}else for(var u=function(){var o=e.subGraphs[s].nodes,a=s===e.subGraphs.length-1?[]:e.subGraphs[s+1].nodes;n=new Float32Array(262144),r=new Float32Array(65536);var u=0;if(a.length>0){var l=a.slice();l.sort(function(e,t){return e.previousIndex-t.previousIndex}),l.forEach(function(e,t){var n=u,s=a.indexOf(e);i(u,s,n,o[e.id].weight,e),r[u]=o[u].finestIndex,u+=1,e.planets.forEach(function(t){i(u,s,n,t.weight,e),r[u]=o[u].finestIndex,u+=1,t.moons.forEach(function(t){i(u,s,n,t.weight,e),r[u]=o[u].finestIndex,u+=1})})})}else o.forEach(function(e,t){i(t,0,0,e.weight,{size:function(){return o.length}}),r[t]=o[t].finestIndex});var c=e.newTexture(t,null,Mw),f=e.newFramebuffer(t,c);e.levelsData[s]={texture:c,frameBuffer:f},e.levelsClusterTexture[s]=e.newTexture(t,n,Mw),e.levelsFinestIndexTexture[s]=e.newTexture(t,r,$b,t.FLOAT,t.ALPHA)},s=this.subGraphs.length-1;s>=0;s--)u();for(var l=new Float32Array(262144),c=0;c<l.length;c++)l[c]=0;this.initalLevelTexture=this.newTexture(t,l,Mw);var f=this.enableVerlet?"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat PI = 3.1415926535897932384626433832795;\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 1.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getSquaredLogClusterWeight(float value) {\n  return pow(log(value), 2.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = (clusterArea * fScale) / (dist * dist);\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.2;\n    }\n\n    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / (dist * dist);\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}":"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getLogClusterWeight(float value) {\n  return value / max(log(value), 1.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.3;\n    }\n\n    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / dist;\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}";this.apprxRepForceShader=new vw(t,Ew,f),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var e=this.gl;this.pinTexture=e.createTexture(),this.pinData=new Uint8Array(65536);for(var t=0;t<65536;t++)this.pinData[t]=0;e.bindTexture(e.TEXTURE_2D,this.pinTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,$b,$b,0,e.ALPHA,e.UNSIGNED_BYTE,this.pinData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var e=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.updateTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,$b,$b,0,e.ALPHA,e.FLOAT,this.updateData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.updateShader=new vw(e,Ew,"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_updateData;\nuniform float u_numNodesNew;\n\nconst float INDEX_FLAG = 999999.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;\n\n  if (index >= u_numNodesNew) {\n    discard;\n  }\n\n  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;\n  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;\n\n  if (secondValue == INDEX_FLAG) {\n    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);\n    gl_FragColor = myPosition;\n  } else {\n    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);\n  }\n}\n"),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var e=this.gl;this.workaroundShader=new vw(e,Ew,"precision lowp float;\n\nuniform sampler2D u_physData;\nuniform float u_index;\n\nfloat shift_right (float v, float amt) { \n    v = floor(v) + 0.5; \n    return floor(v / exp2(amt)); \n}\n\nfloat shift_left (float v, float amt) { \n    return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last (float v, float bits) { \n    return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits (float num, float from, float to) { \n    from = floor(from + 0.5); to = floor(to + 0.5); \n    return mask_last(shift_right(num, from), to - from); \n}\n\n// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\nvec4 encode_float (float val) { \n    if (val == 0.0) return vec4(0, 0, 0, 0); \n    float sign = val > 0.0 ? 0.0 : 1.0; \n    val = abs(val); \n    float exponent = floor(log2(val)); \n    float biased_exponent = exponent + 127.0; \n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; \n    float t = biased_exponent / 2.0; \n    float last_bit_of_biased_exponent = fract(t) * 2.0; \n    float remaining_bits_of_biased_exponent = floor(t); \n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; \n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; \n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n    return vec4(byte4, byte3, byte2, byte1); \n}\n\nvoid main(void) {\n  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);\n  float data;\n  if (u_index == 0.0) {\n    data = texData.x;\n  } else if (u_index == 1.0) {\n    data = texData.y;\n  } else if (u_index == 2.0) {\n    data = texData.z;\n  } else if (u_index == 3.0) {\n    data = texData.w;\n  }\n\n  gl_FragColor = encode_float(data);\n}\n"),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var t=0;t<4;t++){var n=new Uint8Array(262144),r=this.newTexture(e,null,$b,e.UNSIGNED_BYTE),o=this.newFramebuffer(e,r);this.workaroundData.push({dataByte:n,dataFloat:new Float32Array(n.buffer),texture:r,frameBuffer:o})}}},{key:"doReadpixelWorkaround",value:function(){for(var e=this.gl,t=0;t<4;t++){var n=this.workaroundData[t];e.bindFramebuffer(e.FRAMEBUFFER,n.frameBuffer),e.viewport(0,0,$b,$b),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",t),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),e.bindBuffer(e.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.readPixels(0,0,$b,$b,e.RGBA,e.UNSIGNED_BYTE,n.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Fw(e){return Fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(e)}function Uw(e){return function(e){if(Array.isArray(e))return Bw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zw(e,t,n){return(t=Vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vw(e){var t=function(e){if("object"!=Fw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fw(t)?t:t+""}var Ww="ForceCytoLayout",Hw="forceDirected",qw="coseBilkent",Gw=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zw(this,"physLayout",void 0),zw(this,"coseBilkentLayout",void 0),zw(this,"state",void 0),zw(this,"currentLayoutType",void 0),zw(this,"enableCytoscape",void 0),zw(this,"currentLayout",void 0);var r=t.state,o=t.enableCytoscape;this.enableCytoscape=null==o||o,this.physLayout=new Lw(t),this.coseBilkentLayout=new aw({state:r,cytoCompleteCallback:function(){for(n.physLayout.update(!0),n.copyLayoutPositions(n.state.nodes.items,n.coseBilkentLayout,n.physLayout);n.physLayout.update(!1););n.copyLayoutPositions(n.state.nodes.items,n.physLayout,n.coseBilkentLayout)},animationCompleteCallback:function(){n.currentLayoutType===qw&&setTimeout(function(){return n.setLayout(Hw)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=Hw;var i=r.nodes,a=r.rels;i.addChannel(Ww),a.addChannel(Ww),this.state=r},t=[{key:"setOptions",value:function(e){void 0!==e&&(this.currentLayout.setOptions(e),this.enableCytoscape=e.enableCytoscape)}},{key:"getLayout",value:function(e){return e===qw?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(e){if(e!==this.currentLayoutType){I_.info("Switching to layout: ".concat(e," in ForceCyto"));var t=this.getLayout(e);this.currentLayout=t,this.currentLayoutType=e}}},{key:"copyLayoutPositions",value:function(e,t,n){var r=t.getNodePositions(e);n.updateNodes(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.nodes,r=t.rels,o=n.channels[Ww],i=r.channels[Ww],a=Object.values(o.adds).length,u=Object.values(i.adds).length,s=Object.values(o.adds).map(function(e){return e.id}),l=Object.values(i.adds).map(function(e){return e.id}),c=new Set(Object.keys(o.adds)),f=new Set(Object.keys(i.adds));if(n.clearChannel(Ww),r.clearChannel(Ww),this.currentLayoutType===Hw&&this.enableCytoscape&&n.items.length<=100&&a<100&&a>0&&u>0){var d=n.items.map(function(e){return e.id}),h=new Set([].concat(Uw(d),Uw(s))),p=r.items.map(function(e){return e.id}),v=new Set([].concat(Uw(p),Uw(l)));if(h.size<=100&&v.size<=300){var y=function(e,t,n,r){var o,i=new Set(e),a=f_(new Set(t));try{for(a.s();!(o=a.n()).done;){var u=o.value,s=r.idToItem[u];if(s){var l=s.from,c=s.to;i.add(l),i.add(c)}}}catch(e){a.e(e)}finally{a.f()}var f,d=function(e){var t,n={},r={},o=f_(e);try{for(o.s();!(t=o.n()).done;){for(var i=t.value,a=i.from,u=i.to,s="".concat(a,"-").concat(u),l="".concat(u,"-").concat(a),c=0,f=[s,l];c<f.length;c++){var d=f[c];void 0!==r[d]?r[d].push(i):r[d]=[i]}n[a]||(n[a]=new Set),n[u]||(n[u]=new Set),n[a].add(u),n[u].add(a)}}catch(e){o.e(e)}finally{o.f()}return{adjNodesMap:n,relMap:r}}(r.items),h=d.adjNodesMap,p=d.relMap,v={},y={},g=function(e){var t=[];for(v[e]||t.push(e);t.length>0;){var r=t.shift();if(v[r]=n.idToItem[r],void 0!==h[r]){var o,i=f_(h[r]);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!v[a]){t.push(a);var u=p["".concat(r,"-").concat(a)];if(u){var s,l=f_(u);try{for(l.s();!(s=l.n()).done;){var c=s.value;y[c.id]||(y[c.id]=c)}}catch(e){l.e(e)}finally{l.f()}}}}}catch(e){i.e(e)}finally{i.f()}}}},m=f_(i);try{for(m.s();!(f=m.n()).done;)g(f.value)}catch(e){m.e(e)}finally{m.f()}return{connectedNodes:v,connectedRels:y}}(c,f,n,r),g=y.connectedNodes,m=y.connectedRels,b=Object.values(g),_=Object.values(m),w=b.length,O=_.length;w===c.size&&O===f.size&&(f.size>0||c.size>0)?(this.setLayout(qw),this.coseBilkentLayout.update(!0,n.items,r.items)):O>0&&f.size/O>.25&&(this.setLayout(qw),this.coseBilkentLayout.update(!0,b,_))}}this.physLayout.update(e),this.coseBilkentLayout.update(e)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(e){this.setLayout(Hw),this.physLayout.updateNodes(e)}},{key:"getNodePositions",value:function(e){return this.currentLayout.getNodePositions(e)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Yw(e){return Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(e)}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(t){Qw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function $w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Qw(e,t,n){return(t=Jw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jw(e){var t=function(e){if("object"!=Yw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yw(t)?t:t+""}var eO="FreeLayout",tO=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qw(this,"state",void 0),Qw(this,"positions",void 0),Qw(this,"shouldUpdate",void 0),Qw(this,"stateDisposers",void 0);var r=t.state;this.state=r,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)}));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(eO),a.addChannel(eO),this.shouldUpdate=!0,this.setOptions(),this.layout(i.items,i.idToItem,i.idToPosition)},t=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(e){var t,n=Zw(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,n=t.nodes,r=t.rels,o=Object.values(n.channels[eO].adds).length>0,i=Object.values(r.channels[eO].adds).length>0,a=Object.values(n.channels[eO].removes).length>0,u=Object.values(r.channels[eO].removes).length>0;(o||i||a||u)&&this.layout(n.items,n.idToItem,n.idToPosition),n.clearChannel(eO),r.clearChannel(eO)}this.shouldUpdate=!1}},{key:"layout",value:function(e,t,n){var r,o=void 0!==(r=e)?$m(r):r;if(!(0,Bv.isEmpty)(o)){for(var i={},a=0;a<o.length;++a){var u,s=o[a].id,l=null!==(u=n[s])&&void 0!==u?u:{},c=l.x,f=void 0===c?0:c,d=l.y,h=void 0===d?0:d;i[s]={id:s,x:f,y:h}}this.positions=i,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(e){this.positions=e}},{key:"getNodePositions",value:function(e){var t,n=[],r=Zw(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.positions[o.id],a=Kw({id:o.id},i);n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(eO),this.state.rels.removeChannel(eO)}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jw(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function nO(e){return nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nO(e)}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(t){iO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iO(e,t,n){return(t=sO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return uO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uO(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function uO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sO(e){var t=function(e){if("object"!=nO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nO(t)?t:t+""}var lO="GridLayout",cO=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.state;this.state=r,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return n.state.graphUpdates},function(){void 0!==n.state.nodes.version&&(n.shouldUpdate=!0),void 0!==n.state.rels.version&&(n.shouldUpdate=!0)}));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(lO),a.addChannel(lO),this.shouldUpdate=!0,this.setOptions(t),this.layout(i.items,i.idToItem,i.idToPosition,a.items)},t=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t,n=aO(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r.x&&void 0!==r.y&&(this.positions[r.id]={x:r.x,y:r.y}),this.shouldUpdate=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,n=t.nodes,r=t.rels,o=Object.values(n.channels[lO].adds).length>0,i=Object.values(r.channels[lO].adds).length>0,a=Object.values(n.channels[lO].removes).length>0,u=Object.values(r.channels[lO].removes).length>0;(o||i||a||u)&&(this.layout(n.items,n.idToItem,n.idToPosition,r.items),n.idToPosition=this.positions),n.clearChannel(lO),r.clearChannel(lO)}this.shouldUpdate=!1}},{key:"layout",value:function(e,t,n,r){var o,i=(o=e)?$m(o):o;if(!(0,Bv.isEmpty)(i)){for(var a=i.length,u=Math.ceil(Math.sqrt(a)),s=new Array(a),l=0,c=0;c<u;++c){for(var f=0;f<u&&(s[l]={y:0+150*c,x:0+150*f},(l+=1)!==a);++f);if(l===a)break}for(var d=i.sort(),h={},p=0;p<a;++p){var v=d[p],y=s[p];v.x===y.x&&v.y===y.y||(h[v.id]=oO({id:v.id},y))}this.positions=h,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(e){var t,n=[],r=aO(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.positions[o.id],a=oO({id:o.id},i);n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(lO),this.state.rels.removeChannel(lO)}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),fO=new Set(["direction","packing"]),dO="hierarchical",hO="canvas";function pO(e){return pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pO(e)}function vO(e,t,n){return(t=function(e){var t=function(e){if("object"!=pO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yO="down",gO=vO(vO(vO(vO({},"up","BT"),yO,"TB"),"left","RL"),"right","LR"),mO="bin",bO=[mO,"stack"],_O=["html"],wO=["html"],OO=["captionHtml"];function EO(e){return EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EO(e)}function xO(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function SO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SO=function(){return!!e})()}function PO(){return PO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=TO(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},PO.apply(null,arguments)}function TO(e){return TO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TO(e)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CO(e,t)}function kO(e,t,n){return(t=AO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AO(e){var t=function(e){if("object"!=EO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=EO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==EO(t)?t:t+""}var jO="HierarchicalLayout",RO=function(e){return void 0!==e?$m(e):e},IO=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kO(n=function(e,t,n){return t=TO(t),function(e,t){if(t&&("object"==EO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SO()?Reflect.construct(t,n||[],TO(e).constructor):t.apply(e,n))}(this,e,[t]),"direction",void 0),kO(n,"packing",void 0),kO(n,"stateDisposers",void 0),kO(n,"oldComputing",void 0),kO(n,"computing",void 0),kO(n,"pendingLayoutData",void 0),kO(n,"worker",void 0),kO(n,"directionChanged",void 0),kO(n,"packingChanged",void 0),kO(n,"workersDisabled",void 0),n.direction=yO,n.packing=mO;var r=n.state,o=r.nodes,i=r.rels;return o.addChannel(jO),i.addChannel(jO),n.stateDisposers=[n.state.reaction(function(){return n.state.graphUpdates},function(){if(void 0!==o.version){var e=o.channels[jO],t=Object.values(e.adds).length>0,r=Object.values(e.removes).length>0,a=Object.values(e.updates),u=y_(a);n.shouldUpdate=n.shouldUpdate||t||r||u}if(void 0!==i.version){var s=i.channels[jO],l=Object.values(s.adds).length>0,c=Object.values(s.removes).length>0;n.shouldUpdate=n.shouldUpdate||l||c}})],n.shouldUpdate=!0,n.oldComputing=!1,n.computing=!1,n.workersDisabled=t.state.disableWebWorkers,n.setOptions(t),n.worker=D_("HierarchicalLayout",n.workersDisabled),n.pendingLayoutData=null,n.layout(o.items,o.idToItem,o.idToPosition,i.items),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}(e,q_),t=e,n=[{key:"setOptions",value:function(e){if(void 0!==e&&function(e){return Object.keys(e).every(function(e){return fO.has(e)})}(e)){var t=e.direction,n=void 0===t?yO:t,r=e.packing,o=void 0===r?mO:r;Object.keys(gO).includes(n)&&(this.directionChanged=this.direction&&this.direction!==n,this.direction=n),bO.includes(o)&&(this.packingChanged=this.packing&&this.packing!==o,this.packing=o),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||t){var n=this.state,r=n.nodes,o=n.rels,i=this.directionChanged,a=this.packingChanged,u=Object.values(r.channels[jO].adds).length>0,s=Object.values(o.channels[jO].adds).length>0,l=Object.values(r.channels[jO].removes).length>0,c=Object.values(o.channels[jO].removes).length>0,f=Object.values(r.channels[jO].updates),d=y_(f);(t||u||s||l||c||i||a||d)&&this.layout(r.items,r.idToItem,r.idToPosition,o.items),r.clearChannel(jO),o.clearChannel(jO),this.directionChanged=!1,this.packingChanged=!1}!function(e,t,n){var r=PO(TO(e.prototype),"update",n);return"function"==typeof r?function(e){return r.apply(n,e)}:r}(e,0,this)([]),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t,n,r){var o=this;if(this.worker){var i=RO(e).map(function(e){return e.html,xO(e,_O)}),a=RO(t),u={};Object.keys(a).forEach(function(e){var t=a[e],n=(t.html,xO(t,wO));u[e]=n});var s=RO(r).map(function(e){return e.captionHtml,xO(e,OO)}),l=RO(n),c=this.direction,f=this.packing,d=window.devicePixelRatio,h={nodes:i,nodeIds:u,idToPosition:l,rels:s,direction:c,packing:f,pixelRatio:d,forcedDelay:0};this.computing?this.pendingLayoutData=h:(this.worker.port.onmessage=function(e){var t=e.data,n=t.positions,r=t.parents,i=t.waypoints;o.computing&&(o.positions=n),o.parents=r,o.state.setWaypoints(i),null!==o.pendingLayoutData?(o.worker.port.postMessage(o.pendingLayoutData),o.pendingLayoutData=null):o.computing=!1,o.shouldUpdate=!0,o.startAnimation()},this.computing=!0,this.worker.port.postMessage(h))}else I_.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var e,t;this.computing=!1,this.shouldUpdate=!1,null===(e=this.state.nodes)||void 0===e||e.clearChannel(jO),null===(t=this.state.rels)||void 0===t||t.clearChannel(jO)}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(jO),this.state.rels.removeChannel(jO),null===(e=this.worker)||void 0===e||e.port.close()}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AO(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function NO(e){return NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NO(e)}function MO(e,t,n){return(t=DO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e){var t=function(e){if("object"!=NO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=NO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==NO(t)?t:t+""}var LO=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),MO(this,"elementId",void 0),MO(this,"currentValue",void 0),MO(this,"startValue",void 0),MO(this,"currentTime",void 0),MO(this,"duration",void 0),MO(this,"status",void 0),MO(this,"endValue",void 0),MO(this,"startTime",void 0),MO(this,"endTime",void 0),MO(this,"hasNextAnimation",void 0),this.elementId=t,this.startValue=n,this.status=0,this.currentValue=n,this.duration=0},(t=[{key:"setDuration",value:function(e){this.duration=e,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(1!==this.status)return!1;this.currentTime=(new Date).getTime();var e,t=this.endTime-this.startTime;return(e=t>0?(this.currentTime-this.startTime)/t:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+e*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(e){this.endValue!==e&&(e-this.currentValue!==0?(this.currentTime=(new Date).getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=e,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=e)}},{key:"setEndTime",value:function(e){this.endTime=Math.max(e,this.startTime)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function FO(e){return FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FO(e)}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(t){zO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zO(e,t,n){return(t=VO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e){var t=function(e){if("object"!=FO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=FO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==FO(t)?t:t+""}var WO=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zO(this,"animations",void 0),zO(this,"durations",void 0),zO(this,"defaultDuration",void 0),zO(this,"hasNextAnimation",void 0),zO(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1},t=[{key:"advance",value:function(){var e=this;return this.hasNextAnimation=!1,this.animations.forEach(function(t){Object.values(t).forEach(function(t){t.advance()&&(e.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(e){this.ignoreAnimationsFlag=e}},{key:"setOptions",value:function(e){void 0!==e.fadeDuration&&(this.durations[0]=e.fadeDuration),void 0!==e.sizeDuration&&(this.durations[1]=e.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(this.ignoreAnimationsFlag)return n;var a=null!==(r=this.getById(e))&&void 0!==r?r:{};if(void 0===a[t]){var u=1===i?this.createSizeAnimation(0,e,t):this.createFadeAnimation(0,e,t);u.setEndValue(n),o=u.currentValue}else{var s=a[t];if(s.currentValue===n)return n;s.setEndValue(n),o=s.currentValue}return this.hasNextAnimation=!0,o}},{key:"createAnimation",value:function(e,t,n){var r,o=new LO(t,e),i=null!==(r=this.animations.get(t))&&void 0!==r?r:{};return this.animations.set(t,BO(BO({},i),{},zO({},n,o))),o}},{key:"getById",value:function(e){return this.animations.get(e)}},{key:"createFadeAnimation",value:function(e,t,n){var r,o=this.createAnimation(e,t,n);return o.setDuration(null!==(r=this.durations[0])&&void 0!==r?r:this.defaultDuration),o}},{key:"createSizeAnimation",value:function(e,t,n){var r,o=this.createAnimation(e,t,n);return o.setDuration(null!==(r=this.durations[1])&&void 0!==r?r:this.defaultDuration),o}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function HO(e){return HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HO(e)}function qO(e){var t=function(e){if("object"!=HO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=HO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==HO(t)?t:t+""}var GO=64,YO=function(){return e=function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=qO(n="cache"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.cache={}},t=[{key:"getImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOrCreateEntry(e),r=t?"inverted":"image",o=n[r];return void 0===o&&(o=this.loadImage(e),n[r]=o),this.drawIfNeeded(o,t),o.canvas}},{key:"getOrCreateEntry",value:function(e){return void 0===this.cache[e]&&(this.cache[e]={}),this.cache[e]}},{key:"invertCanvas",value:function(e){for(var t=e.getImageData(0,0,GO,GO),n=t.data,r=0;r<4096;r++){var o=4*r;n[o]^=255,n[o+1]^=255,n[o+2]^=255}e.putImageData(t,0,0)}},{key:"loadImage",value:function(e){var t=document.createElement("canvas");t.width=GO,t.height=GO;var n=new Image;return n.src=e,n.crossOrigin="anonymous",{canvas:t,image:n,drawn:!1}}},{key:"drawIfNeeded",value:function(e,t){var n=e.image,r=e.canvas;if(!e.drawn&&n.complete){var o=r.getContext("2d");try{o.drawImage(n,0,0,GO,GO)}catch(e){I_.error("Failed to draw image",n.src,e),o.beginPath(),o.strokeStyle="black",o.rect(0,0,GO,GO),o.moveTo(0,0),o.lineTo(GO,GO),o.moveTo(0,GO),o.lineTo(GO,0),o.stroke(),o.closePath()}t&&this.invertCanvas(o),e.drawn=!0}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const XO=YO;function KO(e){return KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KO(e)}function ZO(e,t){if(e){if("string"==typeof e)return $O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$O(e,t):void 0}}function $O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QO(e,t,n){return(t=JO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t=function(e){if("object"!=KO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=KO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==KO(t)?t:t+""}var eE=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QO(this,"key",void 0),QO(this,"rels",void 0),QO(this,"waypointPath",void 0),QO(this,"selfReferring",void 0),QO(this,"fromId",void 0),QO(this,"toId",void 0),QO(this,"angles",void 0),QO(this,"labelInfo",void 0),this.key=t,this.rels=new Map,this.selfReferring=n===r,this.fromId=n,this.toId=r,this.labelInfo={},this.angles=[]},t=[{key:"insert",value:function(e){this.rels.set(e.id,e)}},{key:"setLabelInfo",value:function(e,t){this.labelInfo[e]=t}},{key:"has",value:function(e){var t=e.id;return this.rels.has(t)}},{key:"remove",value:function(e){var t=e.id;if(this.rels.has(t)&&(this.rels.delete(t),this.size()>0)){var n=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,i,a=[],u=!0,s=!1;try{for(o=(t=t.call(e)).next,0;!(u=(n=o.call(t)).done)&&(a.push(n.value),1!==a.length);u=!0);}catch(e){s=!0,r=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw r}}return a}}(e)||ZO(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.relArray())[0];this.fromId=n.from,this.toId=n.to}}},{key:"size",value:function(){return this.rels.size}},{key:"relArray",value:function(){return Array.from(this.rels.values())}},{key:"maxFontSize",value:function(){if(0===this.size())return 1;var e=this.relArray().map(function(e){return(0,Bv.isNumber)(e.captionSize)?e.captionSize:1});return Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return $O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ZO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e))}},{key:"relIsOppositeDirection",value:function(e){var t=e.from,n=e.to,r=this.fromId,o=this.toId;return t!==r&&n!==o||t===o&&n===r}},{key:"indexOf",value:function(e){var t=e.id,n=Array.from(this.rels.keys());return this.rels.has(t)?n.indexOf(t):-1}},{key:"getRel",value:function(e){var t=this.relArray();return e<0||e>=t.length?null:t[e]}},{key:"setWaypoints",value:function(e){this.waypointPath=e}},{key:"setAngles",value:function(e){this.angles=e}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JO(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),tE=t_,nE=2*Math.PI/50,rE=.1*Math.PI;function oE(e){return oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oE(e)}function iE(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=uE(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function aE(e){return function(e){if(Array.isArray(e))return sE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uE(e,t){if(e){if("string"==typeof e)return sE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sE(e,t):void 0}}function sE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lE(e,t,n){return(t=cE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cE(e){var t=function(e){if("object"!=oE(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oE(t)?t:t+""}var fE=function(e){var t=[];if(0===e.length)t.push({size:2*Math.PI,start:0});else{for(var n=e.length-1;n>=0;n--){var r=void 0,o=void 0;0===n?(o=e[e.length-1],r=e[n]-e[e.length-1]+2*Math.PI):(o=e[n-1],r=e[n]-e[n-1]),t.push({size:r,start:o})}t.sort(function(e,t){return t.size-e.size})}return t},dE=function(e,t){for(;t>e.length||e[0].size>2*e[t-1].size;)e.push({size:e[0].size/2,start:e[0].start}),e.push({size:e[0].size/2,start:e[0].start+e[0].size/2}),e.shift(),e.sort(function(e,t){return t.size-e.size});return e},hE=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lE(this,"bundles",void 0),lE(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var r=t.reduce(function(e,t){return e[t.id]=t,e},{});this.updateData(r,{},{},n)},t=[{key:"getBundle",value:function(e){var t=this.bundles,n=this.nodeToBundles,r=this.generatePairId(e.from,e.to),o=t[r];return void 0===o&&(o=new eE(r,e.from,e.to),t[r]=o,void 0===n[e.from]&&(n[e.from]=[]),void 0===n[e.to]&&(n[e.to]=[]),n[e.from].push(o),n[e.to].push(o)),o}},{key:"updateData",value:function(e,t,n,r){var o,i=this.bundles,a=this.nodeToBundles,u=function(e,t){var n=a[t].findIndex(function(t){return t===e});-1!==n&&a[t].splice(n,1),0===a[t].length&&delete a[t]},s=[].concat(aE(Object.values(e)),aE(Object.values(n))),l=Object.values(t),c=iE(s);try{for(c.s();!(o=c.n()).done;){var f=o.value;this.getBundle(f).insert(f)}}catch(e){c.e(e)}finally{c.f()}for(var d=0,h=l;d<h.length;d++){var p=h[d],v=this.getBundle(p);v.remove(p),0===v.size()&&(delete i[v.key],u(v,p.from),u(v,p.to))}for(var y=0,g=Object.keys(i);y<g.length;y++){var m=i[g[y]];m.setWaypoints(r["".concat(m.fromId,"-").concat(m.toId)])}}},{key:"updatePositions",value:function(e){for(var t=this.nodeToBundles,n=0,r=Object.keys(e);n<r.length;n++){var o,i=r[n],a=null!==(o=t[i])&&void 0!==o?o:[];if(0!==a.length){var u=a.find(function(e){return e.selfReferring}),s=a.filter(function(e){return!e.selfReferring});if(void 0!==u){var l,c=[],f=iE(s);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=e[d.fromId],p=e[d.toId];if(void 0!==h&&void 0!==p)for(var v=nE*d.size(),y=h.id===i?Math.atan2(p.y-h.y,p.x-h.x):Math.atan2(h.y-p.y,h.x-p.x),g=0;g<d.size();g++)c.push(y+v/2-g*nE);else{var m=void 0===h?d.fromId:d.toId;I_.warn("Arrowbundler: Node with id ".concat(m," is not in position map"))}}}catch(e){f.e(e)}finally{f.f()}var b=c.map(function(e){return(e+2*Math.PI)%(2*Math.PI)}).sort(),_=fE(b);dE(_,u.size());var w=_.map(function(e){return e.start+e.size/2}).slice(0,u.size());u.setAngles(w)}}}}},{key:"generatePairId",value:function(e,t){return[e.toString(),t.toString()].sort(function(e,t){return e.localeCompare(t)}).join("-")}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cE(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),pE=Uv(3269),vE=Uv.n(pE);function yE(e){return yE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(e)}var gE=/^\s+/,mE=/\s+$/;function bE(e,t){if(t=t||{},(e=e||"")instanceof bE)return e;if(!(this instanceof bE))return new bE(e,t);var n=function(e){var t,n,r,o={r:0,g:0,b:0},i=1,a=null,u=null,s=null,l=!1,c=!1;return"string"==typeof e&&(e=function(e){e=e.replace(gE,"").replace(mE,"").toLowerCase();var t,n=!1;if(DE[e])e=DE[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=KE.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=KE.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=KE.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=KE.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=KE.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=KE.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=KE.hex8.exec(e))?{r:zE(t[1]),g:zE(t[2]),b:zE(t[3]),a:qE(t[4]),format:n?"name":"hex8"}:(t=KE.hex6.exec(e))?{r:zE(t[1]),g:zE(t[2]),b:zE(t[3]),format:n?"name":"hex"}:(t=KE.hex4.exec(e))?{r:zE(t[1]+""+t[1]),g:zE(t[2]+""+t[2]),b:zE(t[3]+""+t[3]),a:qE(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=KE.hex3.exec(e))&&{r:zE(t[1]+""+t[1]),g:zE(t[2]+""+t[2]),b:zE(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==yE(e)&&(ZE(e.r)&&ZE(e.g)&&ZE(e.b)?(t=e.r,n=e.g,r=e.b,o={r:255*UE(t,255),g:255*UE(n,255),b:255*UE(r,255)},l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):ZE(e.h)&&ZE(e.s)&&ZE(e.v)?(a=WE(e.s),u=WE(e.v),o=function(e,t,n){e=6*UE(e,360),t=UE(t,100),n=UE(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),u=n*(1-(1-o)*t),s=r%6;return{r:255*[n,a,i,i,u,n][s],g:255*[u,n,n,a,i,i][s],b:255*[i,i,u,n,n,a][s]}}(e.h,a,u),l=!0,c="hsv"):ZE(e.h)&&ZE(e.s)&&ZE(e.l)&&(a=WE(e.s),s=WE(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=UE(e,360),t=UE(t,100),n=UE(n,100),0===t)r=o=i=n;else{var u=n<.5?n*(1+t):n+t-n*t,s=2*n-u;r=a(s,u,e+1/3),o=a(s,u,e),i=a(s,u,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,a,s),l=!0,c="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=FE(i),{ok:l,format:e.format||c,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:i}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function _E(e,t,n){e=UE(e,255),t=UE(t,255),n=UE(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),u=(i+a)/2;if(i==a)r=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:u}}function wE(e,t,n){e=UE(e,255),t=UE(t,255),n=UE(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),u=i,s=i-a;if(o=0===i?0:s/i,i==a)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,v:u}}function OE(e,t,n,r){var o=[VE(Math.round(e).toString(16)),VE(Math.round(t).toString(16)),VE(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function EE(e,t,n,r){return[VE(HE(r)),VE(Math.round(e).toString(16)),VE(Math.round(t).toString(16)),VE(Math.round(n).toString(16))].join("")}function xE(e,t){t=0===t?0:t||10;var n=bE(e).toHsl();return n.s-=t/100,n.s=BE(n.s),bE(n)}function SE(e,t){t=0===t?0:t||10;var n=bE(e).toHsl();return n.s+=t/100,n.s=BE(n.s),bE(n)}function PE(e){return bE(e).desaturate(100)}function TE(e,t){t=0===t?0:t||10;var n=bE(e).toHsl();return n.l+=t/100,n.l=BE(n.l),bE(n)}function CE(e,t){t=0===t?0:t||10;var n=bE(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),bE(n)}function kE(e,t){t=0===t?0:t||10;var n=bE(e).toHsl();return n.l-=t/100,n.l=BE(n.l),bE(n)}function AE(e,t){var n=bE(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,bE(n)}function jE(e){var t=bE(e).toHsl();return t.h=(t.h+180)%360,bE(t)}function RE(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=bE(e).toHsl(),r=[bE(e)],o=360/t,i=1;i<t;i++)r.push(bE({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function IE(e){var t=bE(e).toHsl(),n=t.h;return[bE(e),bE({h:(n+72)%360,s:t.s,l:t.l}),bE({h:(n+216)%360,s:t.s,l:t.l})]}function NE(e,t,n){t=t||6,n=n||30;var r=bE(e).toHsl(),o=360/n,i=[bE(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(bE(r));return i}function ME(e,t){t=t||6;for(var n=bE(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],u=1/t;t--;)a.push(bE({h:r,s:o,v:i})),i=(i+u)%1;return a}bE.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=FE(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=wE(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=wE(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=_E(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=_E(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return OE(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[VE(Math.round(e).toString(16)),VE(Math.round(t).toString(16)),VE(Math.round(n).toString(16)),VE(HE(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*UE(this._r,255))+"%",g:Math.round(100*UE(this._g,255))+"%",b:Math.round(100*UE(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*UE(this._r,255))+"%, "+Math.round(100*UE(this._g,255))+"%, "+Math.round(100*UE(this._b,255))+"%)":"rgba("+Math.round(100*UE(this._r,255))+"%, "+Math.round(100*UE(this._g,255))+"%, "+Math.round(100*UE(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(LE[OE(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+EE(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=bE(e);n="#"+EE(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return bE(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(TE,arguments)},brighten:function(){return this._applyModification(CE,arguments)},darken:function(){return this._applyModification(kE,arguments)},desaturate:function(){return this._applyModification(xE,arguments)},saturate:function(){return this._applyModification(SE,arguments)},greyscale:function(){return this._applyModification(PE,arguments)},spin:function(){return this._applyModification(AE,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(NE,arguments)},complement:function(){return this._applyCombination(jE,arguments)},monochromatic:function(){return this._applyCombination(ME,arguments)},splitcomplement:function(){return this._applyCombination(IE,arguments)},triad:function(){return this._applyCombination(RE,[3])},tetrad:function(){return this._applyCombination(RE,[4])}},bE.fromRatio=function(e,t){if("object"==yE(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:WE(e[r]));e=n}return bE(e,t)},bE.equals=function(e,t){return!(!e||!t)&&bE(e).toRgbString()==bE(t).toRgbString()},bE.random=function(){return bE.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},bE.mix=function(e,t,n){n=0===n?0:n||50;var r=bE(e).toRgb(),o=bE(t).toRgb(),i=n/100;return bE({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},bE.readability=function(e,t){var n=bE(e),r=bE(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},bE.isReadable=function(e,t,n){var r,o,i,a,u,s=bE.readability(e,t);switch(o=!1,"AA"!==(a=((i=(i=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(u=(i.size||"small").toLowerCase())&&"large"!==u&&(u="small"),(r={level:a,size:u}).level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},bE.mostReadable=function(e,t,n){var r,o,i,a,u=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=bE.readability(e,t[l]))>s&&(s=r,u=bE(t[l]));return bE.isReadable(e,u,{level:i,size:a})||!o?u:(n.includeFallbackColors=!1,bE.mostReadable(e,["#fff","#000"],n))};var DE=bE.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},LE=bE.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(DE);function FE(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function UE(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function BE(e){return Math.min(1,Math.max(0,e))}function zE(e){return parseInt(e,16)}function VE(e){return 1==e.length?"0"+e:""+e}function WE(e){return e<=1&&(e=100*e+"%"),e}function HE(e){return Math.round(255*parseFloat(e)).toString(16)}function qE(e){return zE(e)/255}var GE,YE,XE,KE=(YE="[\\s|\\(]+("+(GE="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+GE+")[,|\\s]+("+GE+")\\s*\\)?",XE="[\\s|\\(]+("+GE+")[,|\\s]+("+GE+")[,|\\s]+("+GE+")[,|\\s]+("+GE+")\\s*\\)?",{CSS_UNIT:new RegExp(GE),rgb:new RegExp("rgb"+YE),rgba:new RegExp("rgba"+XE),hsl:new RegExp("hsl"+YE),hsla:new RegExp("hsla"+XE),hsv:new RegExp("hsv"+YE),hsva:new RegExp("hsva"+XE),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ZE(e){return!!KE.CSS_UNIT.exec(e)}var $E=function(e){return bE.mostReadable(e,[a_,"#FFFFFF"]).toString()},QE=function(e){return vE().get.rgb(e)},JE=function(e){var t=new ArrayBuffer(4),n=new Uint32Array(t),r=new Uint8Array(t),o=QE(e);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=255*o[3],n[0]},ex=function(e){return[(t=QE(e))[0]/255,t[1]/255,t[2]/255];var t},tx={selected:{rings:[{widthFactor:.05,color:o_},{widthFactor:.1,color:i_}],shadow:{width:10,opacity:1,color:r_}},default:{rings:[]}},nx={selected:{rings:[{color:o_,width:2},{color:i_,width:4}],shadow:{width:18,opacity:1,color:r_}},default:{rings:[]}},rx=.75,ox={noPan:!1,outOnly:!1,animated:!0};function ix(e){return ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(e)}function ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ux(Object(n),!0).forEach(function(t){lx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lx(e,t,n){return(t=function(e){var t=function(e){if("object"!=ix(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ix(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ix(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cx=function(e){return e.captions&&e.captions.length>0?e.captions:e.caption&&e.caption.length>0?[{value:e.caption}]:[]},fx=function(e,t,n){(0,Bv.isNil)(e)||(function(e){return"string"==typeof e&&null!==QE(e)}(e)?t(e):R_().warn("Invalid color string for ".concat(n,":"),e))};function dx(e){return dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(e)}function hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function px(e,t,n){return(t=vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx(e){var t=function(e){if("object"!=dx(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dx(t)?t:t+""}var yx=function(e,t){return(0,Bv.isFinite)(e.x)&&(0,Bv.isFinite)(e.y)&&(0,Bv.isFinite)(t.x)&&(0,Bv.isFinite)(t.y)},gx=function(e,t){if(void 0===e||void 0===t||!yx(e,t))return!1;var n=t.x-e.x,r=t.y-e.y,o=l_();return n*n+r*r<100*o*o},mx=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),px(this,"p1",void 0),px(this,"p2",void 0),px(this,"unit",void 0),px(this,"norm",void 0),px(this,"length",void 0),px(this,"vector",void 0),this.p1=t,this.p2=n,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()},t=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var e=this.vector,t=e.x,n=e.y;return Math.sqrt(t*t+n*n)}},{key:"getUnitVector",value:function(){var e=this.vector,t=this.length;return{x:e.x/t,y:e.y/t}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vx(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),bx=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o=function(e,t){var n=(e.x*t.x+e.y*t.y)/(t.x*t.x+t.y*t.y);return(0,Bv.clamp)(n,0,1)}({x:n.x-e.x,y:n.y-e.y},r),i=e.x+o*r.x,a=e.y+o*r.y,u=i-n.x,s=a-n.y;return Math.sqrt(u*u+s*s)},_x=function(e,t,n,r){if(t.x===n.x&&t.y===n.y)return t;var o=t.y-e.y,i=e.x-t.x,a=o*e.x+i*e.y,u=r.y-n.y,s=n.x-r.x,l=u*n.x+s*n.y,c=o*s-u*i;return 0===c?null:{x:(s*a-i*l)/c,y:(o*l-u*a)/c}},wx=function(e,t,n,r){var o,i,a,u=1e9,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hx(Object(n),!0).forEach(function(t){px(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),l={x:0,y:0};for(i=1;i<10;i++)a=.1*i,l.x=Math.pow(1-a,2)*e.x+2*a*(1-a)*n.x+Math.pow(a,2)*t.x,l.y=Math.pow(1-a,2)*e.y+2*a*(1-a)*n.y+Math.pow(a,2)*t.y,i>0&&(u=(o=bx(s,l,r))<u?o:u),s.x=l.x,s.y=l.y;return u};function Ox(e){return Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(e)}function Ex(e){return function(e){if(Array.isArray(e))return Cx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xx(Object(n),!0).forEach(function(t){Px(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Px(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ox(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ox(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ox(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tx(e,t){if(e){if("string"==typeof e)return Cx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cx(e,t):void 0}}function Cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kx="\u2026",Ax=function(e){return!(!e||!isNaN(Number(e))||e.toLowerCase()===e.toUpperCase())&&e===e.toUpperCase()},jx=function(e){var t=e[e.length-1],n=e[e.length-2];return!(!t||!isNaN(Number(t))||t.toLowerCase()===t.toUpperCase())&&!(!n||!isNaN(Number(n))||n.toLowerCase()===n.toUpperCase())&&Ax(t)&&!Ax(n)},Rx=function(e){return" \t\n\r\v".includes(e)},Ix=function(e,t,n,r){for(var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=[],u=[],s=0,l=0,c=!1,f=!1,d=0;d<r;d++)a[d]=n(d,r);for(var h,p=function(){o=e.slice(s,v);var n,d=t(o),h=a[l];if(d>h||(n=e[v-1],"\n\r\v".includes(n))){if(!(l<r-1)){if(i)return{v:[]};for(var p=v,y=function(){return e[p-1]};d>h;){for(p-=1;Rx(y());)p-=1;if(!(p-s>1)){o="",f=!0,c=!1;break}o=e.slice(s,p),d=t(o),f=!0,c=!1}return u[l]={text:o,hasEllipsisChar:f,hasHyphenChar:c},{v:u}}c=!1,f=!1;var g=function(e){var t=e.length,n=Math.min(t-1,3);if(1===t)return{hyphen:!1,cnt:0};for(var r=0;r<n;r++){var o=e[e.length-(r+1)];if(" "===o||o.toLowerCase()===o.toUpperCase())return{hyphen:!1,cnt:r+1};var i=e.slice(0,e.length-r);if(jx(i))return{hyphen:!1,cnt:r+1}}return{hyphen:!0,cnt:1}}(o),m=v-g.cnt;if(g.hyphen)for(o=e.slice(s,m),d=t(o),c=!0;d>h;){if(!(m-s>1)){o=e[s],m=s+1,d=t(o),c=!1;break}m-=1,o=e.slice(s,m),d=t(o),c=!0}else o=(o=e.slice(s,m)).trim();u[l]={text:o,hasEllipsisChar:f,hasHyphenChar:c},s=m,l+=1}},v=1;v<=e.length;v++)if(h=p())return h.v;return o=e.slice(s,e.length),u[l]={text:o,hasEllipsisChar:f,hasHyphenChar:!1},u},Nx=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t,n){var r=t.value;if(r){var o="".concat(n>0&&e.length?", ":"").concat(r);return[].concat(Ex(e),[Sx(Sx({},t),{},{value:o,chars:o.split("").map(function(r,o){var i,a;return 0!==n&&e.length?o<2?null:Ex(null!==(i=t.styles)&&void 0!==i?i:[]):Ex(null!==(a=t.styles)&&void 0!==a?a:[])})})])}return e},[]);return{stylesPerChar:e.reduce(function(e,t){return[].concat(Ex(e),Ex(t.chars))},[]),fullCaption:e.map(function(e){return e.value}).join("")}};function Mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Dx=[[.04,1],[100,2]],Lx=[[.8,1.1],[3,1.6],[8,2.5]],Fx=[[Lx[0][0],1],[100,1.25]],Ux=function(e,t){if(e.includes("rgba"))return e;if(e.includes("rgb")){var n=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(t,")")}var r=vE().get.rgb(e);return null===r?e:"rgba(".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(t,")")},Bx=function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=r.headPosition,u=r.headAngle,s=r.headHeight,l=r.headChinHeight,c=r.headWidth,f=Math.cos(u),d=Math.sin(u),h=function(e,t){return{x:a.x+e*f-t*d,y:a.y+e*d+t*f}},p=[h(l-s,0),h(-s,c/2),h(0,0),h(-s,-c/2)],v={lineWidth:e.lineWidth,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle};e.lineWidth=t,e.strokeStyle=n,e.fillStyle=n,function(e,t,n,r){if(e.beginPath(),t.length>0){var o=t[0];e.moveTo(o.x,o.y)}for(var i=1;i<t.length;i++){var a=t[i];e.lineTo(a.x,a.y)}e.closePath(),n&&e.fill(),r&&e.stroke()}(e,p,o,i),e.lineWidth=v.lineWidth,e.strokeStyle=v.strokeStyle,e.fillStyle=v.fillStyle},zx=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.closePath()},Vx=function(e,t,n,r,o){e.beginPath(),e.fillStyle=r,zx(e,t,n,o),e.fill(),e.closePath()};function Wx(e,t){var n=t.find(function(t){return e<t[0]}),r=t[t.length-1][1];return void 0!==n?n[1]:r}var Hx=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},qx=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Gx=function(e,t){return{x:e.x*t,y:e.y*t}},Yx=function(e,t){return e.x*t.x+e.y*t.y},Xx=function(e,t){return function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(qx(e,t))},Kx=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}};function Zx(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function $x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Qx=2*Math.PI,Jx=Math.PI/2,eS=function(e,t,n,r,o,i){var a={x:(e.x+t.x)/2,y:(e.y+t.y)/2},u={x:e.x,y:e.y},s={x:t.x,y:t.y},l=new mx(s,u),c=function(e,t){var n=0;return e&&(n+=e),t&&(n-=t),n}(r,n);a.x+=c/2*l.unit.x,a.y+=c/2*l.unit.y;var f=i.size()/2-i.indexOf(o);return a.x+=f*l.unit.x,a.y+=f*l.unit.y,a},tS=function(e){var t=l_(),n=e.size,r=e.selected;return((null!=n?n:Jb)+4+(!0===r?4:0))*t},nS=function(e,t){var n=l_();e.shadowColor=t.color,e.shadowBlur=t.width*n,e.shadowOffsetX=0,e.shadowOffsetY=0},rS=function(e){e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},oS=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.norm.x,r=e.norm.y;return t?{x:-n,y:-r}:e.norm},u=l_(),s=t.indexOf(e),l=(t.size()-1)/2,c=s>l,f=Math.abs(s-l),d=o?17*t.maxFontSize():8,h=(t.size()-1)*d*u,p=function(e,t,n,r,o,i,a){var u,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=l_(),c=e.size(),f=c>1,d=e.relIsOppositeDirection(i),h=d?n:t,p=d?t:n,v=e.waypointPath,y=null==v?void 0:v.points,g=null==v?void 0:v.from,m=null==v?void 0:v.to,b=gx(h,g)&&gx(p,m)||gx(p,g)&&gx(h,m),_=b?y[1]:null,w=b?y[y.length-2]:null,O=tS(h),E=tS(p),x=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},S=Math.max(Math.PI,Qx/(c/2)),P=f?r*S*(a?1:-1)/(null!==(u=h.size)&&void 0!==u?u:Jb):0,T=x(b?_:p,h),C=b?x(p,w):T,k=function(e,t,n,r){return{x:e.x+Math.cos(t)*n*(r?-1:1),y:e.y+Math.sin(t)*n*(r?-1:1)}},A=function(e,t){return k(h,T+e,t,!1)},j=function(e,t){return k(p,C-e,t,!0)},R=function(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}},I=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))*l},N=A(P,O),M=j(P,E),D=f?A(0,O):null,L=f?j(0,E):null,F=200*l,U=[];if(b){var B=I(N,_)<F;if(f&&!B){var z=R(D,_);U.push(new mx(N,z)),U.push(new mx(z,_))}else U.push(new mx(N,_));for(var V=2;V<y.length-1;V++)U.push(new mx(y[V-1],y[V]));var W=I(M,w)<F;if(f&&!W){var H=R(L,w);U.push(new mx(w,H)),U.push(new mx(H,M))}else U.push(new mx(w,M))}else{var q=f?I(D,L):0;if(f&&q>2*(30*l+Math.min(O,E)))if(s){var G=eS(h,p,O,E,i,e);U.push(new mx(N,G)),U.push(new mx(G,M))}else{var Y=r*o,X=30+O,K=Math.sqrt(X*X+Y*Y),Z=30+E,$=Math.sqrt(Z*Z+Y*Y),Q=A(0,K),J=j(0,$);U.push(new mx(N,Q)),U.push(new mx(Q,J)),U.push(new mx(J,M))}else if(q>(O+E)/2){var ee=eS(h,p,O,E,i,e);U.push(new mx(N,ee)),U.push(new mx(ee,M))}else U.push(new mx(N,M))}return U}(t,n,r,f,d,e,c,i),v=[],y=p[0],g=a(y,c);v.push({x:y.p1.x+g.x,y:y.p1.y+g.y});for(var m=1;m<p.length;m++)if(1===t.size())v.push(p[m-1].p2);else{var b=p[m-1],_=p[m],w=a(b,c),O=a(_,c),E=Hx(b.p1,Gx(w,h/2)),x=Hx(b.p2,Gx(w,h/2)),S=Hx(_.p1,Gx(O,h/2)),P=Hx(_.p2,Gx(O,h/2)),T=null;Yx(w,O)<.99&&(T=_x(E,x,S,P));var C=null!==T?qx(T,b.p2):Gx(w,h/2);v.push(Hx(b.p2,Gx(C,f/l)))}var k=p[p.length-1],A=a(k,c);return v.push({x:k.p2.x+A.x,y:k.p2.y+A.y}),t.relIsOppositeDirection(e)?v.reverse():v},iS=function(e,t,n,r,o,i,a,u){var s,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=l_(),f=o.selected,d=o.width,h=o.disabled,p=o.captionAlign,v=void 0===p?"top":p,y=o.captionSize,g=void 0===y?1:y,m=cx(o),b=m.length>0?null===(s=Nx(m))||void 0===s?void 0:s.fullCaption:"";if(void 0!==b){var _=6*g*c,w=!0===f?"bold":"normal",O=b;e.fillStyle=!0===h?a.fontColor:u,e.font="".concat(w," ").concat(_,"px ").concat('"Open Sans", sans-serif');var E=function(t){return e.measureText(t).width},x=(null!=d?d:1)*(!0===f?1.5:1),S=E(O);if(S>r){var P=Ix(O,E,function(){return r},1,!1)[0];O=!0===P.hasEllipsisChar?"".concat(P.text,"..."):O,S=r}var T=Math.cos(n),C=Math.sin(n),k={x:t.x,y:t.y},A=k.x,j=k.y,R=n;l&&(R=n-Jx,A+=2*_*T,j+=2*_*C,R-=Jx);var I=(1+g)*c,N="bottom"===v?_/2+x+I:-(x+I);e.translate(A,j),e.rotate(R),e.fillText(O,-S/2,N),e.rotate(-R),e.translate(-A,-j);var M=2*N*Math.sin(n),D=2*N*Math.cos(n),L={position:{x:t.x-M,y:t.y+D},rotation:l?n-Math.PI:n,width:r/c,height:(_+I)/c};i.setLabelInfo(o.id,L)}},aS=function(e,t,n,r,o){if(e.beginPath(),e.moveTo(t[0].x,t[0].y),o&&t.length>2){for(var i=1;i<t.length-2;){var a=(t[i].x+t[i+1].x)/2,u=(t[i].y+t[i+1].y)/2;e.quadraticCurveTo(t[i].x,t[i].y,a,u),i+=1}e.quadraticCurveTo(t[i].x,t[i].y,t[i+1].x,t[i+1].y)}else for(var s=1;s<t.length;s++)e.lineTo(t[s].x,t[s].y);e.lineWidth=n,e.strokeStyle=r,e.lineCap="round",e.stroke()},uS=function(e){return e.rings[0].width*l_()*1.5},sS=function(e){return 6*e*l_()},lS=function(e,t,n){var r,o;return{widthAlign:t/2*(null!==(r=e[0])&&void 0!==r?r:0),heightAlign:n/2*(null!==(o=e[1])&&void 0!==o?o:0)}},cS=function(e,t,n){var r,o,i=n.indexOf(e),a=null!==(r=n.angles[i])&&void 0!==r?r:0,u=a-rE/2,s=a+rE/2,l=null!==(o=e.width)&&void 0!==o?o:1,c=l_(),f=tS(t),d={x:t.x+Math.cos(u)*(f+l/2),y:t.y+Math.sin(u)*(f+l/2)},h={x:t.x+Math.cos(s)*(f+l/2),y:t.y+Math.sin(s)*(f+l/2)},p={x:t.x+Math.cos(a)*(f+35*c),y:t.y+Math.sin(a)*(f+35*c)};return{startAngle:u,endAngle:s,startPoint:d,endPoint:h,apexPoint:p,control1Point:{x:p.x+25*Math.cos(a-Jx)*c/2,y:p.y+25*Math.sin(a-Jx)*c/2},control2Point:{x:p.x+25*Math.cos(a+Jx)*c/2,y:p.y+25*Math.sin(a+Jx)*c/2}}},fS=function(e,t,n,r,o,i){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(o.x,o.y,r.x,r.y),e.quadraticCurveTo(i.x,i.y,n.x,n.y),e.stroke()},dS=function(e,t,n,r,o,i,a,u,s,l){var c=!(arguments.length>10&&void 0!==arguments[10])||arguments[10];yx(n,r)&&(n.id===r.id?function(e,t,n,r,o,i,a,u){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:tE,l=t.overlayIcon,c=t.selected,f=t.width,d=t.hovered,h=t.disabled,p=t.color,v=cS(t,n,r),y=v.startPoint,g=v.endPoint,m=v.apexPoint,b=v.control1Point,_=v.control2Point,w=a.rings,O=a.shadow,E=l_(),x=w[0].color,S=w[1].color,P=w[0].width*E,T=w[1].width*E,C=40*E,k=(null!=f?f:1)*E,A=k>1?k/2:1,j=9*A,R=2*A,I=7*A,N=!0===c,M=!0===h,D=void 0!==l,L=Math.atan2(g.y-_.y,g.x-_.x),F=N?P*Math.sqrt(1+2*j/I*(2*j/I)):0,U={x:g.x-Math.cos(L)*(.5*j-R+F),y:g.y-Math.sin(L)*(.5*j-R+F)},B={headPosition:{x:g.x+Math.cos(L)*(.5*j-R-F),y:g.y+Math.sin(L)*(.5*j-R-F)},headAngle:L,headHeight:j,headChinHeight:R,headWidth:I};if(e.save(),e.lineCap="round",N&&(nS(e,O),e.lineWidth=k+T,e.strokeStyle=S,fS(e,y,U,m,b,_),Bx(e,T,S,B,!1,!0),rS(e),e.lineWidth=k+P,e.strokeStyle=x,fS(e,y,U,m,b,_),Bx(e,P,x,B,!1,!0)),e.lineWidth=k,!0===d&&!N&&!M){var z=O.color;nS(e,O),e.strokeStyle=z,e.fillStyle=z,fS(e,y,U,m,b,_),Bx(e,k,z,B),rS(e)}var V=M?u.color:null!=p?p:s;if(e.fillStyle=V,e.strokeStyle=V,fS(e,y,U,m,b,_),Bx(e,k,V,B),i||D){var W,H=r.indexOf(t),q=null!==(W=r.angles[H])&&void 0!==W?W:0,G=m.x-Math.cos(L)*(F/4),Y=m.y-Math.sin(L)*(F/4),X=(q+Jx)%Qx,K=(q+Qx)%Qx<Math.PI;if(i&&iS(e,{x:G,y:Y},X,C,t,r,u,s,K),D){var Z=l.position,$=void 0===Z?[0,0]:Z,Q=l.url,J=l.size,ee=sS(void 0===J?1:J),te=lS($,C,ee),ne=te.widthAlign,re=te.heightAlign+(N?uS(a):0)*($[1]<0?-1:1);e.save(),e.translate(G,Y),K?(e.rotate(X-Math.PI),e.translate(2*-ne,2*-re)):e.rotate(X);var oe=ee/2,ie=-oe+ne,ae=-oe+re;e.drawImage(o.getImage(Q),ie,ae,ee,ee),e.restore()}}e.restore()}(e,t,n,o,i,a,u,s,l):function(e,t,n,r,o,i,a,u,s,l){var c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:tE,f=t.overlayIcon,d=t.color,h=t.disabled,p=t.selected,v=t.width,y=t.hovered,g=t.captionAlign,m=!0===p,b=!0===h,_=void 0!==f,w=s.rings,O=s.shadow,E=oS(t,o,n,r,a,u),x=l_(),S=function(e){var t,n=!0===e.selected?1.5:1;return(null!==(t=e.width)&&void 0!==t?t:1)*n*l_()}(t),P=b?l.color:null!=d?d:c,T=w[0].width*x,C=w[1].width*x,k=x*(v>1?v/2:1),A=9*k,j=2*k,R=7*k,I=Xx(E[E.length-2],E[E.length-1]),N=2*A,M=m?T*Math.sqrt(1+N/R*(N/R)):0,D=2-M,L=Math.floor(E.length/2);E.length>2&&m&&I<A+M-j&&(D+=I,M-=I/2+j,E.pop(),L=Math.floor(E.length/2));var F,U,B=E[E.length-2],z=E[E.length-1],V=(F=B,U=z,Math.atan2(U.y-F.y,U.x-F.x)),W=A/2+M,H=Math.cos(V),q=Math.sin(V);E[E.length-1]={x:z.x-H*W,y:z.y-q*W};var G,Y={headPosition:{x:z.x+H*D,y:z.y+q*D},headAngle:V,headHeight:A,headChinHeight:j,headWidth:R},X=Zx(E);try{for(X.s();!(G=X.n()).done;){var K=G.value;K.x=Math.round(K.x),K.y=Math.round(K.y)}}catch(e){X.e(e)}finally{X.f()}if(e.save(),m){var Z=w[0].color,$=w[1].color,Q=Math.atan2(E[1].y-E[0].y,E[1].x-E[0].x),J=Kx(Q,uS(s));E[0]=Hx(E[0],J),nS(e,O),aS(e,E,S+C,$,u),Bx(e,C,$,Y,!1,!0),rS(e),aS(e,E,S+T,Z,u),Bx(e,T,Z,Y,!1,!0)}if(!0===y&&!m&&!b){var ee=O.color;nS(e,O),aS(e,E,S,ee,u),Bx(e,S,ee,Y),rS(e)}if(aS(e,E,S,P,u),Bx(e,S,P,Y),a||_){var te,ne,re,oe,ie,ae=n.x>r.x,ue=E[L];1&~E.length?(te=E[ae?L:L-1],ne=E[ae?L-1:L],re=(te.x+ne.x)/2,oe=(te.y+ne.y)/2,ie=Math.atan2(ne.y-te.y,ne.x-te.x)):(te=E[ae?L+1:L-1],ne=E[ae?L-1:L+1],u?(re=(ue.x+(te.x+ne.x)/2)/2,oe=(ue.y+(te.y+ne.y)/2)/2,ie=ae?Math.atan2(n.y-r.y,n.x-r.x):Math.atan2(r.y-n.y,r.x-n.x)):(Xx(ue,te)>Xx(ue,ne)?ne=ue:te=ue,re=(te.x+ne.x)/2,oe=(te.y+ne.y)/2,ie=Math.atan2(ne.y-te.y,ne.x-te.x)));var se=m?Kx(ie+Jx,uS(s)):{x:0,y:0},le=Xx(te,ne);if(a){var ce="bottom"===g?1:-1,fe={x:re+se.x*ce,y:oe+se.y*ce};iS(e,fe,ie,le,t,o,l,c)}if(_){var de=f.position,he=void 0===de?[0,0]:de,pe=f.url,ve=f.size,ye=sS(void 0===ve?1:ve),ge=lS(he,le,ye),me=ge.widthAlign,be=ge.heightAlign,_e=he[1]<0?-1:1,we=se.x*_e,Oe=se.y*_e,Ee=ye/2;e.translate(re,oe),e.rotate(ie);var xe=-Ee+we+me,Se=-Ee+Oe+be;e.drawImage(i.getImage(pe),xe,Se,ye,ye),e.rotate(-ie),e.translate(-re,-oe)}}e.restore()}(e,t,n,r,o,i,a,c,u,s,l))},hS=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return yx(n,r)?n.id===r.id?function(e,t,n){for(var r=cS(e,t,n),o={left:1/0,top:1/0,right:-1/0,bottom:-1/0},i=["startPoint","endPoint","apexPoint","control1Point","control2Point"],a=0;a<i.length;a++){var u=r[i[a]],s=u.x,l=u.y;s<o.left&&(o.left=s),s>o.right&&(o.right=s),l<o.top&&(o.top=l),l>o.bottom&&(o.bottom=l)}return o}(e,n,t):function(e,t,n,r,o,i){var a,u={left:1/0,top:1/0,right:-1/0,bottom:-1/0},s=Zx(oS(e,t,n,r,o,i));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.x,f=l.y;c<u.left&&(u.left=c),c>u.right&&(u.right=c),f<u.top&&(u.top=f),f>u.bottom&&(u.bottom=f)}}catch(e){s.e(e)}finally{s.f()}return u}(e,t,n,r,o,i):null};function pS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vS=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.size,a=void 0===i?Jb:i;return{top:o-a,left:n-a,right:n+a,bottom:o+a}},yS=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e_,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,l=t.x,c=void 0===l?0:l,f=t.y,d=void 0===f?0:f,h=t.size,p=void 0===h?Jb:h,v=t.captionAlign,y=void 0===v?"center":v,g=t.captionSize,m=void 0===g?1:g,b=t.disabled,_=t.activated,w=t.selected,O=t.hovered,E=t.id,x=t.icon,S=t.overlayIcon,P=cx(t),T=l_(),C=function(e,t,n){var r=e.selected?n.selected.rings:n.default.rings;if(!r.length){var o=t.getById(e.id);return void 0!==o&&Object.entries(o).forEach(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];n.startsWith("ring-")&&r.setEndValue(0)}),[{width:0,color:""}]}return r.map(function(n,r){var o=n.widthFactor,i=n.color,a=(e.size||Jb)*o*l_();return{width:t.getValueForAnimationName(e.id,"ring-".concat(r),a),color:i}})}(t,r,o),k=C.reduce(function(e,t){return e+t.width},0),A=p*T,j=2*A,R=function(e,t){if(!e||!t)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var n=l_(),r=1600*n*(1200*n),o=Math.pow(e,2)*Math.PI*Math.pow(t,2)/(r/100);return{nodeInfoLevel:Wx(o,Dx),fontInfoLevel:Wx(o,Lx),iconInfoLevel:Wx(o,Fx)}}(A,s),I=R.nodeInfoLevel,N=R.fontInfoLevel,M=R.iconInfoLevel,D=t.color||a,L=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jb)/({1:3.5,2:2.75,3:2}[arguments.length>2&&void 0!==arguments[2]?arguments[2]:1]+(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?1:0))/e}(N,A,m,Boolean(x)),F=$E(D),U=A;if(k>0&&(U=A+k),b)D=i.color,F=i.fontColor;else{var B;if(_){var z=Date.now()%1e3/1e3,V=z<.7?z/.7:0,W=Ux(D,.4-.4*V);Vx(e,c,d,W,A+.88*A*V)}var H=null!==(B=o.selected.shadow)&&void 0!==B?B:{width:0,opacity:0,color:""},q=H.width*T,G=H.opacity,Y=H.color,X=w||O?q:0,K=r.getValueForAnimationName(E,"shadowWidth",X);K>0&&function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=o+i,s=e.createRadialGradient(t,n,o,t,n,u);s.addColorStop(0,"transparent"),s.addColorStop(.01,Ux(r,.5*a)),s.addColorStop(.05,Ux(r,.5*a)),s.addColorStop(.5,Ux(r,.12*a)),s.addColorStop(.75,Ux(r,.03*a)),s.addColorStop(1,Ux(r,0)),e.fillStyle=s,zx(e,t,n,u),e.fill()}(e,c,d,Y,U,K,G)}Vx(e,c,d,D,A),k>0&&function(e,t,n,r,o){var i=r;o.forEach(function(r){var o=r.width,a=r.color,u=i+o;e.beginPath(),e.fillStyle=a,e.arc(t,n,u,0,2*Math.PI,!1),e.arc(t,n,i,2*Math.PI,0,!0),e.fill(),e.closePath(),i=u})}(e,c,d,A,C);var Z=Boolean(P.length),$=Boolean(x);if(x){var Q=I<2||!Z,J=I>0?1:0,ee=Q?1*A:.75*A;ee/=M;var te=Q?.5*ee:ee*(1===M?"center"===y?1.3:"bottom"===y||Q?1.1:0:"center"===y?1.35:"bottom"===y||Q?1.1:0),ne=ee/2;ee=r.getValueForAnimationName(E,"iconSize",ee),ne=r.getValueForAnimationName(E,"iconXPos",ne),te=r.getValueForAnimationName(E,"iconYPos",te);var re=e.globalAlpha,oe=b?.1:J;e.globalAlpha=r.getValueForAnimationName(E,"iconOpacity",oe);var ie="#ffffff"===F,ae=n.getImage(x,ie);e.drawImage(ae,c-ne,d-te,Math.floor(ee),Math.floor(ee)),e.globalAlpha=re}if(void 0!==S){var ue,se,le,ce,fe,de=j*(null!==(ue=S.size)&&void 0!==ue?ue:1),he=de/2-A*(null!==(se=null===(le=S.position)||void 0===le?void 0:le[1])&&void 0!==se?se:0),pe=de/2-A*(null!==(ce=null===(fe=S.position)||void 0===fe?void 0:fe[0])&&void 0!==ce?ce:0),ve=e.globalAlpha,ye=b?.1:1;e.globalAlpha=r.getValueForAnimationName(E,"iconOpacity",ye);var ge=n.getImage(S.url);e.drawImage(ge,c-pe,d-he,de,de),e.globalAlpha=ve}if(Z){var me=I<2?0:1,be=r.getValueForAnimationName(E,"textOpacity",me,0);if(be>0){var _e,we,Oe='"Open Sans", sans-serif',Ee=2;N===(null===(_e=Lx[1])||void 0===_e?void 0:_e[1])?Ee=3:N===(null===(we=Lx[2])||void 0===we?void 0:we[1])&&(Ee=4);var xe="center"===y?.7*j:2*Math.sqrt(Math.pow(j/2,2)-Math.pow(j/3,2));if(e.fillStyle=Ux(F,be),Z){var Se=Nx(P),Pe=Se.stylesPerChar,Te=function(e,t,n,r,o,i,a){var u=function(e){return/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e)}(t)?t.split("").reverse().join(""):t;e.font="bold ".concat(r,"px ").concat(n).replace(/"/g,"");for(var s=function(t){var n;return null===(n=e.measureText(t))||void 0===n?void 0:n.width},l=i?(a<4?["",""]:[""]).length:0,c=function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=.98*n,i=.89*n,a=.95*n;return 1===t?o:2===t?a:3===t&&"top"===r?0===e||2===e?i:o:4===t&&"top"===r?0===e||3===e?.78*n:a:5===t&&"top"===r?0===e||4===e?.65*n:1===e||3===e?i:a:o}(e+l,t+l,o)},f=1,d=[],h=function(){if(0===(d=function(e,t,n,r){var o,i=e.split(/\s/g).filter(function(e){return e.length>0}),a=[],u=null,s=function(e){return t(e)>n(a.length,r)},l=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Tx(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(l.s();!(o=l.n()).done;){var c=o.value,f=u?"".concat(u," ").concat(c):c;if(t(f)<n(a.length,r))u=f;else{if(null!==u){var d=s(u);a.push({text:u,overflowed:d})}if(u=c,a.length>r)return[]}}}catch(e){l.e(e)}finally{l.f()}if(u){var h=s(u);a.push({text:u,overflowed:h})}return a.length<=r?a:[]}(u,s,c,f)).length)d=Ix(u,s,c,f,a>f);else if(d.some(function(e){return e.overflowed})){var e=f;d=d.reduce(function(t,n){var r=a-t.length;if(0===r){var o=t[t.length-1];return o.text.endsWith(kx)||(s(o.text)+s(kx)>c(t.length,e)?(t[t.length-1].text=o.text.slice(0,-2),t[t.length-1].hasEllipsisChar=!0):(t[t.length-1].text=o.text,t[t.length-1].hasEllipsisChar=!0)),t}if(n.overflowed){var i=Ix(n.text,s,c,r);t=t.concat(i)}else t.push({text:n.text,hasEllipsisChar:!1,hasHyphenChar:!1});return t},[])}else d=d.map(function(e){return Sx(Sx({},e),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});f+=1};0===d.length;)h();return Array.from(d)}(e,Se.fullCaption,Oe,L,xe,$,Ee,null==t||t.captionAlign),Ce=-(Te.length-2)*L/2;!function(e,t,n,r,o,i,a,u,s,l){var c=r,f=0,d=0,h="".concat(o,"px ").concat(i),p="normal ".concat(h);t.forEach(function(t){var r;e.font=p;var o,i=-(null===(r=e.measureText(t.text))||void 0===r?void 0:r.width)/2,v=t.text?function(e){if(Array.isArray(e))return Mx(e)}(o=t.text)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return Mx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mx(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[];t.hasHyphenChar||t.hasEllipsisChar||v.push(" "),v.forEach(function(r){var o,a=e.measureText(r).width,v=null!==(o=n[d])&&void 0!==o?o:[],y=v.includes("bold"),g=v.includes("italic");e.font=y&&g?"italic 600 ".concat(h):g?"italic 400 ".concat(h):y?"bold ".concat(h):p,v.includes("underline")&&e.fillRect(u+i+f,s+c+.2,a,.2),t.hasEllipsisChar?e.fillText(r,u+i+f-l/2,s+c):e.fillText(r,u+i+f,s+c),f+=a,d+=1}),e.font=p,t.hasHyphenChar&&e.fillText("\u2010",u+i+f,s+c),t.hasEllipsisChar&&e.fillText(kx,u+i+f-l/2,s+c),f=0,c+=a})}(e,Te,Pe,y&&"center"!==y?"bottom"===y?Ce+A/Math.PI:Ce-A/Math.PI:Ce,L,Oe,L,c,d,u)}}}};function gS(e){return gS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(e)}function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(t){OS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return wS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wS(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function OS(e,t,n){return(t=ES(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ES(e){var t=function(e){if("object"!=gS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gS(t)?t:t+""}var xS="canvasRenderer",SS=function(){return e=function e(t,n,r){var o=this,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).relationshipThreshold,a=void 0===i?0:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),OS(this,"arrowBundler",void 0),OS(this,"activeNodes",void 0),OS(this,"canvas",void 0),OS(this,"context",void 0),OS(this,"state",void 0),OS(this,"stateDisposers",void 0),OS(this,"relationshipThreshold",void 0),OS(this,"animationHandler",void 0),OS(this,"imageCache",void 0),OS(this,"needsRun",void 0),OS(this,"nodeVersion",void 0),OS(this,"relVersion",void 0),OS(this,"waypointVersion",void 0),OS(this,"ellipsisWidth",void 0),null!==n&&(this.activeNodes=new Set,this.canvas=t,this.context=n,this.state=r,this.stateDisposers=[],this.stateDisposers.push(r.autorun(function(){void 0!==r.zoom&&(o.needsRun=!0),void 0!==r.panX&&(o.needsRun=!0),void 0!==r.panY&&(o.needsRun=!0),void 0!==r.nodes.version&&(o.needsRun=!0),void 0!==r.rels.version&&(o.needsRun=!0),r.waypoints.counter>0&&(o.needsRun=!0),void 0!==r.layout&&(o.needsRun=!0)})),r.nodes.addChannel(xS),r.rels.addChannel(xS),this.relationshipThreshold=a,this.nodeVersion=r.nodes.version,this.relVersion=r.rels.version,this.waypointVersion=r.waypoints.counter,this.animationHandler=new WO,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new hE(r.rels.items,r.waypoints.data),this.imageCache=new XO,this.needsRun=!0,this.ellipsisWidth=n.measureText(kx).width)},t=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var e=this.state,t=!1,n=e.nodes.channels[xS],r=e.rels.channels[xS],o=r.adds,i=r.removes,a=r.updates;this.nodeVersion<e.nodes.version&&(this.handleChannelUpdate(n,e.nodes,!0),this.nodeVersion=e.nodes.version,e.nodes.clearChannel(xS)),this.relVersion<e.rels.version&&(t=Object.keys(o).length>0||Object.keys(i).length>0||Object.keys(a).length>0,e.rels.clearChannel(xS),this.relVersion=e.rels.version),(t||this.waypointVersion<e.waypoints.counter)&&(this.arrowBundler.updateData(o,i,a,e.waypoints.data),this.waypointVersion=e.waypoints.counter)}},{key:"render",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.state,i=this.animationHandler,a=this.arrowBundler,u=o.zoom,s=o.layout,l=o.nodes.idToPosition,c=null!==(t=r.canvas)&&void 0!==t?t:this.canvas,f=null!==(n=r.context)&&void 0!==n?n:this.context,d=l_(),h=c.clientWidth*d,p=c.clientHeight*d;f.save(),void 0!==r.backgroundColor?(f.fillStyle=r.backgroundColor,f.fillRect(0,0,h,p)):f.clearRect(0,0,h,p),this.zoomAndPan(f,c),i.ignoreAnimations(Boolean(r.ignoreAnimations)),r.ignoreAnimations||i.advance(),a.updatePositions(l);var v=this.getRelationshipsToRender(r.showCaptions,h,p);this.renderRelationships(v,f,s!==dO);var y=this.getNodesToRender(e,h,p);this.renderNodes(y,f,u),f.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(e,t,n){var r,o=[],i=[],a=[],u=this.arrowBundler,s=this.state,l=this.relationshipThreshold,c=s.layout,f=s.zoom,d=s.rels,h=s.nodes,p=h.idToItem,v=h.idToPosition,y=_S(d.items);try{for(y.s();!(r=y.n()).done;){var g=r.value,m=u.getBundle(g),b=bS(bS({},p[g.from]),v[g.from]),_=bS(bS({},p[g.to]),v[g.to]),w=e||f>l||void 0!==g.captionHtml,O=hS(g,m,b,_,w,c!==dO);if(null!==O){var E,x,S,P,T,C,k=this.isBoundingBoxOffScreen(O,t,n),A=Xx({x:null!==(E=b.x)&&void 0!==E?E:0,y:null!==(x=b.y)&&void 0!==x?x:0},{x:null!==(S=_.x)&&void 0!==S?S:0,y:null!==(P=_.y)&&void 0!==P?P:0}),j=((null!==(T=b.size)&&void 0!==T?T:Jb)+(null!==(C=_.size)&&void 0!==C?C:Jb))*devicePixelRatio,R=b.id!==_.id&&j>A;k||R||(g.disabled?i.push(bS(bS({},g),{},{fromNode:b,toNode:_,showLabel:w})):g.selected?o.push(bS(bS({},g),{},{fromNode:b,toNode:_,showLabel:w})):a.push(bS(bS({},g),{},{fromNode:b,toNode:_,showLabel:w})))}}}catch(e){y.e(e)}finally{y.f()}return[].concat(i,a,o)}},{key:"getNodesToRender",value:function(e,t,n){var r,o=[],i=[],a=[],u=this.state.nodes.idToItem,s=_S(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=vS(l);this.isBoundingBoxOffScreen(c,t,n)||(u[l.id].disabled?o.push(bS({},l)):u[l.id].selected?i.push(bS({},l)):a.push(bS({},l)))}}catch(e){s.e(e)}finally{s.f()}return[].concat(o,a,i)}},{key:"renderNodes",value:function(e,t,n){var r,o=this.imageCache,i=this.animationHandler,a=this.state,u=this.ellipsisWidth,s=a.nodes.idToItem,l=a.nodeBorderStyles,c=a.disabledItemStyles,f=a.defaultNodeColor,d=_S(e);try{for(d.s();!(r=d.n()).done;){var h=r.value;yS(t,bS(bS({},s[h.id]),h),o,i,l,c,f,u,n)}}catch(e){d.e(e)}finally{d.f()}}},{key:"renderRelationships",value:function(e,t,n){var r,o=this.state.relationshipBorderStyles.selected,i=this.arrowBundler,a=this.imageCache,u=this.state,s=u.disabledItemStyles,l=u.defaultRelationshipColor,c=_S(e);try{for(c.s();!(r=c.n()).done;){var f=r.value,d=i.getBundle(f),h=f.fromNode,p=f.toNode,v=f.showLabel;dS(t,f,h,p,d,a,v,o,s,l,n)}}catch(e){c.e(e)}finally{c.f()}}},{key:"getNodesAt",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],o=this.state.nodes,i=o.items,a=o.idToPosition,u=l_(),s=_S(i);try{var l=function(){var o=t.value,i=o.id,s=o.size,l=void 0===s?Jb:s,c=a[i],f=c.x,d=c.y,h=Math.sqrt(Math.pow(e.x-f,2)+Math.pow(e.y-d,2));if(h<=(l+n)*u){var p=r.findIndex(function(e){return e.distance>h});r.splice(-1!==p?p:r.length,0,{data:o,targetCoordinates:{x:f,y:d},pointerCoordinates:e,distanceVector:{x:e.x-f,y:e.y-d},insideNode:h<=l*u,distance:h})}};for(s.s();!(t=s.n()).done;)l()}catch(e){s.e(e)}finally{s.f()}return r}},{key:"getRelsAt",value:function(e){var t,n=[],r=this.state,o=this.arrowBundler,i=this.relationshipThreshold,a=r.zoom,u=r.rels.items,s=r.nodes.idToPosition,l=r.layout,c=a>i,f=_S(u);try{var d=function(){var r=t.value,i=o.getBundle(r),a=s[r.from],u=s[r.to];if(void 0!==a&&void 0!==u&&i.has(r)){var f=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!yx(n,r))return 1/0;var u=n===r?function(e,t,n,r){var o=cS(t,n,r),i=o.startPoint,a=o.endPoint,u=o.apexPoint,s=o.control1Point,l=o.control2Point,c=wx(i,u,s,e),f=wx(u,a,l,e);return Math.min(c,f)}(e,t,n,o):function(e,t,n,r,o,i,a){var u=oS(t,n,r,o,i,a),s=1/0;if(a&&3===u.length)s=wx(u[0],u[2],u[1],e);else for(var l=1;l<u.length;l++){var c=u[l-1],f=u[l],d=bx(c,f,e);s=d<s?d:s}return s}(e,t,o,n,r,i,a);return u}(e,r,a,u,i,c,l!==dO);if(f<10){var d=n.findIndex(function(e){return e.distance>f});n.splice(-1!==d?d:n.length,0,{data:r,fromTargetCoordinates:a,toTargetCoordinates:u,pointerCoordinates:e,distance:f})}}};for(f.s();!(t=f.n()).done;)d()}catch(e){f.e(e)}finally{f.f()}return n}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(xS),this.state.rels.removeChannel(xS)}},{key:"isBoundingBoxOffScreen",value:function(e,t,n){var r=this.state,o=r.zoom,i=t/o,a=n/o,u=r.panX-i/2,s=r.panY-a/2,l=e.right<u,c=e.bottom<s,f=e.left>u+i,d=e.top>s+a;return l||f||c||d}},{key:"handleChannelUpdate",value:function(e,t,n){for(var r=Object.keys(e.adds),o=0;o<r.length;o++){var i=r[o];e.adds[i].activated&&this.activeNodes.add(i)}for(var a=Object.keys(e.removes),u=0;u<a.length;u++){var s=a[u];this.activeNodes.delete(s)}if(n)for(var l=Object.keys(e.updates),c=0;c<l.length;c++){var f=l[c];t.idToItem[f].activated?this.activeNodes.add(f):this.activeNodes.delete(f)}}},{key:"zoomAndPan",value:function(e,t){var n=t.width,r=t.height,o=this.state,i=o.zoom,a=o.panX,u=o.panY;e.translate(-n/2*i,-r/2*i),e.translate(-a*i,-u*i),e.scale(i,i),e.translate(n/2/i,r/2/i),e.translate(n/2,r/2)}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ES(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),PS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=function(e,t){if((0,Bv.isNil)(e)||(0,Bv.isNil)(t))return{offsetX:0,offsetY:0};var n=t.getBoundingClientRect(),r=window.devicePixelRatio||1;return{offsetX:r*(e.clientX-n.left-.5*n.width),offsetY:r*(e.clientY-n.top-.5*n.height)}}(e,t);return{x:r+i.offsetX/n,y:o+i.offsetY/n}};function TS(e){return TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TS(e)}function CS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RS(r.key),r)}}function AS(e,t,n){return t&&kS(e.prototype,t),n&&kS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jS(e,t,n){return(t=RS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RS(e){var t=function(e){if("object"!=TS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=TS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TS(t)?t:t+""}var IS="WebGLRenderer",NS=AS(function e(t){var n=this;if(CS(this,e),jS(this,"mainSceneRenderer",void 0),jS(this,"minimapRenderer",void 0),jS(this,"needsRun",void 0),jS(this,"minimapMouseDown",void 0),jS(this,"stateDisposers",void 0),jS(this,"state",void 0),void 0===t.state)throw new Error("Renderer missing options: state - state object");var r=t.state,o=t.mainSceneRenderer,i=t.minimapRenderer,a=r.nodes,u=r.rels;this.mainSceneRenderer=o,this.minimapRenderer=i,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(r.autorun(function(){n.updateMainViewport(r.zoom,r.panX,r.panY)})),this.stateDisposers.push(r.autorun(function(){n.updateMinimapViewport(r.minimapZoom,r.minimapPanX,r.minimapPanY)})),this.stateDisposers.push(r.autorun(function(){void 0!==r.nodes.version&&(n.needsRun=!0),void 0!==r.rels.version&&(n.needsRun=!0)})),a.addChannel(IS),u.addChannel(IS),this.state=r,this.setupMinimapInteractions()},[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(e){var t=this.state,n=t.nodes,r=t.rels;this.checkForUpdates(n,r),this.mainSceneRenderer.render(e,n,r),this.needsRun=!1}},{key:"renderMinimap",value:function(e){var t=this.state,n=t.nodes,r=t.rels;this.checkForUpdates(n,r),this.minimapRenderer.render(e,n,r),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(e,t){var n=Object.values(e.channels[IS].adds).length>0,r=Object.values(t.channels[IS].adds).length>0,o=Object.values(e.channels[IS].removes).length>0,i=Object.values(t.channels[IS].removes).length>0,a=Object.values(e.channels[IS].updates),u=Object.values(t.channels[IS].updates);n||r||o||i?(this.mainSceneRenderer.setData({nodes:e.items,rels:t.items}),this.minimapRenderer.setData({nodes:e.items,rels:t.items})):(a.length>0&&(this.mainSceneRenderer.updateNodes(a),this.minimapRenderer.updateNodes(a)),u.length>0&&(this.mainSceneRenderer.updateRelationships(t.items),this.minimapRenderer.updateRelationships(t.items))),e.clearChannel(IS),t.clearChannel(IS)}},{key:"onResize",value:function(){var e=this.state,t=e.zoom,n=e.panX,r=e.panY,o=e.minimapZoom,i=e.minimapPanX,a=e.minimapPanY;this.updateMainViewport(t,n,r),this.updateMinimapViewport(o,i,a)}},{key:"updateMainViewport",value:function(e,t,n){this.mainSceneRenderer.updateViewport(e,t,n);var r=this.mainSceneRenderer.canvas.clientWidth,o=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(e,t,n,r,o),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(e,t,n){this.minimapRenderer.updateViewport(e,t,n),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(e){var t=this.state,n=this.minimapRenderer,r=PS(e,n.canvas,t.minimapZoom,t.minimapPanX,t.minimapPanY),o=r.x,i=r.y;t.setPan(o,i)}},{key:"handleMinimapWheel",value:function(e){var t=this.state,n=this.mainSceneRenderer;t.setZoom(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,Bv.isNil)(e)||isNaN(e.deltaY)?t:t-e.deltaY/500*Math.min(1,t)}(e,t.zoom),n.canvas),e.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var e=this,t=this.minimapRenderer.canvas;t.addEventListener("mousedown",function(t){e.handleMinimapDrag(t),e.minimapMouseDown=!0}),t.addEventListener("mousemove",function(t){e.minimapMouseDown&&e.handleMinimapDrag(t)}),t.addEventListener("mouseup",function(){e.minimapMouseDown=!1}),t.addEventListener("mouseleave",function(){e.minimapMouseDown=!1}),t.addEventListener("wheel",function(t){e.handleMinimapWheel(t)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){e()}),this.state.nodes.removeChannel(IS),this.state.rels.removeChannel(IS),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}]),MS=AS(function e(){CS(this,e),jS(this,"mainSceneRenderer",void 0),jS(this,"minimapRenderer",void 0),jS(this,"needsRun",void 0),jS(this,"minimapMouseDown",void 0),jS(this,"stateDisposers",void 0),jS(this,"state",void 0)},[{key:"renderMainScene",value:function(e){}},{key:"renderMinimap",value:function(e){}},{key:"checkForUpdates",value:function(e,t){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(e,t,n){}},{key:"updateMinimapViewport",value:function(e,t,n){}},{key:"handleMinimapDrag",value:function(e){}},{key:"handleMinimapWheel",value:function(e){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}]);function DS(e){return DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DS(e)}function LS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return FS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FS(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function FS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function US(e,t,n){return(t=BS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BS(e){var t=function(e){if("object"!=DS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DS(t)?t:t+""}var zS,VS=24,WS=function(){return e=function e(t,n,r,o){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),US(this,"nodeShader",void 0),US(this,"nodeAnimShader",void 0),US(this,"relShader",void 0),US(this,"relDataBuffer",void 0),US(this,"viewportBoxShader",void 0),US(this,"defaultRelColor",void 0),US(this,"defaultNodeColor",void 0),US(this,"disableRelColor",void 0),US(this,"disableNodeColor",void 0),US(this,"gl",void 0),US(this,"activeNodes",void 0),US(this,"canvas",void 0),US(this,"projection",void 0),US(this,"idToIndex",void 0),US(this,"posBuffer",void 0),US(this,"numRels",void 0),US(this,"numNodes",void 0),US(this,"nodeDataByte",void 0),US(this,"relIdToIndex",void 0),US(this,"relData",void 0),US(this,"viewportBoxBuffer",void 0),US(this,"relBuffer",void 0),US(this,"nodeBuffer",void 0),US(this,"posTexture",void 0),void 0===(null!==(i=t.getExtension("OES_texture_float"))&&void 0!==i?i:void 0))throw new Error("Renderer needs floating point texture support");this.nodeShader=new vw(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\nuniform lowp vec3 u_nodeBorderColor;\nuniform lowp vec3 u_selectedBorderColor;\nuniform lowp vec3 u_selectedInnerBorderColor;\nuniform lowp vec3 u_shadowColor;\nuniform lowp float u_drawDefaultBorder;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_selected;\nattribute lowp float a_hovered;\n\nvarying lowp float window;\nvarying lowp vec4 color;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float drawDefaultBorder;\n\nlowp float MinNodeSize = 5.0;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  lowp float nodeSize = a_size * u_zoom * u_glAdjust;\n  if (nodeSize < MinNodeSize) {\n   gl_PointSize = MinNodeSize;\n   varNodeSize = MinNodeSize;\n  } else {\n    gl_PointSize = nodeSize;\n    varNodeSize = nodeSize;\n  }\n\n  color = a_color;\n  selected = a_selected;\n  hovered = a_hovered;\n  nodeBorderColor = u_nodeBorderColor;\n  selectedBorderColor = u_selectedBorderColor;\n  selectedInnerBorderColor = u_selectedInnerBorderColor;\n  shadowColor = u_shadowColor;\n  drawDefaultBorder = u_drawDefaultBorder;\n}","uniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float drawDefaultBorder;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\n\nmediump float circleSize = 0.40;\nmediump float defaultBoderSize = 0.42;\nmediump float innerSelectedRingSize = 0.43;\nmediump float outerSelectedRingSize = 0.47;\nmediump float shadowSize = 0.51;\n\nlowp float getShadowAlpha(lowp float size, lowp float dist) {\n  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;\n}\n\nlowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {\n  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);\n}\n\nvoid main() {\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float nodeSize = 1.0 / varNodeSize;\n    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);\n    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);\n    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);\n    lowp vec3 finalColor = color.xyz;\n    lowp float finalAlpha = nodeAlpha;\n\n    if (selected > 0.0) {\n      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);\n      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);\n\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));\n      } else {\n        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));\n      }\n    } else if (hovered > 0.0) {\n      if (drawDefaultBorder > 0.0) {\n        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);\n  \n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(shadowColor, finalColor, borderAlpha);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));\n      } else {\n        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);\n\n        finalColor = mix(shadowColor, finalColor, nodeAlpha);\n        finalAlpha = max(shadowAlpha, nodeAlpha);\n      }\n    } else {\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalAlpha = borderAlpha;\n      }\n    }\n    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;\n  }\n}\n"),this.nodeAnimShader=new vw(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform lowp float u_animPos;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_active;\n\nvarying lowp float varNodeSize;\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  float nodeSize = a_size * u_zoom * u_glAdjust;\n  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring\n\n  gl_PointSize = a_active > 0.5\n    ? nodeSize + 0.88 * nodeSize * u_animPos\n    : 0.0;\n\n  color = a_color;\n  varNodeSize = a_size;\n}","uniform mediump float u_zoom;\nuniform lowp float u_animPos;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float varNodeSize;\nmediump float circleSize = 0.50;\n\nvoid main(void) {\n\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);\n    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;\n    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;\n  }\n}\n"),this.relShader=new vw(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_glAdjust;\n\nattribute vec2 a_from;\nattribute vec2 a_to;\nattribute lowp vec4 a_color;\nattribute lowp float a_triside;\nattribute float a_width;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 from = texture2D(u_positions, a_from);\n  vec4 to = texture2D(u_positions, a_to);\n  vec2 direction = normalize(to.xy - from.xy);\n  direction = vec2(-direction.y, direction.x);\n\n  float width = a_width * u_glAdjust * 0.5;\n\n  if (a_triside == 0.0) {\n    from.y += (width / 2.0) * direction.y;\n    from.x += (width / 2.0) * direction.x;\n  } else {\n    from.y -= (width / 2.0) * direction.y;\n    from.x -= (width / 2.0) * direction.x;\n  }\n\n  color = a_color;\n  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);\n}\n","varying lowp vec4 color;\n\nvoid main(void) {\n  gl_FragColor = vec4(color.xyz, 1.0) * color.w;\n}\n"),this.viewportBoxShader=new vw(t,"\nattribute vec2 coordinates;\nuniform mat4 u_projection;\nuniform lowp vec4 u_minimapViewportBoxColor;\n\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);\n  minimapViewportBoxColor = u_minimapViewportBoxColor;\n}\n","\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n gl_FragColor = minimapViewportBoxColor;\n}\n"),this.setShaderUniforms(o),t.clearColor(0,0,0,0),t.disable(t.DEPTH_TEST),this.defaultRelColor=o.defaultRelationshipColor,this.defaultNodeColor=o.defaultNodeColor,this.disableRelColor=o.disabledItemStyles.color,this.disableNodeColor=o.disabledItemStyles.color,t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.gl=t,this.activeNodes={},this.canvas=t.canvas,this.projection=sw(),this.setData({nodes:n.items,rels:r.items}),this.createPositionTexture(),this.setupViewportRendering(o.minimapViewportBoxColor)},t=[{key:"setShaderUniforms",value:function(e){var t,n,r,o,i,a=e.nodeBorderStyles,u=null;(null===(t=a.default)||void 0===t?void 0:t.rings.length)>0&&(u=null===(i=a.default.rings[0])||void 0===i?void 0:i.color);var s,l,c=null,f=null,d=null!==(n=null===(r=a.selected)||void 0===r?void 0:r.rings)&&void 0!==n?n:[],h=d.length;h>1&&(f=null===(s=d[h-2])||void 0===s?void 0:s.color,c=null===(l=d[h-1])||void 0===l?void 0:l.color);var p=null;null!==(o=a.selected)&&void 0!==o&&o.shadow&&(p=a.selected.shadow.color),this.nodeShader.use(),(0,Bv.isNil)(u)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",ex(u)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var v=ex(c),y=ex(f),g=ex(p);this.nodeShader.setUniform("u_selectedBorderColor",v),this.nodeShader.setUniform("u_selectedInnerBorderColor",y),this.nodeShader.setUniform("u_shadowColor",g)}},{key:"setData",value:function(e){var t=v_(e.rels,this.disableRelColor);this.setupNodeRendering(e.nodes),this.setupRelationshipRendering(t)}},{key:"render",value:function(e,t,n){var r,o=this.gl,i=this.idToIndex,a=LS(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,s=i[u.id];this.posBuffer[4*s+0]=u.x,this.posBuffer[4*s+1]=u.y}}catch(e){a.e(e)}finally{a.f()}o.bindTexture(o.TEXTURE_2D,this.posTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,$b,$b,0,o.RGBA,o.FLOAT,this.posBuffer),o.enable(o.BLEND),o.bindFramebuffer(o.FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),o.drawArrays(o.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),o.drawArrays(o.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var e=this.gl,t=this.projection,n=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",t),e.bindBuffer(e.ARRAY_BUFFER,n),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),e.drawArrays(e.LINES,0,8)}},{key:"updateNodes",value:function(e){var t,n=this.gl,r=this.idToIndex,o=this.disableNodeColor,i=this.nodeBuffer,a=this.nodeDataByte,u=!1,s=LS(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,c=r[l.id];if(!(0,Bv.isNil)(l.color)||!0===l.disabled){var f=QE(!0===l.disabled?o:l.color);this.nodeDataByte[3*c*4+0]=f[0],this.nodeDataByte[3*c*4+1]=f[1],this.nodeDataByte[3*c*4+2]=f[2],this.nodeDataByte[3*c*4+3]=255*f[3],u=!0}if(void 0!==l.selected){var d=l.selected;this.nodeDataByte[3*c*4+4]=d?255:0,u=!0}if(void 0!==l.activated&&(this.nodeDataByte[3*c*4+7]=l.activated?255:0,u=!0,l.activated?this.activeNodes[l.id]=!0:delete this.activeNodes[l.id]),void 0!==l.hovered){var h=!0!==l.disabled&&l.hovered;this.nodeDataByte[3*c*4+9]=h?255:0,u=!0}if(void 0!==l.size){var p=l.size;this.nodeDataByte[3*c*4+8]=p||Jb,u=!0}}}catch(e){s.e(e)}finally{s.f()}u&&(n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,a,n.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(e){var t,n=v_(e,this.disableRelColor),r=this.gl,o=!1,i=LS(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=a.key,s=a.width,l=a.color,c=a.disabled,f=this.relIdToIndex[u],d=(0,Bv.isNil)(l)?this.defaultRelColor:l,h=JE(c?this.disableRelColor:d);this.relData.positionsAndColors[f*VS+0]=h,this.relData.positionsAndColors[f*VS+4]=h,this.relData.positionsAndColors[f*VS+8]=h,this.relData.positionsAndColors[f*VS+12]=h,this.relData.positionsAndColors[f*VS+16]=h,this.relData.positionsAndColors[f*VS+20]=h,o=!0,void 0!==s&&(this.relData.widths[f*VS+3]=s,this.relData.widths[f*VS+7]=s,this.relData.widths[f*VS+11]=s,this.relData.widths[f*VS+15]=s,this.relData.widths[f*VS+19]=s,this.relData.widths[f*VS+23]=s,o=!0)}}catch(e){i.e(e)}finally{i.f()}o&&(r.bindBuffer(r.ARRAY_BUFFER,this.relBuffer),r.bufferData(r.ARRAY_BUFFER,this.relDataBuffer,r.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var e=this.gl,t=e.createTexture(),n=new Float32Array(262144);e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,$b,$b,0,e.RGBA,e.FLOAT,n),this.posTexture=t,this.posBuffer=n}},{key:"updateViewportBox",value:function(e,t,n,r,o){var i=this.gl,a=l_(),u=r*a,s=o*a,l=(.5*u+t*e)/e,c=(.5*s+n*e)/e,f=(.5*-u+t*e)/e,d=(.5*-s+n*e)/e,h=[l,c,f,c,f,c,f,d,f,d,l,d,l,d,l,c];i.bindBuffer(i.ARRAY_BUFFER,this.viewportBoxBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(h),i.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(e,t,n){var r=this.gl,o=1/e,i=t-r.drawingBufferWidth*o*.5,a=n-r.drawingBufferHeight*o*.5,u=r.drawingBufferWidth*o,s=r.drawingBufferHeight*o,l=sw(),c=s_*l_();lw(l,i,i+u,a+s,a,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",e),this.nodeShader.setUniform("u_glAdjust",c),this.nodeShader.setUniform("u_projection",l),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",e),this.nodeAnimShader.setUniform("u_glAdjust",c),this.nodeAnimShader.setUniform("u_projection",l),this.relShader.use(),this.relShader.setUniform("u_glAdjust",c),this.relShader.setUniform("u_projection",l),this.projection=l}},{key:"setupViewportRendering",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a_;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(e=QE(t))[0]/255,e[1]/255,e[2]/255,e[3]])}},{key:"setupNodeRendering",value:function(e){var t=this.gl,n=new ArrayBuffer(8),r=new Uint32Array(n),o=new Uint8Array(n);void 0===this.nodeBuffer&&(this.nodeBuffer=t.createBuffer()),this.numNodes=e.length;var i=new ArrayBuffer(3*e.length*8),a=new Uint32Array(i),u={};this.activeNodes={};for(var s=0;s<e.length;s++){var l=e[s],c=l.selected,f=l.hovered,d=l.color,h=l.activated,p=l.size,v=l.id,y=l.disabled,g=JE((0,Bv.isNil)(d)?this.defaultNodeColor:d);a[3*s+0]=y?JE(this.disableNodeColor):g,o[0]=c?255:0,o[1]=s%$b,o[2]=Math.floor(s/$b),o[3]=h?255:0,o[4]=!y&&f?255:0,h&&(this.activeNodes[v]=!0),a[3*s+1]=r[0],a[3*s+2]=null!=p?p:Jb,a[3*s+3]=r[1],u[v]=s}t.bindBuffer(t.ARRAY_BUFFER,this.nodeBuffer),t.bufferData(t.ARRAY_BUFFER,a,t.DYNAMIC_DRAW),this.numNodes=e.length,this.nodeDataByte=new Uint8Array(i),this.idToIndex=u}},{key:"setupRelationshipRendering",value:function(e){var t=this,n=this.gl,r=new ArrayBuffer(4),o=new Uint32Array(r),i=new Uint8Array(r),a={};void 0===this.relBuffer&&(this.relBuffer=n.createBuffer());for(var u=new ArrayBuffer(e.length*VS*4),s=new Uint32Array(u),l=new Float32Array(u),c=function(n){var r=e[n],u=r.from,c=r.to,f=r.color,d=r.width,h=void 0===d?1:d,p=r.key,v=r.disabled,y=t.idToIndex[u],g=t.idToIndex[c],m=y%$b,b=Math.floor(y/$b),_=g%$b,w=Math.floor(g/$b),O=[m,b,_,w],E=[_,w,m,b],x=(0,Bv.isNil)(f)?t.defaultRelColor:f,S=JE(v?t.disableRelColor:x);a[p]=n;var P=0,T=function(e,t,r,a){s[n*VS+P]=e,P+=1;for(var u=0;u<t.length;u++)i[u]=t[u];s[n*VS+P]=o[0],P+=1,i[0]=r,s[n*VS+P]=o[0],l[n*VS+(P+=1)]=a,P+=1};T(S,O,255,h),T(S,E,0,h),T(S,O,0,h),T(S,E,0,h),T(S,O,0,h),T(S,E,255,h)},f=0;f<e.length;f++)c(f);n.bindBuffer(n.ARRAY_BUFFER,this.relBuffer),n.bufferData(n.ARRAY_BUFFER,u,n.DYNAMIC_DRAW),this.numRels=e.length,this.relDataBuffer=u,this.relData={positionsAndColors:s,widths:l},this.relIdToIndex=a}},{key:"renderAnimations",value:function(e){var t=this.gl,n=this.nodeBuffer,r=this.numNodes,o=Date.now()%1e3/1e3,i=o<.7?o/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",e),this.nodeAnimShader.setUniform("u_animPos",i),t.bindBuffer(t.ARRAY_BUFFER,n),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),t.drawArrays(t.POINTS,0,r)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BS(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),HS=function(e,t,n){var r=l_();e.width=t*r,e.height=n*r,e.style.width="".concat(t,"px"),e.style.height="".concat(n,"px")},qS=function(e){I_.warn("Error: WebGL context lost - visualization will stop working!",e),void 0!==zS&&zS(e)},GS=function(e){var t=e.parentElement,n=t.getBoundingClientRect(),r=n.width,o=n.height;0!==r||0!==o||t.isConnected||(r=parseInt(t.style.width,10)||0,o=parseInt(t.style.height,10)||0),HS(e,r,o)},YS=function(e,t){var n=document.createElement("canvas");return Object.assign(n.style,u_),void 0!==e&&(e.appendChild(n),GS(n)),function(e,t){zS=t,e.addEventListener("webglcontextlost",qS)}(n,t),n},XS=function(e){e.width=0,e.height=0,e.remove()},KS=function(e){var t={antialias:!0},n=e.getContext("webgl",t);return null===n&&(n=e.getContext("experimental-webgl",t)),function(e){return e instanceof WebGLRenderingContext}(n)?n:null},ZS=function(e){e.canvas.removeEventListener("webglcontextlost",qS);var t=e.getExtension("WEBGL_lose_context");null==t||t.loseContext()};function $S(e){return function(e){if(Array.isArray(e))return eP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=JS(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function JS(e,t){if(e){if("string"==typeof e)return eP(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eP(e,t):void 0}}function eP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tP=Jb*l_();function nP(e){return nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nP(e)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(t){iP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iP(e,t,n){return(t=function(e){var t=function(e){if("object"!=nP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aP=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},r=0;r<e.length;r++)n.minX>e[r].x&&(n.minX=e[r].x),n.minY>e[r].y&&(n.minY=e[r].y),n.maxX<e[r].x&&(n.maxX=e[r].x),n.maxY<e[r].y&&(n.maxY=e[r].y);var o=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2,a=2*t,u=l_()*a;return{centerX:o,centerY:i,nodesWidth:n.maxX-n.minX+a+u,nodesHeight:n.maxY-n.minY+a+u}},uP=function(e,t,n,r){var o=1/0,i=1/0;return e>1&&(o=n/e),t>1&&(i=r/t),{zoomX:o,zoomY:i}},sP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=Math.min(e,t);return Math.min(r,Math.max(n,o))},lP=function(e,t,n,r){return Math.max(Math.min(t,n),Math.min(e,r))},cP=function(e,t,n,r,o,i){var a=t;return function(e,t,n){return e<t&&e<n}(o,i,t)&&e.length>1?(a=function(e,t){var n=function(e){var t=new Array(4).fill(e[0]);return e.forEach(function(e){t[0]=e.x<t[0].x?t[0]:oP({},e),t[1]=e.y<t[1].y?t[1]:oP({},e),t[2]=e.x<t[2].x?oP({},e):t[2],t[3]=e.y<t[3].y?oP({},e):t[3]}),t}(e),r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0;r<e.length;r++)for(var o=r+1;o<e.length;o++)t=Math.hypot(Math.abs(e[r].x-e[o].x),Math.abs(e[r].y-e[o].y)),n=Math.max(n,t);return n}(n),o=50*l_(),i=t.height<=t.width?t.height-50-o:t.width-50-o;return r>i?.9*i/r:.9*r/i}(e,r),lP(o,i,Math.min(t,a),n)):lP(o,i,t,n)};function fP(e){return fP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fP(e)}function dP(e){var t=function(e){if("object"!=fP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fP(t)?t:t+""}var hP=function(){return e=function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=dP(n="callbacks"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.callbacks={}},t=[{key:"register",value:function(e,t){this.isCallbackRegistered(e)||(this.callbacks[e]=[]),this.callbacks[e].push(t)}},{key:"isCallbackRegistered",value:function(e){return void 0!==this.callbacks[e]}},{key:"callIfRegistered",value:function(){var e,t=arguments,n=Array.prototype.slice.call(arguments)[0];e=n,ib.includes(e)&&this.isCallbackRegistered(n)&&this.callbacks[n].slice(0).forEach(function(e){return e.apply(null,Array.prototype.slice.call(t,1))})}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),pP=Uv(481),vP=Uv.n(pP);function yP(e){return yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yP(e)}function gP(e,t,n){return(t=mP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mP(e){var t=function(e){if("object"!=yP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yP(t)?t:t+""}var bP=5e-5,_P=function(){return e=function e(t){var n,r=this,o=t.state,i=t.getNodePositions,a=t.canvas;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gP(this,"xCtrl",void 0),gP(this,"yCtrl",void 0),gP(this,"zoomCtrl",void 0),gP(this,"getNodePositions",void 0),gP(this,"firstUpdate",void 0),gP(this,"state",void 0),gP(this,"canvas",void 0),gP(this,"stateDisposers",void 0),this.state=o,this.getNodePositions=i,this.canvas=a,this.xCtrl=new(vP())(.35,bP,.05,1),this.yCtrl=new(vP())(.35,bP,.05,1),this.zoomCtrl=new(vP())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(o.autorun(function(){null===o.fitNodeIds&&(r.xCtrl.reset(),r.yCtrl.reset(),r.zoomCtrl.reset())})),this.stateDisposers.push(o.autorun(function(){n!==o.fitNodeIds&&(n=o.fitNodeIds,r.firstUpdate=!0)})),this.stateDisposers.push(o.autorun(function(){o.resetZoom&&(r.firstUpdate=!0)}))},t=[{key:"needsToRun",value:function(){var e=this.state,t=e.fitNodeIds,n=e.resetZoom;return t.length>0||n}},{key:"update",value:function(e,t){var n=this.state,r=n.fitNodeIds,o=n.resetZoom;r.length>0?this.fitNodes(r,e,t):o&&this.reset(e,t)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(e){return e()})}},{key:"recalculateTarget",value:function(e,t,n,r){for(var o=this.xCtrl,i=this.yCtrl,a=this.zoomCtrl,u=this.state,s=[],l=0;l<e.length;l++)s.push({id:e[l]});var c=u.zoom,f=u.panX,d=u.panY,h=u.maxNodeRadius,p=u.nodes,v=u.defaultZoomLevel,y=this.getNodePositions(s);p.updatePositions(y);var g=aP(y,h),m=g.centerX,b=g.centerY,_=g.nodesWidth,w=g.nodesHeight;if(isNaN(m)||isNaN(b))return I_.info("fit() function couldn't calculate center point, not updating viewport"),!1;var O=t.noPan,E=t.outOnly,x=t.minZoom,S=t.maxZoom;o.setTarget(O?f:m),i.setTarget(O?d:b);var P=uP(_,w,n,r),T=P.zoomX,C=P.zoomY;if(T===1/0&&C===1/0)a.setTarget(v);else{var k=sP(T,C,x,S);E&&c<k?a.setTarget(c):a.setTarget(k)}return!0}},{key:"allNodesAreVisible",value:function(e,t,n){var r=uP(t,n,this.canvas.width,this.canvas.height),o=r.zoomX,i=r.zoomY;return e<o&&e<i}},{key:"reset",value:function(e,t){var n=this.xCtrl,r=this.yCtrl,o=this.zoomCtrl,i=this.state,a=this.firstUpdate,u=this.canvas,s=i.zoom,l=i.panX,c=i.panY,f=i.nodes,d=i.maxNodeRadius,h=i.defaultZoomLevel;if(a||e){o.setTarget(h);var p=aP(Object.values(f.idToPosition),d),v=p.centerX,y=p.centerY,g=p.nodesWidth,m=p.nodesHeight;this.allNodesAreVisible(s,g,m)?(n.setTarget(v),r.setTarget(y)):(n.setTarget(l),r.setTarget(c)),this.firstUpdate=!1}var b=s+o.update(s),_=l+n.update(l),w=c+r.update(c);i.updateZoomToFit(b,_,w,u),Math.abs(o.target-b)<.01&&(i.updateZoomToFit(h,_,w,u),i.clearReset(),void 0!==t&&t())}},{key:"fitNodes",value:function(e,t,n){var r=this.state,o=this.firstUpdate,i=this.canvas,a=this.xCtrl,u=this.yCtrl,s=this.zoomCtrl,l=r.zoomOptions,c=void 0===l?{}:l,f=r.zoom,d=r.panX,h=r.panY,p=!0;if(o||t){var v=i.width,y=i.height;p=this.recalculateTarget(e,c,v,y),this.firstUpdate=!1}if(p){if(!c.animated)return r.setZoomPan(s.target,a.target,u.target,i),void r.clearFit();var g=d+a.update(d),m=h+u.update(h),b=f+s.update(f);r.updateZoomToFit(b,g,m,i);var _=Math.max(5,10/s.target),w=Math.min(.01,.01*s.target);!t&&Math.abs(s.target-b)<w&&Math.abs(a.target-g)<_&&Math.abs(u.target-m)<_&&(r.setZoom(s.target,i),r.clearFit(),void 0!==n&&n())}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function wP(e){return wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wP(e)}function OP(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return EP(l,"_invoke",function(n,r,o){var i,u,s,l=0,c=o||[],f=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,u=0,s=e,d.n=n,a}};function h(n,r){for(u=n,s=r,t=0;!f&&l&&!o&&t<c.length;t++){var o,i=c[t],h=d.p,p=i[2];n>3?(o=p===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(u=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,c,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&h(c,p),u=c,s=p;(t=u<2?e:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),h(u,s)):d.n=s:d.v=s);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?s:n.call(r,d))!==a)break}catch(t){i=e,u=1,s=t}finally{l=1}}return{value:t,done:f}}}(n,o,i),!0),l}var a={};function u(){}function s(){}function l(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(EP(t={},r,function(){return this}),t),f=l.prototype=u.prototype=Object.create(c);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,EP(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=l,EP(f,"constructor",l),EP(l,"constructor",s),s.displayName="GeneratorFunction",EP(l,o,"GeneratorFunction"),EP(f),EP(f,o,"Generator"),EP(f,r,function(){return this}),EP(f,"toString",function(){return"[object Generator]"}),(OP=function(){return{w:i,m:d}})()}function EP(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}EP=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){EP(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},EP(e,t,n,r)}function xP(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function SP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(t){CP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CP(e,t,n){return(t=kP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e){var t=function(e){if("object"!=wP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wP(t)?t:t+""}var AP="NvlController",jP={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},RP="onError",IP="onLayoutDone",NP="onLayoutStep",MP={},DP=function(){var e;return null!==(e=MP[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"])&&void 0!==e?e:Object.values(MP).pop()},LP=function(){return e=function e(t,n,r){var o,i,a,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CP(this,"destroyed",void 0),CP(this,"state",void 0),CP(this,"callbacks",void 0),CP(this,"instanceId",void 0),CP(this,"glController",void 0),CP(this,"webGLContext",void 0),CP(this,"webGLMinimapContext",void 0),CP(this,"htmlOverlay",void 0),CP(this,"hasResized",void 0),CP(this,"hierarchicalLayout",void 0),CP(this,"gridLayout",void 0),CP(this,"freeLayout",void 0),CP(this,"d3ForceLayout",void 0),CP(this,"forceLayout",void 0),CP(this,"canvasRenderer",void 0),CP(this,"glCanvas",void 0),CP(this,"canvasRect",void 0),CP(this,"glMinimapCanvas",void 0),CP(this,"c2dCanvas",void 0),CP(this,"isInRenderSwitchAnimation",void 0),CP(this,"justSwitchedRenderer",void 0),CP(this,"justSwitchedLayout",void 0),CP(this,"layoutUpdating",void 0),CP(this,"layoutComputing",void 0),CP(this,"isRenderingDisabled",void 0),CP(this,"setRenderSwitchAnimation",void 0),CP(this,"stateDisposers",void 0),CP(this,"zoomTransitionHandler",void 0),CP(this,"currentLayout",void 0),CP(this,"layoutTimeLimit",void 0),CP(this,"pixelRatio",void 0),CP(this,"removeResizeListener",void 0),CP(this,"removeMinimapResizeListener",void 0),CP(this,"pendingZoomOperation",void 0),CP(this,"layoutRunner",void 0),CP(this,"animationRequestId",void 0),CP(this,"layoutDoneCallback",void 0),CP(this,"layoutComputingCallback",void 0),CP(this,"currentLayoutType",void 0),CP(this,"descriptionElement",void 0),this.destroyed=!1;var s=r.minimapContainer,l=void 0===s?document.createElement("span"):s,c=r.layoutOptions,f=r.layout,d=r.instanceId,h=void 0===d?"default":d,p=r.disableAria,v=void 0!==p&&p,y=t.nodes,g=t.rels,m=t.webGLVisible,b=t.disableWebGL;this.state=t,this.callbacks=new hP,this.instanceId=h;var _=n;_.setAttribute("instanceId",h),_.setAttribute("data-testid","nvl-parent"),null!==(o=_.style.height)&&void 0!==o&&o.length||Object.assign(_.style,{height:"100%"}),null!==(i=_.style.outline)&&void 0!==i&&i.length||Object.assign(_.style,{outline:"none"}),this.descriptionElement=v?document.createElement("div"):function(e,t){var n;e.setAttribute("role","img"),e.setAttribute("aria-label","Graph visualization");var r="nvl-".concat(t,"-description"),o=null!==(n=document.getElementById(r))&&void 0!==n?n:document.createElement("div");return o.innerHTML="",o.id="nvl-".concat(t,"-description"),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","false"),o.style.display="none",e.appendChild(o),e.setAttribute("aria-describedby",o.id),o}(_,h);var w=YS(_,this.onWebGLContextLost.bind(this)),O=YS(l,this.onWebGLContextLost.bind(this));if(w.setAttribute("data-testid","nvl-gl-canvas"),b)this.glController=new MS;else{var E=KS(w),x=KS(O);this.glController=new NS({mainSceneRenderer:new WS(E,y,g,this.state),minimapRenderer:new WS(x,y,g,this.state),state:t}),this.webGLContext=E,this.webGLMinimapContext=x}var S=YS(_,this.onWebGLContextLost.bind(this));S.setAttribute("data-testid","nvl-c2d-canvas");var P=S.getContext("2d"),T=document.createElement("div");Object.assign(T.style,TP(TP({},u_),{},{overflow:"hidden"})),_.appendChild(T),this.htmlOverlay=T,this.hasResized=!0,this.hierarchicalLayout=new IO(TP(TP({},c),{},{state:this.state})),this.gridLayout=new cO({state:this.state}),this.freeLayout=new tO({state:this.state}),this.d3ForceLayout=new A_({state:this.state}),this.forceLayout=b?this.d3ForceLayout:new Gw(TP(TP({},c),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(f),this.state.setLayoutOptions(c);var C=new SS(S,P,t,r);this.canvasRenderer=C,this.glCanvas=w,this.canvasRect=w.getBoundingClientRect(),this.glMinimapCanvas=O,this.c2dCanvas=S,this.glCanvas.style.opacity=m?"1":"0",this.c2dCanvas.style.opacity=m?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,y.addChannel(AP),g.addChannel(AP),this.setRenderSwitchAnimation=function(){u.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(t.autorun(function(){u.callIfRegistered("zoom",t.zoom)})),this.stateDisposers.push(t.autorun(function(){u.callIfRegistered("pan",{panX:t.panX,panY:t.panY})})),this.stateDisposers.push(t.autorun(function(){u.setLayout(t.layout)})),this.stateDisposers.push(t.autorun(function(){u.setLayoutOptions(t.layoutOptions)})),v||this.stateDisposers.push(t.autorun(function(){!function(e,t){var n=e.nodes,r=e.rels,o=e.layout,i=n.items.length,a=r.items.length;if(0!==i||0!==a){var u="".concat(i," node").concat(1!==i?"s":""),s="".concat(a," relationship").concat(1!==a?"s":""),l="displayed using a ".concat(null!=o?o:"forceDirected"," layout");t.innerHTML="A graph visualization with ".concat(u," and ").concat(s,", ").concat(l,".")}else t.innerHTML="An empty graph visualization."}(t,u.descriptionElement)})),this.stateDisposers.push(t.autorun(function(){var e=t.webGLVisible?"1":"0";e!==u.glCanvas.style.opacity&&(u.justSwitchedRenderer=!0,u.glCanvas.style.opacity=e,u.c2dCanvas.style.opacity=t.webGLVisible?"0":"1")})),this.startMainLoop(),this.zoomTransitionHandler=new _P({state:t,getNodePositions:function(e){return u.currentLayout.getNodePositions(e)},canvas:w}),this.layoutTimeLimit=null!==(a=r.layoutTimeLimit)&&void 0!==a?a:16,this.pixelRatio=l_(),this.removeResizeListener=sb()(_,function(){GS(w),GS(S),u.canvasRect=w.getBoundingClientRect(),u.hasResized=!0}),this.removeMinimapResizeListener=sb()(l,function(){GS(O)}),MP[h]=this,window.__Nvl_dumpNodes=function(e){var t;return null===(t=DP(e))||void 0===t?void 0:t.dumpNodes()},window.__Nvl_dumpRelationships=function(e){var t;return null===(t=DP(e))||void 0===t?void 0:t.dumpRelationships()},window.__Nvl_registerDoneCallback=function(e,t){var n;return null===(n=DP(t))||void 0===n?void 0:n.on(IP,e)},window.__Nvl_getNodesOnScreen=function(e){var t;return null===(t=DP(e))||void 0===t?void 0:t.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(e){var t;return null===(t=DP(e))||void 0===t?void 0:t.getScale()},this.pendingZoomOperation=null},t=[{key:"onWebGLContextLost",value:function(e){this.callIfRegistered("onWebGLContextLost",e)}},{key:"updateMinimapZoom",value:function(){var e=this.state,t=e.nodes,n=e.maxNodeRadius,r=e.maxMinimapZoom,o=e.minMinimapZoom,i=aP(Object.values(t.idToPosition),n),a=i.centerX,u=i.centerY,s=i.nodesWidth,l=i.nodesHeight,c=uP(s,l,this.glMinimapCanvas.width,this.glMinimapCanvas.height),f=c.zoomX,d=c.zoomY,h=sP(f,d,o,r);this.state.updateMinimapZoomToFit(h,a,u)}},{key:"startMainLoop",value:function(){var e=this,t=this.state,n=t.nodes,r=t.rels;this.currentLayout.update();var o=this.currentLayout.getNodePositions(n.items);n.updatePositions(o),this.isRenderingDisabled||(this.glController.renderMainScene(o),this.glController.renderMinimap(o),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(o)),this.layoutRunner=setInterval(function(){try{!function(){var t=e.currentLayout.getShouldUpdate(),n=t||e.justSwitchedLayout,r=n&&!e.layoutUpdating&&!e.justSwitchedLayout;if(n)for(var o=window.performance.now(),i=r?0:50,a=0;a<i;a++){e.currentLayout.update(e.justSwitchedLayout),e.justSwitchedLayout=!1;var u=window.performance.now();if(!t||u-o>e.layoutTimeLimit)break}}()}catch(t){if(!e.callbacks.isCallbackRegistered(RP))throw t;e.callIfRegistered(RP,t)}},13);var i=function(){try{!function(t){if(e.destroyed)I_.info("STEP IN A DESTROYED STRIP");else{var o=l_();if(o!==e.pixelRatio)return e.pixelRatio=o,void e.callIfRegistered("restart");var i=e.currentLayout.getShouldUpdate(),a=i||e.justSwitchedLayout,u=e.currentLayout.getComputing(),s=e.zoomTransitionHandler.needsToRun(),l=a&&!e.layoutUpdating&&!e.justSwitchedLayout,c=e.layoutComputing&&!u,f=e.state.webGLVisible&&e.glController.needsToRun(),d=!e.state.webGLVisible&&e.canvasRenderer.needsToRun(),h=e.isInRenderSwitchAnimation||e.justSwitchedRenderer,p=e.hasResized,v=null!==e.pendingZoomOperation,y=e.glController.minimapMouseDown;if(n.clearChannel(AP),r.clearChannel(AP),s||a||c||h||f||d||y||p||v){!v||l||e.currentLayout.getComputing()||(e.pendingZoomOperation(),e.pendingZoomOperation=null);var g=i||u||c;e.zoomTransitionHandler.update(g,function(){return e.callIfRegistered("onZoomTransitionDone")}),p&&e.glController.onResize();var m=e.currentLayout.getNodePositions(n.items);if(n.updatePositions(m),e.callbacks.isCallbackRegistered(NP)&&e.callIfRegistered(NP,e.dumpNodes()),e.updateMinimapZoom(),e.glController.renderMinimap(m),!e.isRenderingDisabled){if((e.state.webGLVisible||h)&&e.glController.renderMainScene(m),!e.state.webGLVisible||h){e.canvasRenderer.processUpdates(),e.canvasRenderer.render(m);for(var b=0;b<r.items.length;b++){var _=r.items[b].id,w=e.canvasRenderer.arrowBundler.getBundle(r.items[b]),O=r.idToHtmlOverlay[_],E=w.labelInfo[_];if(O&&E){var x=E.rotation,S=E.position,P=E.width,T=E.height,C=e.mapCanvasSpaceToRelativePosition(S.x,S.y),k=C.x,A=C.y,j=P>5&&!e.state.webGLVisible;Object.assign(O.style,{top:"".concat(A,"px"),left:"".concat(k,"px"),width:"".concat(P,"px"),height:"".concat(T,"px"),display:j?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),") rotate(").concat(x,"rad")})}}}for(var R=0;R<n.items.length;R++){var I=n.items[R],N=I.id,M=I.size,D=n.idToHtmlOverlay[N];if(D){var L=e.state.nodes.idToPosition[N],F=e.mapCanvasSpaceToRelativePosition(L.x,L.y),U=F.x,B=F.y,z="".concat(2*(null!=M?M:Jb),"px");Object.assign(D.style,{top:"".concat(B,"px"),left:"".concat(U,"px"),width:z,height:z,transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),")")})}}}}var V=!a&&e.layoutUpdating,W=u!==e.layoutComputing;e.layoutComputing=u,e.layoutUpdating=a,V&&e.callIfRegistered(IP),W&&e.callIfRegistered("onLayoutComputing",u),e.justSwitchedRenderer=!1,e.hasResized=!1,void 0!==t&&t()}}(function(){e.animationRequestId=window.requestAnimationFrame(i)})}catch(t){if(!e.callbacks.isCallbackRegistered(RP))throw t;e.callIfRegistered(RP,t)}};this.animationRequestId=window.requestAnimationFrame(i)}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var e,t=$m(this.state.nodes.items),n=this.state.nodes.idToPosition,r=[],o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return SP(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SP(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=n[i.id],u=this.mapCanvasSpaceToRelativePosition(a.x,a.y);r.push(TP(TP({},i),{},{x:u.x,y:u.y}))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"dumpRelationships",value:function(){return $m(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(e,t){var n=this.canvasRect,r=window.devicePixelRatio||1,o=(e-this.state.panX)*this.state.zoom/r,i=(t-this.state.panY)*this.state.zoom/r;return{x:o+.5*n.width,y:i+.5*n.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(e,t){var n=this.glCanvas.getBoundingClientRect(),r=window.devicePixelRatio||1,o=r*(e-.5*n.width),i=r*(t-.5*n.height);return{x:this.state.panX+o/this.state.zoom,y:this.state.panY+i/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values($m(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=e.filter(function(e){var n=e.id,o=void 0!==t.state.nodes.idToItem[n];return o||r.push(n),o});r.length>0&&I_.warn("Failed to set positions for following nodes:",r,"They do not exist in the graph."),this.state.nodes.updatePositions(o),this.currentLayout.updateNodes(o),n||this.currentLayout.terminateUpdate(),this.hasResized=!0,0===this.getNodesOnScreen().nodes.length&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var e=this.glCanvas.getBoundingClientRect(),t=this.mapRelativePositionToCanvasSpace(0,0),n=t.x,r=t.y,o=this.mapRelativePositionToCanvasSpace(e.width,e.height);return function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["node"],a=o.nodes,u=o.rels,s=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),f=Math.max(t,r),d=[],h=[];if(i.includes("node"))for(var p=0,v=Object.values(a.idToPosition);p<v.length;p++){var y=v[p],g=y.x,m=y.y;void 0!==g&&void 0!==m&&g>s&&g<l&&m>c&&m<f&&d.push(y)}if(i.includes("relationship")){var b,_=QS(u.items);try{for(_.s();!(b=_.n()).done;){var w=b.value,O=w.from,E=w.to,x=a.idToPosition[O],S=a.idToPosition[E];if(void 0!==x.x&&void 0!==x.y&&void 0!==S.x&&void 0!==S.y){var P=x.x>s&&x.x<l&&x.y>c&&x.y<f,T=S.x>s&&S.x<l&&S.y>c&&S.y<f;P&&T&&h.push(w)}}}catch(e){_.e(e)}finally{_.f()}}return{nodes:d,rels:h}}(n,r,o.x,o.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(e){this.layoutDoneCallback=e}},{key:"registerComputingCallback",value:function(e){this.layoutComputingCallback=e}},{key:"getPosition",value:function(e){return this.currentLayout.getNodePositions([{id:e}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(e){var t=this;this.pendingZoomOperation=function(){return t.state.setZoom(e,t.glCanvas)}}},{key:"setPanCoordinates",value:function(e,t){this.state.setPan(e,t)}},{key:"setZoomAndPan",value:function(e,t,n){var r=this;this.pendingZoomOperation=function(){return r.state.setZoomPan(e,t,n,r.glCanvas)}}},{key:"fit",value:function(e,t){var n=this;this.pendingZoomOperation=function(){return n.state.fitNodes(e,t)}}},{key:"resetZoom",value:function(){var e=this;this.pendingZoomOperation=function(){return e.state.setZoomReset()}}},{key:"setRenderer",value:function(e){this.state.setRenderer(e)}},{key:"on",value:function(e,t){this.callbacks.register(e,t)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var e;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),void 0!==this.layoutRunner&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),void 0!==this.webGLContext&&ZS(this.webGLContext),void 0!==this.webGLMinimapContext&&ZS(this.webGLMinimapContext),XS(this.glCanvas),XS(this.glMinimapCanvas),this.canvasRenderer.destroy(),XS(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(e){e()}),e=this.instanceId,delete MP[e],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(e){return this.canvasRenderer.getRelsAt(e)}},{key:"getCanvasNodesAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.canvasRenderer.getNodesAt(e,t)}},{key:"getLayout",value:function(e){return e===dO?this.hierarchicalLayout:"forceDirected"===e?this.forceLayout:"grid"===e?this.gridLayout:"free"===e?this.freeLayout:"d3Force"===e?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(e){I_.info("Switching to layout: ".concat(e));var t=this.currentLayoutType,n=this.getLayout(e);"free"===e&&n.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=n,this.currentLayoutType=e,t&&t!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(e){this.getLayout(this.state.layout).setOptions(e)}},{key:"getDataUrlForCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toDataURL("image/png");return t?n.replace(/^data:image\/png/,"data:application/octet-stream"):n}},{key:"initiateFileDownload",value:function(e,t){var n=document.createElement("a");n.style.display="none",n.setAttribute("download",e);var r=this.getDataUrlForCanvas(t,!0);n.setAttribute("href",r),n.click()}},{key:"updateLayoutAndPositions",value:function(){var e=this.state.nodes,t=e.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var n=this.currentLayout.getNodePositions(t);return e.updatePositions(n),n}},{key:"saveToFile",value:function(e){var t=TP(TP({},jP),e),n=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,t.backgroundColor);this.initiateFileDownload(t.filename,n),XS(n),n=null}},{key:"getImageDataURL",value:function(e){var t=TP(TP({},jP),e),n=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,t.backgroundColor),r=this.getDataUrlForCanvas(n);return XS(n),n=null,r}},{key:"prepareLargeFileForDownload",value:function(e){var t=this,n=TP(TP({},jP),e),r=this.currentLayout.getNodePositions(this.state.nodes.items),o=aP(r,100),i=o.nodesWidth,a=o.nodesHeight,u=o.centerX,s=o.centerY,l=Math.max(Math.min(i+100,15e3),5e3),c=Math.max(Math.min(a+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(e,r){try{t.setPanCoordinates(u,s);var o=Math.max(l/i-.02,t.state.minZoom),f=Math.max(c/a-.02,t.state.minZoom);t.setZoomLevel(Math.min(o,f))}catch(e){return I_.error("An error occurred while downloading the file"),void r(new Error("An error occurred while downloading the file",{cause:e}))}setTimeout(function(){try{var o=t.createCanvasAndRenderImage(l,c,n.backgroundColor);t.initiateFileDownload(n.filename,o),XS(o),o=null,e(!0)}catch(e){r(new Error("An error occurred while downloading the file",{cause:e}))}},500)})}},{key:"createCanvasAndRenderImage",value:function(e,t,n){var r=function(e,t){var n=document.createElement("canvas");return document.body.appendChild(n),HS(n,e,t),n}(e,t),o=function(e){return e.getContext("2d")}(r),i=this.updateLayoutAndPositions();return this.canvasRenderer.processUpdates(),this.canvasRenderer.render(i,{canvas:r,context:o,backgroundColor:n,ignoreAnimations:!0,showCaptions:!0}),r}},{key:"saveFullGraphToLargeFile",value:(n=OP().m(function e(t){var n,r,o,i,a;return OP().w(function(e){for(;;)switch(e.n){case 0:return n=TP(TP({},jP),t),r=this.state.zoom,o=this.state.panX,i=this.state.panY,e.p=1,e.n=2,this.prepareLargeFileForDownload(n);case 2:e.n=5;break;case 3:if(e.p=3,a=e.v,I_.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(RP)){e.n=4;break}this.callIfRegistered(RP,a),e.n=5;break;case 4:throw a;case 5:return e.p=5,this.isRenderingDisabled=!1,this.setZoomLevel(r),this.setPanCoordinates(o,i),e.f(5);case 6:return e.a(2)}},e,this,[[1,3,5,6]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){xP(i,r,o,a,u,"next",e)}function u(e){xP(i,r,o,a,u,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)})}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kP(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function FP(e){return FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(e)}function UP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VP(r.key),r)}}function zP(e,t,n){return t&&BP(e.prototype,t),n&&BP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VP(e){var t=function(e){if("object"!=FP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=FP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==FP(t)?t:t+""}var WP=zP(function e(t,n){if(UP(this,e),!t)throw new Error("Tried to create a node with no data");this.data=t,this.parent=n,this.children=[]},[{key:"addChild",value:function(e){this.children.push(e)}},{key:"isRoot",value:function(){return null===this.parent}},{key:"print",value:function(){var e=this.data.name;this.isRoot()||(e="".concat(e,"\t\t").concat(function(e){for(var t=(Math.round(1e3*e)/1e3).toFixed(3);t.length<6;)t=" ".concat(t);return t}(this.data._timeSpent())," ms"),this.parent.isRoot()||(e="".concat(e,"\t").concat(this._percentageOfParentSpent(),"%")));var t=this.noOfChildren()>0;for(var n in t?(e="".concat(e,"\t Children: ").concat(this.noOfChildren()),console.groupCollapsed(e)):console.log(e),this.children)this.children[n].print();t&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}]),HP=zP(function e(t){UP(this,e),this.name=t,this.startTime=performance.now(),this.endTime=null},[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(null===this.startTime||null===this.endTime)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}]),qP=zP(function e(){UP(this,e),this.root=new WP(new HP("Performance Tree"),null),this.current=this.root},[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(e){if(this.current){var t=new WP(e,this.current);this.current.addChild(t),this.current=t}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new WP(e,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}]),GP=zP(function e(){UP(this,e),window.performance?(this.disabled=!1,this.tree=new qP):(this.disabled=!0,this.tree=null)},[{key:"startTest",value:function(e){if(!this.disabled){var t,n=e||(t="at"===(t=(new Error).stack.split("\n")[3].trim()).split(" ")[0]?t.split(" ")[1]:t.split("@")[0]),r=new HP(n);this.tree.add(r)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}]);function YP(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return XP(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XP(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function XP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function KP(e){return"from"in e&&"to"in e}function ZP(e){this.channels[e]={adds:{},updates:{},removes:{}}}function $P(e){delete this.channels[e]}function QP(e){this.channels[e].adds={},this.channels[e].updates={},this.channels[e].removes={}}var JP=function(e){return"html"in e?e.html:"captionHtml"in e?e.captionHtml:void 0};function eT(e,t){var n,r=!1,o=YP(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.id;if(void 0===this.idToItem[a]){if(i=(0,Bv.cloneDeep)(i),this.items.push(i),this.idToItem[a]=i,this.idToPosition[a]={id:a,x:0,y:0},"x"in i&&"y"in i){var u=i,s=u.x,l=u.y;isNaN(s)||isNaN(l)||(this.idToPosition[a].x=s,this.idToPosition[a].y=l)}var c=JP(i);if(c instanceof HTMLElement){var f=document.createElement("div");Object.assign(f.style,{position:"absolute"}),f.appendChild(c),this.idToHtmlOverlay[a]=f}for(var d=Object.values(this.channels),h=0,p=d;h<p.length;h++){var v=p[h];void 0===v.removes[a]?v.adds[a]=i:(delete v.removes[a],v.updates[a]=i)}r=!0}}}catch(e){o.e(e)}finally{o.f()}r&&(this.version+=1,void 0!==t&&(t.added=!0))}function tT(e,t){var n,r=!1,o=YP(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.id,u=this.idToItem[a];if(void 0!==u){Object.assign(u,i);var s=JP(i);if(s instanceof HTMLElement){var l;null===(l=this.idToHtmlOverlay[a])||void 0===l||l.remove(),delete this.idToHtmlOverlay[a];var c=document.createElement("div");Object.assign(c.style,{position:"absolute"}),c.appendChild(s),this.idToHtmlOverlay[a]=c}for(var f=Object.values(this.channels),d=0,h=f;d<h.length;d++){var p=h[d];if(void 0===p.adds[a]){var v=p.updates[a];void 0===v&&(v={id:a},KP(u)&&(v={id:a,from:u.from,to:u.to}),p.updates[a]=v),Object.assign(v,i)}}void 0!==t&&(t.updated=!0)}r=!0}}catch(e){o.e(e)}finally{o.f()}r&&(this.version+=1)}function nT(e,t){var n,r=!1,o=YP(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=this.idToItem[i];if(void 0!==a){var u;r=!0,delete this.idToItem[a.id],delete this.idToPosition[a.id],null===(u=this.idToHtmlOverlay[a.id])||void 0===u||u.remove(),delete this.idToHtmlOverlay[a.id],this.items.splice(this.items.indexOf(a),1);for(var s=Object.values(this.channels),l=0,c=s;l<c.length;l++){var f=c[l];void 0!==f.adds[i]?delete f.adds[i]:(delete f.updates[i],f.removes[i]=a)}}}}catch(e){o.e(e)}finally{o.f()}r&&(void 0!==t&&(t.removed=!0),this.version+=1)}function rT(e){var t,n=YP(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==this.idToPosition[r.id]){var o=this.idToPosition[r.id];Object.assign(o,r)}else this.idToPosition[r.id]={id:r.id,x:r.x,y:r.y,pinned:r.pinned}}}catch(e){n.e(e)}finally{n.f()}}function oT(e){for(var t in this.idToHtmlOverlay){var n=this.idToHtmlOverlay[t];e.appendChild(n)}}var iT=function(){return{idToItem:bg.shallow({}),items:bg.shallow([]),channels:bg.shallow({}),idToPosition:bg.shallow({}),idToHtmlOverlay:bg.shallow({}),version:0,addChannel:Dy(ZP),removeChannel:Dy($P),clearChannel:Dy(QP),add:Dy(eT),update:Dy(tT),remove:Dy(nT),updatePositions:Dy(rT),updateHtmlOverlay:Dy(oT)}};function aT(e){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(e)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(t){lT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lT(e,t,n){return(t=function(e){var t=function(e){if("object"!=aT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cT=function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0},fT=Uv(1187);function dT(e){return dT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dT(e)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(t){vT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vT(e,t,n){return(t=function(e){var t=function(e){if("object"!=dT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e){return function(e){if(Array.isArray(e))return gT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gT(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mT=function(e){return{id:e.elementId}},bT=function(e){return{id:e.elementId,from:e.startNodeElementId,to:e.endNodeElementId}};fT.resultTransformers.mappedResultTransformer({map:function(e){return Object.values(e.toObject())},collect:function(e){var t={nodes:[],relationships:[]},n=new Map;return function(e){for(var t=yT(e),n=[];t.length;){var r=t.pop();Array.isArray(r)?t.push.apply(t,yT(r)):n.push(r)}return n}(e).forEach(function(e){(0,fT.isNode)(e)?(t.nodes.push(mT(e)),n.set(e.elementId,e)):(0,fT.isPath)(e)?e.segments.forEach(function(e){t.nodes.push(mT(e.start)),t.nodes.push(mT(e.end)),t.relationships.push(bT(e.relationship)),n.set(e.start.elementId,e.start),n.set(e.end.elementId,e.end),n.set(e.relationship.elementId,e.relationship)}):(0,fT.isRelationship)(e)&&(t.relationships.push(bT(e)),n.set(e.elementId,e))}),pT(pT({},t),{},{recordObjectMap:n})}});const _T=(e=>{var t={};return Uv.d(t,e),t})({AnalyticsBrowser:()=>Dv});var wT,OT=new Uint8Array(16);function ET(){if(!wT&&!(wT="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wT(OT)}const xT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ST=[],PT=0;PT<256;++PT)ST.push((PT+256).toString(16).substr(1));var TT,CT,kT=0,AT=0;const jT=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||TT,a=void 0!==e.clockseq?e.clockseq:CT;if(null==i||null==a){var u=e.random||(e.rng||ET)();null==i&&(i=TT=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=CT=16383&(u[6]<<8|u[7]))}var s=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:AT+1,c=s-kT+(l-AT)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||s>kT)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kT=s,AT=l,CT=a;var f=(1e4*(268435455&(s+=122192928e5))+l)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return t||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ST[e[t+0]]+ST[e[t+1]]+ST[e[t+2]]+ST[e[t+3]]+"-"+ST[e[t+4]]+ST[e[t+5]]+"-"+ST[e[t+6]]+ST[e[t+7]]+"-"+ST[e[t+8]]+ST[e[t+9]]+"-"+ST[e[t+10]]+ST[e[t+11]]+ST[e[t+12]]+ST[e[t+13]]+ST[e[t+14]]+ST[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&xT.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}(o)};function RT(e){return RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(e)}function IT(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return NT(l,"_invoke",function(n,r,o){var i,u,s,l=0,c=o||[],f=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,u=0,s=e,d.n=n,a}};function h(n,r){for(u=n,s=r,t=0;!f&&l&&!o&&t<c.length;t++){var o,i=c[t],h=d.p,p=i[2];n>3?(o=p===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(u=0,d.v=r,d.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,c,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&h(c,p),u=c,s=p;(t=u<2?e:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),h(u,s)):d.n=s:d.v=s);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?s:n.call(r,d))!==a)break}catch(t){i=e,u=1,s=t}finally{l=1}}return{value:t,done:f}}}(n,o,i),!0),l}var a={};function u(){}function s(){}function l(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(NT(t={},r,function(){return this}),t),f=l.prototype=u.prototype=Object.create(c);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,NT(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=l,NT(f,"constructor",l),NT(l,"constructor",s),s.displayName="GeneratorFunction",NT(l,o,"GeneratorFunction"),NT(f),NT(f,o,"Generator"),NT(f,r,function(){return this}),NT(f,"toString",function(){return"[object Generator]"}),(IT=function(){return{w:i,m:d}})()}function NT(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}NT=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){NT(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},NT(e,t,n,r)}function MT(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function DT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LT(r.key),r)}}function LT(e){var t=function(e){if("object"!=RT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=RT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==RT(t)?t:t+""}var FT=window.localStorage,UT="neo4j.nvl.sTid",BT=!1,zT=function(){return e=function e(){var t,n,r;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t=this,r=void 0,(n=LT(n="analytics"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;var o=new _T.AnalyticsBrowser;this.analytics=o},t=[{key:"init",value:function(e){this.analytics.load({writeKey:e}),this.analytics.addSourceMiddleware(function(e){var t=e.payload,n=e.next,r=t.obj.context.page;void 0!==r&&(r.url="",r.title="",r.search="",r.referrer="",r.path=""),n(t)})}},{key:"trackEvent",value:(n=IT().m(function e(t){var n;return IT().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.ready();case 1:n="".concat(t.eventPrefix?t.eventPrefix:"NVL_core","-").concat(t.event),this.analytics.track(n,t.properties).catch(function(e){I_.warn("TRACKING: Event tracking is failed. err: ".concat(e))});case 2:return e.a(2)}},e,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){MT(i,r,o,a,u,"next",e)}function u(e){MT(i,r,o,a,u,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)})},{key:"identify",value:function(){if(!BT){var e=this.getSegmentTrackingId();this.analytics.identify(e).catch(function(e){I_.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(e))}),BT=!0}}},{key:"loadSavedSegmentId",value:function(){try{var e=FT.getItem(UT);return"string"==typeof e?e:null}catch(e){return I_.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(e)),null}}},{key:"getSegmentTrackingId",value:function(){var e=this.loadSavedSegmentId(),t=null!=e?e:jT();return this.saveTrackingId(t),t}},{key:"saveTrackingId",value:function(e){FT.setItem(UT,e)}},{key:"ready",value:function(){return this.analytics.ready().catch(function(e){I_.debug("TRACKING: segment track instance not ready. err: ".concat(e))})}}],t&&DT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function VT(e){return VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VT(e)}function WT(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=HT(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function HT(e,t){if(e){if("string"==typeof e)return qT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qT(e,t):void 0}}function qT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(t){ZT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XT(e,t,n){KT(e,t),t.set(e,n)}function KT(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZT(e,t,n){return(t=$T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $T(e){var t=function(e){if("object"!=VT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=VT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==VT(t)?t:t+""}function QT(e,t){return e.get(eC(e,t))}function JT(e,t,n){return e.set(eC(e,t),n),n}function eC(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var tC=new WeakMap,nC=new WeakMap,rC=new WeakMap,oC=new WeakMap,iC=new WeakMap,aC=new WeakMap,uC=new WeakSet,sC=function(){return e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){KT(e,t),t.add(e)}(this,uC),ZT(this,"performance",void 0),XT(this,tC,void 0),XT(this,nC,void 0),XT(this,rC,void 0),XT(this,oC,void 0),XT(this,iC,void 0),XT(this,aC,void 0),o.disableTelemetry||(JT(aC,this,new zT),QT(aC,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),QT(aC,this).identify()),eC(uC,this,cC).call(this,o),JT(tC,this,new ab(i)),this.performance=new GP,JT(oC,this,o),JT(iC,this,t),this.checkWebGLCompatibility(),eC(uC,this,lC).call(this,n,r,o)},t=[{key:"restart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getNodePositions(),r=QT(nC,this),o=r.zoom,i=r.layout,a=r.layoutOptions,u=r.nodes,s=r.rels;QT(rC,this).destroy(),Object.assign(QT(oC,this),e),eC(uC,this,lC).call(this,u.items,s.items,QT(oC,this)),this.setZoom(o),this.setLayout(i),this.setLayoutOptions(a),this.addAndUpdateElementsInGraph(u.items,s.items),t&&this.setNodePositions(n)}},{key:"addAndUpdateElementsInGraph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];eC(uC,this,hC).call(this,e),eC(uC,this,pC).call(this,t,e);var n={added:!1,updated:!1};QT(nC,this).nodes.update(e,YT({},n)),QT(nC,this).rels.update(t,YT({},n)),QT(nC,this).nodes.add(e,YT({},n)),QT(nC,this).rels.add(t,YT({},n)),QT(nC,this).setGraphUpdated(),QT(rC,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var e=this;return $m(QT(nC,this).nodes.items).filter(function(e){return e.selected}).map(function(t){return YT(YT({},t),QT(nC,e).nodes.idToPosition[t.id])})}},{key:"getSelectedRelationships",value:function(){return $m(QT(nC,this).rels.items).filter(function(e){return e.selected})}},{key:"updateElementsInGraph",value:function(e,t){var n=this,r={added:!1,updated:!1},o=e.filter(function(e){return void 0!==QT(nC,n).nodes.idToItem[e.id]}),i=t.filter(function(e){return void 0!==QT(nC,n).rels.idToItem[e.id]});eC(uC,this,hC).call(this,o),eC(uC,this,pC).call(this,i,e),QT(nC,this).nodes.update(o,YT({},r)),QT(nC,this).rels.update(i,YT({},r)),QT(rC,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(e,t){eC(uC,this,hC).call(this,e),eC(uC,this,pC).call(this,t,e);var n={added:!1,updated:!1};QT(nC,this).nodes.add(e,YT({},n)),QT(nC,this).rels.add(t,YT({},n)),QT(rC,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(e){if(Array.isArray(e)&&!(0,Bv.isEmpty)(e)){var t,n={},r=WT(e);try{for(r.s();!(t=r.n()).done;)n[t.value]=!0}catch(e){r.e(e)}finally{r.f()}var o,i=[],a=WT(QT(nC,this).rels.items);try{for(a.s();!(o=a.n()).done;){var u=o.value;!0!==n[u.from]&&!0!==n[u.to]||i.push(u.id)}}catch(e){a.e(e)}finally{a.f()}i.length>0&&eC(uC,this,dC).call(this,i),eC(uC,this,fC).call(this,e),QT(nC,this).setGraphUpdated(),QT(rC,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(e){Array.isArray(e)&&!(0,Bv.isEmpty)(e)&&(eC(uC,this,dC).call(this,e),QT(nC,this).setGraphUpdated(),QT(rC,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return QT(rC,this).dumpNodes()}},{key:"getRelationships",value:function(){return QT(rC,this).dumpRelationships()}},{key:"getNodeById",value:function(e){return QT(nC,this).nodes.idToItem[e]}},{key:"getRelationshipById",value:function(e){return QT(nC,this).rels.idToItem[e]}},{key:"getPositionById",value:function(e){return QT(nC,this).nodes.idToPosition[e]}},{key:"getCurrentOptions",value:function(){return QT(oC,this)}},{key:"destroy",value:function(){QT(rC,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(QT(nC,this).nodes.items.map(function(e){return YT(YT({},e),{},{selected:!1})}),QT(nC,this).rels.items.map(function(e){return YT(YT({},e),{},{selected:!1})}))}},{key:"fit",value:function(e,t){QT(rC,this).fit(e,t)}},{key:"resetZoom",value:function(){QT(rC,this).resetZoom()}},{key:"setRenderer",value:function(e){QT(rC,this).setRenderer(e)}},{key:"setDisableWebGL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];QT(oC,this).disableWebGL!==e&&(QT(oC,this).disableWebGL=e,this.restart())}},{key:"pinNode",value:function(e){QT(nC,this).nodes.update([{id:e,pinned:!0}],{})}},{key:"unPinNode",value:function(e){QT(nC,this).nodes.update(e.map(function(e){return{id:e,pinned:!1}}),{})}},{key:"setLayout",value:function(e){QT(nC,this).setLayout(e)}},{key:"setLayoutOptions",value:function(e){QT(nC,this).setLayoutOptions(e)}},{key:"getNodesOnScreen",value:function(){return QT(rC,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return QT(rC,this).getNodePositions()}},{key:"setNodePositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];QT(rC,this).setNodePositions(e,t)}},{key:"isLayoutMoving",value:function(){return QT(rC,this).isLayoutMoving()}},{key:"saveToFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};QT(rC,this).saveToFile(e)}},{key:"getImageDataUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return QT(rC,this).getImageDataURL(e)}},{key:"saveFullGraphToLargeFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};QT(rC,this).saveFullGraphToLargeFile(e)}},{key:"setZoom",value:function(e){QT(rC,this).setZoomLevel(e)}},{key:"setPan",value:function(e,t){QT(rC,this).setPanCoordinates(e,t)}},{key:"setZoomAndPan",value:function(e,t,n){QT(rC,this).setZoomAndPan(e,t,n)}},{key:"getScale",value:function(){return QT(rC,this).getScale()}},{key:"getPan",value:function(){return QT(rC,this).getPan()}},{key:"getHits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["node","relationship"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{hitNodeMarginWidth:0},r=QT(nC,this),o=r.zoom,i=r.panX,a=r.panY,u=r.webGLVisible,s=PS(e,QT(iC,this),o,i,a),l=s.x,c=s.y,f=u?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[],u=n.nodes,s=n.rels;return r.includes("node")&&i.push.apply(i,$S(function(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[],a=QS(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var u=function(){var a,u=n.value,s=r[u.id];if(void 0===(null==s?void 0:s.x)||void 0===s.y)return 1;var l=(null!==(a=u.size)&&void 0!==a?a:Jb)*l_(),c={x:s.x-e,y:s.y-t},f=Math.pow(l,2),d=Math.pow(l+o,2),h=Math.pow(c.x,2)+Math.pow(c.y,2),p=Math.sqrt(h);if(h<d){var v=i.findIndex(function(e){return e.distance>p});i.splice(-1!==v?v:i.length,0,{data:u,targetCoordinates:{x:s.x,y:s.y},pointerCoordinates:{x:e,y:t},distanceVector:c,distance:p,insideNode:h<f})}};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}return i}(e,t,u.items,u.idToPosition,o.hitNodeMarginWidth))),r.includes("relationship")&&a.push.apply(a,$S(function(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],i={},a=QS(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var u=function(){var a=n.value,u=a.from,s=a.to;if(void 0===i["".concat(u,".").concat(s)]){var l=r[u],c=r[s];if(void 0===(null==l?void 0:l.x)||void 0===l.y)return 0;if(void 0===(null==c?void 0:c.x)||void 0===c.y)return 0;var f=bx({x:l.x,y:l.y},{x:c.x,y:c.y},{x:e,y:t});if(f<=tP){var d=o.findIndex(function(e){return e.distance>f});o.splice(-1!==d?d:o.length,0,{data:a,fromTargetCoordinates:{x:l.x,y:l.y},toTargetCoordinates:{x:c.x,y:c.y},pointerCoordinates:{x:e,y:t},distance:f})}i["".concat(u,".").concat(s)]=1,i["".concat(s,".").concat(u)]=1}};for(a.s();!(n=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}return o}(e,t,s.items,u.idToPosition))),{nodes:i,relationships:a}}(l,c,QT(nC,this),t,n):function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[];return r.includes("node")&&i.push.apply(i,$S(n.getCanvasNodesAt({x:e,y:t},o.hitNodeMarginWidth))),r.includes("relationship")&&a.push.apply(a,$S(n.getCanvasRelsAt({x:e,y:t}))),{nodes:i,relationships:a}}(l,c,QT(rC,this),t,n);return YT(YT({},e),{},{nvlTargets:f})}},{key:"getContainer",value:function(){return QT(iC,this)}},{key:"checkWebGLCompatibility",value:function(){var e=QT(oC,this).disableWebGL;if(void 0===e||!e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas");try{return Boolean(void 0!==window.WebGLRenderingContext&&(null!==e.getContext("webgl")||null!==e.getContext("experimental-webgl")))}catch(e){return!1}}();if(!t){if(void 0!==e)throw new Ow("Could not initialize WebGL");QT(oC,this).renderer=hO,I_.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}void 0===e&&(QT(oC,this).disableWebGL=!t)}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$T(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function lC(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JT(nC,this,function(e){var t=e.minZoom,n=e.maxZoom,r=e.allowDynamicMinZoom,o=void 0===r||r,i=e.layout,a=e.layoutOptions,u=e.styling,s=void 0===u?{}:u,l=e.panX,c=void 0===l?0:l,f=e.panY,d=void 0===f?0:f,h=e.initialZoom,p=e.renderer,v=void 0===p?hO:p,y=e.disableWebGL,g=void 0!==y&&y,m=e.disableWebWorkers,b=void 0!==m&&m,_=e.disableTelemetry,w=void 0!==_&&_;Ty(!0),Qm.isolateGlobalState();var O=(0,Bv.isNil)(t)?.075:t,E=(0,Bv.isNil)(n)?10:n,x=function(e){var t=e.nodeDefaultBorderColor,n=e.selectedBorderColor,r=e.disabledItemColor,o=e.disabledItemFontColor,i=e.selectedInnerBorderColor,a=e.dropShadowColor,u=e.defaultNodeColor,s=e.defaultRelationshipColor,l=e.minimapViewportBoxColor,c=sx({},tx.default),f=sx({},tx.selected),d=sx({},nx.selected),h={color:n_,fontColor:"#DDDDDD"},p=t_,v=e_;return fx(i,function(e){f.rings[0].color=e,d.rings[0].color=e},"selectedInnerBorderColor"),fx(n,function(e){f.rings[1].color=e,d.rings[1].color=e},"selectedBorderColor"),fx(t,function(e){var t;c.rings=[{color:e,widthFactor:.025}],f.rings=[{color:e,widthFactor:.025}].concat(function(e){if(Array.isArray(e))return ax(e)}(t=f.rings)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ax(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ax(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},"nodeDefaultBorderColor"),fx(a,function(e){f.shadow.color=e,d.shadow.color=e},"dropShadowColor"),fx(r,function(e){h.color=e},"disabledItemColor"),fx(o,function(e){h.fontColor=e},"disabledItemFontColor"),fx(u,function(e){v=e},"defaultNodeColor"),fx(s,function(e){p=e},"defaultRelationshipColor"),{nodeBorderStyles:{default:c,selected:f},relationshipBorderStyles:{default:nx.default,selected:d},disabledItemStyles:h,defaultNodeColor:v,defaultRelationshipColor:p,minimapViewportBoxColor:l||a_}}(s),S=x.nodeBorderStyles,P=x.relationshipBorderStyles,T=x.disabledItemStyles,C=x.defaultNodeColor,k=x.defaultRelationshipColor,A=x.minimapViewportBoxColor,j=bg({zoom:h||rx,minimapZoom:rx,defaultZoomLevel:rx,panX:c,panY:d,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:ox,forceWebGL:!1,renderer:v,disableWebGL:g,disableWebWorkers:b,disableTelemetry:w,fitMovement:0,layout:i,layoutOptions:a,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:S,relationshipBorderStyles:P,disabledItemStyles:T,defaultNodeColor:C,defaultRelationshipColor:k,minimapViewportBoxColor:A,get minZoom(){return O},get maxZoom(){return E},get minMinimapZoom(){return 0},get maxMinimapZoom(){return.2},get webGLVisible(){var e=this.fitMovement>50;return"webgl"===this.renderer||e},nodes:iT(),rels:iT(),graphUpdates:0,waypoints:{data:bg.shallow({}),counter:0},setGraphUpdated:Dy(function(){this.graphUpdates+=1}),setRenderer:Dy(function(e){Dy(function(){this.graphUpdates+=1}),this.renderer=e}),setWaypoints:Dy(function(e){this.waypoints.data=e,this.waypoints.counter+=1}),setZoomPan:Dy(function(e,t,n,r){if(o){var i=Object.values(this.nodes.idToPosition),a=cP(i,O,E,r,e,this.zoom);a!==this.zoom&&(this.zoom=a,e===a&&(this.panX=t,this.panY=n))}else{var u=lP(e,this.zoom,O,E);u!==this.zoom&&(this.zoom=u,this.panX=t,this.panY=n)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:Dy(function(e,t){if(o){var n=Object.values(this.nodes.idToPosition);this.zoom=cP(n,O,E,t,e,this.zoom)}else this.zoom=lP(e,this.zoom,O,E);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:Dy(function(e,t){this.panX=e,this.panY=t,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:Dy(function(e){this.layout=e}),setLayoutOptions:Dy(function(e){this.layoutOptions=e}),fitNodes:Dy(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fitNodeIds=(0,Bv.intersection)(e,(0,Bv.map)(this.nodes.items,"id")),this.zoomOptions=sT(sT({},ox),t)}),setZoomReset:Dy(function(){this.resetZoom=!0}),clearFit:Dy(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=ox}),clearReset:Dy(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:Dy(function(e,t,n,r){var i;if(this.fitMovement=Math.abs(e-this.zoom)+Math.abs(t-this.panX)+Math.abs(n-this.panY),o){var a=Object.values(this.nodes.idToPosition);i=cP(a,O,E,r,e,this.zoom)}else i=lP(e,this.zoom,O,E);this.zoom=i,this.panX=t,this.panY=n}),updateMinimapZoomToFit:Dy(function(e,t,n){this.minimapZoom=e,this.minimapPanX=t,this.minimapPanY=n}),autorun:Yy,reaction:Xy});return j}(o)),o.minimapContainer instanceof HTMLElement||delete o.minimapContainer,JT(rC,this,new LP(QT(nC,this),QT(iC,this),o)),this.addAndUpdateElementsInGraph(n,r),QT(rC,this).on("restart",this.restart.bind(this));var i,a,u=WT((i=QT(tC,this).callbacks,Object.entries(i)));try{var s=function(){var e,n=function(e){if(Array.isArray(e))return e}(e=a.value)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,i,a=[],u=!0,s=!1;try{for(o=(t=t.call(e)).next,0;!(u=(n=o.call(t)).done)&&(a.push(n.value),2!==a.length);u=!0);}catch(e){s=!0,r=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw r}}return a}}(e)||HT(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];void 0!==o&&QT(rC,t).on(r,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.apply(QT(tC,t),n)})};for(u.s();!(a=u.n()).done;)s()}catch(e){u.e(e)}finally{u.f()}setTimeout(function(){QT(rC,t).callIfRegistered("onInitialization")});var l=null===(e=QT(iC,this))||void 0===e?void 0:e.getAttribute("id");QT(oC,this).disableTelemetry||setTimeout(function(){QT(rC,t).isDestroyed()||QT(aC,t).trackEvent({eventPrefix:c_.includes(l)?l:null,event:"instantiated",properties:{}})},200)}function cC(e){var t,n=e.logging;void 0!==(null==n?void 0:n.level)&&(t=n.level,I_.setLevel(t),function(e,t){var n=e.methodFactory;e.methodFactory=function(e,r,o){var i=n(e,r,o);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];"function"==typeof t.logger?t.logger.apply(t,[e].concat(r)):i.apply(void 0,r)}},e.setLevel(e.getLevel())}(I_,n))}function fC(e){var t=Array.isArray(e)?e:[e],n=QT(nC,this),r=n.nodes,o=n.fitNodeIds;r.remove(t,{removed:!1}),o.length&&void 0!==t.find(function(e){return o.includes(e)})&&QT(nC,this).fitNodes(o.filter(function(e){return!t.includes(e)}))}function dC(e){var t=Array.isArray(e)?e:[e];QT(nC,this).rels.remove(t,{removed:!1})}function hC(e){var t=e.find(function(e){return!function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0}(e)});if(t){var n="";throw/^\d+$/.test(t.id)||(n=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(t),".").concat(n))}}function pC(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="",r=null,o=QT(nC,this),i=o.nodes,a=o.rels,u={},s=0;s<t.length;s++){var l=t[s];u[l.id]=l}for(var c=YT(YT({},i.idToItem),u),f=a.idToItem,d=0;d<e.length;d++){var h=e[d];if(!cT(h)){r=h,/^\d+$/.test(h.id)&&(n=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(void 0===f[h.id]){var p=c[h.from],v=c[h.to];if(void 0===p){n=' Node with id "'.concat(h.from,'" does not exist.'),r=h;break}if(void 0===v){n=' Node with id "'.concat(h.to,'" does not exist.'),r=h;break}}}if(null!==r)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(r),".").concat(n))}const vC=sC;var yC=n(53536);const gC=(e,t)=>{const n=(0,yC.keyBy)(e,"id"),r=(0,yC.keyBy)(t,"id"),o=(0,yC.sortBy)((0,yC.keys)(n)),i=(0,yC.sortBy)((0,yC.keys)(r)),a=[],u=[],s=[];let l=0,c=0;for(;l<o.length&&c<i.length;){const e=o[l],t=i[c];void 0!==e&&void 0!==t&&(e===t?((0,yC.isEqual)(n[e],r[t])||s.push(t),l+=1,c+=1):e<t?(u.push(e),l+=1):(a.push(t),c+=1))}for(;l<o.length;){const e=o[l];void 0!==e&&(u.push(e),l+=1)}for(;c<i.length;){const e=i[c];void 0!==e&&(a.push(e),c+=1)}return{added:a.map(e=>r[e]).filter(e=>!(0,yC.isNil)(e)),removed:u.map(e=>n[e]).filter(e=>!(0,yC.isNil)(e)),updated:s.map(e=>r[e]).filter(e=>!(0,yC.isNil)(e))}},mC=e=>{const n=(0,t.useRef)();return((e,t)=>(0,yC.isEqual)(e,t))(e,n.current)||(n.current=e),n.current},bC=["nodes","rels","layout","layoutOptions","nvlCallbacks","nvlOptions","positions","zoom","pan","onInitializationError"],_C=(0,t.memo)((0,t.forwardRef)((e,n)=>{let{nodes:r,rels:o,layout:i,layoutOptions:a,nvlCallbacks:u={},nvlOptions:l={},positions:c=[],zoom:h,pan:p,onInitializationError:v}=e,y=f(e,bC);const g=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>Object.getOwnPropertyNames(vC.prototype).reduce((e,t)=>s(s({},e),{},{[t]:function(){return null===g.current?null:g.current[t](...arguments)}}),{}));const m=(0,t.useRef)(null),[b,_]=(0,t.useState)(r),[w,O]=(0,t.useState)(o);return(0,t.useEffect)(()=>{let e=null;if(null!==m.current&&null===g.current){const t=s(s({},l),{},{layoutOptions:a});void 0!==i&&(t.layout=i);try{e=new vC(m.current,b,w,t,u),g.current=e,O(o),_(r)}catch(om){if("function"!==typeof v)throw om;v(om)}}return()=>{var t;null===(t=e)||void 0===t||t.destroy(),g.current=null}},[]),(0,t.useEffect)(()=>{if(null===g.current)return;const e=gC(b,r),t=((e,t)=>{const n=(0,yC.keyBy)(e,"id");return t.map(e=>{const t=n[e.id];return void 0===t?null:(0,yC.transform)(e,(e,n,r)=>{"id"!==r&&n===t[r]||Object.assign(e,{[r]:n})})}).filter(e=>null!==e&&Object.keys(e).length>1)})(b,r),n=gC(w,o);if(0===e.added.length&&0===e.removed.length&&0===t.length&&0===n.added.length&&0===n.removed.length&&0===n.updated.length)return;O(o),_(r);const i=[...e.added,...t],a=[...n.added,...n.updated];g.current.addAndUpdateElementsInGraph(i,a);const u=n.removed.map(e=>e.id),s=e.removed.map(e=>e.id);g.current.removeRelationshipsWithIds(u),g.current.removeNodesWithIds(s)},[b,w,r,o]),(0,t.useEffect)(()=>{const e=null!==i&&void 0!==i?i:l.layout;null!==g.current&&void 0!==e&&g.current.setLayout(e)},[i,l.layout]),((e,n)=>{(0,t.useEffect)(e,n.map(mC))})(()=>{const e=null!==a&&void 0!==a?a:null===l||void 0===l?void 0:l.layoutOptions;null!==g.current&&void 0!==e&&g.current.setLayoutOptions(e)},[a,l.layoutOptions]),(0,t.useEffect)(()=>{null!==g.current&&void 0!==l.renderer&&g.current.setRenderer(l.renderer)},[l.renderer]),(0,t.useEffect)(()=>{null!==g.current&&void 0!==l.disableWebGL&&g.current.setDisableWebGL(l.disableWebGL)},[l.disableWebGL]),(0,t.useEffect)(()=>{null!==g.current&&0!==c.length&&g.current.setNodePositions(c)},[c]),(0,t.useEffect)(()=>{null!==g.current&&(void 0!==h&&void 0!==p?g.current.setZoomAndPan(h,p.x,p.y):void 0!==h?g.current.setZoom(h):void 0!==p&&g.current.setPan(p.x,p.y))},[h,p]),(0,d.jsx)("div",s({id:"NVL_basic-wrapper",ref:m,style:{height:"100%",outline:"0"}},y))})),wC=10,OC=3,EC="#a9a9a9",xC="#e0e0e0",SC=[10,15],PC=.5;class TC{constructor(e){a(this,"ctx",void 0),a(this,"canvas",void 0),a(this,"removeResizeListener",void 0);const t=document.createElement("canvas");t.style.position="absolute",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.touchAction="none",null===e||void 0===e||e.appendChild(t);const n=t.getContext("2d");this.ctx=n,this.canvas=t;const r=()=>{this.fixCanvasSize(t)};null===e||void 0===e||e.addEventListener("resize",r),this.removeResizeListener=()=>null===e||void 0===e?void 0:e.removeEventListener("resize",r),this.fixCanvasSize(t)}fixCanvasSize(e){const t=e.parentElement;if(!t)return;const n=t.getBoundingClientRect(),{width:r}=n,{height:o}=n,i=window.devicePixelRatio||1;e.width=r*i,e.height=o*i,e.style.width="".concat(r,"px"),e.style.height="".concat(o,"px")}drawBox(e,t,n,r){const{ctx:o}=this;if(null===o)return;this.clear(),o.save(),o.beginPath(),o.rect(e,t,n-e,r-t),o.closePath(),o.strokeStyle=EC;const i=window.devicePixelRatio||1;o.lineWidth=OC*i,o.fillStyle=xC,o.globalAlpha=PC,o.setLineDash(SC),o.stroke(),o.fill(),o.restore()}drawLasso(e,t,n){const{ctx:r}=this;if(null===r)return;r.save(),this.clear(),r.beginPath();let o=0;for(const a of e){const{x:e,y:t}=a;0===o?r.moveTo(e,t):r.lineTo(e,t),o+=1}const i=window.devicePixelRatio||1;r.strokeStyle=EC,r.setLineDash(SC),r.lineWidth=OC*i,r.fillStyle=xC,r.globalAlpha=PC,t&&r.stroke(),n&&r.fill(),r.restore()}clear(){const{ctx:e,canvas:t}=this;if(null===e)return;const n=t.getBoundingClientRect(),r=window.devicePixelRatio||1;e.clearRect(0,0,n.width*r,n.height*r)}destroy(){const{canvas:e}=this;this.removeResizeListener(),e.remove()}}class CC{constructor(e,t){var n=this;a(this,"nvl",void 0),a(this,"options",void 0),a(this,"container",void 0),a(this,"callbackMap",void 0),a(this,"addEventListener",(e,t,n)=>{var r;null===(r=this.container)||void 0===r||r.addEventListener(e,t,n)}),a(this,"removeEventListener",(e,t,n)=>{var r;null===(r=this.container)||void 0===r||r.removeEventListener(e,t,n)}),a(this,"callCallbackIfRegistered",function(e){const t=n.callbackMap.get(e);if("function"===typeof t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t(...o)}}),a(this,"updateCallback",(e,t)=>{this.callbackMap.set(e,t)}),a(this,"removeCallback",e=>{this.callbackMap.delete(e)}),a(this,"toggleGlobalTextSelection",(e,t)=>{e?(document.body.style.removeProperty("user-select"),t&&document.body.removeEventListener("mouseup",t)):(document.body.style.setProperty("user-select","none","important"),t&&document.body.addEventListener("mouseup",t))}),this.nvl=e,this.options=t,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}}const kC=e=>Math.floor(Math.random()*Math.pow(10,e)).toString(),AC=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);if(n>10||r>10)return!0;return Math.pow(n,2)+Math.pow(r,2)>10},jC=(e,t)=>{const n=e.getBoundingClientRect(),r=window.devicePixelRatio||1;return{x:(t.clientX-n.left)*r,y:(t.clientY-n.top)*r}},RC=(e,t)=>{const n=e.getScale(),r=e.getPan(),o=e.getContainer(),{width:i,height:a}=o.getBoundingClientRect(),u=window.devicePixelRatio||1,s=t.x-.5*i*u,l=t.y-.5*a*u;return{x:r.x+s/n,y:r.y+l/n}};class IC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnRelease:!1}),a(this,"mousePosition",{x:0,y:0}),a(this,"startWorldPosition",{x:0,y:0}),a(this,"overlayRenderer",void 0),a(this,"isBoxSelecting",!1),a(this,"handleMouseDown",e=>{0===e.button?this.turnOnBoxSelect(e):this.isBoxSelecting=!1}),a(this,"handleDrag",e=>{if(this.isBoxSelecting){const t=jC(this.containerInstance,e);this.overlayRenderer.drawBox(this.mousePosition.x,this.mousePosition.y,t.x,t.y)}else 1===e.buttons&&this.turnOnBoxSelect(e)}),a(this,"getHitsInBox",(e,t)=>{const n=(e,t,n)=>{const r=Math.min(t.x,n.x),o=Math.max(t.x,n.x),i=Math.min(t.y,n.y),a=Math.max(t.y,n.y);return e.x>=r&&e.x<=o&&e.y>=i&&e.y<=a},r=this.nvlInstance.getNodePositions(),o=new Set;for(const u of r)n(u,e,t)&&o.add(u.id);const i=this.nvlInstance.getRelationships(),a=[];for(const u of i)o.has(u.from)&&o.has(u.to)&&a.push(u);return{nodes:Array.from(o).map(e=>this.nvlInstance.getNodeById(e)),rels:a}}),a(this,"endBoxSelect",e=>{if(!this.isBoxSelecting)return;this.isBoxSelecting=!1,this.overlayRenderer.clear();const t=jC(this.containerInstance,e),n=RC(this.nvlInstance,t),{nodes:r,rels:o}=this.getHitsInBox(this.startWorldPosition,n);!0===this.currentOptions.selectOnRelease&&this.nvlInstance.updateElementsInGraph(r.map(e=>({id:e.id,selected:!0})),o.map(e=>({id:e.id,selected:!0}))),this.callCallbackIfRegistered("onBoxSelect",{nodes:r,rels:o},e),this.toggleGlobalTextSelection(!0,this.endBoxSelect)}),this.overlayRenderer=new TC(this.containerInstance),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.endBoxSelect,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.endBoxSelect),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endBoxSelect,!0),this.overlayRenderer.destroy()}turnOnBoxSelect(e){this.mousePosition=jC(this.containerInstance,e),this.startWorldPosition=RC(this.nvlInstance,this.mousePosition);this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:wC}).nvlTargets.nodes.length>0?this.isBoxSelecting=!1:(this.isBoxSelecting=!0,this.toggleGlobalTextSelection(!1,this.endBoxSelect),this.callCallbackIfRegistered("onBoxStarted",e),!0===this.currentOptions.selectOnRelease&&this.nvlInstance.deselectAll())}}class NC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnClick:!1}),a(this,"moved",!1),a(this,"mousePosition",{x:0,y:0}),a(this,"handleMouseDown",e=>{this.mousePosition={x:e.clientX,y:e.clientY}}),a(this,"handleRightClick",e=>{e.preventDefault();const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;var o;if(0!==n.length||0!==r.length){if(n.length>0)this.callCallbackIfRegistered("onNodeRightClick",null===(o=n[0])||void 0===o?void 0:o.data,t,e);else if(r.length>0){var i;this.callCallbackIfRegistered("onRelationshipRightClick",null===(i=r[0])||void 0===i?void 0:i.data,t,e)}}else this.callCallbackIfRegistered("onCanvasRightClick",e)}),a(this,"handleDoubleClick",e=>{const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;var o;if(0!==n.length||0!==r.length){if(n.length>0)this.callCallbackIfRegistered("onNodeDoubleClick",null===(o=n[0])||void 0===o?void 0:o.data,t,e);else if(r.length>0){var i;this.callCallbackIfRegistered("onRelationshipDoubleClick",null===(i=r[0])||void 0===i?void 0:i.data,t,e)}}else this.callCallbackIfRegistered("onCanvasDoubleClick",e)}),a(this,"handleClick",e=>{if(AC(e,this.mousePosition)||0!==e.button)return;const{nvlTargets:t}=this.nvlInstance.getHits(e),{nodes:n=[],relationships:r=[]}=t;if(0===n.length&&0===r.length)return!0===this.currentOptions.selectOnClick&&this.nvlInstance.deselectAll(),void this.callCallbackIfRegistered("onCanvasClick",e);if(n.length>0){var o;const r=n.map(e=>e.data);if(!0===this.currentOptions.selectOnClick){const e=this.nvlInstance.getSelectedNodes(),t=this.nvlInstance.getSelectedRelationships(),n=[...r[0]?[{id:r[0].id,selected:!0}]:[],...e.map(e=>({id:e.id,selected:!1}))],o=t.map(e=>s(s({},e),{},{selected:!1}));this.nvlInstance.updateElementsInGraph(n,o)}this.callCallbackIfRegistered("onNodeClick",null===(o=n[0])||void 0===o?void 0:o.data,t,e)}else if(r.length>0){var i;const n=r.map(e=>e.data);if(!0===this.currentOptions.selectOnClick){const e=this.nvlInstance.getSelectedNodes(),t=this.nvlInstance.getSelectedRelationships(),r=e.map(e=>({id:e.id,selected:!1})),o=[...n[0]?[{id:n[0].id,selected:!0}]:[],...t.map(e=>s(s({},e),{},{selected:!1}))];this.nvlInstance.updateElementsInGraph(r,o)}this.callCallbackIfRegistered("onRelationshipClick",null===(i=r[0])||void 0===i?void 0:i.data,t,e)}}),a(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)}),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}}class MC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a(this,"mousePosition",{x:0,y:0}),a(this,"mouseDownNode",null),a(this,"isDragging",!1),a(this,"isDrawing",!1),a(this,"selectedNodes",[]),a(this,"moveSelectedNodes",!1),a(this,"handleMouseDown",e=>{this.mousePosition={x:e.clientX,y:e.clientY};const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:wC}),n=t.nvlTargets.nodes.filter(e=>e.insideNode);if(t.nvlTargets.nodes.filter(e=>!e.insideNode).length>0)this.isDrawing=!0,this.mouseDownNode=null,this.addEventListener("mouseup",this.resetState,{once:!0});else if(n.length>0){var r;this.mouseDownNode=null!==(r=t.nvlTargets.nodes[0])&&void 0!==r?r:null}else this.mouseDownNode=null;this.selectedNodes=this.nvlInstance.getSelectedNodes(),null!==this.mouseDownNode&&this.selectedNodes.map(e=>e.id).includes(this.mouseDownNode.data.id)?this.moveSelectedNodes=!0:this.moveSelectedNodes=!1}),a(this,"handleMouseMove",e=>{if(null===this.mouseDownNode||1!==e.buttons||this.isDrawing)return;if(!AC(e,this.mousePosition))return;this.isDragging||(this.toggleGlobalTextSelection(!1,this.handleBodyMouseUp),this.moveSelectedNodes?this.callCallbackIfRegistered("onDragStart",this.selectedNodes,e):this.callCallbackIfRegistered("onDragStart",[this.mouseDownNode.data],e),this.isDragging=!0);const t=this.nvlInstance.getScale(),n=(e.clientX-this.mousePosition.x)/t*window.devicePixelRatio,r=(e.clientY-this.mousePosition.y)/t*window.devicePixelRatio;this.moveSelectedNodes?(this.nvlInstance.setNodePositions(this.selectedNodes.map(e=>({id:e.id,x:e.x+n,y:e.y+r,pinned:!0})),!0),this.callCallbackIfRegistered("onDrag",this.selectedNodes,e)):(this.nvlInstance.setNodePositions([{id:this.mouseDownNode.data.id,x:this.mouseDownNode.targetCoordinates.x+n,y:this.mouseDownNode.targetCoordinates.y+r,pinned:!0}],!0),this.callCallbackIfRegistered("onDrag",[this.mouseDownNode.data],e))}),a(this,"handleBodyMouseUp",e=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.isDragging&&null!==this.mouseDownNode&&(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragEnd",this.selectedNodes,e):this.callCallbackIfRegistered("onDragEnd",[this.mouseDownNode.data],e)),this.isDragging&&this.resetState()}),a(this,"resetState",()=>{this.isDragging=!1,this.mouseDownNode=null,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1}),a(this,"destroy",()=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.removeEventListener("mousedown",this.handleMouseDown),this.removeEventListener("mousemove",this.handleMouseMove)}),this.addEventListener("mousedown",this.handleMouseDown),this.addEventListener("mousemove",this.handleMouseMove)}}const DC={color:"black",size:25},LC={color:"red",width:1};class FC extends CC{constructor(e){var t,n;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a(this,"isMoved",!1),a(this,"isDrawing",!1),a(this,"isDraggingNode",!1),a(this,"mouseDownNode",void 0),a(this,"newTempTargetNode",null),a(this,"newTempRegularRelationshipToNewTempTargetNode",null),a(this,"newTempRegularRelationshipToExistingNode",null),a(this,"newTempSelfReferredRelationship",null),a(this,"newTargetNodeToAdd",null),a(this,"newRelationshipToAdd",null),a(this,"mouseOutsideOfNvlArea",!1),a(this,"cancelDrawing",()=>{var e,t,n,r,o;this.nvlInstance.removeRelationshipsWithIds([null===(e=this.newTempRegularRelationshipToNewTempTargetNode)||void 0===e?void 0:e.id,null===(t=this.newTempRegularRelationshipToExistingNode)||void 0===t?void 0:t.id,null===(n=this.newTempSelfReferredRelationship)||void 0===n?void 0:n.id].filter(e=>Boolean(e))),this.nvlInstance.removeNodesWithIds(null!==(r=this.newTempTargetNode)&&void 0!==r&&r.id?[null===(o=this.newTempTargetNode)||void 0===o?void 0:o.id]:[]),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1}),a(this,"handleMouseUpGlobal",e=>{this.isDrawing&&this.mouseOutsideOfNvlArea&&this.cancelDrawing()}),a(this,"handleMouseLeaveNvl",()=>{this.mouseOutsideOfNvlArea=!0}),a(this,"handleMouseEnterNvl",()=>{this.mouseOutsideOfNvlArea=!1}),a(this,"handleMouseMove",e=>{if(this.isMoved=!0,this.isDrawing){var t,n,r,o,i;const v=jC(this.containerInstance,e),y=RC(this.nvlInstance,v),g=this.nvlInstance.getHits(e,["node"]),[m]=g.nvlTargets.nodes.filter(e=>{var t;return e.data.id!==(null===(t=this.newTempTargetNode)||void 0===t?void 0:t.id)}),b=m?{id:m.data.id,x:m.targetCoordinates.x,y:m.targetCoordinates.y,size:m.data.size}:void 0,_=kC(13),w=b?null:{id:_,size:null!==(t=null===(n=this.currentOptions.ghostGraphStyling)||void 0===n||null===(n=n.node)||void 0===n?void 0:n.size)&&void 0!==t?t:DC.size,selected:!1,x:y.x,y:y.y},O=kC(13),E=null!==(r=this.mouseDownNode)&&void 0!==r&&r.data?{id:O,from:this.mouseDownNode.data.id,to:b?b.id:_}:null;let{x:x,y:S}=y,P=null!==(o=null===(i=this.currentOptions.ghostGraphStyling)||void 0===i||null===(i=i.node)||void 0===i?void 0:i.size)&&void 0!==o?o:DC.size;var a,u,s,l,c;if(m)if(x=m.targetCoordinates.x,S=m.targetCoordinates.y,P=null!==(a=m.data.size)&&void 0!==a?a:P,m.data.id!==(null===(u=this.mouseDownNode)||void 0===u?void 0:u.data.id)||this.newTempSelfReferredRelationship){if(m.data.id!==(null===(s=this.mouseDownNode)||void 0===s?void 0:s.data.id)&&!this.newTempRegularRelationshipToExistingNode){var f,d;this.nvlInstance.removeRelationshipsWithIds([null===(f=this.newTempSelfReferredRelationship)||void 0===f?void 0:f.id,null===(d=this.newTempRegularRelationshipToNewTempTargetNode)||void 0===d?void 0:d.id].filter(e=>Boolean(e))),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.setNewRegularRelationshipToExistingNode(m.data.id),this.newTempRegularRelationshipToExistingNode&&this.nvlInstance.addElementsToGraph([],[this.newTempRegularRelationshipToExistingNode])}}else this.nvlInstance.removeRelationshipsWithIds([null===(l=this.newTempRegularRelationshipToNewTempTargetNode)||void 0===l?void 0:l.id,null===(c=this.newTempRegularRelationshipToExistingNode)||void 0===c?void 0:c.id].filter(e=>Boolean(e))),this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewSelfReferredRelationship(),this.newTempSelfReferredRelationship&&this.nvlInstance.addElementsToGraph([],[this.newTempSelfReferredRelationship]);else if(!this.newTempRegularRelationshipToNewTempTargetNode){var h,p;this.nvlInstance.removeRelationshipsWithIds([null===(h=this.newTempSelfReferredRelationship)||void 0===h?void 0:h.id,null===(p=this.newTempRegularRelationshipToExistingNode)||void 0===p?void 0:p.id].filter(e=>Boolean(e))),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addElementsToGraph([],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[])}this.newTempTargetNode&&(this.nvlInstance.setNodePositions([{id:this.newTempTargetNode.id,x:x,y:S}]),this.nvlInstance.updateElementsInGraph([{id:this.newTempTargetNode.id,x:x,y:S,size:P}],[])),this.newRelationshipToAdd=E,this.newTargetNodeToAdd=w}else if(!this.isDraggingNode){this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:wC}).nvlTargets.nodes.filter(e=>!e.insideNode);if(t.length>0){const[e]=t;this.callCallbackIfRegistered("onHoverNodeMargin",null===e||void 0===e?void 0:e.data)}else this.callCallbackIfRegistered("onHoverNodeMargin",null)}}),a(this,"handleMouseDown",e=>{this.callCallbackIfRegistered("onHoverNodeMargin",null),this.isMoved=!1,this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const t=this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:wC}),n=t.nvlTargets.nodes.filter(e=>e.insideNode),r=t.nvlTargets.nodes.filter(e=>!e.insideNode),o=n.length>0,i=r.length>0;var a;(o||i)&&(e.preventDefault(),null===(a=this.containerInstance)||void 0===a||a.focus());if(o)this.isDraggingNode=!0,this.isDrawing=!1;else if(i){var u,s,l,c;this.isDrawing=!0,this.isDraggingNode=!1,this.mouseDownNode=r[0];const t=jC(this.containerInstance,e),n=RC(this.nvlInstance,t),o=null!==(u=null===(s=this.currentOptions.ghostGraphStyling)||void 0===s||null===(s=s.node)||void 0===s?void 0:s.color)&&void 0!==u?u:DC.color,i=document.createElement("div");i.style.width="110%",i.style.height="110%",i.style.position="absolute",i.style.left="-5%",i.style.top="-5%",i.style.borderRadius="50%",i.style.backgroundColor=o,this.newTempTargetNode={id:kC(13),size:null!==(l=null===(c=this.currentOptions.ghostGraphStyling)||void 0===c||null===(c=c.node)||void 0===c?void 0:c.size)&&void 0!==l?l:DC.size,selected:!1,x:n.x,y:n.y,html:i},this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addAndUpdateElementsInGraph([this.newTempTargetNode],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[]),this.callCallbackIfRegistered("onDrawStarted",e)}else this.mouseDownNode=void 0,this.isDrawing=!1,this.isDraggingNode=!1}),a(this,"handleMouseUp",e=>{var t,n,r,o,i;this.nvlInstance.removeRelationshipsWithIds([null===(t=this.newTempRegularRelationshipToNewTempTargetNode)||void 0===t?void 0:t.id,null===(n=this.newTempRegularRelationshipToExistingNode)||void 0===n?void 0:n.id,null===(r=this.newTempSelfReferredRelationship)||void 0===r?void 0:r.id].filter(e=>Boolean(e))),this.nvlInstance.removeNodesWithIds(null!==(o=this.newTempTargetNode)&&void 0!==o&&o.id?[null===(i=this.newTempTargetNode)||void 0===i?void 0:i.id]:[]),this.isDrawing&&this.isMoved&&(this.newTargetNodeToAdd&&this.nvlInstance.setNodePositions([this.newTargetNodeToAdd]),this.nvlInstance.addAndUpdateElementsInGraph(this.newTargetNodeToAdd?[{id:this.newTargetNodeToAdd.id}]:[],this.newRelationshipToAdd?[this.newRelationshipToAdd]:[]),this.callCallbackIfRegistered("onDrawEnded",this.newRelationshipToAdd,this.newTargetNodeToAdd,e)),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1}),a(this,"destroy",()=>{var e,t;this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),null===(e=this.containerInstance)||void 0===e||e.removeEventListener("mouseleave",this.handleMouseLeaveNvl),null===(t=this.containerInstance)||void 0===t||t.removeEventListener("mouseenter",this.handleMouseEnterNvl),document.removeEventListener("mouseup",this.handleMouseUpGlobal,!0)}),this.nvlInstance.setLayout("free"),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),null===(t=this.containerInstance)||void 0===t||t.addEventListener("mouseleave",this.handleMouseLeaveNvl),null===(n=this.containerInstance)||void 0===n||n.addEventListener("mouseenter",this.handleMouseEnterNvl),document.addEventListener("mouseup",this.handleMouseUpGlobal,!0)}setNewRegularRelationship(e){var t,n,r,o;return this.mouseDownNode?{id:kC(13),from:this.mouseDownNode.data.id,to:e,color:null!==(t=null===(n=this.currentOptions.ghostGraphStyling)||void 0===n||null===(n=n.relationship)||void 0===n?void 0:n.color)&&void 0!==t?t:LC.color,width:null!==(r=null===(o=this.currentOptions.ghostGraphStyling)||void 0===o||null===(o=o.relationship)||void 0===o?void 0:o.width)&&void 0!==r?r:LC.width}:null}setNewRegularRelationshipToNewTempTargetNode(){this.mouseDownNode&&this.newTempTargetNode&&(this.newTempRegularRelationshipToNewTempTargetNode=this.setNewRegularRelationship(this.newTempTargetNode.id))}setNewRegularRelationshipToExistingNode(e){this.mouseDownNode&&(this.newTempRegularRelationshipToExistingNode=this.setNewRegularRelationship(e))}setNewSelfReferredRelationship(){var e,t,n,r;this.mouseDownNode&&(this.newTempSelfReferredRelationship={id:kC(13),from:this.mouseDownNode.data.id,to:this.mouseDownNode.data.id,color:null!==(e=null===(t=this.currentOptions.ghostGraphStyling)||void 0===t||null===(t=t.relationship)||void 0===t?void 0:t.color)&&void 0!==e?e:LC.color,width:null!==(n=null===(r=this.currentOptions.ghostGraphStyling)||void 0===r||null===(r=r.relationship)||void 0===r?void 0:r.width)&&void 0!==n?n:LC.width})}}class UC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{drawShadowOnHover:!1}),a(this,"currentHoveredElementId",void 0),a(this,"currentHoveredElementIsNode",void 0),a(this,"updates",{nodes:[],relationships:[]}),a(this,"handleHover",e=>{var t;const{nvlTargets:n}=this.nvlInstance.getHits(e),{nodes:r=[],relationships:o=[]}=n,i=null!==(t=r[0])&&void 0!==t?t:o[0],a=null===i||void 0===i?void 0:i.data,u=void 0!==a&&void 0!==r[0],s=void 0===this.currentHoveredElementId&&void 0===a,l=void 0!==(null===a||void 0===a?void 0:a.id)&&this.currentHoveredElementId===a.id&&u===this.currentHoveredElementIsNode;if(s||l)return void this.callCallbackIfRegistered("onHover",a,n,e);if(void 0!==this.currentHoveredElementId&&this.currentHoveredElementId!==(null===a||void 0===a?void 0:a.id)&&this.unHoverCurrentElement(),u)this.updates.nodes.push({id:a.id,hovered:!0}),this.currentHoveredElementId=a.id,this.currentHoveredElementIsNode=!0;else if(void 0!==a){const{id:e}=a;this.updates.relationships.push({id:e,hovered:!0}),this.currentHoveredElementId=a.id,this.currentHoveredElementIsNode=!1}else this.currentHoveredElementId=void 0,this.currentHoveredElementIsNode=void 0;this.callCallbackIfRegistered("onHover",a,n,e),this.updateElementsInNVL(),this.clearUpdates()}),this.addEventListener("mousemove",this.handleHover,!0)}updateElementsInNVL(){if(!0===this.currentOptions.drawShadowOnHover){this.nvlInstance.getNodes().length>0&&this.nvlInstance.updateElementsInGraph(this.updates.nodes,this.updates.relationships)}}clearUpdates(){this.updates.nodes=[],this.updates.relationships=[]}unHoverCurrentElement(){if(void 0===this.currentHoveredElementId)return;const e={id:this.currentHoveredElementId,hovered:!1};!0===this.currentHoveredElementIsNode?this.updates.nodes.push(e):this.updates.relationships.push(s({},e))}destroy(){this.removeEventListener("mousemove",this.handleHover,!0)}}var BC=n(33863),zC=n.n(BC);const VC=(e,t,n,r)=>{const o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0===o)return!1;const i=((e[1]-n[1])*(r[0]-n[0])-(e[0]-n[0])*(r[1]-n[1]))/o,a=((n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]))/o;return i>0&&i<1&&a>0&&a<1},WC=(e,t,n)=>{let r=!1;for(let o=0,i=n.length-1;o<n.length;i=o,o+=1){const a=n[o],u=n[i];if(void 0===a||void 0===u)continue;const{x:s,y:l}=a,{x:c,y:f}=u;l>t!==f>t&&e<(c-s)*(t-l)/(f-l)+s&&(r=!r)}return r};class HC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{selectOnRelease:!1}),a(this,"active",!1),a(this,"points",[]),a(this,"overlayRenderer",void 0),a(this,"startLasso",e=>{this.nvlInstance.getHits(e,["node"],{hitNodeMarginWidth:wC}).nvlTargets.nodes.length>0?this.active=!1:(this.active=!0,this.points=[jC(this.containerInstance,e)],this.toggleGlobalTextSelection(!1,this.endLasso),this.callCallbackIfRegistered("onLassoStarted",e),!0===this.currentOptions.selectOnRelease&&this.nvlInstance.deselectAll())}),a(this,"handleMouseDown",e=>{0!==e.button||this.active||this.startLasso(e)}),a(this,"handleDrag",e=>{if(this.active){const t=this.points[this.points.length-1];if(void 0===t)return;const n=jC(this.containerInstance,e),r=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);(r>10||o>10)&&(this.points.push(n),this.overlayRenderer.drawLasso(this.points,!0,!1))}}),a(this,"handleMouseUp",e=>{this.points.push(jC(this.containerInstance,e)),this.endLasso(e)}),a(this,"getLassoItems",e=>{const t=e.map(e=>RC(this.nvlInstance,e)),n=this.nvlInstance.getNodePositions(),r=new Set;for(const a of n)void 0!==a.x&&void 0!==a.y&&void 0!==a.id&&WC(a.x,a.y,t)&&r.add(a.id);const o=this.nvlInstance.getRelationships(),i=[];for(const a of o)r.has(a.from)&&r.has(a.to)&&i.push(a);return{nodes:Array.from(r).map(e=>this.nvlInstance.getNodeById(e)),rels:i}}),a(this,"endLasso",e=>{if(!this.active)return;this.active=!1,this.toggleGlobalTextSelection(!0,this.endLasso);const t=this.points.map(e=>[e.x,e.y]),n=(e=>{for(let i=0;i<e.length-1;i++)for(let a=i+2;a<e.length;a++){var t,n,r,o;const u=null!==(t=e[i])&&void 0!==t?t:[0,0],s=null!==(n=e[i+1])&&void 0!==n?n:[0,0],l=null!==(r=e[a])&&void 0!==r?r:[0,0],c=null!==(o=e[a<e.length-1?a+1:0])&&void 0!==o?o:[0,0];if(VC(u,s,l,c))return!0}return!1})(t),r=(n?zC()(t,2):t).map(e=>({x:e[0],y:e[1]})).filter(e=>void 0!==e.x&&void 0!==e.y);this.overlayRenderer.drawLasso(r,!1,!0),setTimeout(()=>this.overlayRenderer.clear(),500);const o=this.getLassoItems(r);!0===this.currentOptions.selectOnRelease&&this.nvlInstance.updateElementsInGraph(o.nodes.map(e=>({id:e.id,selected:!0})),o.rels.map(e=>({id:e.id,selected:!0}))),this.callCallbackIfRegistered("onLassoSelect",o,e)}),this.overlayRenderer=new TC(this.containerInstance),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.endLasso),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),this.overlayRenderer.destroy()}}class qC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeNodeMargin:!1}),a(this,"mousePosition",{x:0,y:0}),a(this,"targets",[]),a(this,"shouldPan",!1),a(this,"isPanning",!1),a(this,"updateTargets",(e,t)=>{this.targets=e,this.currentOptions.excludeNodeMargin=t}),a(this,"handleMouseDown",e=>{const t=this.nvlInstance.getHits(e,(0,yC.difference)(["node","relationship"],this.targets),{hitNodeMarginWidth:!0===this.currentOptions.excludeNodeMargin?wC:0});t.nvlTargets.nodes.length>0||t.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.mousePosition={x:e.clientX,y:e.clientY},this.shouldPan=!0)}),a(this,"handleMouseMove",e=>{if(!this.shouldPan||1!==e.buttons)return;this.isPanning||(this.toggleGlobalTextSelection(!1,this.handleMouseUp),this.isPanning=!0);const t=this.nvlInstance.getScale(),{x:n,y:r}=this.nvlInstance.getPan(),o=(e.clientX-this.mousePosition.x)/t*window.devicePixelRatio,i=(e.clientY-this.mousePosition.y)/t*window.devicePixelRatio;this.nvlInstance.setPan(n-o,r-i),this.callCallbackIfRegistered("onPan",{x:n-o,y:r-i},e),this.mousePosition={x:e.clientX,y:e.clientY}}),a(this,"handleMouseUp",()=>{this.isPanning&&(this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.isPanning=!1),this.shouldPan=!1}),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}}class GC extends CC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a(this,"throttledZoom",(0,yC.throttle)(e=>{const t=this.nvlInstance.getScale(),{x:n,y:r}=this.nvlInstance.getPan(),o=e.deltaY/500,i=t-(t>=1?o*Math.pow(t,1):o)*Math.min(1,t),a=((e,t)=>{const n=e.getBoundingClientRect(),r=window.devicePixelRatio||1;return{x:(t.clientX-n.left-.5*n.width)*r,y:(t.clientY-n.top-.5*n.height)*r}})(this.containerInstance,e),u=n+(a.x/t-a.x/i),s=r+(a.y/t-a.y/i);this.nvlInstance.setZoomAndPan(i,u,s),this.callCallbackIfRegistered("onZoom",i,e)},25,{leading:!0})),a(this,"handleWheel",e=>{e.ctrlKey||e.metaKey||(e.preventDefault(),this.throttledZoom(e))}),a(this,"destroy",()=>{this.removeEventListener("wheel",this.handleWheel)}),this.addEventListener("wheel",this.handleWheel)}}const YC=e=>{var t;null===(t=e.current)||void 0===t||t.destroy(),e.current=null},XC=(e,n,r,o,i,a)=>{(0,t.useEffect)(()=>{const t=i.current;(0,yC.isNil)(t)||(0,yC.isNil)(t.getContainer())||(!0===r||"function"===typeof r?((0,yC.isNil)(n.current)&&(n.current=new e(t,a)),"function"===typeof r?n.current.updateCallback(o,r):(0,yC.isNil)(n.current.callbackMap[o])||n.current.removeCallback(o)):!1===r&&YC(n))},[e,r,o,a,n,i])},KC=e=>{let{nvlRef:n,mouseEventCallbacks:r,interactionOptions:o}=e;const i=(0,t.useRef)(null),a=(0,t.useRef)(null),u=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),f=(0,t.useRef)(null),d=(0,t.useRef)(null);return XC(UC,i,r.onHover,"onHover",n,o),XC(NC,a,r.onNodeClick,"onNodeClick",n,o),XC(NC,a,r.onNodeDoubleClick,"onNodeDoubleClick",n,o),XC(NC,a,r.onNodeRightClick,"onNodeRightClick",n,o),XC(NC,a,r.onRelationshipClick,"onRelationshipClick",n,o),XC(NC,a,r.onRelationshipDoubleClick,"onRelationshipDoubleClick",n,o),XC(NC,a,r.onRelationshipRightClick,"onRelationshipRightClick",n,o),XC(NC,a,r.onCanvasClick,"onCanvasClick",n,o),XC(NC,a,r.onCanvasRightClick,"onCanvasRightClick",n,o),XC(qC,u,r.onPan,"onPan",n,o),XC(GC,s,r.onZoom,"onZoom",n,o),XC(MC,l,r.onDrag,"onDrag",n,o),XC(MC,l,r.onDragStart,"onDragStart",n,o),XC(MC,l,r.onDragEnd,"onDragEnd",n,o),XC(FC,c,r.onHoverNodeMargin,"onHoverNodeMargin",n,o),XC(FC,c,r.onDrawStarted,"onDrawStarted",n,o),XC(FC,c,r.onDrawEnded,"onDrawEnded",n,o),XC(IC,f,r.onBoxStarted,"onBoxStarted",n,o),XC(IC,f,r.onBoxSelect,"onBoxSelect",n,o),XC(HC,d,r.onLassoStarted,"onLassoStarted",n,o),XC(HC,d,r.onLassoSelect,"onLassoSelect",n,o),(0,t.useEffect)(()=>()=>{YC(i),YC(a),YC(u),YC(s),YC(l),YC(c),YC(f),YC(d)},[]),null},ZC=["nodes","rels","layout","layoutOptions","onInitializationError","mouseEventCallbacks","nvlCallbacks","nvlOptions","interactionOptions"],$C={selectOnClick:!1,drawShadowOnHover:!0,selectOnRelease:!1,excludeNodeMargin:!0},QC=(0,t.memo)((0,t.forwardRef)((e,n)=>{let{nodes:r,rels:o,layout:i,layoutOptions:a,onInitializationError:u,mouseEventCallbacks:l={},nvlCallbacks:c={},nvlOptions:h={},interactionOptions:p=$C}=e,v=f(e,ZC);const y=(0,t.useRef)(null),g=null!==n&&void 0!==n?n:y,[m,b]=(0,t.useState)(!1),_=(0,t.useCallback)(()=>{b(!0)},[]),w=(0,t.useCallback)(e=>{b(!1),u&&u(e)},[u]),O=m&&null!==g.current;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(_C,s({ref:g,nodes:r,id:"NVL_interactive-wrapper",rels:o,nvlOptions:h,nvlCallbacks:s(s({},c),{},{onInitialization:()=>{void 0!==c.onInitialization&&c.onInitialization(),_()}}),layout:i,layoutOptions:a,onInitializationError:w},v)),O&&(0,d.jsx)(KC,{nvlRef:g,mouseEventCallbacks:l,interactionOptions:p})]})})),JC=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)([]),[i,a]=(0,t.useState)(50),[u,l]=(0,t.useState)(null),[f,h]=(0,t.useState)(null),[p,v]=(0,t.useState)({x:0,y:0}),y=(0,t.useRef)(),g=async e=>{const t=c().driver("neo4j+s://ee107cd1.databases.neo4j.io",c().auth.basic("neo4j","ygU9xdc1Qyxhv5UEDl1FhKiydrmvhFMt4xylEvB1xgo")),r=t.session();try{const t=await r.run("\n        MATCH (a)-[r]->(b)\n        RETURN a, r, b\n        LIMIT $limit\n        ",{limit:c().int(e)}),i=new Map,a=[];t.records.forEach(e=>{const t=e.get("a"),n=e.get("b"),r=e.get("r");i.set(t.identity.toString(),{id:t.identity.toString(),label:t.labels[0],properties:t.properties}),i.set(n.identity.toString(),{id:n.identity.toString(),label:n.labels[0],properties:n.properties}),a.push({id:r.identity.toString(),from:t.identity.toString(),to:n.identity.toString(),type:r.type})}),n(Array.from(i.values())),o(a)}catch(i){console.error("Error fetching graph:",i)}finally{await r.close(),await t.close()}};(0,t.useEffect)(()=>{g(i)},[i]);const m={onNodeClick:(e,t,n)=>{l(e),h(e.id),v({x:n.pageX,y:n.pageY})},onZoom:!0,onPan:!0},b=e.map(e=>s(s({},e),{},{selected:e.id===f,color:e.id===f?"#ee9878":"#f4e216"}));return(0,d.jsxs)("div",{style:{width:"100%",height:"100%",position:"fixed"},children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"10px",alignItems:"center"},children:[(0,d.jsx)("input",{type:"number",value:i,onChange:e=>a(parseInt(e.target.value||"0",10)),style:{width:"80px",padding:"6px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,d.jsx)("button",{onClick:()=>g(i),style:{padding:"6px 14px",borderRadius:"6px",border:"none",backgroundColor:"#6969cc",color:"white",cursor:"pointer"},children:"Load Graph"})]}),(0,d.jsxs)("div",{ref:y,style:{width:"100%",height:"calc(100vh - 80px)",borderTop:"1px solid #ddd",overflow:"hidden",cursor:"pointer"},children:[(0,d.jsx)(QC,{nodes:b,rels:r,mouseEventCallbacks:m,nvlOptions:{autoZoom:!1,zoomFitPadding:0}}),u&&(0,d.jsxs)("div",{style:{position:"absolute",left:p.x+10,top:p.y+10,background:"white",padding:"10px 14px",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:10,minWidth:"180px"},children:[(0,d.jsx)("strong",{children:u.label}),(0,d.jsx)("ul",{style:{marginTop:"6px",fontSize:"13px",paddingLeft:"16px"},children:Object.entries(u.properties).filter(e=>{let[t,n]=e;return!t.toLowerCase().includes("embedding")}).map(e=>{let[t,n]=e;return(0,d.jsxs)("li",{children:[t,": ",(0,d.jsx)("em",{children:n.toString()})]},t)})}),(0,d.jsx)("button",{onClick:()=>l(null),style:{marginTop:"8px",background:"#eee",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer"},children:"Close"})]})]})]})};const ek=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{style:{textAlign:"center",margin:"20px 0"},children:"Neo4j PKP Graph Explorer"}),(0,d.jsx)(JC,{})]})};r.createRoot(document.getElementById("root")).render((0,d.jsx)(ek,{}))})()})();
//# sourceMappingURL=main.679d6b30.js.map